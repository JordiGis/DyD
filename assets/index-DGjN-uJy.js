(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Oi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const qe={},bo=[],on=()=>{},Td=()=>!1,ya=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Mi=e=>e.startsWith("onUpdate:"),wt=Object.assign,Bi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ad=Object.prototype.hasOwnProperty,Fe=(e,t)=>Ad.call(e,t),ke=Array.isArray,wo=e=>ms(e)==="[object Map]",Ho=e=>ms(e)==="[object Set]",yr=e=>ms(e)==="[object Date]",Te=e=>typeof e=="function",lt=e=>typeof e=="string",ln=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Nl=e=>(We(e)||Te(e))&&Te(e.then)&&Te(e.catch),Vl=Object.prototype.toString,ms=e=>Vl.call(e),Hd=e=>ms(e).slice(8,-1),jl=e=>ms(e)==="[object Object]",Li=e=>lt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zo=Oi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ca=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Pd=/-(\w)/g,zt=Ca(e=>e.replace(Pd,(t,n)=>n?n.toUpperCase():"")),Id=/\B([A-Z])/g,Nn=Ca(e=>e.replace(Id,"-$1").toLowerCase()),xa=Ca(e=>e.charAt(0).toUpperCase()+e.slice(1)),Na=Ca(e=>e?`on${xa(e)}`:""),Bn=(e,t)=>!Object.is(e,t),Ls=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Fl=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Gs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Cr;const ka=()=>Cr||(Cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=lt(o)?Bd(o):sn(o);if(a)for(const i in a)t[i]=a[i]}return t}else if(lt(e)||We(e))return e}const Rd=/;(?![^(]*\))/g,Od=/:([^]+)/,Md=/\/\*[^]*?\*\//g;function Bd(e){const t={};return e.replace(Md,"").split(Rd).forEach(n=>{if(n){const o=n.split(Od);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function ze(e){let t="";if(lt(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const o=ze(e[n]);o&&(t+=o+" ")}else if(We(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ld="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nd=Oi(Ld);function Ul(e){return!!e||e===""}function Vd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=hs(e[o],t[o]);return n}function hs(e,t){if(e===t)return!0;let n=yr(e),o=yr(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=ln(e),o=ln(t),n||o)return e===t;if(n=ke(e),o=ke(t),n||o)return n&&o?Vd(e,t):!1;if(n=We(e),o=We(t),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const r in e){const l=e.hasOwnProperty(r),c=t.hasOwnProperty(r);if(l&&!c||!l&&c||!hs(e[r],t[r]))return!1}}return String(e)===String(t)}function Ni(e,t){return e.findIndex(n=>hs(n,t))}const zl=e=>!!(e&&e.__v_isRef===!0),B=e=>lt(e)?e:e==null?"":ke(e)||We(e)&&(e.toString===Vl||!Te(e.toString))?zl(e)?B(e.value):JSON.stringify(e,ql,2):String(e),ql=(e,t)=>zl(t)?ql(e,t.value):wo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,a],i)=>(n[Va(o,i)+" =>"]=a,n),{})}:Ho(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Va(n))}:ln(t)?Va(t):We(t)&&!ke(t)&&!jl(t)?String(t):t,Va=(e,t="")=>{var n;return ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class Wl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_t,!t&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=_t;try{return _t=this,t()}finally{_t=n}}}on(){_t=this}off(){_t=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Kl(e){return new Wl(e)}function Xl(){return _t}function jd(e,t=!1){_t&&_t.cleanups.push(e)}let Ke;const ja=new WeakSet;class Gl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_t&&_t.active&&_t.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ja.has(this)&&(ja.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,xr(this),Ql(this);const t=Ke,n=Gt;Ke=this,Gt=!0;try{return this.fn()}finally{Zl(this),Ke=t,Gt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fi(t);this.deps=this.depsTail=void 0,xr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ja.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fi(this)&&this.run()}get dirty(){return fi(this)}}let Yl=0,qo,Wo;function Jl(e,t=!1){if(e.flags|=8,t){e.next=Wo,Wo=e;return}e.next=qo,qo=e}function Vi(){Yl++}function ji(){if(--Yl>0)return;if(Wo){let t=Wo;for(Wo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;qo;){let t=qo;for(qo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Ql(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Zl(e){let t,n=e.depsTail,o=n;for(;o;){const a=o.prevDep;o.version===-1?(o===n&&(n=a),Fi(o),Fd(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=a}e.deps=t,e.depsTail=n}function fi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ec(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ec(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===is))return;e.globalVersion=is;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!fi(e)){e.flags&=-3;return}const n=Ke,o=Gt;Ke=e,Gt=!0;try{Ql(e);const a=e.fn(e._value);(t.version===0||Bn(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ke=n,Gt=o,Zl(e),e.flags&=-3}}function Fi(e,t=!1){const{dep:n,prevSub:o,nextSub:a}=e;if(o&&(o.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Fi(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Fd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Gt=!0;const tc=[];function Vn(){tc.push(Gt),Gt=!1}function jn(){const e=tc.pop();Gt=e===void 0?!0:e}function xr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ke;Ke=void 0;try{t()}finally{Ke=n}}}let is=0;class Ud{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ui{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ke||!Gt||Ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ke)n=this.activeLink=new Ud(Ke,this),Ke.deps?(n.prevDep=Ke.depsTail,Ke.depsTail.nextDep=n,Ke.depsTail=n):Ke.deps=Ke.depsTail=n,nc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Ke.depsTail,n.nextDep=void 0,Ke.depsTail.nextDep=n,Ke.depsTail=n,Ke.deps===n&&(Ke.deps=o)}return n}trigger(t){this.version++,is++,this.notify(t)}notify(t){Vi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ji()}}}function nc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)nc(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ys=new WeakMap,Jn=Symbol(""),pi=Symbol(""),rs=Symbol("");function vt(e,t,n){if(Gt&&Ke){let o=Ys.get(e);o||Ys.set(e,o=new Map);let a=o.get(n);a||(o.set(n,a=new Ui),a.map=o,a.key=n),a.track()}}function hn(e,t,n,o,a,i){const r=Ys.get(e);if(!r){is++;return}const l=c=>{c&&c.trigger()};if(Vi(),t==="clear")r.forEach(l);else{const c=ke(e),u=c&&Li(n);if(c&&n==="length"){const f=Number(o);r.forEach((p,m)=>{(m==="length"||m===rs||!ln(m)&&m>=f)&&l(p)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),u&&l(r.get(rs)),t){case"add":c?u&&l(r.get("length")):(l(r.get(Jn)),wo(e)&&l(r.get(pi)));break;case"delete":c||(l(r.get(Jn)),wo(e)&&l(r.get(pi)));break;case"set":wo(e)&&l(r.get(Jn));break}}ji()}function zd(e,t){const n=Ys.get(e);return n&&n.get(t)}function co(e){const t=Re(e);return t===e?t:(vt(t,"iterate",rs),Ut(e)?t:t.map(bt))}function _a(e){return vt(e=Re(e),"iterate",rs),e}const qd={__proto__:null,[Symbol.iterator](){return Fa(this,Symbol.iterator,bt)},concat(...e){return co(this).concat(...e.map(t=>ke(t)?co(t):t))},entries(){return Fa(this,"entries",e=>(e[1]=bt(e[1]),e))},every(e,t){return fn(this,"every",e,t,void 0,arguments)},filter(e,t){return fn(this,"filter",e,t,n=>n.map(bt),arguments)},find(e,t){return fn(this,"find",e,t,bt,arguments)},findIndex(e,t){return fn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return fn(this,"findLast",e,t,bt,arguments)},findLastIndex(e,t){return fn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return fn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ua(this,"includes",e)},indexOf(...e){return Ua(this,"indexOf",e)},join(e){return co(this).join(e)},lastIndexOf(...e){return Ua(this,"lastIndexOf",e)},map(e,t){return fn(this,"map",e,t,void 0,arguments)},pop(){return Mo(this,"pop")},push(...e){return Mo(this,"push",e)},reduce(e,...t){return kr(this,"reduce",e,t)},reduceRight(e,...t){return kr(this,"reduceRight",e,t)},shift(){return Mo(this,"shift")},some(e,t){return fn(this,"some",e,t,void 0,arguments)},splice(...e){return Mo(this,"splice",e)},toReversed(){return co(this).toReversed()},toSorted(e){return co(this).toSorted(e)},toSpliced(...e){return co(this).toSpliced(...e)},unshift(...e){return Mo(this,"unshift",e)},values(){return Fa(this,"values",bt)}};function Fa(e,t,n){const o=_a(e),a=o[t]();return o!==e&&!Ut(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const Wd=Array.prototype;function fn(e,t,n,o,a,i){const r=_a(e),l=r!==e&&!Ut(e),c=r[t];if(c!==Wd[t]){const p=c.apply(e,i);return l?bt(p):p}let u=n;r!==e&&(l?u=function(p,m){return n.call(this,bt(p),m,e)}:n.length>2&&(u=function(p,m){return n.call(this,p,m,e)}));const f=c.call(r,u,o);return l&&a?a(f):f}function kr(e,t,n,o){const a=_a(e);let i=n;return a!==e&&(Ut(e)?n.length>3&&(i=function(r,l,c){return n.call(this,r,l,c,e)}):i=function(r,l,c){return n.call(this,r,bt(l),c,e)}),a[t](i,...o)}function Ua(e,t,n){const o=Re(e);vt(o,"iterate",rs);const a=o[t](...n);return(a===-1||a===!1)&&Wi(n[0])?(n[0]=Re(n[0]),o[t](...n)):a}function Mo(e,t,n=[]){Vn(),Vi();const o=Re(e)[t].apply(e,n);return ji(),jn(),o}const Kd=Oi("__proto__,__v_isRef,__isVue"),oc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln));function Xd(e){ln(e)||(e=String(e));const t=Re(this);return vt(t,"has",e),t.hasOwnProperty(e)}class sc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(a?i?sf:lc:i?rc:ic).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=ke(t);if(!a){let c;if(r&&(c=qd[n]))return c;if(n==="hasOwnProperty")return Xd}const l=Reflect.get(t,n,et(t)?t:o);return(ln(n)?oc.has(n):Kd(n))||(a||vt(t,"get",n),i)?l:et(l)?r&&Li(n)?l:l.value:We(l)?a?uc(l):qt(l):l}}class ac extends sc{constructor(t=!1){super(!1,t)}set(t,n,o,a){let i=t[n];if(!this._isShallow){const c=eo(i);if(!Ut(o)&&!eo(o)&&(i=Re(i),o=Re(o)),!ke(t)&&et(i)&&!et(o))return c?!1:(i.value=o,!0)}const r=ke(t)&&Li(n)?Number(n)<t.length:Fe(t,n),l=Reflect.set(t,n,o,et(t)?t:a);return t===Re(a)&&(r?Bn(o,i)&&hn(t,"set",n,o):hn(t,"add",n,o)),l}deleteProperty(t,n){const o=Fe(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&o&&hn(t,"delete",n,void 0),a}has(t,n){const o=Reflect.has(t,n);return(!ln(n)||!oc.has(n))&&vt(t,"has",n),o}ownKeys(t){return vt(t,"iterate",ke(t)?"length":Jn),Reflect.ownKeys(t)}}class Gd extends sc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Yd=new ac,Jd=new Gd,Qd=new ac(!0);const mi=e=>e,As=e=>Reflect.getPrototypeOf(e);function Zd(e,t,n){return function(...o){const a=this.__v_raw,i=Re(a),r=wo(i),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,u=a[e](...o),f=n?mi:t?hi:bt;return!t&&vt(i,"iterate",c?pi:Jn),{next(){const{value:p,done:m}=u.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function Hs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ef(e,t){const n={get(a){const i=this.__v_raw,r=Re(i),l=Re(a);e||(Bn(a,l)&&vt(r,"get",a),vt(r,"get",l));const{has:c}=As(r),u=t?mi:e?hi:bt;if(c.call(r,a))return u(i.get(a));if(c.call(r,l))return u(i.get(l));i!==r&&i.get(a)},get size(){const a=this.__v_raw;return!e&&vt(Re(a),"iterate",Jn),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,r=Re(i),l=Re(a);return e||(Bn(a,l)&&vt(r,"has",a),vt(r,"has",l)),a===l?i.has(a):i.has(a)||i.has(l)},forEach(a,i){const r=this,l=r.__v_raw,c=Re(l),u=t?mi:e?hi:bt;return!e&&vt(c,"iterate",Jn),l.forEach((f,p)=>a.call(i,u(f),u(p),r))}};return wt(n,e?{add:Hs("add"),set:Hs("set"),delete:Hs("delete"),clear:Hs("clear")}:{add(a){!t&&!Ut(a)&&!eo(a)&&(a=Re(a));const i=Re(this);return As(i).has.call(i,a)||(i.add(a),hn(i,"add",a,a)),this},set(a,i){!t&&!Ut(i)&&!eo(i)&&(i=Re(i));const r=Re(this),{has:l,get:c}=As(r);let u=l.call(r,a);u||(a=Re(a),u=l.call(r,a));const f=c.call(r,a);return r.set(a,i),u?Bn(i,f)&&hn(r,"set",a,i):hn(r,"add",a,i),this},delete(a){const i=Re(this),{has:r,get:l}=As(i);let c=r.call(i,a);c||(a=Re(a),c=r.call(i,a)),l&&l.call(i,a);const u=i.delete(a);return c&&hn(i,"delete",a,void 0),u},clear(){const a=Re(this),i=a.size!==0,r=a.clear();return i&&hn(a,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=Zd(a,e,t)}),n}function zi(e,t){const n=ef(e,t);return(o,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(Fe(n,a)&&a in o?n:o,a,i)}const tf={get:zi(!1,!1)},nf={get:zi(!1,!0)},of={get:zi(!0,!1)};const ic=new WeakMap,rc=new WeakMap,lc=new WeakMap,sf=new WeakMap;function af(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rf(e){return e.__v_skip||!Object.isExtensible(e)?0:af(Hd(e))}function qt(e){return eo(e)?e:qi(e,!1,Yd,tf,ic)}function cc(e){return qi(e,!1,Qd,nf,rc)}function uc(e){return qi(e,!0,Jd,of,lc)}function qi(e,t,n,o,a){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const r=rf(e);if(r===0)return e;const l=new Proxy(e,r===2?o:n);return a.set(e,l),l}function bn(e){return eo(e)?bn(e.__v_raw):!!(e&&e.__v_isReactive)}function eo(e){return!!(e&&e.__v_isReadonly)}function Ut(e){return!!(e&&e.__v_isShallow)}function Wi(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function Ki(e){return!Fe(e,"__v_skip")&&Object.isExtensible(e)&&Fl(e,"__v_skip",!0),e}const bt=e=>We(e)?qt(e):e,hi=e=>We(e)?uc(e):e;function et(e){return e?e.__v_isRef===!0:!1}function Z(e){return dc(e,!1)}function lf(e){return dc(e,!0)}function dc(e,t){return et(e)?e:new cf(e,t)}class cf{constructor(t,n){this.dep=new Ui,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Re(t),this._value=n?t:bt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Ut(t)||eo(t);t=o?t:Re(t),Bn(t,n)&&(this._rawValue=t,this._value=o?t:bt(t),this.dep.trigger())}}function Q(e){return et(e)?e.value:e}const uf={get:(e,t,n)=>t==="__v_raw"?e:Q(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return et(a)&&!et(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function fc(e){return bn(e)?e:new Proxy(e,uf)}function df(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=mc(e,n);return t}class ff{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return zd(Re(this._object),this._key)}}class pf{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function pc(e,t,n){return et(e)?e:Te(e)?new pf(e):We(e)&&arguments.length>1?mc(e,t,n):Z(e)}function mc(e,t,n){const o=e[t];return et(o)?o:new ff(e,t,n)}class mf{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ui(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ke!==this)return Jl(this,!0),!0}get value(){const t=this.dep.track();return ec(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hf(e,t,n=!1){let o,a;return Te(e)?o=e:(o=e.get,a=e.set),new mf(o,a,n)}const Ps={},Js=new WeakMap;let Gn;function gf(e,t=!1,n=Gn){if(n){let o=Js.get(n);o||Js.set(n,o=[]),o.push(e)}}function vf(e,t,n=qe){const{immediate:o,deep:a,once:i,scheduler:r,augmentJob:l,call:c}=n,u=H=>a?H:Ut(H)||a===!1||a===0?gn(H,1):gn(H);let f,p,m,h,$=!1,y=!1;if(et(e)?(p=()=>e.value,$=Ut(e)):bn(e)?(p=()=>u(e),$=!0):ke(e)?(y=!0,$=e.some(H=>bn(H)||Ut(H)),p=()=>e.map(H=>{if(et(H))return H.value;if(bn(H))return u(H);if(Te(H))return c?c(H,2):H()})):Te(e)?t?p=c?()=>c(e,2):e:p=()=>{if(m){Vn();try{m()}finally{jn()}}const H=Gn;Gn=f;try{return c?c(e,3,[h]):e(h)}finally{Gn=H}}:p=on,t&&a){const H=p,N=a===!0?1/0:a;p=()=>gn(H(),N)}const v=Xl(),_=()=>{f.stop(),v&&v.active&&Bi(v.effects,f)};if(i&&t){const H=t;t=(...N)=>{H(...N),_()}}let M=y?new Array(e.length).fill(Ps):Ps;const E=H=>{if(!(!(f.flags&1)||!f.dirty&&!H))if(t){const N=f.run();if(a||$||(y?N.some((ie,pe)=>Bn(ie,M[pe])):Bn(N,M))){m&&m();const ie=Gn;Gn=f;try{const pe=[N,M===Ps?void 0:y&&M[0]===Ps?[]:M,h];c?c(t,3,pe):t(...pe),M=N}finally{Gn=ie}}}else f.run()};return l&&l(E),f=new Gl(p),f.scheduler=r?()=>r(E,!1):E,h=H=>gf(H,!1,f),m=f.onStop=()=>{const H=Js.get(f);if(H){if(c)c(H,4);else for(const N of H)N();Js.delete(f)}},t?o?E(!0):M=f.run():r?r(E.bind(null,!0),!0):f.run(),_.pause=f.pause.bind(f),_.resume=f.resume.bind(f),_.stop=_,_}function gn(e,t=1/0,n){if(t<=0||!We(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,et(e))gn(e.value,t,n);else if(ke(e))for(let o=0;o<e.length;o++)gn(e[o],t,n);else if(Ho(e)||wo(e))e.forEach(o=>{gn(o,t,n)});else if(jl(e)){for(const o in e)gn(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&gn(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gs(e,t,n,o){try{return o?e(...o):e()}catch(a){$a(a,t,n)}}function cn(e,t,n,o){if(Te(e)){const a=gs(e,t,n,o);return a&&Nl(a)&&a.catch(i=>{$a(i,t,n)}),a}if(ke(e)){const a=[];for(let i=0;i<e.length;i++)a.push(cn(e[i],t,n,o));return a}}function $a(e,t,n,o=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||qe;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](e,c,u)===!1)return}l=l.parent}if(i){Vn(),gs(i,null,10,[e,c,u]),jn();return}}bf(e,n,a,o,r)}function bf(e,t,n,o=!0,a=!1){if(a)throw e;console.error(e)}const $t=[];let Zt=-1;const yo=[];let Dn=null,mo=0;const hc=Promise.resolve();let Qs=null;function ao(e){const t=Qs||hc;return e?t.then(this?e.bind(this):e):t}function wf(e){let t=Zt+1,n=$t.length;for(;t<n;){const o=t+n>>>1,a=$t[o],i=ls(a);i<e||i===e&&a.flags&2?t=o+1:n=o}return t}function Xi(e){if(!(e.flags&1)){const t=ls(e),n=$t[$t.length-1];!n||!(e.flags&2)&&t>=ls(n)?$t.push(e):$t.splice(wf(t),0,e),e.flags|=1,gc()}}function gc(){Qs||(Qs=hc.then(bc))}function yf(e){ke(e)?yo.push(...e):Dn&&e.id===-1?Dn.splice(mo+1,0,e):e.flags&1||(yo.push(e),e.flags|=1),gc()}function _r(e,t,n=Zt+1){for(;n<$t.length;n++){const o=$t[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;$t.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function vc(e){if(yo.length){const t=[...new Set(yo)].sort((n,o)=>ls(n)-ls(o));if(yo.length=0,Dn){Dn.push(...t);return}for(Dn=t,mo=0;mo<Dn.length;mo++){const n=Dn[mo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Dn=null,mo=0}}const ls=e=>e.id==null?e.flags&2?-1:1/0:e.id;function bc(e){try{for(Zt=0;Zt<$t.length;Zt++){const t=$t[Zt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),gs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Zt<$t.length;Zt++){const t=$t[Zt];t&&(t.flags&=-2)}Zt=-1,$t.length=0,vc(),Qs=null,($t.length||yo.length)&&bc()}}let Pt=null,wc=null;function Zs(e){const t=Pt;return Pt=e,wc=e&&e.type.__scopeId||null,t}function En(e,t=Pt,n){if(!t||e._n)return e;const o=(...a)=>{o._d&&Rr(-1);const i=Zs(t);let r;try{r=e(...a)}finally{Zs(i),o._d&&Rr(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function z(e,t){if(Pt===null)return e;const n=Ta(Pt),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,r,l,c=qe]=t[a];i&&(Te(i)&&(i={mounted:i,updated:i}),i.deep&&gn(r),o.push({dir:i,instance:n,value:r,oldValue:void 0,arg:l,modifiers:c}))}return e}function zn(e,t,n,o){const a=e.dirs,i=t&&t.dirs;for(let r=0;r<a.length;r++){const l=a[r];i&&(l.oldValue=i[r].value);let c=l.dir[o];c&&(Vn(),cn(c,n,8,[e.el,l,e,t]),jn())}}const Cf=Symbol("_vte"),xf=e=>e.__isTeleport;function Gi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Gi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function yc(e,t){return Te(e)?wt({name:e.name},t,{setup:e}):e}function Cc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ea(e,t,n,o,a=!1){if(ke(e)){e.forEach(($,y)=>ea($,t&&(ke(t)?t[y]:t),n,o,a));return}if(Ko(o)&&!a){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&ea(e,t,n,o.component.subTree);return}const i=o.shapeFlag&4?Ta(o.component):o.el,r=a?null:i,{i:l,r:c}=e,u=t&&t.r,f=l.refs===qe?l.refs={}:l.refs,p=l.setupState,m=Re(p),h=p===qe?()=>!1:$=>Fe(m,$);if(u!=null&&u!==c&&(lt(u)?(f[u]=null,h(u)&&(p[u]=null)):et(u)&&(u.value=null)),Te(c))gs(c,l,12,[r,f]);else{const $=lt(c),y=et(c);if($||y){const v=()=>{if(e.f){const _=$?h(c)?p[c]:f[c]:c.value;a?ke(_)&&Bi(_,i):ke(_)?_.includes(i)||_.push(i):$?(f[c]=[i],h(c)&&(p[c]=f[c])):(c.value=[i],e.k&&(f[e.k]=c.value))}else $?(f[c]=r,h(c)&&(p[c]=r)):y&&(c.value=r,e.k&&(f[e.k]=r))};r?(v.id=-1,Ot(v,n)):v()}}}ka().requestIdleCallback;ka().cancelIdleCallback;const Ko=e=>!!e.type.__asyncLoader,xc=e=>e.type.__isKeepAlive;function kf(e,t){kc(e,"a",t)}function _f(e,t){kc(e,"da",t)}function kc(e,t,n=pt){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Sa(t,o,n),n){let a=n.parent;for(;a&&a.parent;)xc(a.parent.vnode)&&$f(o,t,n,a),a=a.parent}}function $f(e,t,n,o){const a=Sa(t,e,o,!0);Fn(()=>{Bi(o[t],a)},n)}function Sa(e,t,n=pt,o=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Vn();const l=vs(n),c=cn(t,n,e,r);return l(),jn(),c});return o?a.unshift(i):a.push(i),i}}const kn=e=>(t,n=pt)=>{(!us||e==="sp")&&Sa(e,(...o)=>t(...o),n)},Sf=kn("bm"),St=kn("m"),Df=kn("bu"),Ef=kn("u"),Tf=kn("bum"),Fn=kn("um"),Af=kn("sp"),Hf=kn("rtg"),Pf=kn("rtc");function If(e,t=pt){Sa("ec",e,t)}const Rf="components";function Yi(e,t){return Mf(Rf,e,!0,t)||e}const Of=Symbol.for("v-ndc");function Mf(e,t,n=!0,o=!1){const a=Pt||pt;if(a){const i=a.type;{const l=kp(i,!1);if(l&&(l===t||l===zt(t)||l===xa(zt(t))))return i}const r=$r(a[e]||i[e],t)||$r(a.appContext[e],t);return!r&&o?i:r}}function $r(e,t){return e&&(e[t]||e[zt(t)]||e[xa(zt(t))])}function Pe(e,t,n,o){let a;const i=n,r=ke(e);if(r||lt(e)){const l=r&&bn(e);let c=!1;l&&(c=!Ut(e),e=_a(e)),a=new Array(e.length);for(let u=0,f=e.length;u<f;u++)a[u]=t(c?bt(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,i)}else if(We(e))if(e[Symbol.iterator])a=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);a=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const f=l[c];a[c]=t(e[f],f,c,i)}}else a=[];return a}const gi=e=>e?zc(e)?Ta(e):gi(e.parent):null,Xo=wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gi(e.parent),$root:e=>gi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$c(e),$forceUpdate:e=>e.f||(e.f=()=>{Xi(e.update)}),$nextTick:e=>e.n||(e.n=ao.bind(e.proxy)),$watch:e=>sp.bind(e)}),za=(e,t)=>e!==qe&&!e.__isScriptSetup&&Fe(e,t),Bf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:a,props:i,accessCache:r,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(za(o,t))return r[t]=1,o[t];if(a!==qe&&Fe(a,t))return r[t]=2,a[t];if((u=e.propsOptions[0])&&Fe(u,t))return r[t]=3,i[t];if(n!==qe&&Fe(n,t))return r[t]=4,n[t];vi&&(r[t]=0)}}const f=Xo[t];let p,m;if(f)return t==="$attrs"&&vt(e.attrs,"get",""),f(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==qe&&Fe(n,t))return r[t]=4,n[t];if(m=c.config.globalProperties,Fe(m,t))return m[t]},set({_:e},t,n){const{data:o,setupState:a,ctx:i}=e;return za(a,t)?(a[t]=n,!0):o!==qe&&Fe(o,t)?(o[t]=n,!0):Fe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:i}},r){let l;return!!n[r]||e!==qe&&Fe(e,r)||za(t,r)||(l=i[0])&&Fe(l,r)||Fe(o,r)||Fe(Xo,r)||Fe(a.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Fe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sr(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let vi=!0;function Lf(e){const t=$c(e),n=e.proxy,o=e.ctx;vi=!1,t.beforeCreate&&Dr(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:r,watch:l,provide:c,inject:u,created:f,beforeMount:p,mounted:m,beforeUpdate:h,updated:$,activated:y,deactivated:v,beforeDestroy:_,beforeUnmount:M,destroyed:E,unmounted:H,render:N,renderTracked:ie,renderTriggered:pe,errorCaptured:de,serverPrefetch:L,expose:T,inheritAttrs:P,components:D,directives:k,filters:V}=t;if(u&&Nf(u,o,null),r)for(const K in r){const ve=r[K];Te(ve)&&(o[K]=ve.bind(n))}if(a){const K=a.call(n,n);We(K)&&(e.data=qt(K))}if(vi=!0,i)for(const K in i){const ve=i[K],q=Te(ve)?ve.bind(n,n):Te(ve.get)?ve.get.bind(n,n):on,A=!Te(ve)&&Te(ve.set)?ve.set.bind(n):on,re=Le({get:q,set:A});Object.defineProperty(o,K,{enumerable:!0,configurable:!0,get:()=>re.value,set:J=>re.value=J})}if(l)for(const K in l)_c(l[K],o,n,K);if(c){const K=Te(c)?c.call(n):c;Reflect.ownKeys(K).forEach(ve=>{Ns(ve,K[ve])})}f&&Dr(f,e,"c");function X(K,ve){ke(ve)?ve.forEach(q=>K(q.bind(n))):ve&&K(ve.bind(n))}if(X(Sf,p),X(St,m),X(Df,h),X(Ef,$),X(kf,y),X(_f,v),X(If,de),X(Pf,ie),X(Hf,pe),X(Tf,M),X(Fn,H),X(Af,L),ke(T))if(T.length){const K=e.exposed||(e.exposed={});T.forEach(ve=>{Object.defineProperty(K,ve,{get:()=>n[ve],set:q=>n[ve]=q})})}else e.exposed||(e.exposed={});N&&e.render===on&&(e.render=N),P!=null&&(e.inheritAttrs=P),D&&(e.components=D),k&&(e.directives=k),L&&Cc(e)}function Nf(e,t,n=on){ke(e)&&(e=bi(e));for(const o in e){const a=e[o];let i;We(a)?"default"in a?i=Yt(a.from||o,a.default,!0):i=Yt(a.from||o):i=Yt(a),et(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function Dr(e,t,n){cn(ke(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function _c(e,t,n,o){let a=o.includes(".")?Nc(n,o):()=>n[o];if(lt(e)){const i=t[e];Te(i)&&an(a,i)}else if(Te(e))an(a,e.bind(n));else if(We(e))if(ke(e))e.forEach(i=>_c(i,t,n,o));else{const i=Te(e.handler)?e.handler.bind(n):t[e.handler];Te(i)&&an(a,i,e)}}function $c(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let c;return l?c=l:!a.length&&!n&&!o?c=t:(c={},a.length&&a.forEach(u=>ta(c,u,r,!0)),ta(c,t,r)),We(t)&&i.set(t,c),c}function ta(e,t,n,o=!1){const{mixins:a,extends:i}=t;i&&ta(e,i,n,!0),a&&a.forEach(r=>ta(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const l=Vf[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Vf={data:Er,props:Tr,emits:Tr,methods:Vo,computed:Vo,beforeCreate:xt,created:xt,beforeMount:xt,mounted:xt,beforeUpdate:xt,updated:xt,beforeDestroy:xt,beforeUnmount:xt,destroyed:xt,unmounted:xt,activated:xt,deactivated:xt,errorCaptured:xt,serverPrefetch:xt,components:Vo,directives:Vo,watch:Ff,provide:Er,inject:jf};function Er(e,t){return t?e?function(){return wt(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function jf(e,t){return Vo(bi(e),bi(t))}function bi(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xt(e,t){return e?[...new Set([].concat(e,t))]:t}function Vo(e,t){return e?wt(Object.create(null),e,t):t}function Tr(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:wt(Object.create(null),Sr(e),Sr(t??{})):t}function Ff(e,t){if(!e)return t;if(!t)return e;const n=wt(Object.create(null),e);for(const o in t)n[o]=xt(e[o],t[o]);return n}function Sc(){return{app:null,config:{isNativeTag:Td,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uf=0;function zf(e,t){return function(o,a=null){Te(o)||(o=wt({},o)),a!=null&&!We(a)&&(a=null);const i=Sc(),r=new WeakSet,l=[];let c=!1;const u=i.app={_uid:Uf++,_component:o,_props:a,_container:null,_context:i,_instance:null,version:$p,get config(){return i.config},set config(f){},use(f,...p){return r.has(f)||(f&&Te(f.install)?(r.add(f),f.install(u,...p)):Te(f)&&(r.add(f),f(u,...p))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,p){return p?(i.components[f]=p,u):i.components[f]},directive(f,p){return p?(i.directives[f]=p,u):i.directives[f]},mount(f,p,m){if(!c){const h=u._ceVNode||Ge(o,a);return h.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(h,f,m),c=!0,u._container=f,f.__vue_app__=u,Ta(h.component)}},onUnmount(f){l.push(f)},unmount(){c&&(cn(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(f,p){return i.provides[f]=p,u},runWithContext(f){const p=Qn;Qn=u;try{return f()}finally{Qn=p}}};return u}}let Qn=null;function Ns(e,t){if(pt){let n=pt.provides;const o=pt.parent&&pt.parent.provides;o===n&&(n=pt.provides=Object.create(o)),n[e]=t}}function Yt(e,t,n=!1){const o=pt||Pt;if(o||Qn){const a=Qn?Qn._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Te(t)?t.call(o&&o.proxy):t}}function qf(){return!!(pt||Pt||Qn)}const Dc={},Ec=()=>Object.create(Dc),Tc=e=>Object.getPrototypeOf(e)===Dc;function Wf(e,t,n,o=!1){const a={},i=Ec();e.propsDefaults=Object.create(null),Ac(e,t,a,i);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=o?a:cc(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function Kf(e,t,n,o){const{props:a,attrs:i,vnode:{patchFlag:r}}=e,l=Re(a),[c]=e.propsOptions;let u=!1;if((o||r>0)&&!(r&16)){if(r&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(Da(e.emitsOptions,m))continue;const h=t[m];if(c)if(Fe(i,m))h!==i[m]&&(i[m]=h,u=!0);else{const $=zt(m);a[$]=wi(c,l,$,h,e,!1)}else h!==i[m]&&(i[m]=h,u=!0)}}}else{Ac(e,t,a,i)&&(u=!0);let f;for(const p in l)(!t||!Fe(t,p)&&((f=Nn(p))===p||!Fe(t,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(a[p]=wi(c,l,p,void 0,e,!0)):delete a[p]);if(i!==l)for(const p in i)(!t||!Fe(t,p))&&(delete i[p],u=!0)}u&&hn(e.attrs,"set","")}function Ac(e,t,n,o){const[a,i]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(zo(c))continue;const u=t[c];let f;a&&Fe(a,f=zt(c))?!i||!i.includes(f)?n[f]=u:(l||(l={}))[f]=u:Da(e.emitsOptions,c)||(!(c in o)||u!==o[c])&&(o[c]=u,r=!0)}if(i){const c=Re(n),u=l||qe;for(let f=0;f<i.length;f++){const p=i[f];n[p]=wi(a,c,p,u[p],e,!Fe(u,p))}}return r}function wi(e,t,n,o,a,i){const r=e[n];if(r!=null){const l=Fe(r,"default");if(l&&o===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&Te(c)){const{propsDefaults:u}=a;if(n in u)o=u[n];else{const f=vs(a);o=u[n]=c.call(null,t),f()}}else o=c;a.ce&&a.ce._setProp(n,o)}r[0]&&(i&&!l?o=!1:r[1]&&(o===""||o===Nn(n))&&(o=!0))}return o}const Xf=new WeakMap;function Hc(e,t,n=!1){const o=n?Xf:t.propsCache,a=o.get(e);if(a)return a;const i=e.props,r={},l=[];let c=!1;if(!Te(e)){const f=p=>{c=!0;const[m,h]=Hc(p,t,!0);wt(r,m),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!c)return We(e)&&o.set(e,bo),bo;if(ke(i))for(let f=0;f<i.length;f++){const p=zt(i[f]);Ar(p)&&(r[p]=qe)}else if(i)for(const f in i){const p=zt(f);if(Ar(p)){const m=i[f],h=r[p]=ke(m)||Te(m)?{type:m}:wt({},m),$=h.type;let y=!1,v=!0;if(ke($))for(let _=0;_<$.length;++_){const M=$[_],E=Te(M)&&M.name;if(E==="Boolean"){y=!0;break}else E==="String"&&(v=!1)}else y=Te($)&&$.name==="Boolean";h[0]=y,h[1]=v,(y||Fe(h,"default"))&&l.push(p)}}const u=[r,l];return We(e)&&o.set(e,u),u}function Ar(e){return e[0]!=="$"&&!zo(e)}const Pc=e=>e[0]==="_"||e==="$stable",Ji=e=>ke(e)?e.map(tn):[tn(e)],Gf=(e,t,n)=>{if(t._n)return t;const o=En((...a)=>Ji(t(...a)),n);return o._c=!1,o},Ic=(e,t,n)=>{const o=e._ctx;for(const a in e){if(Pc(a))continue;const i=e[a];if(Te(i))t[a]=Gf(a,i,o);else if(i!=null){const r=Ji(i);t[a]=()=>r}}},Rc=(e,t)=>{const n=Ji(t);e.slots.default=()=>n},Oc=(e,t,n)=>{for(const o in t)(n||o!=="_")&&(e[o]=t[o])},Yf=(e,t,n)=>{const o=e.slots=Ec();if(e.vnode.shapeFlag&32){const a=t._;a?(Oc(o,t,n),n&&Fl(o,"_",a,!0)):Ic(t,o)}else t&&Rc(e,t)},Jf=(e,t,n)=>{const{vnode:o,slots:a}=e;let i=!0,r=qe;if(o.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Oc(a,t,n):(i=!t.$stable,Ic(t,a)),r=t}else t&&(Rc(e,t),r={default:1});if(i)for(const l in a)!Pc(l)&&r[l]==null&&delete a[l]},Ot=dp;function Qf(e){return Zf(e)}function Zf(e,t){const n=ka();n.__VUE__=!0;const{insert:o,remove:a,patchProp:i,createElement:r,createText:l,createComment:c,setText:u,setElementText:f,parentNode:p,nextSibling:m,setScopeId:h=on,insertStaticContent:$}=e,y=(b,w,S,F=null,W=null,U=null,ue=void 0,ae=null,ne=!!w.dynamicChildren)=>{if(b===w)return;b&&!Bo(b,w)&&(F=j(b),J(b,W,U,!0),b=null),w.patchFlag===-2&&(ne=!1,w.dynamicChildren=null);const{type:Y,ref:xe,shapeFlag:he}=w;switch(Y){case Ea:v(b,w,S,F);break;case to:_(b,w,S,F);break;case Vs:b==null&&M(w,S,F,ue);break;case De:D(b,w,S,F,W,U,ue,ae,ne);break;default:he&1?N(b,w,S,F,W,U,ue,ae,ne):he&6?k(b,w,S,F,W,U,ue,ae,ne):(he&64||he&128)&&Y.process(b,w,S,F,W,U,ue,ae,ne,we)}xe!=null&&W&&ea(xe,b&&b.ref,U,w||b,!w)},v=(b,w,S,F)=>{if(b==null)o(w.el=l(w.children),S,F);else{const W=w.el=b.el;w.children!==b.children&&u(W,w.children)}},_=(b,w,S,F)=>{b==null?o(w.el=c(w.children||""),S,F):w.el=b.el},M=(b,w,S,F)=>{[b.el,b.anchor]=$(b.children,w,S,F,b.el,b.anchor)},E=({el:b,anchor:w},S,F)=>{let W;for(;b&&b!==w;)W=m(b),o(b,S,F),b=W;o(w,S,F)},H=({el:b,anchor:w})=>{let S;for(;b&&b!==w;)S=m(b),a(b),b=S;a(w)},N=(b,w,S,F,W,U,ue,ae,ne)=>{w.type==="svg"?ue="svg":w.type==="math"&&(ue="mathml"),b==null?ie(w,S,F,W,U,ue,ae,ne):L(b,w,W,U,ue,ae,ne)},ie=(b,w,S,F,W,U,ue,ae)=>{let ne,Y;const{props:xe,shapeFlag:he,transition:ye,dirs:Se}=b;if(ne=b.el=r(b.type,U,xe&&xe.is,xe),he&8?f(ne,b.children):he&16&&de(b.children,ne,null,F,W,qa(b,U),ue,ae),Se&&zn(b,null,F,"created"),pe(ne,b,b.scopeId,ue,F),xe){for(const Ve in xe)Ve!=="value"&&!zo(Ve)&&i(ne,Ve,null,xe[Ve],U,F);"value"in xe&&i(ne,"value",null,xe.value,U),(Y=xe.onVnodeBeforeMount)&&Qt(Y,F,b)}Se&&zn(b,null,F,"beforeMount");const Ae=ep(W,ye);Ae&&ye.beforeEnter(ne),o(ne,w,S),((Y=xe&&xe.onVnodeMounted)||Ae||Se)&&Ot(()=>{Y&&Qt(Y,F,b),Ae&&ye.enter(ne),Se&&zn(b,null,F,"mounted")},W)},pe=(b,w,S,F,W)=>{if(S&&h(b,S),F)for(let U=0;U<F.length;U++)h(b,F[U]);if(W){let U=W.subTree;if(w===U||jc(U.type)&&(U.ssContent===w||U.ssFallback===w)){const ue=W.vnode;pe(b,ue,ue.scopeId,ue.slotScopeIds,W.parent)}}},de=(b,w,S,F,W,U,ue,ae,ne=0)=>{for(let Y=ne;Y<b.length;Y++){const xe=b[Y]=ae?Tn(b[Y]):tn(b[Y]);y(null,xe,w,S,F,W,U,ue,ae)}},L=(b,w,S,F,W,U,ue)=>{const ae=w.el=b.el;let{patchFlag:ne,dynamicChildren:Y,dirs:xe}=w;ne|=b.patchFlag&16;const he=b.props||qe,ye=w.props||qe;let Se;if(S&&qn(S,!1),(Se=ye.onVnodeBeforeUpdate)&&Qt(Se,S,w,b),xe&&zn(w,b,S,"beforeUpdate"),S&&qn(S,!0),(he.innerHTML&&ye.innerHTML==null||he.textContent&&ye.textContent==null)&&f(ae,""),Y?T(b.dynamicChildren,Y,ae,S,F,qa(w,W),U):ue||ve(b,w,ae,null,S,F,qa(w,W),U,!1),ne>0){if(ne&16)P(ae,he,ye,S,W);else if(ne&2&&he.class!==ye.class&&i(ae,"class",null,ye.class,W),ne&4&&i(ae,"style",he.style,ye.style,W),ne&8){const Ae=w.dynamicProps;for(let Ve=0;Ve<Ae.length;Ve++){const Oe=Ae[Ve],Ct=he[Oe],ht=ye[Oe];(ht!==Ct||Oe==="value")&&i(ae,Oe,Ct,ht,W,S)}}ne&1&&b.children!==w.children&&f(ae,w.children)}else!ue&&Y==null&&P(ae,he,ye,S,W);((Se=ye.onVnodeUpdated)||xe)&&Ot(()=>{Se&&Qt(Se,S,w,b),xe&&zn(w,b,S,"updated")},F)},T=(b,w,S,F,W,U,ue)=>{for(let ae=0;ae<w.length;ae++){const ne=b[ae],Y=w[ae],xe=ne.el&&(ne.type===De||!Bo(ne,Y)||ne.shapeFlag&70)?p(ne.el):S;y(ne,Y,xe,null,F,W,U,ue,!0)}},P=(b,w,S,F,W)=>{if(w!==S){if(w!==qe)for(const U in w)!zo(U)&&!(U in S)&&i(b,U,w[U],null,W,F);for(const U in S){if(zo(U))continue;const ue=S[U],ae=w[U];ue!==ae&&U!=="value"&&i(b,U,ae,ue,W,F)}"value"in S&&i(b,"value",w.value,S.value,W)}},D=(b,w,S,F,W,U,ue,ae,ne)=>{const Y=w.el=b?b.el:l(""),xe=w.anchor=b?b.anchor:l("");let{patchFlag:he,dynamicChildren:ye,slotScopeIds:Se}=w;Se&&(ae=ae?ae.concat(Se):Se),b==null?(o(Y,S,F),o(xe,S,F),de(w.children||[],S,xe,W,U,ue,ae,ne)):he>0&&he&64&&ye&&b.dynamicChildren?(T(b.dynamicChildren,ye,S,W,U,ue,ae),(w.key!=null||W&&w===W.subTree)&&Mc(b,w,!0)):ve(b,w,S,xe,W,U,ue,ae,ne)},k=(b,w,S,F,W,U,ue,ae,ne)=>{w.slotScopeIds=ae,b==null?w.shapeFlag&512?W.ctx.activate(w,S,F,ue,ne):V(w,S,F,W,U,ue,ne):be(b,w,ne)},V=(b,w,S,F,W,U,ue)=>{const ae=b.component=bp(b,F,W);if(xc(b)&&(ae.ctx.renderer=we),wp(ae,!1,ue),ae.asyncDep){if(W&&W.registerDep(ae,X,ue),!b.el){const ne=ae.subTree=Ge(to);_(null,ne,w,S)}}else X(ae,b,w,S,W,U,ue)},be=(b,w,S)=>{const F=w.component=b.component;if(cp(b,w,S))if(F.asyncDep&&!F.asyncResolved){K(F,w,S);return}else F.next=w,F.update();else w.el=b.el,F.vnode=w},X=(b,w,S,F,W,U,ue)=>{const ae=()=>{if(b.isMounted){let{next:he,bu:ye,u:Se,parent:Ae,vnode:Ve}=b;{const jt=Bc(b);if(jt){he&&(he.el=Ve.el,K(b,he,ue)),jt.asyncDep.then(()=>{b.isUnmounted||ae()});return}}let Oe=he,Ct;qn(b,!1),he?(he.el=Ve.el,K(b,he,ue)):he=Ve,ye&&Ls(ye),(Ct=he.props&&he.props.onVnodeBeforeUpdate)&&Qt(Ct,Ae,he,Ve),qn(b,!0);const ht=Pr(b),Tt=b.subTree;b.subTree=ht,y(Tt,ht,p(Tt.el),j(Tt),b,W,U),he.el=ht.el,Oe===null&&up(b,ht.el),Se&&Ot(Se,W),(Ct=he.props&&he.props.onVnodeUpdated)&&Ot(()=>Qt(Ct,Ae,he,Ve),W)}else{let he;const{el:ye,props:Se}=w,{bm:Ae,m:Ve,parent:Oe,root:Ct,type:ht}=b,Tt=Ko(w);qn(b,!1),Ae&&Ls(Ae),!Tt&&(he=Se&&Se.onVnodeBeforeMount)&&Qt(he,Oe,w),qn(b,!0);{Ct.ce&&Ct.ce._injectChildStyle(ht);const jt=b.subTree=Pr(b);y(null,jt,S,F,b,W,U),w.el=jt.el}if(Ve&&Ot(Ve,W),!Tt&&(he=Se&&Se.onVnodeMounted)){const jt=w;Ot(()=>Qt(he,Oe,jt),W)}(w.shapeFlag&256||Oe&&Ko(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&b.a&&Ot(b.a,W),b.isMounted=!0,w=S=F=null}};b.scope.on();const ne=b.effect=new Gl(ae);b.scope.off();const Y=b.update=ne.run.bind(ne),xe=b.job=ne.runIfDirty.bind(ne);xe.i=b,xe.id=b.uid,ne.scheduler=()=>Xi(xe),qn(b,!0),Y()},K=(b,w,S)=>{w.component=b;const F=b.vnode.props;b.vnode=w,b.next=null,Kf(b,w.props,F,S),Jf(b,w.children,S),Vn(),_r(b),jn()},ve=(b,w,S,F,W,U,ue,ae,ne=!1)=>{const Y=b&&b.children,xe=b?b.shapeFlag:0,he=w.children,{patchFlag:ye,shapeFlag:Se}=w;if(ye>0){if(ye&128){A(Y,he,S,F,W,U,ue,ae,ne);return}else if(ye&256){q(Y,he,S,F,W,U,ue,ae,ne);return}}Se&8?(xe&16&&Je(Y,W,U),he!==Y&&f(S,he)):xe&16?Se&16?A(Y,he,S,F,W,U,ue,ae,ne):Je(Y,W,U,!0):(xe&8&&f(S,""),Se&16&&de(he,S,F,W,U,ue,ae,ne))},q=(b,w,S,F,W,U,ue,ae,ne)=>{b=b||bo,w=w||bo;const Y=b.length,xe=w.length,he=Math.min(Y,xe);let ye;for(ye=0;ye<he;ye++){const Se=w[ye]=ne?Tn(w[ye]):tn(w[ye]);y(b[ye],Se,S,null,W,U,ue,ae,ne)}Y>xe?Je(b,W,U,!0,!1,he):de(w,S,F,W,U,ue,ae,ne,he)},A=(b,w,S,F,W,U,ue,ae,ne)=>{let Y=0;const xe=w.length;let he=b.length-1,ye=xe-1;for(;Y<=he&&Y<=ye;){const Se=b[Y],Ae=w[Y]=ne?Tn(w[Y]):tn(w[Y]);if(Bo(Se,Ae))y(Se,Ae,S,null,W,U,ue,ae,ne);else break;Y++}for(;Y<=he&&Y<=ye;){const Se=b[he],Ae=w[ye]=ne?Tn(w[ye]):tn(w[ye]);if(Bo(Se,Ae))y(Se,Ae,S,null,W,U,ue,ae,ne);else break;he--,ye--}if(Y>he){if(Y<=ye){const Se=ye+1,Ae=Se<xe?w[Se].el:F;for(;Y<=ye;)y(null,w[Y]=ne?Tn(w[Y]):tn(w[Y]),S,Ae,W,U,ue,ae,ne),Y++}}else if(Y>ye)for(;Y<=he;)J(b[Y],W,U,!0),Y++;else{const Se=Y,Ae=Y,Ve=new Map;for(Y=Ae;Y<=ye;Y++){const g=w[Y]=ne?Tn(w[Y]):tn(w[Y]);g.key!=null&&Ve.set(g.key,Y)}let Oe,Ct=0;const ht=ye-Ae+1;let Tt=!1,jt=0;const I=new Array(ht);for(Y=0;Y<ht;Y++)I[Y]=0;for(Y=Se;Y<=he;Y++){const g=b[Y];if(Ct>=ht){J(g,W,U,!0);continue}let fe;if(g.key!=null)fe=Ve.get(g.key);else for(Oe=Ae;Oe<=ye;Oe++)if(I[Oe-Ae]===0&&Bo(g,w[Oe])){fe=Oe;break}fe===void 0?J(g,W,U,!0):(I[fe-Ae]=Y+1,fe>=jt?jt=fe:Tt=!0,y(g,w[fe],S,null,W,U,ue,ae,ne),Ct++)}const d=Tt?tp(I):bo;for(Oe=d.length-1,Y=ht-1;Y>=0;Y--){const g=Ae+Y,fe=w[g],Qe=g+1<xe?w[g+1].el:F;I[Y]===0?y(null,fe,S,Qe,W,U,ue,ae,ne):Tt&&(Oe<0||Y!==d[Oe]?re(fe,S,Qe,2):Oe--)}}},re=(b,w,S,F,W=null)=>{const{el:U,type:ue,transition:ae,children:ne,shapeFlag:Y}=b;if(Y&6){re(b.component.subTree,w,S,F);return}if(Y&128){b.suspense.move(w,S,F);return}if(Y&64){ue.move(b,w,S,we);return}if(ue===De){o(U,w,S);for(let he=0;he<ne.length;he++)re(ne[he],w,S,F);o(b.anchor,w,S);return}if(ue===Vs){E(b,w,S);return}if(F!==2&&Y&1&&ae)if(F===0)ae.beforeEnter(U),o(U,w,S),Ot(()=>ae.enter(U),W);else{const{leave:he,delayLeave:ye,afterLeave:Se}=ae,Ae=()=>o(U,w,S),Ve=()=>{he(U,()=>{Ae(),Se&&Se()})};ye?ye(U,Ae,Ve):Ve()}else o(U,w,S)},J=(b,w,S,F=!1,W=!1)=>{const{type:U,props:ue,ref:ae,children:ne,dynamicChildren:Y,shapeFlag:xe,patchFlag:he,dirs:ye,cacheIndex:Se}=b;if(he===-2&&(W=!1),ae!=null&&ea(ae,null,S,b,!0),Se!=null&&(w.renderCache[Se]=void 0),xe&256){w.ctx.deactivate(b);return}const Ae=xe&1&&ye,Ve=!Ko(b);let Oe;if(Ve&&(Oe=ue&&ue.onVnodeBeforeUnmount)&&Qt(Oe,w,b),xe&6)ge(b.component,S,F);else{if(xe&128){b.suspense.unmount(S,F);return}Ae&&zn(b,null,w,"beforeUnmount"),xe&64?b.type.remove(b,w,S,we,F):Y&&!Y.hasOnce&&(U!==De||he>0&&he&64)?Je(Y,w,S,!1,!0):(U===De&&he&384||!W&&xe&16)&&Je(ne,w,S),F&&R(b)}(Ve&&(Oe=ue&&ue.onVnodeUnmounted)||Ae)&&Ot(()=>{Oe&&Qt(Oe,w,b),Ae&&zn(b,null,w,"unmounted")},S)},R=b=>{const{type:w,el:S,anchor:F,transition:W}=b;if(w===De){te(S,F);return}if(w===Vs){H(b);return}const U=()=>{a(S),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(b.shapeFlag&1&&W&&!W.persisted){const{leave:ue,delayLeave:ae}=W,ne=()=>ue(S,U);ae?ae(b.el,U,ne):ne()}else U()},te=(b,w)=>{let S;for(;b!==w;)S=m(b),a(b),b=S;a(w)},ge=(b,w,S)=>{const{bum:F,scope:W,job:U,subTree:ue,um:ae,m:ne,a:Y}=b;Hr(ne),Hr(Y),F&&Ls(F),W.stop(),U&&(U.flags|=8,J(ue,b,w,S)),ae&&Ot(ae,w),Ot(()=>{b.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Je=(b,w,S,F=!1,W=!1,U=0)=>{for(let ue=U;ue<b.length;ue++)J(b[ue],w,S,F,W)},j=b=>{if(b.shapeFlag&6)return j(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const w=m(b.anchor||b.el),S=w&&w[Cf];return S?m(S):w};let me=!1;const ce=(b,w,S)=>{b==null?w._vnode&&J(w._vnode,null,null,!0):y(w._vnode||null,b,w,null,null,null,S),w._vnode=b,me||(me=!0,_r(),vc(),me=!1)},we={p:y,um:J,m:re,r:R,mt:V,mc:de,pc:ve,pbc:T,n:j,o:e};return{render:ce,hydrate:void 0,createApp:zf(ce)}}function qa({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ep(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Mc(e,t,n=!1){const o=e.children,a=t.children;if(ke(o)&&ke(a))for(let i=0;i<o.length;i++){const r=o[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=Tn(a[i]),l.el=r.el),!n&&l.patchFlag!==-2&&Mc(r,l)),l.type===Ea&&(l.el=r.el)}}function tp(e){const t=e.slice(),n=[0];let o,a,i,r,l;const c=e.length;for(o=0;o<c;o++){const u=e[o];if(u!==0){if(a=n[n.length-1],e[a]<u){t[o]=a,n.push(o);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<u?i=l+1:r=l;u<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function Bc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bc(t)}function Hr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const np=Symbol.for("v-scx"),op=()=>Yt(np);function an(e,t,n){return Lc(e,t,n)}function Lc(e,t,n=qe){const{immediate:o,deep:a,flush:i,once:r}=n,l=wt({},n),c=t&&o||!t&&i!=="post";let u;if(us){if(i==="sync"){const h=op();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=on,h.resume=on,h.pause=on,h}}const f=pt;l.call=(h,$,y)=>cn(h,f,$,y);let p=!1;i==="post"?l.scheduler=h=>{Ot(h,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(h,$)=>{$?h():Xi(h)}),l.augmentJob=h=>{t&&(h.flags|=4),p&&(h.flags|=2,f&&(h.id=f.uid,h.i=f))};const m=vf(e,t,l);return us&&(u?u.push(m):c&&m()),m}function sp(e,t,n){const o=this.proxy,a=lt(e)?e.includes(".")?Nc(o,e):()=>o[e]:e.bind(o,o);let i;Te(t)?i=t:(i=t.handler,n=t);const r=vs(this),l=Lc(a,i.bind(o),n);return r(),l}function Nc(e,t){const n=t.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}const ap=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${zt(t)}Modifiers`]||e[`${Nn(t)}Modifiers`];function ip(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||qe;let a=n;const i=t.startsWith("update:"),r=i&&ap(o,t.slice(7));r&&(r.trim&&(a=n.map(f=>lt(f)?f.trim():f)),r.number&&(a=n.map(Gs)));let l,c=o[l=Na(t)]||o[l=Na(zt(t))];!c&&i&&(c=o[l=Na(Nn(t))]),c&&cn(c,e,6,a);const u=o[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,cn(u,e,6,a)}}function Vc(e,t,n=!1){const o=t.emitsCache,a=o.get(e);if(a!==void 0)return a;const i=e.emits;let r={},l=!1;if(!Te(e)){const c=u=>{const f=Vc(u,t,!0);f&&(l=!0,wt(r,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(We(e)&&o.set(e,null),null):(ke(i)?i.forEach(c=>r[c]=null):wt(r,i),We(e)&&o.set(e,r),r)}function Da(e,t){return!e||!ya(t)?!1:(t=t.slice(2).replace(/Once$/,""),Fe(e,t[0].toLowerCase()+t.slice(1))||Fe(e,Nn(t))||Fe(e,t))}function Pr(e){const{type:t,vnode:n,proxy:o,withProxy:a,propsOptions:[i],slots:r,attrs:l,emit:c,render:u,renderCache:f,props:p,data:m,setupState:h,ctx:$,inheritAttrs:y}=e,v=Zs(e);let _,M;try{if(n.shapeFlag&4){const H=a||o,N=H;_=tn(u.call(N,H,f,p,h,m,$)),M=l}else{const H=t;_=tn(H.length>1?H(p,{attrs:l,slots:r,emit:c}):H(p,null)),M=t.props?l:rp(l)}}catch(H){Go.length=0,$a(H,e,1),_=Ge(to)}let E=_;if(M&&y!==!1){const H=Object.keys(M),{shapeFlag:N}=E;H.length&&N&7&&(i&&H.some(Mi)&&(M=lp(M,i)),E=_o(E,M,!1,!0))}return n.dirs&&(E=_o(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Gi(E,n.transition),_=E,Zs(v),_}const rp=e=>{let t;for(const n in e)(n==="class"||n==="style"||ya(n))&&((t||(t={}))[n]=e[n]);return t},lp=(e,t)=>{const n={};for(const o in e)(!Mi(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function cp(e,t,n){const{props:o,children:a,component:i}=e,{props:r,children:l,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?Ir(o,r,u):!!r;if(c&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(r[m]!==o[m]&&!Da(u,m))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:o===r?!1:o?r?Ir(o,r,u):!0:!!r;return!1}function Ir(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const i=o[a];if(t[i]!==e[i]&&!Da(n,i))return!0}return!1}function up({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const jc=e=>e.__isSuspense;function dp(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):yf(e)}const De=Symbol.for("v-fgt"),Ea=Symbol.for("v-txt"),to=Symbol.for("v-cmt"),Vs=Symbol.for("v-stc"),Go=[];let Bt=null;function C(e=!1){Go.push(Bt=e?null:[])}function fp(){Go.pop(),Bt=Go[Go.length-1]||null}let cs=1;function Rr(e,t=!1){cs+=e,e<0&&Bt&&t&&(Bt.hasOnce=!0)}function Fc(e){return e.dynamicChildren=cs>0?Bt||bo:null,fp(),cs>0&&Bt&&Bt.push(e),e}function x(e,t,n,o,a,i){return Fc(s(e,t,n,o,a,i,!0))}function vn(e,t,n,o,a){return Fc(Ge(e,t,n,o,a,!0))}function na(e){return e?e.__v_isVNode===!0:!1}function Bo(e,t){return e.type===t.type&&e.key===t.key}const Uc=({key:e})=>e??null,js=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?lt(e)||et(e)||Te(e)?{i:Pt,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,a=null,i=e===De?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Uc(t),ref:t&&js(t),scopeId:wc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Pt};return l?(Qi(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=lt(n)?8:16),cs>0&&!r&&Bt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Bt.push(c),c}const Ge=pp;function pp(e,t=null,n=null,o=0,a=null,i=!1){if((!e||e===Of)&&(e=to),na(e)){const l=_o(e,t,!0);return n&&Qi(l,n),cs>0&&!i&&Bt&&(l.shapeFlag&6?Bt[Bt.indexOf(e)]=l:Bt.push(l)),l.patchFlag=-2,l}if(_p(e)&&(e=e.__vccOpts),t){t=mp(t);let{class:l,style:c}=t;l&&!lt(l)&&(t.class=ze(l)),We(c)&&(Wi(c)&&!ke(c)&&(c=wt({},c)),t.style=sn(c))}const r=lt(e)?1:jc(e)?128:xf(e)?64:We(e)?4:Te(e)?2:0;return s(e,t,n,o,a,r,i,!0)}function mp(e){return e?Wi(e)||Tc(e)?wt({},e):e:null}function _o(e,t,n=!1,o=!1){const{props:a,ref:i,patchFlag:r,children:l,transition:c}=e,u=t?hp(a||{},t):a,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Uc(u),ref:t&&t.ref?n&&i?ke(i)?i.concat(js(t)):[i,js(t)]:js(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==De?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_o(e.ssContent),ssFallback:e.ssFallback&&_o(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&Gi(f,c.clone(f)),f}function G(e=" ",t=0){return Ge(Ea,null,e,t)}function Ln(e,t){const n=Ge(Vs,null,e);return n.staticCount=t,n}function se(e="",t=!1){return t?(C(),vn(to,null,e)):Ge(to,null,e)}function tn(e){return e==null||typeof e=="boolean"?Ge(to):ke(e)?Ge(De,null,e.slice()):na(e)?Tn(e):Ge(Ea,null,String(e))}function Tn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_o(e)}function Qi(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),Qi(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Tc(t)?t._ctx=Pt:a===3&&Pt&&(Pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:Pt},n=32):(t=String(t),o&64?(n=16,t=[G(t)]):n=8);e.children=t,e.shapeFlag|=n}function hp(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=ze([t.class,o.class]));else if(a==="style")t.style=sn([t.style,o.style]);else if(ya(a)){const i=t[a],r=o[a];r&&i!==r&&!(ke(i)&&i.includes(r))&&(t[a]=i?[].concat(i,r):r)}else a!==""&&(t[a]=o[a])}return t}function Qt(e,t,n,o=null){cn(e,t,7,[n,o])}const gp=Sc();let vp=0;function bp(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||gp,i={uid:vp++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hc(o,a),emitsOptions:Vc(o,a),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:o.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ip.bind(null,i),e.ce&&e.ce(i),i}let pt=null,oa,yi;{const e=ka(),t=(n,o)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(o),i=>{a.length>1?a.forEach(r=>r(i)):a[0](i)}};oa=t("__VUE_INSTANCE_SETTERS__",n=>pt=n),yi=t("__VUE_SSR_SETTERS__",n=>us=n)}const vs=e=>{const t=pt;return oa(e),e.scope.on(),()=>{e.scope.off(),oa(t)}},Or=()=>{pt&&pt.scope.off(),oa(null)};function zc(e){return e.vnode.shapeFlag&4}let us=!1;function wp(e,t=!1,n=!1){t&&yi(t);const{props:o,children:a}=e.vnode,i=zc(e);Wf(e,o,i,t),Yf(e,a,n);const r=i?yp(e,t):void 0;return t&&yi(!1),r}function yp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Bf);const{setup:o}=n;if(o){Vn();const a=e.setupContext=o.length>1?xp(e):null,i=vs(e),r=gs(o,e,0,[e.props,a]),l=Nl(r);if(jn(),i(),(l||e.sp)&&!Ko(e)&&Cc(e),l){if(r.then(Or,Or),t)return r.then(c=>{Mr(e,c)}).catch(c=>{$a(c,e,0)});e.asyncDep=r}else Mr(e,r)}else qc(e)}function Mr(e,t,n){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=fc(t)),qc(e)}function qc(e,t,n){const o=e.type;e.render||(e.render=o.render||on);{const a=vs(e);Vn();try{Lf(e)}finally{jn(),a()}}}const Cp={get(e,t){return vt(e,"get",""),e[t]}};function xp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Cp),slots:e.slots,emit:e.emit,expose:t}}function Ta(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(fc(Ki(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xo)return Xo[n](e)},has(t,n){return n in t||n in Xo}})):e.proxy}function kp(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function _p(e){return Te(e)&&"__vccOpts"in e}const Le=(e,t)=>hf(e,t,us);function Wc(e,t,n){const o=arguments.length;return o===2?We(t)&&!ke(t)?na(t)?Ge(e,null,[t]):Ge(e,t):Ge(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&na(n)&&(n=[n]),Ge(e,t,n))}const $p="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ci;const Br=typeof window<"u"&&window.trustedTypes;if(Br)try{Ci=Br.createPolicy("vue",{createHTML:e=>e})}catch{}const Kc=Ci?e=>Ci.createHTML(e):e=>e,Sp="http://www.w3.org/2000/svg",Dp="http://www.w3.org/1998/Math/MathML",mn=typeof document<"u"?document:null,Lr=mn&&mn.createElement("template"),Ep={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t==="svg"?mn.createElementNS(Sp,e):t==="mathml"?mn.createElementNS(Dp,e):n?mn.createElement(e,{is:n}):mn.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>mn.createTextNode(e),createComment:e=>mn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,a,i){const r=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{Lr.innerHTML=Kc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Lr.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Tp=Symbol("_vtc");function Ap(e,t,n){const o=e[Tp];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const sa=Symbol("_vod"),Xc=Symbol("_vsh"),Wa={beforeMount(e,{value:t},{transition:n}){e[sa]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Lo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Lo(e,!0),o.enter(e)):o.leave(e,()=>{Lo(e,!1)}):Lo(e,t))},beforeUnmount(e,{value:t}){Lo(e,t)}};function Lo(e,t){e.style.display=t?e[sa]:"none",e[Xc]=!t}const Hp=Symbol(""),Pp=/(^|;)\s*display\s*:/;function Ip(e,t,n){const o=e.style,a=lt(n);let i=!1;if(n&&!a){if(t)if(lt(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&Fs(o,l,"")}else for(const r in t)n[r]==null&&Fs(o,r,"");for(const r in n)r==="display"&&(i=!0),Fs(o,r,n[r])}else if(a){if(t!==n){const r=o[Hp];r&&(n+=";"+r),o.cssText=n,i=Pp.test(n)}}else t&&e.removeAttribute("style");sa in e&&(e[sa]=i?o.display:"",e[Xc]&&(o.display="none"))}const Nr=/\s*!important$/;function Fs(e,t,n){if(ke(n))n.forEach(o=>Fs(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Rp(e,t);Nr.test(n)?e.setProperty(Nn(o),n.replace(Nr,""),"important"):e[o]=n}}const Vr=["Webkit","Moz","ms"],Ka={};function Rp(e,t){const n=Ka[t];if(n)return n;let o=zt(t);if(o!=="filter"&&o in e)return Ka[t]=o;o=xa(o);for(let a=0;a<Vr.length;a++){const i=Vr[a]+o;if(i in e)return Ka[t]=i}return t}const jr="http://www.w3.org/1999/xlink";function Fr(e,t,n,o,a,i=Nd(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(jr,t.slice(6,t.length)):e.setAttributeNS(jr,t,n):n==null||i&&!Ul(n)?e.removeAttribute(t):e.setAttribute(t,i?"":ln(n)?String(n):n)}function Ur(e,t,n,o,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Kc(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Ul(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(a||t)}function Pn(e,t,n,o){e.addEventListener(t,n,o)}function Op(e,t,n,o){e.removeEventListener(t,n,o)}const zr=Symbol("_vei");function Mp(e,t,n,o,a=null){const i=e[zr]||(e[zr]={}),r=i[t];if(o&&r)r.value=o;else{const[l,c]=Bp(t);if(o){const u=i[t]=Vp(o,a);Pn(e,l,u,c)}else r&&(Op(e,l,r,c),i[t]=void 0)}}const qr=/(?:Once|Passive|Capture)$/;function Bp(e){let t;if(qr.test(e)){t={};let o;for(;o=e.match(qr);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Nn(e.slice(2)),t]}let Xa=0;const Lp=Promise.resolve(),Np=()=>Xa||(Lp.then(()=>Xa=0),Xa=Date.now());function Vp(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;cn(jp(o,n.value),t,5,[o])};return n.value=e,n.attached=Np(),n}function jp(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const Wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Fp=(e,t,n,o,a,i)=>{const r=a==="svg";t==="class"?Ap(e,o,r):t==="style"?Ip(e,n,o):ya(t)?Mi(t)||Mp(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Up(e,t,o,r))?(Ur(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fr(e,t,o,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!lt(o))?Ur(e,zt(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Fr(e,t,o,r))};function Up(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Wr(t)&&Te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Wr(t)&&lt(n)?!1:t in e}const $o=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>Ls(t,n):t};function zp(e){e.target.composing=!0}function Kr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wn=Symbol("_assign"),ee={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e[wn]=$o(a);const i=o||a.props&&a.props.type==="number";Pn(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=Gs(l)),e[wn](l)}),n&&Pn(e,"change",()=>{e.value=e.value.trim()}),t||(Pn(e,"compositionstart",zp),Pn(e,"compositionend",Kr),Pn(e,"change",Kr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:a,number:i}},r){if(e[wn]=$o(r),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Gs(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||a&&e.value.trim()===c)||(e.value=c))}},Yo={deep:!0,created(e,t,n){e[wn]=$o(n),Pn(e,"change",()=>{const o=e._modelValue,a=ds(e),i=e.checked,r=e[wn];if(ke(o)){const l=Ni(o,a),c=l!==-1;if(i&&!c)r(o.concat(a));else if(!i&&c){const u=[...o];u.splice(l,1),r(u)}}else if(Ho(o)){const l=new Set(o);i?l.add(a):l.delete(a),r(l)}else r(Gc(e,i))})},mounted:Xr,beforeUpdate(e,t,n){e[wn]=$o(n),Xr(e,t,n)}};function Xr(e,{value:t,oldValue:n},o){e._modelValue=t;let a;if(ke(t))a=Ni(t,o.props.value)>-1;else if(Ho(t))a=t.has(o.props.value);else{if(t===n)return;a=hs(t,Gc(e,!0))}e.checked!==a&&(e.checked=a)}const mt={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=Ho(t);Pn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?Gs(ds(r)):ds(r));e[wn](e.multiple?a?new Set(i):i:i[0]),e._assigning=!0,ao(()=>{e._assigning=!1})}),e[wn]=$o(o)},mounted(e,{value:t}){Gr(e,t)},beforeUpdate(e,t,n){e[wn]=$o(n)},updated(e,{value:t}){e._assigning||Gr(e,t)}};function Gr(e,t){const n=e.multiple,o=ke(t);if(!(n&&!o&&!Ho(t))){for(let a=0,i=e.options.length;a<i;a++){const r=e.options[a],l=ds(r);if(n)if(o){const c=typeof l;c==="string"||c==="number"?r.selected=t.some(u=>String(u)===String(l)):r.selected=Ni(t,l)>-1}else r.selected=t.has(l);else if(hs(ds(r),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ds(e){return"_value"in e?e._value:e.value}function Gc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const qp=["ctrl","shift","alt","meta"],Wp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qp.some(n=>e[`${n}Key`]&&!t.includes(n))},Me=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(a,...i)=>{for(let r=0;r<t.length;r++){const l=Wp[t[r]];if(l&&l(a,t))return}return e(a,...i)})},Kp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=a=>{if(!("key"in a))return;const i=Nn(a.key);if(t.some(r=>r===i||Kp[r]===i))return e(a)})},Xp=wt({patchProp:Fp},Ep);let Yr;function Gp(){return Yr||(Yr=Qf(Xp))}const Yp=(...e)=>{const t=Gp().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=Qp(o);if(!a)return;const i=t._component;!Te(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const r=n(a,!1,Jp(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t};function Jp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Qp(e){return lt(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Yc;const Aa=e=>Yc=e,Jc=Symbol();function xi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Jo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Jo||(Jo={}));function Zp(){const e=Kl(!0),t=e.run(()=>Z({}));let n=[],o=[];const a=Ki({install(i){Aa(a),a._a=i,i.provide(Jc,a),i.config.globalProperties.$pinia=a,o.forEach(r=>n.push(r)),o=[]},use(i){return this._a?n.push(i):o.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Qc=()=>{};function Jr(e,t,n,o=Qc){e.push(t);const a=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),o())};return!n&&Xl()&&jd(a),a}function uo(e,...t){e.slice().forEach(n=>{n(...t)})}const em=e=>e(),Qr=Symbol(),Ga=Symbol();function ki(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],a=e[n];xi(a)&&xi(o)&&e.hasOwnProperty(n)&&!et(o)&&!bn(o)?e[n]=ki(a,o):e[n]=o}return e}const tm=Symbol();function nm(e){return!xi(e)||!Object.prototype.hasOwnProperty.call(e,tm)}const{assign:Sn}=Object;function om(e){return!!(et(e)&&e.effect)}function sm(e,t,n,o){const{state:a,actions:i,getters:r}=t,l=n.state.value[e];let c;function u(){l||(n.state.value[e]=a?a():{});const f=df(n.state.value[e]);return Sn(f,i,Object.keys(r||{}).reduce((p,m)=>(p[m]=Ki(Le(()=>{Aa(n);const h=n._s.get(e);return r[m].call(h,h)})),p),{}))}return c=Zc(e,u,t,n,o,!0),c}function Zc(e,t,n={},o,a,i){let r;const l=Sn({actions:{}},n),c={deep:!0};let u,f,p=[],m=[],h;const $=o.state.value[e];!i&&!$&&(o.state.value[e]={}),Z({});let y;function v(de){let L;u=f=!1,typeof de=="function"?(de(o.state.value[e]),L={type:Jo.patchFunction,storeId:e,events:h}):(ki(o.state.value[e],de),L={type:Jo.patchObject,payload:de,storeId:e,events:h});const T=y=Symbol();ao().then(()=>{y===T&&(u=!0)}),f=!0,uo(p,L,o.state.value[e])}const _=i?function(){const{state:L}=n,T=L?L():{};this.$patch(P=>{Sn(P,T)})}:Qc;function M(){r.stop(),p=[],m=[],o._s.delete(e)}const E=(de,L="")=>{if(Qr in de)return de[Ga]=L,de;const T=function(){Aa(o);const P=Array.from(arguments),D=[],k=[];function V(K){D.push(K)}function be(K){k.push(K)}uo(m,{args:P,name:T[Ga],store:N,after:V,onError:be});let X;try{X=de.apply(this&&this.$id===e?this:N,P)}catch(K){throw uo(k,K),K}return X instanceof Promise?X.then(K=>(uo(D,K),K)).catch(K=>(uo(k,K),Promise.reject(K))):(uo(D,X),X)};return T[Qr]=!0,T[Ga]=L,T},H={_p:o,$id:e,$onAction:Jr.bind(null,m),$patch:v,$reset:_,$subscribe(de,L={}){const T=Jr(p,de,L.detached,()=>P()),P=r.run(()=>an(()=>o.state.value[e],D=>{(L.flush==="sync"?f:u)&&de({storeId:e,type:Jo.direct,events:h},D)},Sn({},c,L)));return T},$dispose:M},N=qt(H);o._s.set(e,N);const pe=(o._a&&o._a.runWithContext||em)(()=>o._e.run(()=>(r=Kl()).run(()=>t({action:E}))));for(const de in pe){const L=pe[de];if(et(L)&&!om(L)||bn(L))i||($&&nm(L)&&(et(L)?L.value=$[de]:ki(L,$[de])),o.state.value[e][de]=L);else if(typeof L=="function"){const T=E(L,de);pe[de]=T,l.actions[de]=L}}return Sn(N,pe),Sn(Re(N),pe),Object.defineProperty(N,"$state",{get:()=>o.state.value[e],set:de=>{v(L=>{Sn(L,de)})}}),o._p.forEach(de=>{Sn(N,r.run(()=>de({store:N,app:o._a,pinia:o,options:l})))}),$&&i&&n.hydrate&&n.hydrate(N.$state,$),u=!0,f=!0,N}/*! #__NO_SIDE_EFFECTS__ */function Un(e,t,n){let o;const a=typeof t=="function";o=a?n:t;function i(r,l){const c=qf();return r=r||(c?Yt(Jc,null):null),r&&Aa(r),r=Yc,r._s.has(e)||(a?Zc(e,t,o,r):sm(e,o,r)),r._s.get(e)}return i.$id=e,i}function no(e){const t=Re(e),n={};for(const o in t){const a=t[o];a.effect?n[o]=Le({get:()=>e[o],set(i){e[o]=i}}):(et(a)||bn(a))&&(n[o]=pc(e,o))}return n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ho=typeof document<"u";function eu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function am(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&eu(e.default)}const je=Object.assign;function Ya(e,t){const n={};for(const o in t){const a=t[o];n[o]=Jt(a)?a.map(e):e(a)}return n}const Qo=()=>{},Jt=Array.isArray,tu=/#/g,im=/&/g,rm=/\//g,lm=/=/g,cm=/\?/g,nu=/\+/g,um=/%5B/g,dm=/%5D/g,ou=/%5E/g,fm=/%60/g,su=/%7B/g,pm=/%7C/g,au=/%7D/g,mm=/%20/g;function Zi(e){return encodeURI(""+e).replace(pm,"|").replace(um,"[").replace(dm,"]")}function hm(e){return Zi(e).replace(su,"{").replace(au,"}").replace(ou,"^")}function _i(e){return Zi(e).replace(nu,"%2B").replace(mm,"+").replace(tu,"%23").replace(im,"%26").replace(fm,"`").replace(su,"{").replace(au,"}").replace(ou,"^")}function gm(e){return _i(e).replace(lm,"%3D")}function vm(e){return Zi(e).replace(tu,"%23").replace(cm,"%3F")}function bm(e){return e==null?"":vm(e).replace(rm,"%2F")}function fs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const wm=/\/$/,ym=e=>e.replace(wm,"");function Ja(e,t,n="/"){let o,a={},i="",r="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(o=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),a=e(i)),l>-1&&(o=o||t.slice(0,l),r=t.slice(l,t.length)),o=_m(o??t,n),{fullPath:o+(i&&"?")+i+r,path:o,query:a,hash:fs(r)}}function Cm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Zr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function xm(e,t,n){const o=t.matched.length-1,a=n.matched.length-1;return o>-1&&o===a&&So(t.matched[o],n.matched[a])&&iu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function So(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function iu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!km(e[n],t[n]))return!1;return!0}function km(e,t){return Jt(e)?el(e,t):Jt(t)?el(t,e):e===t}function el(e,t){return Jt(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function _m(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),a=o[o.length-1];(a===".."||a===".")&&o.push("");let i=n.length-1,r,l;for(r=0;r<o.length;r++)if(l=o[r],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+o.slice(r).join("/")}const $n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ps;(function(e){e.pop="pop",e.push="push"})(ps||(ps={}));var Zo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Zo||(Zo={}));function $m(e){if(!e)if(ho){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ym(e)}const Sm=/^[^#]+#/;function Dm(e,t){return e.replace(Sm,"#")+t}function Em(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Ha=()=>({left:window.scrollX,top:window.scrollY});function Tm(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Em(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function tl(e,t){return(history.state?history.state.position-t:-1)+e}const $i=new Map;function Am(e,t){$i.set(e,t)}function Hm(e){const t=$i.get(e);return $i.delete(e),t}let Pm=()=>location.protocol+"//"+location.host;function ru(e,t){const{pathname:n,search:o,hash:a}=t,i=e.indexOf("#");if(i>-1){let l=a.includes(e.slice(i))?e.slice(i).length:1,c=a.slice(l);return c[0]!=="/"&&(c="/"+c),Zr(c,"")}return Zr(n,e)+o+a}function Im(e,t,n,o){let a=[],i=[],r=null;const l=({state:m})=>{const h=ru(e,location),$=n.value,y=t.value;let v=0;if(m){if(n.value=h,t.value=m,r&&r===$){r=null;return}v=y?m.position-y.position:0}else o(h);a.forEach(_=>{_(n.value,$,{delta:v,type:ps.pop,direction:v?v>0?Zo.forward:Zo.back:Zo.unknown})})};function c(){r=n.value}function u(m){a.push(m);const h=()=>{const $=a.indexOf(m);$>-1&&a.splice($,1)};return i.push(h),h}function f(){const{history:m}=window;m.state&&m.replaceState(je({},m.state,{scroll:Ha()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:c,listen:u,destroy:p}}function nl(e,t,n,o=!1,a=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:a?Ha():null}}function Rm(e){const{history:t,location:n}=window,o={value:ru(e,n)},a={value:t.state};a.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,u,f){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:Pm()+e+c;try{t[f?"replaceState":"pushState"](u,"",m),a.value=u}catch(h){console.error(h),n[f?"replace":"assign"](m)}}function r(c,u){const f=je({},t.state,nl(a.value.back,c,a.value.forward,!0),u,{position:a.value.position});i(c,f,!0),o.value=c}function l(c,u){const f=je({},a.value,t.state,{forward:c,scroll:Ha()});i(f.current,f,!0);const p=je({},nl(o.value,c,null),{position:f.position+1},u);i(c,p,!1),o.value=c}return{location:o,state:a,push:l,replace:r}}function Om(e){e=$m(e);const t=Rm(e),n=Im(e,t.state,t.location,t.replace);function o(i,r=!0){r||n.pauseListeners(),history.go(i)}const a=je({location:"",base:e,go:o,createHref:Dm.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Mm(e){return typeof e=="string"||e&&typeof e=="object"}function lu(e){return typeof e=="string"||typeof e=="symbol"}const cu=Symbol("");var ol;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ol||(ol={}));function Do(e,t){return je(new Error,{type:e,[cu]:!0},t)}function pn(e,t){return e instanceof Error&&cu in e&&(t==null||!!(e.type&t))}const sl="[^/]+?",Bm={sensitive:!1,strict:!1,start:!0,end:!0},Lm=/[.+*?^${}()[\]/\\]/g;function Nm(e,t){const n=je({},Bm,t),o=[];let a=n.start?"^":"";const i=[];for(const u of e){const f=u.length?[]:[90];n.strict&&!u.length&&(a+="/");for(let p=0;p<u.length;p++){const m=u[p];let h=40+(n.sensitive?.25:0);if(m.type===0)p||(a+="/"),a+=m.value.replace(Lm,"\\$&"),h+=40;else if(m.type===1){const{value:$,repeatable:y,optional:v,regexp:_}=m;i.push({name:$,repeatable:y,optional:v});const M=_||sl;if(M!==sl){h+=10;try{new RegExp(`(${M})`)}catch(H){throw new Error(`Invalid custom RegExp for param "${$}" (${M}): `+H.message)}}let E=y?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;p||(E=v&&u.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),a+=E,h+=20,v&&(h+=-8),y&&(h+=-20),M===".*"&&(h+=-50)}f.push(h)}o.push(f)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const r=new RegExp(a,n.sensitive?"":"i");function l(u){const f=u.match(r),p={};if(!f)return null;for(let m=1;m<f.length;m++){const h=f[m]||"",$=i[m-1];p[$.name]=h&&$.repeatable?h.split("/"):h}return p}function c(u){let f="",p=!1;for(const m of e){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const h of m)if(h.type===0)f+=h.value;else if(h.type===1){const{value:$,repeatable:y,optional:v}=h,_=$ in u?u[$]:"";if(Jt(_)&&!y)throw new Error(`Provided param "${$}" is an array but it is not repeatable (* or + modifiers)`);const M=Jt(_)?_.join("/"):_;if(!M)if(v)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${$}"`);f+=M}}return f||"/"}return{re:r,score:o,keys:i,parse:l,stringify:c}}function Vm(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function uu(e,t){let n=0;const o=e.score,a=t.score;for(;n<o.length&&n<a.length;){const i=Vm(o[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-o.length)===1){if(al(o))return 1;if(al(a))return-1}return a.length-o.length}function al(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const jm={type:0,value:""},Fm=/[a-zA-Z0-9_]/;function Um(e){if(!e)return[[]];if(e==="/")return[[jm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,o=n;const a=[];let i;function r(){i&&a.push(i),i=[]}let l=0,c,u="",f="";function p(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function m(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:c==="/"?(u&&p(),r()):c===":"?(p(),n=1):m();break;case 4:m(),n=o;break;case 1:c==="("?n=2:Fm.test(c)?m():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=3:f+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),p(),r(),a}function zm(e,t,n){const o=Nm(Um(e.path),n),a=je(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function qm(e,t){const n=[],o=new Map;t=cl({strict:!1,end:!0,sensitive:!1},t);function a(p){return o.get(p)}function i(p,m,h){const $=!h,y=rl(p);y.aliasOf=h&&h.record;const v=cl(t,p),_=[y];if("alias"in p){const H=typeof p.alias=="string"?[p.alias]:p.alias;for(const N of H)_.push(rl(je({},y,{components:h?h.record.components:y.components,path:N,aliasOf:h?h.record:y})))}let M,E;for(const H of _){const{path:N}=H;if(m&&N[0]!=="/"){const ie=m.record.path,pe=ie[ie.length-1]==="/"?"":"/";H.path=m.record.path+(N&&pe+N)}if(M=zm(H,m,v),h?h.alias.push(M):(E=E||M,E!==M&&E.alias.push(M),$&&p.name&&!ll(M)&&r(p.name)),du(M)&&c(M),y.children){const ie=y.children;for(let pe=0;pe<ie.length;pe++)i(ie[pe],M,h&&h.children[pe])}h=h||M}return E?()=>{r(E)}:Qo}function r(p){if(lu(p)){const m=o.get(p);m&&(o.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(r),m.alias.forEach(r))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&o.delete(p.record.name),p.children.forEach(r),p.alias.forEach(r))}}function l(){return n}function c(p){const m=Xm(p,n);n.splice(m,0,p),p.record.name&&!ll(p)&&o.set(p.record.name,p)}function u(p,m){let h,$={},y,v;if("name"in p&&p.name){if(h=o.get(p.name),!h)throw Do(1,{location:p});v=h.record.name,$=je(il(m.params,h.keys.filter(E=>!E.optional).concat(h.parent?h.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),p.params&&il(p.params,h.keys.map(E=>E.name))),y=h.stringify($)}else if(p.path!=null)y=p.path,h=n.find(E=>E.re.test(y)),h&&($=h.parse(y),v=h.record.name);else{if(h=m.name?o.get(m.name):n.find(E=>E.re.test(m.path)),!h)throw Do(1,{location:p,currentLocation:m});v=h.record.name,$=je({},m.params,p.params),y=h.stringify($)}const _=[];let M=h;for(;M;)_.unshift(M.record),M=M.parent;return{name:v,path:y,params:$,matched:_,meta:Km(_)}}e.forEach(p=>i(p));function f(){n.length=0,o.clear()}return{addRoute:i,resolve:u,removeRoute:r,clearRoutes:f,getRoutes:l,getRecordMatcher:a}}function il(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function rl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Wm(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Wm(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function ll(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Km(e){return e.reduce((t,n)=>je(t,n.meta),{})}function cl(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Xm(e,t){let n=0,o=t.length;for(;n!==o;){const i=n+o>>1;uu(e,t[i])<0?o=i:n=i+1}const a=Gm(e);return a&&(o=t.lastIndexOf(a,o-1)),o}function Gm(e){let t=e;for(;t=t.parent;)if(du(t)&&uu(e,t)===0)return t}function du({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ym(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const i=o[a].replace(nu," "),r=i.indexOf("="),l=fs(r<0?i:i.slice(0,r)),c=r<0?null:fs(i.slice(r+1));if(l in t){let u=t[l];Jt(u)||(u=t[l]=[u]),u.push(c)}else t[l]=c}return t}function ul(e){let t="";for(let n in e){const o=e[n];if(n=gm(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Jt(o)?o.map(i=>i&&_i(i)):[o&&_i(o)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Jm(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Jt(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const Qm=Symbol(""),dl=Symbol(""),Pa=Symbol(""),fu=Symbol(""),Si=Symbol("");function No(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function An(e,t,n,o,a,i=r=>r()){const r=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((l,c)=>{const u=m=>{m===!1?c(Do(4,{from:n,to:t})):m instanceof Error?c(m):Mm(m)?c(Do(2,{from:t,to:m})):(r&&o.enterCallbacks[a]===r&&typeof m=="function"&&r.push(m),l())},f=i(()=>e.call(o&&o.instances[a],t,n,u));let p=Promise.resolve(f);e.length<3&&(p=p.then(u)),p.catch(m=>c(m))})}function Qa(e,t,n,o,a=i=>i()){const i=[];for(const r of e)for(const l in r.components){let c=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(eu(c)){const f=(c.__vccOpts||c)[t];f&&i.push(An(f,n,o,r,l,a))}else{let u=c();i.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${r.path}"`);const p=am(f)?f.default:f;r.mods[l]=f,r.components[l]=p;const h=(p.__vccOpts||p)[t];return h&&An(h,n,o,r,l,a)()}))}}return i}function fl(e){const t=Yt(Pa),n=Yt(fu),o=Le(()=>{const c=Q(e.to);return t.resolve(c)}),a=Le(()=>{const{matched:c}=o.value,{length:u}=c,f=c[u-1],p=n.matched;if(!f||!p.length)return-1;const m=p.findIndex(So.bind(null,f));if(m>-1)return m;const h=pl(c[u-2]);return u>1&&pl(f)===h&&p[p.length-1].path!==h?p.findIndex(So.bind(null,c[u-2])):m}),i=Le(()=>a.value>-1&&oh(n.params,o.value.params)),r=Le(()=>a.value>-1&&a.value===n.matched.length-1&&iu(n.params,o.value.params));function l(c={}){if(nh(c)){const u=t[Q(e.replace)?"replace":"push"](Q(e.to)).catch(Qo);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:Le(()=>o.value.href),isActive:i,isExactActive:r,navigate:l}}function Zm(e){return e.length===1?e[0]:e}const eh=yc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:fl,setup(e,{slots:t}){const n=qt(fl(e)),{options:o}=Yt(Pa),a=Le(()=>({[ml(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[ml(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Zm(t.default(n));return e.custom?i:Wc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),th=eh;function nh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function oh(e,t){for(const n in t){const o=t[n],a=e[n];if(typeof o=="string"){if(o!==a)return!1}else if(!Jt(a)||a.length!==o.length||o.some((i,r)=>i!==a[r]))return!1}return!0}function pl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ml=(e,t,n)=>e??t??n,sh=yc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=Yt(Si),a=Le(()=>e.route||o.value),i=Yt(dl,0),r=Le(()=>{let u=Q(i);const{matched:f}=a.value;let p;for(;(p=f[u])&&!p.components;)u++;return u}),l=Le(()=>a.value.matched[r.value]);Ns(dl,Le(()=>r.value+1)),Ns(Qm,l),Ns(Si,a);const c=Z();return an(()=>[c.value,l.value,e.name],([u,f,p],[m,h,$])=>{f&&(f.instances[p]=u,h&&h!==f&&u&&u===m&&(f.leaveGuards.size||(f.leaveGuards=h.leaveGuards),f.updateGuards.size||(f.updateGuards=h.updateGuards))),u&&f&&(!h||!So(f,h)||!m)&&(f.enterCallbacks[p]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=a.value,f=e.name,p=l.value,m=p&&p.components[f];if(!m)return hl(n.default,{Component:m,route:u});const h=p.props[f],$=h?h===!0?u.params:typeof h=="function"?h(u):h:null,v=Wc(m,je({},$,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(p.instances[f]=null)},ref:c}));return hl(n.default,{Component:v,route:u})||v}}});function hl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ah=sh;function ih(e){const t=qm(e.routes,e),n=e.parseQuery||Ym,o=e.stringifyQuery||ul,a=e.history,i=No(),r=No(),l=No(),c=lf($n);let u=$n;ho&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ya.bind(null,j=>""+j),p=Ya.bind(null,bm),m=Ya.bind(null,fs);function h(j,me){let ce,we;return lu(j)?(ce=t.getRecordMatcher(j),we=me):we=j,t.addRoute(we,ce)}function $(j){const me=t.getRecordMatcher(j);me&&t.removeRoute(me)}function y(){return t.getRoutes().map(j=>j.record)}function v(j){return!!t.getRecordMatcher(j)}function _(j,me){if(me=je({},me||c.value),typeof j=="string"){const S=Ja(n,j,me.path),F=t.resolve({path:S.path},me),W=a.createHref(S.fullPath);return je(S,F,{params:m(F.params),hash:fs(S.hash),redirectedFrom:void 0,href:W})}let ce;if(j.path!=null)ce=je({},j,{path:Ja(n,j.path,me.path).path});else{const S=je({},j.params);for(const F in S)S[F]==null&&delete S[F];ce=je({},j,{params:p(S)}),me.params=p(me.params)}const we=t.resolve(ce,me),Ue=j.hash||"";we.params=f(m(we.params));const b=Cm(o,je({},j,{hash:hm(Ue),path:we.path})),w=a.createHref(b);return je({fullPath:b,hash:Ue,query:o===ul?Jm(j.query):j.query||{}},we,{redirectedFrom:void 0,href:w})}function M(j){return typeof j=="string"?Ja(n,j,c.value.path):je({},j)}function E(j,me){if(u!==j)return Do(8,{from:me,to:j})}function H(j){return pe(j)}function N(j){return H(je(M(j),{replace:!0}))}function ie(j){const me=j.matched[j.matched.length-1];if(me&&me.redirect){const{redirect:ce}=me;let we=typeof ce=="function"?ce(j):ce;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=M(we):{path:we},we.params={}),je({query:j.query,hash:j.hash,params:we.path!=null?{}:j.params},we)}}function pe(j,me){const ce=u=_(j),we=c.value,Ue=j.state,b=j.force,w=j.replace===!0,S=ie(ce);if(S)return pe(je(M(S),{state:typeof S=="object"?je({},Ue,S.state):Ue,force:b,replace:w}),me||ce);const F=ce;F.redirectedFrom=me;let W;return!b&&xm(o,we,ce)&&(W=Do(16,{to:F,from:we}),re(we,we,!0,!1)),(W?Promise.resolve(W):T(F,we)).catch(U=>pn(U)?pn(U,2)?U:A(U):ve(U,F,we)).then(U=>{if(U){if(pn(U,2))return pe(je({replace:w},M(U.to),{state:typeof U.to=="object"?je({},Ue,U.to.state):Ue,force:b}),me||F)}else U=D(F,we,!0,w,Ue);return P(F,we,U),U})}function de(j,me){const ce=E(j,me);return ce?Promise.reject(ce):Promise.resolve()}function L(j){const me=te.values().next().value;return me&&typeof me.runWithContext=="function"?me.runWithContext(j):j()}function T(j,me){let ce;const[we,Ue,b]=rh(j,me);ce=Qa(we.reverse(),"beforeRouteLeave",j,me);for(const S of we)S.leaveGuards.forEach(F=>{ce.push(An(F,j,me))});const w=de.bind(null,j,me);return ce.push(w),Je(ce).then(()=>{ce=[];for(const S of i.list())ce.push(An(S,j,me));return ce.push(w),Je(ce)}).then(()=>{ce=Qa(Ue,"beforeRouteUpdate",j,me);for(const S of Ue)S.updateGuards.forEach(F=>{ce.push(An(F,j,me))});return ce.push(w),Je(ce)}).then(()=>{ce=[];for(const S of b)if(S.beforeEnter)if(Jt(S.beforeEnter))for(const F of S.beforeEnter)ce.push(An(F,j,me));else ce.push(An(S.beforeEnter,j,me));return ce.push(w),Je(ce)}).then(()=>(j.matched.forEach(S=>S.enterCallbacks={}),ce=Qa(b,"beforeRouteEnter",j,me,L),ce.push(w),Je(ce))).then(()=>{ce=[];for(const S of r.list())ce.push(An(S,j,me));return ce.push(w),Je(ce)}).catch(S=>pn(S,8)?S:Promise.reject(S))}function P(j,me,ce){l.list().forEach(we=>L(()=>we(j,me,ce)))}function D(j,me,ce,we,Ue){const b=E(j,me);if(b)return b;const w=me===$n,S=ho?history.state:{};ce&&(we||w?a.replace(j.fullPath,je({scroll:w&&S&&S.scroll},Ue)):a.push(j.fullPath,Ue)),c.value=j,re(j,me,ce,w),A()}let k;function V(){k||(k=a.listen((j,me,ce)=>{if(!ge.listening)return;const we=_(j),Ue=ie(we);if(Ue){pe(je(Ue,{replace:!0,force:!0}),we).catch(Qo);return}u=we;const b=c.value;ho&&Am(tl(b.fullPath,ce.delta),Ha()),T(we,b).catch(w=>pn(w,12)?w:pn(w,2)?(pe(je(M(w.to),{force:!0}),we).then(S=>{pn(S,20)&&!ce.delta&&ce.type===ps.pop&&a.go(-1,!1)}).catch(Qo),Promise.reject()):(ce.delta&&a.go(-ce.delta,!1),ve(w,we,b))).then(w=>{w=w||D(we,b,!1),w&&(ce.delta&&!pn(w,8)?a.go(-ce.delta,!1):ce.type===ps.pop&&pn(w,20)&&a.go(-1,!1)),P(we,b,w)}).catch(Qo)}))}let be=No(),X=No(),K;function ve(j,me,ce){A(j);const we=X.list();return we.length?we.forEach(Ue=>Ue(j,me,ce)):console.error(j),Promise.reject(j)}function q(){return K&&c.value!==$n?Promise.resolve():new Promise((j,me)=>{be.add([j,me])})}function A(j){return K||(K=!j,V(),be.list().forEach(([me,ce])=>j?ce(j):me()),be.reset()),j}function re(j,me,ce,we){const{scrollBehavior:Ue}=e;if(!ho||!Ue)return Promise.resolve();const b=!ce&&Hm(tl(j.fullPath,0))||(we||!ce)&&history.state&&history.state.scroll||null;return ao().then(()=>Ue(j,me,b)).then(w=>w&&Tm(w)).catch(w=>ve(w,j,me))}const J=j=>a.go(j);let R;const te=new Set,ge={currentRoute:c,listening:!0,addRoute:h,removeRoute:$,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:y,resolve:_,options:e,push:H,replace:N,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:i.add,beforeResolve:r.add,afterEach:l.add,onError:X.add,isReady:q,install(j){const me=this;j.component("RouterLink",th),j.component("RouterView",ah),j.config.globalProperties.$router=me,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(c)}),ho&&!R&&c.value===$n&&(R=!0,H(a.location).catch(Ue=>{}));const ce={};for(const Ue in $n)Object.defineProperty(ce,Ue,{get:()=>c.value[Ue],enumerable:!0});j.provide(Pa,me),j.provide(fu,cc(ce)),j.provide(Si,c);const we=j.unmount;te.add(j),j.unmount=function(){te.delete(j),te.size<1&&(u=$n,k&&k(),k=null,c.value=$n,R=!1,K=!1),we()}}};function Je(j){return j.reduce((me,ce)=>me.then(()=>L(ce)),Promise.resolve())}return ge}function rh(e,t){const n=[],o=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let r=0;r<i;r++){const l=t.matched[r];l&&(e.matched.find(u=>So(u,l))?o.push(l):n.push(l));const c=e.matched[r];c&&(t.matched.find(u=>So(u,c))||a.push(c))}return[n,o,a]}function bs(){return Yt(Pa)}const dt=[];for(let e=0;e<256;++e)dt.push((e+256).toString(16).slice(1));function lh(e,t=0){return(dt[e[t+0]]+dt[e[t+1]]+dt[e[t+2]]+dt[e[t+3]]+"-"+dt[e[t+4]]+dt[e[t+5]]+"-"+dt[e[t+6]]+dt[e[t+7]]+"-"+dt[e[t+8]]+dt[e[t+9]]+"-"+dt[e[t+10]]+dt[e[t+11]]+dt[e[t+12]]+dt[e[t+13]]+dt[e[t+14]]+dt[e[t+15]]).toLowerCase()}let Za;const ch=new Uint8Array(16);function uh(){if(!Za){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Za=crypto.getRandomValues.bind(crypto)}return Za(ch)}const dh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gl={randomUUID:dh};function fh(e,t,n){var a;e=e||{};const o=e.random??((a=e.rng)==null?void 0:a.call(e))??uh();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,lh(o)}function nt(e,t,n){return gl.randomUUID?gl.randomUUID():fh(e)}const st=Un("account",{state:()=>({accountData:{version:2,characters:[],activeCharacterId:null,dm:null,players:null,characterFolds:null,diceHistory:null,dmTodoItems:null,dmCollapsedCharacters:null},migrationCompleted:!1,isLoading:!0}),getters:{characters:e=>e.accountData.characters,isDataLoading:e=>e.isLoading},actions:{loadInitialData(){try{const e=localStorage.getItem("dnd-account-data");let t,n=!1;if(e){t=JSON.parse(e);const o=!t.characters||t.characters.length===0,a=localStorage.getItem("dnd-character-data")!==null;o&&a&&(n=!0)}else n=!0;if(n){const o=this._migrateDataFromLegacyLocalStorage();o&&(t=o,this.clearOldLocalStorageData(),console.log("Datos antiguos de localStorage cargados para migracin."))}t&&(!t.version||t.version<2?(this.accountData=this._migrateV1toV2(t),console.log("Migracin de V1 a V2 completada."),this.saveDataToLocalStorage()):this.accountData=t)}catch(e){console.error("Error al cargar o migrar los datos. Empezando con un estado limpio.",e),localStorage.removeItem("dnd-account-data")}finally{this.migrationCompleted=!0,this.isLoading=!1}},_migrateV1toV2(e){const t={version:2,characters:[],activeCharacterId:null,dm:e.dm||null,players:e.players||null,characterFolds:e.characterFolds||null,diceHistory:e.diceHistory||null,dmTodoItems:e.dmTodoItems||null,dmCollapsedCharacters:e.dmCollapsedCharacters||null};if(e.character){const n=nt();let o=[],a={rule:"default",characterLevel:1};e.attacks&&(Array.isArray(e.attacks)?o=e.attacks:(o=e.attacks.attacks||[],e.attacks.criticalHit&&(a=e.attacks.criticalHit))),console.log(" Normalizando ataques. Total:",o.length),o=o.map((r,l)=>{var f;console.log(` Ataque ${l+1} (${r.name}):`,{tieneId:!!r.id,tieneRerollDice:!!r.rerollDice,tieneLifeStealAntiguo:!!r.lifeSteal,damageRollsCount:((f=r.damageRolls)==null?void 0:f.length)||0});const c=r.lifeSteal&&r.lifeSteal.percentage>0?r.lifeSteal.percentage:0;c>0&&console.log(`   Migrando lifeSteal antiguo (${c}%) a damageRolls`);const u={...r,id:r.id||nt(),rerollDice:r.rerollDice||[],damageRolls:(r.damageRolls||[]).map(p=>({...p,lifeSteal:p.lifeSteal||{percentage:c}}))};return delete u.lifeSteal,console.log("   Ataque normalizado:",{id:u.id,rerollDiceCount:u.rerollDice.length,damageRollsWithLifeSteal:u.damageRolls.filter(p=>{var m;return((m=p.lifeSteal)==null?void 0:m.percentage)>0}).length}),u}),console.log(" Normalizacin de ataques completada"),e.criticalHitConfig&&(!e.attacks||!e.attacks.criticalHit)&&(a=e.criticalHitConfig);const i={id:n,characterData:e.character,attacks:o,criticalHit:a,passiveDamages:e.passiveDamages||[],counters:e.counters?e.counters.counters:[],characterState:e.counters?e.counters.states:[]};t.characters.push(i),t.activeCharacterId=n}return t},_migrateDataFromLegacyLocalStorage(){const e=a=>{const i=localStorage.getItem(a);try{return i?JSON.parse(i):null}catch(r){return console.error(`Error parsing ${a} from localStorage:`,r),null}},t=e("dnd-character-data");if(!t)return null;const n=e("dnd-attacks-data");return console.log(" Migrando datos antiguos de localStorage"),console.log(" Ataques encontrados en dnd-attacks-data:",n),{version:1,character:t,dm:e("dnd-dm-data"),players:e("dnd-player-data"),attacks:n,criticalHitConfig:e("dnd-critical-hit-config"),passiveDamages:e("dnd-passive-damages-data"),counters:{counters:e("dnd-counters"),states:e("dnd-states")},characterFolds:e("dnd-character-folds"),diceHistory:e("dice-roller-history"),dmTodoItems:e("dnd-todo-items"),dmCollapsedCharacters:e("collapsedCharacters")}},clearOldLocalStorageData(){localStorage.removeItem("dnd-character-data"),localStorage.removeItem("dnd-dm-data"),localStorage.removeItem("dnd-player-data"),localStorage.removeItem("dnd-attacks-data"),localStorage.removeItem("dnd-passive-damages-data"),localStorage.removeItem("dnd-counters"),localStorage.removeItem("dnd-states"),localStorage.removeItem("a_very_long_list_of_items_that_is_used_now_in_the_new_version"),localStorage.removeItem("dnd-character-folds"),localStorage.removeItem("dice-roller-history"),localStorage.removeItem("dnd-todo-items"),localStorage.removeItem("collapsedCharacters"),localStorage.removeItem("dnd-critical-hit-config")},saveDataToLocalStorage(){localStorage.setItem("dnd-account-data",JSON.stringify(this.accountData))},updateSection(e,t){this.accountData.hasOwnProperty(e)?(this.accountData[e]=t,this.saveDataToLocalStorage()):console.warn(`La clave '${e}' no existe en accountData.`)},getSection(e){return this.accountData[e]},exportData(){return JSON.stringify(this.accountData,null,2)},importData(e){try{const t=JSON.parse(e);return t&&typeof t=="object"&&"version"in t?(this.accountData=t,this.saveDataToLocalStorage(),window.location.reload(),{success:!0}):{success:!1,error:"El archivo no tiene el formato esperado."}}catch(t){return console.error("Error importando datos:",t),{success:!1,error:"El archivo JSON no es vlido."}}},clearAllData(){this.$reset(),localStorage.removeItem("dnd-account-data"),this.clearOldLocalStorageData(),window.location.reload()}}}),ut=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},ph={class:"home-container fade-in"},mh={class:"welcome-card"},hh={key:0,class:"loading-spinner"},gh={key:1,class:"welcome-content"},vh={class:"action-buttons"},bh={__name:"HomeView",setup(e){const t=bs(),n=st(),o=Le(()=>n.characters),a=Le(()=>n.isDataLoading),i=Le(()=>o.value&&o.value.length>0),r=()=>{t.push("/config")},l=()=>{t.push("/character-manager")},c=()=>{t.push("/dm")};return(u,f)=>(C(),x("div",ph,[s("div",mh,[f[5]||(f[5]=s("h1",{class:"welcome-title"}," D&D Life Tracker",-1)),f[6]||(f[6]=s("p",{class:"welcome-subtitle"},"Control de vida para personajes de Dungeons & Dragons",-1)),a.value?(C(),x("div",hh,f[0]||(f[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"Cargando...",-1)]))):(C(),x("div",gh,[f[4]||(f[4]=Ln('<div class="feature-list" data-v-e90a96d5><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Control de vida mxima y actual</span></div><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Vida temporal que se consume primero</span></div><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Regeneracin pasiva por turno</span></div><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Panel del DM para gestionar mltiples personajes</span></div></div>',1)),s("div",vh,[s("button",{onClick:r,class:"btn btn-primary"},f[1]||(f[1]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Crear Nuevo Personaje",-1)])),i.value?(C(),x("button",{key:0,onClick:l,class:"btn btn-secondary"},f[2]||(f[2]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Gestionar Personajes",-1)]))):se("",!0),s("button",{onClick:c,class:"btn btn-success"},f[3]||(f[3]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Panel del DM",-1)]))])]))])]))}},wh=ut(bh,[["__scopeId","data-v-e90a96d5"]]),Us=Un("passiveDamage",{state:()=>({passiveDamages:[]}),actions:{loadData(){const e=st(),t=e.accountData.activeCharacterId;if(!t){this.passiveDamages=[];return}const n=e.accountData.characters.find(o=>o.id===t);n&&n.passiveDamages?this.passiveDamages=n.passiveDamages.map(o=>({...o,id:o.id||nt(),duration:o.duration!==void 0?o.duration:0,damageRolls:o.damageRolls||[]})):this.passiveDamages=[]},saveData(){const e=st(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);n!==-1&&(e.accountData.characters[n].passiveDamages=this.passiveDamages,e.saveDataToLocalStorage())},addPassiveDamage(e){const t={...e,id:nt()};this.passiveDamages.push(t),this.saveData()},updatePassiveDamage(e){const t=this.passiveDamages.findIndex(n=>n.id===e.id);t!==-1&&(this.passiveDamages[t]=e,this.saveData())},duplicatePassiveDamage(e){const t=this.passiveDamages.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=nt(),n.name=`${t.name} (Copia)`;const o=this.passiveDamages.findIndex(a=>a.id===e);this.passiveDamages.splice(o+1,0,n),this.saveData()}},deletePassiveDamage(e){this.passiveDamages=this.passiveDamages.filter(t=>t.id!==e),this.saveData()},decrementDurations(){let e=!1;this.passiveDamages.forEach(n=>{n.duration>0&&(n.duration--,e=!0)});const t=this.passiveDamages.length;this.passiveDamages=this.passiveDamages.filter(n=>n.duration!==0),(e||this.passiveDamages.length!==t)&&this.saveData()}}});function yh(e,t,n){let o=0;for(let a=0;a<e;a++)o+=Math.floor(Math.random()*t)+1;return o+n}const oo=[{id:"bludgeoning",name:"Contundente",color:"#a1887f"},{id:"piercing",name:"Perforante",color:"#757575"},{id:"slashing",name:"Cortante",color:"#bdbdbd"},{id:"acid",name:"cido",color:"#8bc34a"},{id:"cold",name:"Fro",color:"#26c6da"},{id:"fire",name:"Fuego",color:"#ff7043"},{id:"force",name:"Fuerza",color:"#ab47bc"},{id:"lightning",name:"Elctrico",color:"#ffca28"},{id:"necrotic",name:"Necrtico",color:"#546e7a"},{id:"poison",name:"Veneno",color:"#66bb6a"},{id:"psychic",name:"Psquico",color:"#ec407a"},{id:"radiant",name:"Radiante",color:"#ffee58"},{id:"thunder",name:"Trueno",color:"#7e57c2"}],pu=e=>{const t=oo.find(n=>n.id===e);return t?t.color:"#ffffff"},mu=Un("attack",{state:()=>({attacks:[],criticalHit:{rule:"default",characterLevel:1}}),actions:{loadData(){const e=st(),t=e.accountData.activeCharacterId;if(!t){this.attacks=[],this.criticalHit={rule:"default",characterLevel:1};return}const n=e.accountData.characters.find(o=>o.id===t);n?(this.attacks=(n.attacks||[]).map(o=>({...o,id:o.id||nt(),rerollDice:o.rerollDice||[],damageRolls:(o.damageRolls||[]).map(a=>({...a,lifeSteal:a.lifeSteal||{percentage:0}}))})),this.criticalHit=n.criticalHit||{rule:"default",characterLevel:1}):(this.attacks=[],this.criticalHit={rule:"default",characterLevel:1})},saveData(){const e=st(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);n!==-1&&(e.accountData.characters[n].attacks=this.attacks,e.accountData.characters[n].criticalHit=this.criticalHit,e.saveDataToLocalStorage())},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveData()},addAttack(e){const t={...e,id:nt()};this.attacks.push(t),this.saveData()},updateAttack(e){const t=this.attacks.findIndex(n=>n.id===e.id);t!==-1&&(this.attacks[t]=e,this.saveData())},duplicateAttack(e){const t=this.attacks.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=nt(),n.name=`${t.name} (Copia)`;const o=this.attacks.findIndex(a=>a.id===e);this.attacks.splice(o+1,0,n),this.saveData()}},deleteAttack(e){this.attacks=this.attacks.filter(t=>t.id!==e),this.saveData()},getAttackById(e){return this.attacks.find(t=>t.id===e)},updateAttackOrder(e){this.attacks=e.map(t=>this.attacks.find(n=>n.id===t)).filter(Boolean),this.saveData()}}}),ws=Un("characterState",()=>{const e=Z([]),t=ys();function n(){const c=st(),u=c.accountData.activeCharacterId;if(!u)return;const f=c.accountData.characters.findIndex(p=>p.id===u);f!==-1&&(c.accountData.characters[f].characterState=e.value,c.saveDataToLocalStorage())}function o(){const c=st(),u=c.accountData.activeCharacterId;if(!u){e.value=[];return}const f=c.accountData.characters.find(p=>p.id===u);e.value=f&&Array.isArray(f.characterState)?f.characterState:[]}function a({name:c,linkedCounterId:u,discountOnActivate:f,discountType:p}){e.value.push({id:nt(),name:c,linkedCounterId:u||null,discountOnActivate:f||0,discountType:p||"resta",active:!1}),n()}function i(c){const u=e.value.find(f=>f.id===c);if(u){if(u.active=!u.active,u.active&&u.linkedCounterId){const f=Math.abs(u.discountOnActivate||1),p=u.discountType==="suma"?f:-f;t.updateCounterValue(u.linkedCounterId,p)}n()}}function r(c){e.value=e.value.filter(u=>u.id!==c),n()}function l(){e.value.forEach(c=>{c.active=!1}),n()}return{states:e,loadData:o,addState:a,removeState:r,toggleStateActive:i,resetStatesOnRest:l}}),ys=Un("counter",()=>{const e=Z([]);function t(){const c=st(),u=c.accountData.activeCharacterId;if(!u)return;const f=c.accountData.characters.findIndex(p=>p.id===u);f!==-1&&(c.accountData.characters[f].counters=e.value,c.saveDataToLocalStorage())}function n(){const c=st(),u=c.accountData.activeCharacterId;if(!u){e.value=[];return}const f=c.accountData.characters.find(p=>p.id===u);e.value=f&&Array.isArray(f.counters)?f.counters:[]}function o({name:c,initial:u,min:f,max:p,buttons:m,shortRest:h=0,longRest:$=0}){e.value.push({id:nt(),name:c,value:u,min:f,max:p,shortRest:h,shortRestReset:arguments[0].shortRestReset||!1,longRest:$,longRestReset:arguments[0].longRestReset||!1,buttons:m||[{label:"+1",increment:1},{label:"-1",increment:-1}]}),t()}function a(c,u){const f=e.value.find(m=>m.id===c);if(!f)return;let p=f.value+u;f.max!==void 0&&(p=Math.min(p,f.max)),f.min!==void 0&&(p=Math.max(p,f.min)),f.value=p,t()}function i(c){const u=e.value.find(f=>f.id===c);u&&u.max!==void 0&&(u.value=u.max,t())}function r(c){e.value=e.value.filter(u=>u.id!==c),t()}function l(c="short"){e.value.forEach(f=>{const p=c==="short"?"shortRest":"longRest";f[c==="short"?"shortRestReset":"longRestReset"]?f.value=f[p]:typeof f[p]=="number"&&(f.value=Math.min(f.max,f.value+f[p]))}),t(),ws().resetStatesOnRest()}return{counters:e,loadData:n,addCounter:o,updateCounterValue:a,setCounterToMax:i,removeCounter:r,regenerateCountersByRest:l}}),io=Un("character",{state:()=>({character:{name:"",maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},turn:{current:0,isActive:!1},logs:[]}),getters:{hpPercentage:e=>e.character.maxHp===0?0:e.character.currentHp/e.character.maxHp*100,tempHpPercentage:e=>e.character.maxHp===0?0:e.character.tempHp/e.character.maxHp*100,hpBarColor:e=>{const t=e.character.currentHp/e.character.maxHp*100;return t>75?"success":t>50?"warning":t>25?"danger":"dark"},isAlive:e=>e.character.currentHp>0,hasTempHp:e=>e.character.tempHp>0,totalHp:e=>e.character.currentHp+e.character.tempHp,logsByTurn:e=>{const t={};return e.logs.forEach(n=>{t[n.turn]||(t[n.turn]=[]),t[n.turn].push(n)}),t},currentTurnLogs:e=>e.logs.filter(t=>t.turn===e.turn.current)},actions:{addLog(e,t,n=null){const o={id:nt(),timestamp:new Date().toLocaleTimeString(),turn:n!==null?n:this.turn.current,action:e,details:t,hpBefore:this.character.currentHp,hpAfter:this.character.currentHp,tempHpBefore:this.character.tempHp,tempHpAfter:this.character.tempHp};this.logs.unshift(o),this.logs.length>100&&(this.logs.length=100)},configureCharacter(e,t,n=0){this.character.name=e,this.character.maxHp=t,this.character.originalMaxHp=t,this.character.currentHp=t,this.character.tempHp=0,this.character.regeneration=n,this.character.isConfigured=!0,this.addLog("Configuracin",`${e} configurado con ${t} HP mximo${n>0?` y regeneracin de ${n} HP/turno`:""}`,0),this.saveData()},startTurn(){if(this.turn.current++,this.turn.isActive=!0,this.addLog("Inicio de Turno",`Turno ${this.turn.current} iniciado`,this.turn.current),this.character.regeneration>0){const o=this.character.currentHp,a=this.character.maxHp;let i=0;if(this.character.maxHp<this.character.originalMaxHp){const c=this.character.originalMaxHp-this.character.maxHp,u=Math.min(this.character.regeneration,c);u>0&&(this.character.maxHp=Math.min(this.character.originalMaxHp,this.character.maxHp+u),i=this.character.maxHp-a)}this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+this.character.regeneration);const r=this.character.currentHp-o;let l="";i>0&&r>0?l=`+${r} HP (${o}  ${this.character.currentHp}) | HP mximo restaurado: +${i} (${a}  ${this.character.maxHp})`:i>0?l=`HP mximo restaurado: +${i} (${a}  ${this.character.maxHp})`:r>0&&(l=`+${r} HP (${o}  ${this.character.currentHp})`),l&&this.addLog("Regeneracin Automtica",l)}const e=Us();e.loadData();let t=0;const n=[];return e.passiveDamages.forEach(o=>{if(o.duration===0||o.duration>0){let a=0,i=[];if(o.damageRolls.forEach(r=>{const l=yh(r.numDice,r.diceType,r.bonus);a+=l;const c=oo.find(u=>u.id===r.type);i.push(c?c.name:r.type)}),a>0){t+=a;const r=i.join(", ");n.push({name:o.name,damage:a,details:r})}}}),this.saveData(),t>0?{totalDamage:t,damageDetails:n}:null},applyPassiveDamage(e,t){this.takeDamage(e,!1);const n=t.map(o=>`${o.damage} por ${o.name}`).join("; ");this.addLog("Dao Pasivo",`-${e} HP en total. Desglose: ${n}`)},endTurn(){this.turn.isActive=!1,Us().decrementDurations(),this.addLog("Fin de Turno",`Turno ${this.turn.current} finalizado`,this.turn.current),this.saveData()},heal(e,t=!1){const n=this.character.currentHp;this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+e);const o=this.character.currentHp-n;if(o>0){const a=t?"Regeneracin Automtica":"Curacin";this.addLog(a,`+${o} HP (${n}  ${this.character.currentHp})`)}return n!==this.character.currentHp&&this.saveData(),o},addTempHp(e){const t=this.character.tempHp;this.character.tempHp+=e,this.addLog("Vida Temporal",`+${e} HP temporal (${t}  ${this.character.tempHp})`),this.saveData()},takeDamage(e,t=!1){let n=e;const o=this.character.currentHp,a=this.character.tempHp,i=this.character.maxHp;if(this.character.tempHp>0){const l=Math.min(n,this.character.tempHp);this.character.tempHp-=l,n-=l}n>0&&(this.character.currentHp=Math.max(0,this.character.currentHp-n),t&&(this.character.maxHp=Math.max(1,this.character.maxHp-n)));let r=`-${e} HP${t?" (Necro)":""}`;a>0&&(r+=` | Temp HP: ${a}  ${this.character.tempHp}`),r+=` | HP: ${o}  ${this.character.currentHp}`,t&&i!==this.character.maxHp&&(r+=` | Max HP: ${i}  ${this.character.maxHp}`),this.addLog("Dao Recibido",r),this.saveData()},resetToMaxHp(){const e=this.character.currentHp,t=this.character.tempHp,n=this.character.maxHp;this.character.currentHp=this.character.originalMaxHp,this.character.maxHp=this.character.originalMaxHp,this.character.tempHp=0,this.addLog("Reset HP",`HP restaurado (${e}  ${this.character.originalMaxHp}), Max HP restaurado (${n}  ${this.character.originalMaxHp}), Temp HP eliminado (${t}  0)`),this.saveData()},revive(e=1){if(this.character.currentHp<=0){const t=this.character.currentHp;return this.character.currentHp=Math.min(parseInt(e)||1,this.character.maxHp),this.character.tempHp=0,this.addLog("Revivir",`Personaje revivido (${t}  ${this.character.currentHp} HP)`),this.saveData(),!0}return!1},resetTurn(){const e=this.turn.current;this.turn.current=0,this.turn.isActive=!1,this.addLog("Reset Turno",`Contador de turnos reiniciado (${e}  0)`),this.saveData()},clearLogs(){this.logs=[]},clearAllLogs(){this.logs=[],this.saveData()},saveData(){const e=st(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);if(n!==-1){const o={character:this.character,turn:this.turn,logs:this.logs};e.accountData.characters[n].characterData=o,e.saveDataToLocalStorage()}},loadData(){const e=st(),t=e.accountData.activeCharacterId;if(!t){this._clearLocalState();return}const n=e.accountData.characters.find(o=>o.id===t);if(n&&n.characterData){const o=n.characterData;this.character={...this.character,...o.character},this.character.originalMaxHp===void 0&&(this.character.originalMaxHp=this.character.maxHp),this.turn={...this.turn,...o.turn},this.logs=o.logs||[]}else this._clearLocalState()},setActiveCharacter(e){const t=st();t.accountData.activeCharacterId=e,t.saveDataToLocalStorage(),this.loadAllCharacterData()},loadAllCharacterData(){this.loadData(),mu().loadData(),Us().loadData(),ys().loadData(),ws().loadData()},_clearLocalState(){this.character={name:"",maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},this.turn={current:0,isActive:!1},this.clearLogs()},clearData(){this._clearLocalState(),this.saveData()}}});/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function hu(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Ch(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vl(e,t){return e.get(hu(e,t))}function xh(e,t,n){Ch(e,t),t.set(e,n)}function kh(e,t,n){return e.set(hu(e,t),n),n}const _h=100,Ce={},$h=()=>{Ce.previousActiveElement instanceof HTMLElement?(Ce.previousActiveElement.focus(),Ce.previousActiveElement=null):document.body&&document.body.focus()},Sh=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,o=window.scrollY;Ce.restoreFocusTimeout=setTimeout(()=>{$h(),t()},_h),window.scrollTo(n,o)}),gu="swal2-",Dh=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],O=Dh.reduce((e,t)=>(e[t]=gu+t,e),{}),Eh=["success","warning","info","question","error"],aa=Eh.reduce((e,t)=>(e[t]=gu+t,e),{}),vu="SweetAlert2:",er=e=>e.charAt(0).toUpperCase()+e.slice(1),Dt=e=>{console.warn(`${vu} ${typeof e=="object"?e.join(" "):e}`)},ro=e=>{console.error(`${vu} ${e}`)},bl=[],Th=e=>{bl.includes(e)||(bl.push(e),Dt(e))},bu=(e,t=null)=>{Th(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Ia=e=>typeof e=="function"?e():e,tr=e=>e&&typeof e.toPromise=="function",Cs=e=>tr(e)?e.toPromise():Promise.resolve(e),nr=e=>e&&Promise.resolve(e)===e,Et=()=>document.body.querySelector(`.${O.container}`),xs=e=>{const t=Et();return t?t.querySelector(e):null},Nt=e=>xs(`.${e}`),Be=()=>Nt(O.popup),Po=()=>Nt(O.icon),Ah=()=>Nt(O["icon-content"]),wu=()=>Nt(O.title),or=()=>Nt(O["html-container"]),yu=()=>Nt(O.image),sr=()=>Nt(O["progress-steps"]),Ra=()=>Nt(O["validation-message"]),un=()=>xs(`.${O.actions} .${O.confirm}`),Io=()=>xs(`.${O.actions} .${O.cancel}`),lo=()=>xs(`.${O.actions} .${O.deny}`),Hh=()=>Nt(O["input-label"]),Ro=()=>xs(`.${O.loader}`),ks=()=>Nt(O.actions),Cu=()=>Nt(O.footer),Oa=()=>Nt(O["timer-progress-bar"]),ar=()=>Nt(O.close),Ph=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ir=()=>{const e=Be();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((i,r)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(r.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),o=e.querySelectorAll(Ph),a=Array.from(o).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(a))].filter(i=>It(i))},rr=()=>yn(document.body,O.shown)&&!yn(document.body,O["toast-shown"])&&!yn(document.body,O["no-backdrop"]),Ma=()=>{const e=Be();return e?yn(e,O.toast):!1},Ih=()=>{const e=Be();return e?e.hasAttribute("data-loading"):!1},Vt=(e,t)=>{if(e.textContent="",t){const o=new DOMParser().parseFromString(t,"text/html"),a=o.querySelector("head");a&&Array.from(a.childNodes).forEach(r=>{e.appendChild(r)});const i=o.querySelector("body");i&&Array.from(i.childNodes).forEach(r=>{r instanceof HTMLVideoElement||r instanceof HTMLAudioElement?e.appendChild(r.cloneNode(!0)):e.appendChild(r)})}},yn=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let o=0;o<n.length;o++)if(!e.classList.contains(n[o]))return!1;return!0},Rh=(e,t)=>{Array.from(e.classList).forEach(n=>{!Object.values(O).includes(n)&&!Object.values(aa).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&e.classList.remove(n)})},Lt=(e,t,n)=>{if(Rh(e,t),!t.customClass)return;const o=t.customClass[n];if(o){if(typeof o!="string"&&!o.forEach){Dt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof o}"`);return}Ne(e,o)}},Ba=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${O.popup} > .${O[t]}`);case"checkbox":return e.querySelector(`.${O.popup} > .${O.checkbox} input`);case"radio":return e.querySelector(`.${O.popup} > .${O.radio} input:checked`)||e.querySelector(`.${O.popup} > .${O.radio} input:first-child`);case"range":return e.querySelector(`.${O.popup} > .${O.range} input`);default:return e.querySelector(`.${O.popup} > .${O.input}`)}},xu=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},ku=(e,t,n)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(o=>{Array.isArray(e)?e.forEach(a=>{n?a.classList.add(o):a.classList.remove(o)}):n?e.classList.add(o):e.classList.remove(o)}))},Ne=(e,t)=>{ku(e,t,!0)},Wt=(e,t)=>{ku(e,t,!1)},Rn=(e,t)=>{const n=Array.from(e.children);for(let o=0;o<n.length;o++){const a=n[o];if(a instanceof HTMLElement&&yn(a,t))return a}},Zn=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?e.style.setProperty(t,typeof n=="number"?`${n}px`:n):e.style.removeProperty(t)},ct=(e,t="flex")=>{e&&(e.style.display=t)},yt=e=>{e&&(e.style.display="none")},lr=(e,t="block")=>{e&&new MutationObserver(()=>{_s(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},wl=(e,t,n,o)=>{const a=e.querySelector(t);a&&a.style.setProperty(n,o)},_s=(e,t,n="flex")=>{t?ct(e,n):yt(e)},It=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),Oh=()=>!It(un())&&!It(lo())&&!It(Io()),Di=e=>e.scrollHeight>e.clientHeight,Mh=(e,t)=>{let n=e;for(;n&&n!==t;){if(Di(n))return!0;n=n.parentElement}return!1},_u=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},cr=(e,t=!1)=>{const n=Oa();n&&It(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},Bh=()=>{const e=Oa();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),o=t/n*100;e.style.width=`${o}%`},Lh=()=>typeof window>"u"||typeof document>"u",Nh=`
 <div aria-labelledby="${O.title}" aria-describedby="${O["html-container"]}" class="${O.popup}" tabindex="-1">
   <button type="button" class="${O.close}"></button>
   <ul class="${O["progress-steps"]}"></ul>
   <div class="${O.icon}"></div>
   <img class="${O.image}" />
   <h2 class="${O.title}" id="${O.title}"></h2>
   <div class="${O["html-container"]}" id="${O["html-container"]}"></div>
   <input class="${O.input}" id="${O.input}" />
   <input type="file" class="${O.file}" />
   <div class="${O.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${O.select}" id="${O.select}"></select>
   <div class="${O.radio}"></div>
   <label class="${O.checkbox}">
     <input type="checkbox" id="${O.checkbox}" />
     <span class="${O.label}"></span>
   </label>
   <textarea class="${O.textarea}" id="${O.textarea}"></textarea>
   <div class="${O["validation-message"]}" id="${O["validation-message"]}"></div>
   <div class="${O.actions}">
     <div class="${O.loader}"></div>
     <button type="button" class="${O.confirm}"></button>
     <button type="button" class="${O.deny}"></button>
     <button type="button" class="${O.cancel}"></button>
   </div>
   <div class="${O.footer}"></div>
   <div class="${O["timer-progress-bar-container"]}">
     <div class="${O["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Vh=()=>{const e=Et();return e?(e.remove(),Wt([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0):!1},Wn=()=>{Ce.currentInstance.resetValidationMessage()},jh=()=>{const e=Be(),t=Rn(e,O.input),n=Rn(e,O.file),o=e.querySelector(`.${O.range} input`),a=e.querySelector(`.${O.range} output`),i=Rn(e,O.select),r=e.querySelector(`.${O.checkbox} input`),l=Rn(e,O.textarea);t.oninput=Wn,n.onchange=Wn,i.onchange=Wn,r.onchange=Wn,l.oninput=Wn,o.oninput=()=>{Wn(),a.value=o.value},o.onchange=()=>{Wn(),a.value=o.value}},Fh=e=>typeof e=="string"?document.querySelector(e):e,Uh=e=>{const t=Be();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},zh=e=>{window.getComputedStyle(e).direction==="rtl"&&Ne(Et(),O.rtl)},qh=e=>{const t=Vh();if(Lh()){ro("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=O.container,t&&Ne(n,O["no-transition"]),Vt(n,Nh),n.dataset.swal2Theme=e.theme;const o=Fh(e.target);o.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Uh(e),zh(o),jh()},ur=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?Wh(e,t):e&&Vt(t,e)},Wh=(e,t)=>{e.jquery?Kh(t,e):Vt(t,e.toString())},Kh=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Xh=(e,t)=>{const n=ks(),o=Ro();!n||!o||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?yt(n):ct(n),Lt(n,t,"actions"),Gh(n,o,t),Vt(o,t.loaderHtml||""),Lt(o,t,"loader"))};function Gh(e,t,n){const o=un(),a=lo(),i=Io();!o||!a||!i||(ti(o,"confirm",n),ti(a,"deny",n),ti(i,"cancel",n),Yh(o,a,i,n),n.reverseButtons&&(n.toast?(e.insertBefore(i,o),e.insertBefore(a,o)):(e.insertBefore(i,t),e.insertBefore(a,t),e.insertBefore(o,t))))}function Yh(e,t,n,o){if(!o.buttonsStyling){Wt([e,t,n],O.styled);return}Ne([e,t,n],O.styled),o.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor),o.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor),o.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor),ei(e),ei(t),ei(n)}function ei(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function ti(e,t,n){const o=er(t);_s(e,n[`show${o}Button`],"inline-block"),Vt(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=O[t],Lt(e,n,`${t}Button`)}const Jh=(e,t)=>{const n=ar();n&&(Vt(n,t.closeButtonHtml||""),Lt(n,t,"closeButton"),_s(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Qh=(e,t)=>{const n=Et();n&&(Zh(n,t.backdrop),eg(n,t.position),tg(n,t.grow),Lt(n,t,"container"))};function Zh(e,t){typeof t=="string"?e.style.background=t:t||Ne([document.documentElement,document.body],O["no-backdrop"])}function eg(e,t){t&&(t in O?Ne(e,O[t]):(Dt('The "position" parameter is not valid, defaulting to "center"'),Ne(e,O.center)))}function tg(e,t){t&&Ne(e,O[`grow-${t}`])}var Xe={innerParams:new WeakMap,domCache:new WeakMap};const ng=["input","file","range","select","radio","checkbox","textarea"],og=(e,t)=>{const n=Be();if(!n)return;const o=Xe.innerParams.get(e),a=!o||t.input!==o.input;ng.forEach(i=>{const r=Rn(n,O[i]);r&&(ig(i,t.inputAttributes),r.className=O[i],a&&yt(r))}),t.input&&(a&&sg(t),rg(t))},sg=e=>{if(!e.input)return;if(!ot[e.input]){ro(`Unexpected type of input! Expected ${Object.keys(ot).join(" | ")}, got "${e.input}"`);return}const t=$u(e.input);if(!t)return;const n=ot[e.input](t,e);ct(t),e.inputAutoFocus&&setTimeout(()=>{xu(n)})},ag=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},ig=(e,t)=>{const n=Be();if(!n)return;const o=Ba(n,e);if(o){ag(o);for(const a in t)o.setAttribute(a,t[a])}},rg=e=>{if(!e.input)return;const t=$u(e.input);t&&Lt(t,e,"input")},dr=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},$s=(e,t,n)=>{if(n.inputLabel){const o=document.createElement("label"),a=O["input-label"];o.setAttribute("for",e.id),o.className=a,typeof n.customClass=="object"&&Ne(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},$u=e=>{const t=Be();if(t)return Rn(t,O[e]||O.input)},ia=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:nr(t)||Dt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},ot={};ot.text=ot.email=ot.password=ot.number=ot.tel=ot.url=ot.search=ot.date=ot["datetime-local"]=ot.time=ot.week=ot.month=(e,t)=>(ia(e,t.inputValue),$s(e,e,t),dr(e,t),e.type=t.input,e);ot.file=(e,t)=>($s(e,e,t),dr(e,t),e);ot.range=(e,t)=>{const n=e.querySelector("input"),o=e.querySelector("output");return ia(n,t.inputValue),n.type=t.input,ia(o,t.inputValue),$s(n,e,t),e};ot.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Vt(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return $s(e,e,t),e};ot.radio=e=>(e.textContent="",e);ot.checkbox=(e,t)=>{const n=Ba(Be(),"checkbox");n.value="1",n.checked=!!t.inputValue;const o=e.querySelector("span");return Vt(o,t.inputPlaceholder||t.inputLabel),n};ot.textarea=(e,t)=>{ia(e,t.inputValue),dr(e,t),$s(e,e,t);const n=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(Be()).width),a=()=>{if(!document.body.contains(e))return;const i=e.offsetWidth+n(e);i>o?Be().style.width=`${i}px`:Zn(Be(),"width",t.width)};new MutationObserver(a).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const lg=(e,t)=>{const n=or();n&&(lr(n),Lt(n,t,"htmlContainer"),t.html?(ur(t.html,n),ct(n,"block")):t.text?(n.textContent=t.text,ct(n,"block")):yt(n),og(e,t))},cg=(e,t)=>{const n=Cu();n&&(lr(n),_s(n,t.footer,"block"),t.footer&&ur(t.footer,n),Lt(n,t,"footer"))},ug=(e,t)=>{const n=Xe.innerParams.get(e),o=Po();if(!o)return;if(n&&t.icon===n.icon){Cl(o,t),yl(o,t);return}if(!t.icon&&!t.iconHtml){yt(o);return}if(t.icon&&Object.keys(aa).indexOf(t.icon)===-1){ro(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),yt(o);return}ct(o),Cl(o,t),yl(o,t),Ne(o,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Su)},yl=(e,t)=>{for(const[n,o]of Object.entries(aa))t.icon!==n&&Wt(e,o);Ne(e,t.icon&&aa[t.icon]),pg(e,t),Su(),Lt(e,t,"icon")},Su=()=>{const e=Be();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<n.length;o++)n[o].style.backgroundColor=t},dg=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,fg=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Cl=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,o="";t.iconHtml?o=xl(t.iconHtml):t.icon==="success"?(o=dg(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?o=fg:t.icon&&(o=xl({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==o.trim()&&Vt(e,o)},pg=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])wl(e,n,"background-color",t.iconColor);wl(e,".swal2-success-ring","border-color",t.iconColor)}},xl=e=>`<div class="${O["icon-content"]}">${e}</div>`,mg=(e,t)=>{const n=yu();if(n){if(!t.imageUrl){yt(n);return}ct(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Zn(n,"width",t.imageWidth),Zn(n,"height",t.imageHeight),n.className=O.image,Lt(n,t,"image")}};let fr=!1,Du=0,Eu=0,Tu=0,Au=0;const hg=e=>{e.addEventListener("mousedown",ra),document.body.addEventListener("mousemove",la),e.addEventListener("mouseup",ca),e.addEventListener("touchstart",ra),document.body.addEventListener("touchmove",la),e.addEventListener("touchend",ca)},gg=e=>{e.removeEventListener("mousedown",ra),document.body.removeEventListener("mousemove",la),e.removeEventListener("mouseup",ca),e.removeEventListener("touchstart",ra),document.body.removeEventListener("touchmove",la),e.removeEventListener("touchend",ca)},ra=e=>{const t=Be();if(e.target===t||Po().contains(e.target)){fr=!0;const n=Hu(e);Du=n.clientX,Eu=n.clientY,Tu=parseInt(t.style.insetInlineStart)||0,Au=parseInt(t.style.insetBlockStart)||0,Ne(t,"swal2-dragging")}},la=e=>{const t=Be();if(fr){let{clientX:n,clientY:o}=Hu(e);t.style.insetInlineStart=`${Tu+(n-Du)}px`,t.style.insetBlockStart=`${Au+(o-Eu)}px`}},ca=()=>{const e=Be();fr=!1,Wt(e,"swal2-dragging")},Hu=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},vg=(e,t)=>{const n=Et(),o=Be();if(!(!n||!o)){if(t.toast){Zn(n,"width",t.width),o.style.width="100%";const a=Ro();a&&o.insertBefore(a,Po())}else Zn(o,"width",t.width);Zn(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),yt(Ra()),bg(o,t),t.draggable&&!t.toast?(Ne(o,O.draggable),hg(o)):(Wt(o,O.draggable),gg(o))}},bg=(e,t)=>{const n=t.showClass||{};e.className=`${O.popup} ${It(e)?n.popup:""}`,t.toast?(Ne([document.documentElement,document.body],O["toast-shown"]),Ne(e,O.toast)):Ne(e,O.modal),Lt(e,t,"popup"),typeof t.customClass=="string"&&Ne(e,t.customClass),t.icon&&Ne(e,O[`icon-${t.icon}`])},wg=(e,t)=>{const n=sr();if(!n)return;const{progressSteps:o,currentProgressStep:a}=t;if(!o||o.length===0||a===void 0){yt(n);return}ct(n),n.textContent="",a>=o.length&&Dt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((i,r)=>{const l=yg(i);if(n.appendChild(l),r===a&&Ne(l,O["active-progress-step"]),r!==o.length-1){const c=Cg(t);n.appendChild(c)}})},yg=e=>{const t=document.createElement("li");return Ne(t,O["progress-step"]),Vt(t,e),t},Cg=e=>{const t=document.createElement("li");return Ne(t,O["progress-step-line"]),e.progressStepsDistance&&Zn(t,"width",e.progressStepsDistance),t},xg=(e,t)=>{const n=wu();n&&(lr(n),_s(n,t.title||t.titleText,"block"),t.title&&ur(t.title,n),t.titleText&&(n.innerText=t.titleText),Lt(n,t,"title"))},Pu=(e,t)=>{vg(e,t),Qh(e,t),wg(e,t),ug(e,t),mg(e,t),xg(e,t),Jh(e,t),lg(e,t),Xh(e,t),cg(e,t);const n=Be();typeof t.didRender=="function"&&n&&t.didRender(n),Ce.eventEmitter.emit("didRender",n)},kg=()=>It(Be()),Iu=()=>{var e;return(e=un())===null||e===void 0?void 0:e.click()},_g=()=>{var e;return(e=lo())===null||e===void 0?void 0:e.click()},$g=()=>{var e;return(e=Io())===null||e===void 0?void 0:e.click()},Oo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ru=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Sg=(e,t,n)=>{Ru(e),t.toast||(e.keydownHandler=o=>Eg(t,o,n),e.keydownTarget=t.keydownListenerCapture?window:Be(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Ei=(e,t)=>{var n;const o=ir();if(o.length){e=e+t,e===-2&&(e=o.length-1),e===o.length?e=0:e===-1&&(e=o.length-1),o[e].focus();return}(n=Be())===null||n===void 0||n.focus()},Ou=["ArrowRight","ArrowDown"],Dg=["ArrowLeft","ArrowUp"],Eg=(e,t,n)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?Tg(t,e):t.key==="Tab"?Ag(t):[...Ou,...Dg].includes(t.key)?Hg(t.key):t.key==="Escape"&&Pg(t,e,n)))},Tg=(e,t)=>{if(!Ia(t.allowEnterKey))return;const n=Ba(Be(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Iu(),e.preventDefault()}},Ag=e=>{const t=e.target,n=ir();let o=-1;for(let a=0;a<n.length;a++)if(t===n[a]){o=a;break}e.shiftKey?Ei(o,-1):Ei(o,1),e.stopPropagation(),e.preventDefault()},Hg=e=>{const t=ks(),n=un(),o=lo(),a=Io();if(!t||!n||!o||!a)return;const i=[n,o,a];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const r=Ou.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<t.children.length;c++){if(l=l[r],!l)return;if(l instanceof HTMLButtonElement&&It(l))break}l instanceof HTMLButtonElement&&l.focus()}},Pg=(e,t,n)=>{e.preventDefault(),Ia(t.allowEscapeKey)&&n(Oo.esc)};var Eo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ig=()=>{const e=Et();Array.from(document.body.children).forEach(n=>{n.contains(e)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Mu=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Bu=typeof window<"u"&&!!window.GestureEvent,Rg=()=>{if(Bu&&!yn(document.body,O.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,Ne(document.body,O.iosfix),Og()}},Og=()=>{const e=Et();if(!e)return;let t;e.ontouchstart=n=>{t=Mg(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},Mg=e=>{const t=e.target,n=Et(),o=or();return!n||!o||Bg(e)||Lg(e)?!1:t===n||!Di(n)&&t instanceof HTMLElement&&!Mh(t,o)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Di(o)&&o.contains(t))},Bg=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",Lg=e=>e.touches&&e.touches.length>1,Ng=()=>{if(yn(document.body,O.iosfix)){const e=parseInt(document.body.style.top,10);Wt(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},Vg=()=>{const e=document.createElement("div");e.className=O["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Co=null;const jg=e=>{Co===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Co=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Co+Vg()}px`)},Fg=()=>{Co!==null&&(document.body.style.paddingRight=`${Co}px`,Co=null)};function Lu(e,t,n,o){Ma()?kl(e,o):(Sh(n).then(()=>kl(e,o)),Ru(Ce)),Bu?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),rr()&&(Fg(),Ng(),Mu()),Ug()}function Ug(){Wt([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}function On(e){e=qg(e);const t=Eo.swalPromiseResolve.get(this),n=zg(this);this.isAwaitingPromise?e.isDismissed||(Ss(this),t(e)):n&&t(e)}const zg=e=>{const t=Be();if(!t)return!1;const n=Xe.innerParams.get(e);if(!n||yn(t,n.hideClass.popup))return!1;Wt(t,n.showClass.popup),Ne(t,n.hideClass.popup);const o=Et();return Wt(o,n.showClass.backdrop),Ne(o,n.hideClass.backdrop),Wg(e,t,n),!0};function Nu(e){const t=Eo.swalPromiseReject.get(this);Ss(this),t&&t(e)}const Ss=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Xe.innerParams.get(e)||e._destroy())},qg=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Wg=(e,t,n)=>{var o;const a=Et(),i=_u(t);typeof n.willClose=="function"&&n.willClose(t),(o=Ce.eventEmitter)===null||o===void 0||o.emit("willClose",t),i?Kg(e,t,a,n.returnFocus,n.didClose):Lu(e,a,n.returnFocus,n.didClose)},Kg=(e,t,n,o,a)=>{Ce.swalCloseEventFinishedCallback=Lu.bind(null,e,n,o,a);const i=function(r){if(r.target===t){var l;(l=Ce.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Ce),delete Ce.swalCloseEventFinishedCallback,t.removeEventListener("animationend",i),t.removeEventListener("transitionend",i)}};t.addEventListener("animationend",i),t.addEventListener("transitionend",i)},kl=(e,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(e.params)(),(n=Ce.eventEmitter)===null||n===void 0||n.emit("didClose"),e._destroy&&e._destroy()})},To=e=>{let t=Be();if(t||new le,t=Be(),!t)return;const n=Ro();Ma()?yt(Po()):Xg(t,e),ct(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Xg=(e,t)=>{const n=ks(),o=Ro();!n||!o||(!t&&It(un())&&(t=un()),ct(n),t&&(yt(t),o.setAttribute("data-button-to-replace",t.className),n.insertBefore(o,t)),Ne([e,n],O.loading))},Gg=(e,t)=>{t.input==="select"||t.input==="radio"?ev(e,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(tr(t.inputValue)||nr(t.inputValue))&&(To(un()),tv(e,t))},Yg=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Jg(n);case"radio":return Qg(n);case"file":return Zg(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Jg=e=>e.checked?1:0,Qg=e=>e.checked?e.value:null,Zg=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,ev=(e,t)=>{const n=Be();if(!n)return;const o=a=>{t.input==="select"?nv(n,ua(a),t):t.input==="radio"&&ov(n,ua(a),t)};tr(t.inputOptions)||nr(t.inputOptions)?(To(un()),Cs(t.inputOptions).then(a=>{e.hideLoading(),o(a)})):typeof t.inputOptions=="object"?o(t.inputOptions):ro(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},tv=(e,t)=>{const n=e.getInput();n&&(yt(n),Cs(t.inputValue).then(o=>{n.value=t.input==="number"?`${parseFloat(o)||0}`:`${o}`,ct(n),n.focus(),e.hideLoading()}).catch(o=>{ro(`Error in inputValue promise: ${o}`),n.value="",ct(n),n.focus(),e.hideLoading()}))};function nv(e,t,n){const o=Rn(e,O.select);if(!o)return;const a=(i,r,l)=>{const c=document.createElement("option");c.value=l,Vt(c,r),c.selected=Vu(l,n.inputValue),i.appendChild(c)};t.forEach(i=>{const r=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=r,c.disabled=!1,o.appendChild(c),l.forEach(u=>a(c,u[1],u[0]))}else a(o,l,r)}),o.focus()}function ov(e,t,n){const o=Rn(e,O.radio);if(!o)return;t.forEach(i=>{const r=i[0],l=i[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=O.radio,c.value=r,Vu(r,n.inputValue)&&(c.checked=!0);const f=document.createElement("span");Vt(f,l),f.className=O.label,u.appendChild(c),u.appendChild(f),o.appendChild(u)});const a=o.querySelectorAll("input");a.length&&a[0].focus()}const ua=e=>{const t=[];return e instanceof Map?e.forEach((n,o)=>{let a=n;typeof a=="object"&&(a=ua(a)),t.push([o,a])}):Object.keys(e).forEach(n=>{let o=e[n];typeof o=="object"&&(o=ua(o)),t.push([n,o])}),t},Vu=(e,t)=>!!t&&t.toString()===e.toString(),sv=e=>{const t=Xe.innerParams.get(e);e.disableButtons(),t.input?ju(e,"confirm"):mr(e,!0)},av=e=>{const t=Xe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?ju(e,"deny"):pr(e,!1)},iv=(e,t)=>{e.disableButtons(),t(Oo.cancel)},ju=(e,t)=>{const n=Xe.innerParams.get(e);if(!n.input){ro(`The "input" parameter is needed to be set when using returnInputValueOn${er(t)}`);return}const o=e.getInput(),a=Yg(e,n);n.inputValidator?rv(e,a,t):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||o.validationMessage)):t==="deny"?pr(e,a):mr(e,a)},rv=(e,t,n)=>{const o=Xe.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Cs(o.inputValidator(t,o.validationMessage))).then(i=>{e.enableButtons(),e.enableInput(),i?e.showValidationMessage(i):n==="deny"?pr(e,t):mr(e,t)})},pr=(e,t)=>{const n=Xe.innerParams.get(e||void 0);n.showLoaderOnDeny&&To(lo()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Cs(n.preDeny(t,n.validationMessage))).then(a=>{a===!1?(e.hideLoading(),Ss(e)):e.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>Fu(e||void 0,a))):e.close({isDenied:!0,value:t})},_l=(e,t)=>{e.close({isConfirmed:!0,value:t})},Fu=(e,t)=>{e.rejectPromise(t)},mr=(e,t)=>{const n=Xe.innerParams.get(e||void 0);n.showLoaderOnConfirm&&To(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Cs(n.preConfirm(t,n.validationMessage))).then(a=>{It(Ra())||a===!1?(e.hideLoading(),Ss(e)):_l(e,typeof a>"u"?t:a)}).catch(a=>Fu(e||void 0,a))):_l(e,t)};function da(){const e=Xe.innerParams.get(this);if(!e)return;const t=Xe.domCache.get(this);yt(t.loader),Ma()?e.icon&&ct(Po()):lv(t),Wt([t.popup,t.actions],O.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const lv=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ct(t[0],"inline-block"):Oh()&&yt(e.actions)};function Uu(){const e=Xe.innerParams.get(this),t=Xe.domCache.get(this);return t?Ba(t.popup,e.input):null}function zu(e,t,n){const o=Xe.domCache.get(e);t.forEach(a=>{o[a].disabled=n})}function qu(e,t){const n=Be();if(!(!n||!e))if(e.type==="radio"){const o=n.querySelectorAll(`[name="${O.radio}"]`);for(let a=0;a<o.length;a++)o[a].disabled=t}else e.disabled=t}function Wu(){zu(this,["confirmButton","denyButton","cancelButton"],!1)}function Ku(){zu(this,["confirmButton","denyButton","cancelButton"],!0)}function Xu(){qu(this.getInput(),!1)}function Gu(){qu(this.getInput(),!0)}function Yu(e){const t=Xe.domCache.get(this),n=Xe.innerParams.get(this);Vt(t.validationMessage,e),t.validationMessage.className=O["validation-message"],n.customClass&&n.customClass.validationMessage&&Ne(t.validationMessage,n.customClass.validationMessage),ct(t.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",O["validation-message"]),xu(o),Ne(o,O.inputerror))}function Ju(){const e=Xe.domCache.get(this);e.validationMessage&&yt(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Wt(t,O.inputerror))}const xo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},cv=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],uv={allowEnterKey:void 0},dv=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qu=e=>Object.prototype.hasOwnProperty.call(xo,e),Zu=e=>cv.indexOf(e)!==-1,ed=e=>uv[e],fv=e=>{Qu(e)||Dt(`Unknown parameter "${e}"`)},pv=e=>{dv.includes(e)&&Dt(`The parameter "${e}" is incompatible with toasts`)},mv=e=>{const t=ed(e);t&&bu(e,t)},td=e=>{e.backdrop===!1&&e.allowOutsideClick&&Dt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Dt(`Invalid theme "${e.theme}"`);for(const t in e)fv(t),e.toast&&pv(t),mv(t)};function nd(e){const t=Et(),n=Be(),o=Xe.innerParams.get(this);if(!n||yn(n,o.hideClass.popup)){Dt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=hv(e),i=Object.assign({},o,a);td(i),t.dataset.swal2Theme=i.theme,Pu(this,i),Xe.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const hv=e=>{const t={};return Object.keys(e).forEach(n=>{Zu(n)?t[n]=e[n]:Dt(`Invalid parameter to update: ${n}`)}),t};function od(){const e=Xe.domCache.get(this),t=Xe.innerParams.get(this);if(!t){sd(this);return}e.popup&&Ce.swalCloseEventFinishedCallback&&(Ce.swalCloseEventFinishedCallback(),delete Ce.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Ce.eventEmitter.emit("didDestroy"),gv(this)}const gv=e=>{sd(e),delete e.params,delete Ce.keydownHandler,delete Ce.keydownTarget,delete Ce.currentInstance},sd=e=>{e.isAwaitingPromise?(ni(Xe,e),e.isAwaitingPromise=!0):(ni(Eo,e),ni(Xe,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},ni=(e,t)=>{for(const n in e)e[n].delete(t)};var vv=Object.freeze({__proto__:null,_destroy:od,close:On,closeModal:On,closePopup:On,closeToast:On,disableButtons:Ku,disableInput:Gu,disableLoading:da,enableButtons:Wu,enableInput:Xu,getInput:Uu,handleAwaitingPromise:Ss,hideLoading:da,rejectPromise:Nu,resetValidationMessage:Ju,showValidationMessage:Yu,update:nd});const bv=(e,t,n)=>{e.toast?wv(e,t,n):(Cv(t),xv(t),kv(e,t,n))},wv=(e,t,n)=>{t.popup.onclick=()=>{e&&(yv(e)||e.timer||e.input)||n(Oo.close)}},yv=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let fa=!1;const Cv=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(fa=!0)}}},xv=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(n){e.popup.onmouseup=()=>{},(n.target===e.popup||n.target instanceof HTMLElement&&e.popup.contains(n.target))&&(fa=!0)}}},kv=(e,t,n)=>{t.container.onclick=o=>{if(fa){fa=!1;return}o.target===t.container&&Ia(e.allowOutsideClick)&&n(Oo.backdrop)}},_v=e=>typeof e=="object"&&e.jquery,$l=e=>e instanceof Element||_v(e),$v=e=>{const t={};return typeof e[0]=="object"&&!$l(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((n,o)=>{const a=e[o];typeof a=="string"||$l(a)?t[n]=a:a!==void 0&&ro(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof a}`)}),t};function Sv(...e){return new this(...e)}function Dv(e){class t extends this{_main(o,a){return super._main(o,Object.assign({},e,a))}}return t}const Ev=()=>Ce.timeout&&Ce.timeout.getTimerLeft(),ad=()=>{if(Ce.timeout)return Bh(),Ce.timeout.stop()},id=()=>{if(Ce.timeout){const e=Ce.timeout.start();return cr(e),e}},Tv=()=>{const e=Ce.timeout;return e&&(e.running?ad():id())},Av=e=>{if(Ce.timeout){const t=Ce.timeout.increase(e);return cr(t,!0),t}},Hv=()=>!!(Ce.timeout&&Ce.timeout.isRunning());let Sl=!1;const Ti={};function Pv(e="data-swal-template"){Ti[e]=this,Sl||(document.body.addEventListener("click",Iv),Sl=!0)}const Iv=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in Ti){const o=t.getAttribute(n);if(o){Ti[n].fire({template:o});return}}};class Rv{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const o=this._getHandlersByEventName(t);o.includes(n)||o.push(n)}once(t,n){const o=(...a)=>{this.removeListener(t,o),n.apply(this,a)};this.on(t,o)}emit(t,...n){this._getHandlersByEventName(t).forEach(o=>{try{o.apply(this,n)}catch(a){console.error(a)}})}removeListener(t,n){const o=this._getHandlersByEventName(t),a=o.indexOf(n);a>-1&&o.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}Ce.eventEmitter=new Rv;const Ov=(e,t)=>{Ce.eventEmitter.on(e,t)},Mv=(e,t)=>{Ce.eventEmitter.once(e,t)},Bv=(e,t)=>{if(!e){Ce.eventEmitter.reset();return}t?Ce.eventEmitter.removeListener(e,t):Ce.eventEmitter.removeAllListeners(e)};var Lv=Object.freeze({__proto__:null,argsToParams:$v,bindClickHandler:Pv,clickCancel:$g,clickConfirm:Iu,clickDeny:_g,enableLoading:To,fire:Sv,getActions:ks,getCancelButton:Io,getCloseButton:ar,getConfirmButton:un,getContainer:Et,getDenyButton:lo,getFocusableElements:ir,getFooter:Cu,getHtmlContainer:or,getIcon:Po,getIconContent:Ah,getImage:yu,getInputLabel:Hh,getLoader:Ro,getPopup:Be,getProgressSteps:sr,getTimerLeft:Ev,getTimerProgressBar:Oa,getTitle:wu,getValidationMessage:Ra,increaseTimer:Av,isDeprecatedParameter:ed,isLoading:Ih,isTimerRunning:Hv,isUpdatableParameter:Zu,isValidParameter:Qu,isVisible:kg,mixin:Dv,off:Bv,on:Ov,once:Mv,resumeTimer:id,showLoading:To,stopTimer:ad,toggleTimer:Tv});class Nv{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const rd=["swal-title","swal-html","swal-footer"],Vv=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Xv(n),Object.assign(jv(n),Fv(n),Uv(n),zv(n),qv(n),Wv(n),Kv(n,rd))},jv=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(o=>{so(o,["name","value"]);const a=o.getAttribute("name"),i=o.getAttribute("value");!a||!i||(typeof xo[a]=="boolean"?t[a]=i!=="false":typeof xo[a]=="object"?t[a]=JSON.parse(i):t[a]=i)}),t},Fv=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(o=>{const a=o.getAttribute("name"),i=o.getAttribute("value");!a||!i||(t[a]=new Function(`return ${i}`)())}),t},Uv=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(o=>{so(o,["type","color","aria-label"]);const a=o.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=o.innerHTML,t[`show${er(a)}Button`]=!0,o.hasAttribute("color")&&(t[`${a}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=o.getAttribute("aria-label")))}),t},zv=e=>{const t={},n=e.querySelector("swal-image");return n&&(so(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},qv=e=>{const t={},n=e.querySelector("swal-icon");return n&&(so(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Wv=e=>{const t={},n=e.querySelector("swal-input");n&&(so(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(t.inputOptions={},o.forEach(a=>{so(a,["value"]);const i=a.getAttribute("value");if(!i)return;const r=a.innerHTML;t.inputOptions[i]=r})),t},Kv=(e,t)=>{const n={};for(const o in t){const a=t[o],i=e.querySelector(a);i&&(so(i,[]),n[a.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},Xv=e=>{const t=rd.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(n=>{const o=n.tagName.toLowerCase();t.includes(o)||Dt(`Unrecognized element <${o}>`)})},so=(e,t)=>{Array.from(e.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Dt([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},ld=10,Gv=e=>{const t=Et(),n=Be();typeof e.willOpen=="function"&&e.willOpen(n),Ce.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;Qv(t,n,e),setTimeout(()=>{Yv(t,n)},ld),rr()&&(Jv(t,e.scrollbarPadding,a),Ig()),!Ma()&&!Ce.previousActiveElement&&(Ce.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(n)),Ce.eventEmitter.emit("didOpen",n),Wt(t,O["no-transition"])},pa=e=>{const t=Be();if(e.target!==t)return;const n=Et();t.removeEventListener("animationend",pa),t.removeEventListener("transitionend",pa),n.style.overflowY="auto"},Yv=(e,t)=>{_u(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",pa),t.addEventListener("transitionend",pa)):e.style.overflowY="auto"},Jv=(e,t,n)=>{Rg(),t&&n!=="hidden"&&jg(n),setTimeout(()=>{e.scrollTop=0})},Qv=(e,t,n)=>{Ne(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ct(t,"grid"),setTimeout(()=>{Ne(t,n.showClass.popup),t.style.removeProperty("opacity")},ld)):ct(t,"grid"),Ne([document.documentElement,document.body],O.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ne([document.documentElement,document.body],O["height-auto"])};var Dl={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Zv(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Dl.email),e.input==="url"&&(e.inputValidator=Dl.url))}function eb(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Dt('Target parameter is not valid, defaulting to "body"'),e.target="body")}function tb(e){Zv(e),e.showLoaderOnConfirm&&!e.preConfirm&&Dt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),eb(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),qh(e)}let en;var Is=new WeakMap;class at{constructor(...t){if(xh(this,Is,void 0),typeof window>"u")return;en=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,kh(Is,this,this._main(en.params))}_main(t,n={}){if(td(Object.assign({},n,t)),Ce.currentInstance){const i=Eo.swalPromiseResolve.get(Ce.currentInstance),{isAwaitingPromise:r}=Ce.currentInstance;Ce.currentInstance._destroy(),r||i({isDismissed:!0}),rr()&&Mu()}Ce.currentInstance=en;const o=ob(t,n);tb(o),Object.freeze(o),Ce.timeout&&(Ce.timeout.stop(),delete Ce.timeout),clearTimeout(Ce.restoreFocusTimeout);const a=sb(en);return Pu(en,o),Xe.innerParams.set(en,o),nb(en,a,o)}then(t){return vl(Is,this).then(t)}finally(t){return vl(Is,this).finally(t)}}const nb=(e,t,n)=>new Promise((o,a)=>{const i=r=>{e.close({isDismissed:!0,dismiss:r})};Eo.swalPromiseResolve.set(e,o),Eo.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>{sv(e)},t.denyButton.onclick=()=>{av(e)},t.cancelButton.onclick=()=>{iv(e,i)},t.closeButton.onclick=()=>{i(Oo.close)},bv(n,t,i),Sg(Ce,n,i),Gg(e,n),Gv(n),ab(Ce,n,i),ib(t,n),setTimeout(()=>{t.container.scrollTop=0})}),ob=(e,t)=>{const n=Vv(e),o=Object.assign({},xo,t,n,e);return o.showClass=Object.assign({},xo.showClass,o.showClass),o.hideClass=Object.assign({},xo.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},sb=e=>{const t={popup:Be(),container:Et(),actions:ks(),confirmButton:un(),denyButton:lo(),cancelButton:Io(),loader:Ro(),closeButton:ar(),validationMessage:Ra(),progressSteps:sr()};return Xe.domCache.set(e,t),t},ab=(e,t,n)=>{const o=Oa();yt(o),t.timer&&(e.timeout=new Nv(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ct(o),Lt(o,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&cr(t.timer)})))},ib=(e,t)=>{if(!t.toast){if(!Ia(t.allowEnterKey)){bu("allowEnterKey"),cb();return}rb(e)||lb(e,t)||Ei(-1,1)}},rb=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&It(n))return n.focus(),!0;return!1},lb=(e,t)=>t.focusDeny&&It(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&It(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&It(e.confirmButton)?(e.confirmButton.focus(),!0):!1,cb=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};at.prototype.disableButtons=Ku;at.prototype.enableButtons=Wu;at.prototype.getInput=Uu;at.prototype.disableInput=Gu;at.prototype.enableInput=Xu;at.prototype.hideLoading=da;at.prototype.disableLoading=da;at.prototype.showValidationMessage=Yu;at.prototype.resetValidationMessage=Ju;at.prototype.close=On;at.prototype.closePopup=On;at.prototype.closeModal=On;at.prototype.closeToast=On;at.prototype.rejectPromise=Nu;at.prototype.update=nd;at.prototype._destroy=od;Object.assign(at,Lv);Object.keys(vv).forEach(e=>{at[e]=function(...t){return en&&en[e]?en[e](...t):null}});at.DismissReason=Oo;at.version="11.22.4";const le=at;le.default=le;typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const ub={class:"character-state-manager"},db={class:"form-group"},fb={class:"form-group"},pb=["disabled"],mb={class:"state-list"},hb={key:0,class:"empty-list"},gb={key:1,class:"states-grid"},vb=["onClick"],bb=["src","alt"],wb={class:"state-title"},yb=["onClick"],Cb={__name:"CharacterStateManager",setup(e){const t=ws(),{states:n,selectedStateId:o,isLoading:a}=no(t),i=Z(""),r=Z(null);St(async()=>{await t.loadData()});const l=m=>{const h=m.target.files[0];h&&(r.value=h)},c=async()=>{if(!i.value.trim()||!r.value){le.fire("Error","Por favor, completa todos los campos.","error");return}await t.addState(i.value,r.value),i.value="",r.value=null,document.getElementById("stateImage").value="",await fetchStorageUsage(),le.fire("xito!","Nuevo estado aadido correctamente.","success")},u=async m=>{await t.setSelectedState(m)},f=async m=>{(await le.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(await t.deleteState(m),await fetchStorageUsage(),le.fire("Eliminado","El estado ha sido eliminado.","success"))},p=m=>m instanceof Blob?URL.createObjectURL(m):"";return(m,h)=>(C(),x("div",ub,[h[4]||(h[4]=s("h2",{class:"section-title"},"Estados del Personaje",-1)),s("form",{onSubmit:Me(c,["prevent"]),class:"state-form"},[s("div",db,[h[1]||(h[1]=s("label",{for:"stateTitle",class:"form-label"},"Ttulo del Estado",-1)),z(s("input",{id:"stateTitle","onUpdate:modelValue":h[0]||(h[0]=$=>i.value=$),type:"text",class:"form-control",placeholder:"Ej: Herido, Furioso...",required:""},null,512),[[ee,i.value]])]),s("div",fb,[h[2]||(h[2]=s("label",{for:"stateImage",class:"form-label"},"Imagen del Estado",-1)),s("input",{id:"stateImage",onChange:l,type:"file",class:"form-control",accept:"image/*",required:""},null,32)]),s("button",{type:"submit",class:"btn btn-primary",disabled:Q(a)},B(Q(a)?"Guardando...":"Aadir Estado"),9,pb)],32),s("div",mb,[h[3]||(h[3]=s("h3",{class:"list-title"},"Estados Guardados",-1)),Q(n).length===0?(C(),x("div",hb," No hay estados guardados. ")):(C(),x("div",gb,[(C(!0),x(De,null,Pe(Q(n),$=>(C(),x("div",{key:$.id,class:ze(["state-card",{selected:$.id===Q(o)}]),onClick:y=>u($.id)},[s("img",{src:p($.image),alt:$.title,class:"state-image"},null,8,bb),s("p",wb,B($.title),1),s("button",{onClick:Me(y=>f($.id),["stop"]),class:"btn-delete"}," Eliminar ",8,yb)],10,vb))),128))]))])]))}},xb=ut(Cb,[["__scopeId","data-v-063de143"]]),kb={class:"character-config-container fade-in"},_b={class:"config-card"},$b={class:"form-group"},Sb={class:"form-group"},Db={class:"form-group"},Eb={key:0,class:"existing-data"},Tb={__name:"CharacterConfigView",setup(e){const t=bs(),n=io(),o=Z(""),a=Z(50),i=Z(0),r=Z(!1);St(()=>{n.loadData(),n.character.isConfigured&&(r.value=!0,o.value=n.character.name,a.value=n.character.maxHp,i.value=n.character.regeneration)});const l=()=>{if(!o.value.trim()||a.value<=0){le.fire({icon:"error",title:"Error",text:"Por favor completa todos los campos correctamente"});return}try{n.configureCharacter(o.value.trim(),a.value,i.value),le.fire({icon:"success",title:"Configuracin Guardada!",text:`${o.value} est listo para la aventura`,showConfirmButton:!0}).then(()=>{t.push("/character")})}catch{le.fire({icon:"error",title:"Error",text:"No se pudo guardar la configuracin"})}},c=()=>{t.push("/character")},u=()=>{le.fire({title:"Ests seguro?",text:"Esto eliminar todos los datos del personaje actual",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(f=>{f.isConfirmed&&(n.clearData(),r.value=!1,o.value="",a.value=50,i.value=0,le.fire({icon:"success",title:"Datos Eliminados",text:"Puedes crear un nuevo personaje"}))})};return(f,p)=>(C(),x("div",kb,[s("div",_b,[p[10]||(p[10]=s("h1",{class:"config-title"},"Configuracin del Personaje",-1)),s("form",{onSubmit:Me(l,["prevent"]),class:"config-form"},[s("div",$b,[p[3]||(p[3]=s("label",{for:"characterName",class:"form-label"},"Nombre del Personaje",-1)),z(s("input",{id:"characterName","onUpdate:modelValue":p[0]||(p[0]=m=>o.value=m),type:"text",class:"form-control",placeholder:"Ej: Gandalf, Aragorn...",required:""},null,512),[[ee,o.value]])]),s("div",Sb,[p[4]||(p[4]=s("label",{for:"maxHp",class:"form-label"},"Puntos de Vida Mximos",-1)),z(s("input",{id:"maxHp","onUpdate:modelValue":p[1]||(p[1]=m=>a.value=m),type:"number",class:"form-control",min:"1",max:"999",placeholder:"Ej: 50",required:""},null,512),[[ee,a.value,void 0,{number:!0}]])]),s("div",Db,[p[5]||(p[5]=s("label",{for:"regeneration",class:"form-label"},"Regeneracin Pasiva por Turno",-1)),z(s("input",{id:"regeneration","onUpdate:modelValue":p[2]||(p[2]=m=>i.value=m),type:"number",class:"form-control",min:"0",max:"50",placeholder:"Ej: 5 (opcional)"},null,512),[[ee,i.value,void 0,{number:!0}]]),p[6]||(p[6]=s("small",{class:"form-text"},"Deja en 0 si no hay regeneracin",-1))]),p[7]||(p[7]=s("button",{type:"submit",class:"btn btn-primary btn-save"}," Guardar Configuracin ",-1))],32),Ge(xb),r.value?(C(),x("div",Eb,[p[8]||(p[8]=s("h3",null,"Datos Existentes",-1)),p[9]||(p[9]=s("p",null,"Ya tienes un personaje configurado. Quieres cargarlo o crear uno nuevo?",-1)),s("div",{class:"btn-group"},[s("button",{onClick:c,class:"btn btn-secondary"}," Cargar Existente "),s("button",{onClick:u,class:"btn btn-danger"}," Crear Nuevo ")])])):se("",!0)])]))}},Ab=ut(Tb,[["__scopeId","data-v-676b7144"]]),Hb={class:"counter-grid"},Pb={class:"counter-card-header"},Ib={class:"counter-name"},Rb=["onClick"],Ob=["onClick"],Mb={class:"counter-btns"},Bb=["onClick"],Lb=["onClick"],Nb={class:"counter-values"},Vb={class:"counter-minmax"},jb={class:"counter-card counter-add-card"},Fb={class:"counter-modal"},Ub={class:"counter-modal-title"},zb={class:"counter-modal-label"},qb={class:"counter-modal-label"},Wb={class:"counter-modal-label"},Kb={class:"counter-modal-label"},Xb={class:"counter-modal-label"},Gb={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},Yb={class:"counter-modal-label"},Jb={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},Qb={type:"submit",class:"counter-modal-btn"},Zb={__name:"CounterManager",setup(e){const t=ys(),n=pc(t,"counters"),{addCounter:o,updateCounterValue:a,setCounterToMax:i,removeCounter:r}=t,l=Z({name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}),c=Z(!1);function u(){o({name:l.value.name,initial:l.value.initial,min:l.value.min,max:l.value.max,shortRest:l.value.shortRest,shortRestReset:l.value.shortRestReset,longRest:l.value.longRest,longRestReset:l.value.longRestReset}),l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1},c.value=!1}const f=Z(!1);let p=null;function m(y){f.value=!0,p=y.id,l.value={name:y.name,initial:y.value,min:y.min,max:y.max,shortRest:y.shortRest,shortRestReset:y.shortRestReset||!1,longRest:y.longRest,longRestReset:y.longRestReset||!1},c.value=!0}function h(){const y=n.value.findIndex(v=>v.id===p);y!==-1&&(n.value[y].name=l.value.name,n.value[y].min=l.value.min,n.value[y].max=l.value.max,n.value[y].shortRest=l.value.shortRest,n.value[y].shortRestReset=l.value.shortRestReset,n.value[y].longRest=l.value.longRest,n.value[y].longRestReset=l.value.longRestReset,n.value[y].value=l.value.initial),$()}function $(){c.value=!1,f.value=!1,p=null,l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}}return(y,v)=>(C(),x("div",null,[v[23]||(v[23]=s("h2",{class:"text-lg font-bold mb-2 title-conter"},"Contadores",-1)),s("div",Hb,[(C(!0),x(De,null,Pe(n.value,_=>(C(),x("div",{key:_.id,class:"counter-card"},[s("div",Pb,[s("span",Ib,B(_.name),1),s("div",null,[s("button",{onClick:M=>m(_),class:"counter-edit",title:"Editar contador"},v[10]||(v[10]=[s("span",{"aria-label":"Editar"},"",-1)]),8,Rb),s("button",{onClick:M=>Q(r)(_.id),class:"counter-remove",title:"Eliminar contador"},v[11]||(v[11]=[s("span",{"aria-label":"Eliminar"},"",-1)]),8,Ob)])]),s("div",Mb,[(C(!0),x(De,null,Pe(_.buttons,M=>(C(),x("button",{key:M.label,onClick:E=>Q(a)(_.id,M.increment),class:"counter-action-btn"},B(M.label),9,Bb))),128)),s("button",{onClick:M=>Q(i)(_.id),class:"counter-action-btn counter-max-btn"},"Mx",8,Lb)]),s("div",Nb,[s("span",null,[v[12]||(v[12]=G("Valor: ")),s("b",null,B(_.value),1),v[13]||(v[13]=G()),s("span",Vb,"(min: "+B(_.min)+", mx: "+B(_.max)+")",1)])])]))),128)),s("div",jb,[s("button",{onClick:v[0]||(v[0]=_=>c.value=!0),class:"counter-add-btn",title:"Agregar contador"},v[14]||(v[14]=[s("span",{class:"counter-fab-plus"},"",-1),s("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),c.value?(C(),x("div",{key:0,class:"counter-modal-overlay",onClick:Me($,["self"])},[s("div",Fb,[s("button",{onClick:$,class:"counter-modal-close"},""),s("form",{onSubmit:v[9]||(v[9]=Me(_=>f.value?h():u(),["prevent"]))},[s("h3",Ub,B(f.value?"Editar contador":"Nuevo contador"),1),s("label",zb,[v[15]||(v[15]=G(" Nombre ")),z(s("input",{"onUpdate:modelValue":v[1]||(v[1]=_=>l.value.name=_),placeholder:"Ej: Furias",class:"counter-modal-input",required:""},null,512),[[ee,l.value.name]])]),s("label",qb,[v[16]||(v[16]=G(" Valor inicial ")),z(s("input",{"onUpdate:modelValue":v[2]||(v[2]=_=>l.value.initial=_),type:"number",placeholder:"Ej: 3",class:"counter-modal-input",required:""},null,512),[[ee,l.value.initial,void 0,{number:!0}]])]),s("label",Wb,[v[17]||(v[17]=G(" Valor mnimo ")),z(s("input",{"onUpdate:modelValue":v[3]||(v[3]=_=>l.value.min=_),type:"number",placeholder:"Ej: 0",class:"counter-modal-input",required:""},null,512),[[ee,l.value.min,void 0,{number:!0}]])]),s("label",Kb,[v[18]||(v[18]=G(" Valor mximo ")),z(s("input",{"onUpdate:modelValue":v[4]||(v[4]=_=>l.value.max=_),type:"number",placeholder:"Ej: 5",class:"counter-modal-input",required:""},null,512),[[ee,l.value.max,void 0,{number:!0}]])]),s("label",Xb,[v[20]||(v[20]=G(" Recarga por descanso corto ")),z(s("input",{"onUpdate:modelValue":v[5]||(v[5]=_=>l.value.shortRest=_),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[ee,l.value.shortRest,void 0,{number:!0}]]),s("label",Gb,[z(s("input",{type:"checkbox","onUpdate:modelValue":v[6]||(v[6]=_=>l.value.shortRestReset=_),style:{"margin-right":"6px"}},null,512),[[Yo,l.value.shortRestReset]]),v[19]||(v[19]=G(" Reset al valor introducido "))])]),s("label",Yb,[v[22]||(v[22]=G(" Recarga por descanso largo ")),z(s("input",{"onUpdate:modelValue":v[7]||(v[7]=_=>l.value.longRest=_),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[ee,l.value.longRest,void 0,{number:!0}]]),s("label",Jb,[z(s("input",{type:"checkbox","onUpdate:modelValue":v[8]||(v[8]=_=>l.value.longRestReset=_),style:{"margin-right":"6px"}},null,512),[[Yo,l.value.longRestReset]]),v[21]||(v[21]=G(" Reset al valor introducido "))])]),s("button",Qb,B(f.value?"Guardar cambios":"Agregar"),1)],32)])])):se("",!0)]))}},e1=ut(Zb,[["__scopeId","data-v-ccd9c79f"]]),t1={class:"state-grid"},n1={class:"state-card-header"},o1={class:"state-name"},s1=["onClick"],a1=["onClick"],i1={key:0,class:"state-link"},r1=["onClick","disabled","title"],l1={class:"state-card state-add-card"},c1={class:"dnd-modal"},u1={class:"dnd-modal-title"},d1={class:"dnd-modal-label"},f1={class:"dnd-modal-label"},p1=["value"],m1={class:"dnd-modal-label"},h1={class:"dnd-modal-label"},g1={type:"submit",class:"dnd-modal-btn"},v1={__name:"StateManager",setup(e){const t=ys(),n=ws(),{states:o}=no(n),{counters:a}=no(t),{addState:i,removeState:r,toggleStateActive:l}=n,c=Z(!1);St(async()=>{await t.loadData(),await n.loadData()});const u=Z({name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"});function f(E){n.toggleStateActive(E.id)}function p(){i({name:u.value.name,linkedCounterId:u.value.linkedCounterId||null,discountOnActivate:u.value.discountOnActivate,discountType:u.value.discountType}),u.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"},c.value=!1}function m(E){if(!E.linkedCounterId)return!0;const H=a.value.find(ie=>ie.id===E.linkedCounterId);if(!H)return!1;const N=Math.abs(E.discountOnActivate||1);return!(E.discountType==="resta"&&H.value-N<H.min)}function h(E){const H=a.value.find(N=>N.id===E);return H?H.name:"Desconocido"}const $=Z(!1);let y=null;function v(E){$.value=!0,y=E.id,u.value={name:E.name,linkedCounterId:E.linkedCounterId||"",discountOnActivate:E.discountOnActivate,discountType:E.discountType||"resta"},c.value=!0}function _(){const E=o.value.findIndex(H=>H.id===y);E!==-1&&(o.value[E].name=u.value.name,o.value[E].linkedCounterId=u.value.linkedCounterId||null,o.value[E].discountOnActivate=u.value.discountOnActivate,o.value[E].discountType=u.value.discountType),M()}function M(){c.value=!1,$.value=!1,y=null,u.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"}}return(E,H)=>(C(),x("div",null,[H[16]||(H[16]=s("h2",{class:"title-state"},"Estados",-1)),s("div",t1,[(C(!0),x(De,null,Pe(Q(o),N=>(C(),x("div",{key:N.id,class:ze(["state-card","dnd-theme-card",N.active?"active-state":""])},[s("div",n1,[s("span",o1,B(N.name),1),s("div",null,[s("button",{onClick:ie=>v(N),class:"state-edit",title:"Editar estado"},H[6]||(H[6]=[s("span",{"aria-label":"Editar"},"",-1)]),8,s1),s("button",{onClick:ie=>Q(r)(N.id),class:"state-remove",title:"Eliminar estado"},H[7]||(H[7]=[s("span",{"aria-label":"Eliminar"},"",-1)]),8,a1)])]),N.linkedCounterId?(C(),x("div",i1,[s("span",null,[H[8]||(H[8]=G("Vinculado a: ")),s("b",null,B(h(N.linkedCounterId)),1),G(" (desc. "+B(N.discountOnActivate)+")",1)])])):se("",!0),s("button",{onClick:ie=>f(N),class:ze(["state-activate","dnd-theme-btn",N.active?"active-btn":""]),disabled:!N.active&&N.linkedCounterId&&!m(N),title:!N.active&&N.linkedCounterId&&!m(N)?"No quedan usos en el contador vinculado":""},B(N.active?"Desactivar":"Activar"),11,r1)],2))),128)),s("div",l1,[s("button",{onClick:H[0]||(H[0]=N=>c.value=!0),class:"state-add-btn",title:"Agregar estado"},H[9]||(H[9]=[s("span",{class:"state-fab-plus"},"",-1),s("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),c.value?(C(),x("div",{key:0,class:"dnd-modal-overlay",onClick:Me(M,["self"])},[s("div",c1,[s("button",{onClick:M,class:"dnd-modal-close"},""),s("form",{onSubmit:H[5]||(H[5]=Me(N=>$.value?_():p(),["prevent"]))},[s("h3",u1,B($.value?"Editar Estado":"Nuevo Estado"),1),s("label",d1,[H[10]||(H[10]=G(" Nombre del estado ")),z(s("input",{"onUpdate:modelValue":H[1]||(H[1]=N=>u.value.name=N),placeholder:"Ej: Furia",class:"dnd-modal-input",required:""},null,512),[[ee,u.value.name]])]),s("label",f1,[H[12]||(H[12]=G(" Vincular a contador ")),z(s("select",{"onUpdate:modelValue":H[2]||(H[2]=N=>u.value.linkedCounterId=N),class:"dnd-modal-input"},[H[11]||(H[11]=s("option",{value:""},"Sin vincular",-1)),(C(!0),x(De,null,Pe(Q(a),N=>(C(),x("option",{key:N.id,value:N.id},B(N.name),9,p1))),128))],512),[[mt,u.value.linkedCounterId]])]),s("label",m1,[H[13]||(H[13]=G(" Descuento al activar ")),z(s("input",{"onUpdate:modelValue":H[3]||(H[3]=N=>u.value.discountOnActivate=N),type:"number",placeholder:"Ej: 1",class:"dnd-modal-input"},null,512),[[ee,u.value.discountOnActivate,void 0,{number:!0}]])]),s("label",h1,[H[15]||(H[15]=G(" Tipo de descuento ")),z(s("select",{"onUpdate:modelValue":H[4]||(H[4]=N=>u.value.discountType=N),class:"dnd-modal-input"},H[14]||(H[14]=[s("option",{value:"resta"},"Resta",-1),s("option",{value:"suma"},"Suma",-1)]),512),[[mt,u.value.discountType]])]),s("button",g1,B($.value?"Guardar cambios":"Crear Estado"),1)],32)])])):se("",!0)]))}},b1=ut(v1,[["__scopeId","data-v-18f0ea32"]]);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?El(Object(n),!0).forEach(function(o){w1(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function zs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zs=function(t){return typeof t}:zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function w1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},xn.apply(this,arguments)}function y1(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,i;for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function C1(e,t){if(e==null)return{};var n=y1(e,t),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)o=i[a],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var x1="1.15.6";function Cn(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var _n=Cn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ds=Cn(/Edge/i),Tl=Cn(/firefox/i),es=Cn(/safari/i)&&!Cn(/chrome/i)&&!Cn(/android/i),hr=Cn(/iP(ad|od|hone)/i),cd=Cn(/chrome/i)&&Cn(/android/i),ud={capture:!1,passive:!1};function Ie(e,t,n){e.addEventListener(t,n,!_n&&ud)}function He(e,t,n){e.removeEventListener(t,n,!_n&&ud)}function ma(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function dd(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Xt(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ma(e,t):ma(e,t))||o&&e===n)return e;if(e===n)break}while(e=dd(e))}return null}var Al=/\s+/g;function Rt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Al," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Al," ")}}function $e(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function ko(e,t){var n="";if(typeof e=="string")n=e;else do{var o=$e(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function fd(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,i=o.length;if(n)for(;a<i;a++)n(o[a],a);return o}return[]}function rn(){var e=document.scrollingElement;return e||document.documentElement}function rt(e,t,n,o,a){if(!(!e.getBoundingClientRect&&e!==window)){var i,r,l,c,u,f,p;if(e!==window&&e.parentNode&&e!==rn()?(i=e.getBoundingClientRect(),r=i.top,l=i.left,c=i.bottom,u=i.right,f=i.height,p=i.width):(r=0,l=0,c=window.innerHeight,u=window.innerWidth,f=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!_n))do if(a&&a.getBoundingClientRect&&($e(a,"transform")!=="none"||n&&$e(a,"position")!=="static")){var m=a.getBoundingClientRect();r-=m.top+parseInt($e(a,"border-top-width")),l-=m.left+parseInt($e(a,"border-left-width")),c=r+i.height,u=l+i.width;break}while(a=a.parentNode);if(o&&e!==window){var h=ko(a||e),$=h&&h.a,y=h&&h.d;h&&(r/=y,l/=$,p/=$,f/=y,c=r+f,u=l+p)}return{top:r,left:l,bottom:c,right:u,width:p,height:f}}}function Hl(e,t,n){for(var o=Mn(e,!0),a=rt(e)[t];o;){var i=rt(o)[n],r=void 0;if(r=a>=i,!r)return o;if(o===rn())break;o=Mn(o,!1)}return!1}function Ao(e,t,n,o){for(var a=0,i=0,r=e.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==_e.ghost&&(o||r[i]!==_e.dragged)&&Xt(r[i],n.draggable,e,!1)){if(a===t)return r[i];a++}i++}return null}function gr(e,t){for(var n=e.lastElementChild;n&&(n===_e.ghost||$e(n,"display")==="none"||t&&!ma(n,t));)n=n.previousElementSibling;return n||null}function Ft(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==_e.clone&&(!t||ma(e,t))&&n++;return n}function Pl(e){var t=0,n=0,o=rn();if(e)do{var a=ko(e),i=a.a,r=a.d;t+=e.scrollLeft*i,n+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[t,n]}function k1(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function Mn(e,t){if(!e||!e.getBoundingClientRect)return rn();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=$e(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return rn();if(o||t)return n;o=!0}}while(n=n.parentNode);return rn()}function _1(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function oi(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ts;function pd(e,t){return function(){if(!ts){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),ts=setTimeout(function(){ts=void 0},t)}}}function $1(){clearTimeout(ts),ts=void 0}function md(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function hd(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function gd(e,t,n){var o={};return Array.from(e.children).forEach(function(a){var i,r,l,c;if(!(!Xt(a,t.draggable,e,!1)||a.animated||a===n)){var u=rt(a);o.left=Math.min((i=o.left)!==null&&i!==void 0?i:1/0,u.left),o.top=Math.min((r=o.top)!==null&&r!==void 0?r:1/0,u.top),o.right=Math.max((l=o.right)!==null&&l!==void 0?l:-1/0,u.right),o.bottom=Math.max((c=o.bottom)!==null&&c!==void 0?c:-1/0,u.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var Ht="Sortable"+new Date().getTime();function S1(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!($e(a,"display")==="none"||a===_e.ghost)){e.push({target:a,rect:rt(a)});var i=dn({},e[e.length-1].rect);if(a.thisAnimationDuration){var r=ko(a,!0);r&&(i.top-=r.f,i.left-=r.e)}a.fromRect=i}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(k1(e,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var i=!1,r=0;e.forEach(function(l){var c=0,u=l.target,f=u.fromRect,p=rt(u),m=u.prevFromRect,h=u.prevToRect,$=l.rect,y=ko(u,!0);y&&(p.top-=y.f,p.left-=y.e),u.toRect=p,u.thisAnimationDuration&&oi(m,p)&&!oi(f,p)&&($.top-p.top)/($.left-p.left)===(f.top-p.top)/(f.left-p.left)&&(c=E1($,m,h,a.options)),oi(p,f)||(u.prevFromRect=f,u.prevToRect=p,c||(c=a.options.animation),a.animate(u,$,p,c)),c&&(i=!0,r=Math.max(r,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(t),i?t=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),e=[]},animate:function(o,a,i,r){if(r){$e(o,"transition",""),$e(o,"transform","");var l=ko(this.el),c=l&&l.a,u=l&&l.d,f=(a.left-i.left)/(c||1),p=(a.top-i.top)/(u||1);o.animatingX=!!f,o.animatingY=!!p,$e(o,"transform","translate3d("+f+"px,"+p+"px,0)"),this.forRepaintDummy=D1(o),$e(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),$e(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){$e(o,"transition",""),$e(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function D1(e){return e.offsetWidth}function E1(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var fo=[],si={initializeByDefault:!0},Es={mount:function(t){for(var n in si)si.hasOwnProperty(n)&&!(n in t)&&(t[n]=si[n]);fo.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),fo.push(t)},pluginEvent:function(t,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var i=t+"Global";fo.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][i]&&n[r.pluginName][i](dn({sortable:n},o)),n.options[r.pluginName]&&n[r.pluginName][t]&&n[r.pluginName][t](dn({sortable:n},o)))})},initializePlugins:function(t,n,o,a){fo.forEach(function(l){var c=l.pluginName;if(!(!t.options[c]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[c]=u,xn(o,u.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var r=this.modifyOption(t,i,t.options[i]);typeof r<"u"&&(t.options[i]=r)}},getEventProperties:function(t,n){var o={};return fo.forEach(function(a){typeof a.eventProperties=="function"&&xn(o,a.eventProperties.call(n[a.pluginName],t))}),o},modifyOption:function(t,n,o){var a;return fo.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(a=i.optionListeners[n].call(t[i.pluginName],o))}),a}};function T1(e){var t=e.sortable,n=e.rootEl,o=e.name,a=e.targetEl,i=e.cloneEl,r=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,f=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,h=e.putSortable,$=e.extraEventProperties;if(t=t||n&&n[Ht],!!t){var y,v=t.options,_="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!_n&&!Ds?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=r||n,y.from=l||n,y.item=a||n,y.clone=i,y.oldIndex=c,y.newIndex=u,y.oldDraggableIndex=f,y.newDraggableIndex=p,y.originalEvent=m,y.pullMode=h?h.lastPutMode:void 0;var M=dn(dn({},$),Es.getEventProperties(o,t));for(var E in M)y[E]=M[E];n&&n.dispatchEvent(y),v[_]&&v[_].call(t,y)}}var A1=["evt"],At=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,i=C1(o,A1);Es.pluginEvent.bind(_e)(t,n,dn({dragEl:oe,parentEl:tt,ghostEl:Ee,rootEl:Ye,nextEl:Yn,lastDownEl:qs,cloneEl:Ze,cloneHidden:In,dragStarted:jo,putSortable:ft,activeSortable:_e.active,originalEvent:a,oldIndex:vo,oldDraggableIndex:ns,newIndex:Mt,newDraggableIndex:Hn,hideGhostForTarget:yd,unhideGhostForTarget:Cd,cloneNowHidden:function(){In=!0},cloneNowShown:function(){In=!1},dispatchSortableEvent:function(l){kt({sortable:n,name:l,originalEvent:a})}},i))};function kt(e){T1(dn({putSortable:ft,cloneEl:Ze,targetEl:oe,rootEl:Ye,oldIndex:vo,oldDraggableIndex:ns,newIndex:Mt,newDraggableIndex:Hn},e))}var oe,tt,Ee,Ye,Yn,qs,Ze,In,vo,Mt,ns,Hn,Rs,ft,go=!1,ha=!1,ga=[],Kn,Kt,ai,ii,Il,Rl,jo,po,os,ss=!1,Os=!1,Ws,gt,ri=[],Ai=!1,va=[],La=typeof document<"u",Ms=hr,Ol=Ds||_n?"cssFloat":"float",H1=La&&!cd&&!hr&&"draggable"in document.createElement("div"),vd=function(){if(La){if(_n)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),bd=function(t,n){var o=$e(t),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=Ao(t,0,n),r=Ao(t,1,n),l=i&&$e(i),c=r&&$e(r),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+rt(i).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+rt(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var p=l.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===p)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&o[Ol]==="none"||r&&o[Ol]==="none"&&u+f>a)?"vertical":"horizontal"},P1=function(t,n,o){var a=o?t.left:t.top,i=o?t.right:t.bottom,r=o?t.width:t.height,l=o?n.left:n.top,c=o?n.right:n.bottom,u=o?n.width:n.height;return a===l||i===c||a+r/2===l+u/2},I1=function(t,n){var o;return ga.some(function(a){var i=a[Ht].options.emptyInsertThreshold;if(!(!i||gr(a))){var r=rt(a),l=t>=r.left-i&&t<=r.right+i,c=n>=r.top-i&&n<=r.bottom+i;if(l&&c)return o=a}}),o},wd=function(t){function n(i,r){return function(l,c,u,f){var p=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(i==null&&(r||p))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return n(i(l,c,u,f),r)(l,c,u,f);var m=(r?l:c).options.group.name;return i===!0||typeof i=="string"&&i===m||i.join&&i.indexOf(m)>-1}}var o={},a=t.group;(!a||zs(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,t.group=o},yd=function(){!vd&&Ee&&$e(Ee,"display","none")},Cd=function(){!vd&&Ee&&$e(Ee,"display","")};La&&!cd&&document.addEventListener("click",function(e){if(ha)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ha=!1,!1},!0);var Xn=function(t){if(oe){t=t.touches?t.touches[0]:t;var n=I1(t.clientX,t.clientY);if(n){var o={};for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Ht]._onDragOver(o)}}},R1=function(t){oe&&oe.parentNode[Ht]._isOutsideThisEl(t.target)};function _e(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=xn({},t),e[Ht]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return bd(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_e.supportPointer!==!1&&"PointerEvent"in window&&(!es||hr),emptyInsertThreshold:5};Es.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);wd(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:H1,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ie(e,"pointerdown",this._onTapStart):(Ie(e,"mousedown",this._onTapStart),Ie(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ie(e,"dragover",this),Ie(e,"dragenter",this)),ga.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),xn(this,S1())}_e.prototype={constructor:_e,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(po=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,oe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,a=this.options,i=a.preventOnFilter,r=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,f=a.filter;if(F1(o),!oe&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&es&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Xt(c,a.draggable,o,!1),!(c&&c.animated)&&qs!==c)){if(vo=Ft(c),ns=Ft(c,a.draggable),typeof f=="function"){if(f.call(this,t,c,this)){kt({sortable:n,rootEl:u,name:"filter",targetEl:c,toEl:o,fromEl:o}),At("filter",n,{evt:t}),i&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(p){if(p=Xt(u,p.trim(),o,!1),p)return kt({sortable:n,rootEl:p,name:"filter",targetEl:c,fromEl:o,toEl:o}),At("filter",n,{evt:t}),!0}),f)){i&&t.preventDefault();return}a.handle&&!Xt(u,a.handle,o,!1)||this._prepareDragStart(t,l,c)}}},_prepareDragStart:function(t,n,o){var a=this,i=a.el,r=a.options,l=i.ownerDocument,c;if(o&&!oe&&o.parentNode===i){var u=rt(o);if(Ye=i,oe=o,tt=oe.parentNode,Yn=oe.nextSibling,qs=o,Rs=r.group,_e.dragged=oe,Kn={target:oe,clientX:(n||t).clientX,clientY:(n||t).clientY},Il=Kn.clientX-u.left,Rl=Kn.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,oe.style["will-change"]="all",c=function(){if(At("delayEnded",a,{evt:t}),_e.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Tl&&a.nativeDraggable&&(oe.draggable=!0),a._triggerDragStart(t,n),kt({sortable:a,name:"choose",originalEvent:t}),Rt(oe,r.chosenClass,!0)},r.ignore.split(",").forEach(function(f){fd(oe,f.trim(),li)}),Ie(l,"dragover",Xn),Ie(l,"mousemove",Xn),Ie(l,"touchmove",Xn),r.supportPointer?(Ie(l,"pointerup",a._onDrop),!this.nativeDraggable&&Ie(l,"pointercancel",a._onDrop)):(Ie(l,"mouseup",a._onDrop),Ie(l,"touchend",a._onDrop),Ie(l,"touchcancel",a._onDrop)),Tl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),At("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ds||_n))){if(_e.eventCanceled){this._onDrop();return}r.supportPointer?(Ie(l,"pointerup",a._disableDelayedDrag),Ie(l,"pointercancel",a._disableDelayedDrag)):(Ie(l,"mouseup",a._disableDelayedDrag),Ie(l,"touchend",a._disableDelayedDrag),Ie(l,"touchcancel",a._disableDelayedDrag)),Ie(l,"mousemove",a._delayedDragTouchMoveHandler),Ie(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&Ie(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&li(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;He(t,"mouseup",this._disableDelayedDrag),He(t,"touchend",this._disableDelayedDrag),He(t,"touchcancel",this._disableDelayedDrag),He(t,"pointerup",this._disableDelayedDrag),He(t,"pointercancel",this._disableDelayedDrag),He(t,"mousemove",this._delayedDragTouchMoveHandler),He(t,"touchmove",this._delayedDragTouchMoveHandler),He(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Ie(document,"pointermove",this._onTouchMove):n?Ie(document,"touchmove",this._onTouchMove):Ie(document,"mousemove",this._onTouchMove):(Ie(oe,"dragend",this),Ie(Ye,"dragstart",this._onDragStart));try{document.selection?Ks(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(go=!1,Ye&&oe){At("dragStarted",this,{evt:n}),this.nativeDraggable&&Ie(document,"dragover",R1);var o=this.options;!t&&Rt(oe,o.dragClass,!1),Rt(oe,o.ghostClass,!0),_e.active=this,t&&this._appendGhost(),kt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Kt){this._lastX=Kt.clientX,this._lastY=Kt.clientY,yd();for(var t=document.elementFromPoint(Kt.clientX,Kt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Kt.clientX,Kt.clientY),t!==n);)n=t;if(oe.parentNode[Ht]._isOutsideThisEl(t),n)do{if(n[Ht]){var o=void 0;if(o=n[Ht]._onDragOver({clientX:Kt.clientX,clientY:Kt.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=dd(n));Cd()}},_onTouchMove:function(t){if(Kn){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,i=t.touches?t.touches[0]:t,r=Ee&&ko(Ee,!0),l=Ee&&r&&r.a,c=Ee&&r&&r.d,u=Ms&&gt&&Pl(gt),f=(i.clientX-Kn.clientX+a.x)/(l||1)+(u?u[0]-ri[0]:0)/(l||1),p=(i.clientY-Kn.clientY+a.y)/(c||1)+(u?u[1]-ri[1]:0)/(c||1);if(!_e.active&&!go){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(Ee){r?(r.e+=f-(ai||0),r.f+=p-(ii||0)):r={a:1,b:0,c:0,d:1,e:f,f:p};var m="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");$e(Ee,"webkitTransform",m),$e(Ee,"mozTransform",m),$e(Ee,"msTransform",m),$e(Ee,"transform",m),ai=f,ii=p,Kt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ee){var t=this.options.fallbackOnBody?document.body:Ye,n=rt(oe,!0,Ms,!0,t),o=this.options;if(Ms){for(gt=t;$e(gt,"position")==="static"&&$e(gt,"transform")==="none"&&gt!==document;)gt=gt.parentNode;gt!==document.body&&gt!==document.documentElement?(gt===document&&(gt=rn()),n.top+=gt.scrollTop,n.left+=gt.scrollLeft):gt=rn(),ri=Pl(gt)}Ee=oe.cloneNode(!0),Rt(Ee,o.ghostClass,!1),Rt(Ee,o.fallbackClass,!0),Rt(Ee,o.dragClass,!0),$e(Ee,"transition",""),$e(Ee,"transform",""),$e(Ee,"box-sizing","border-box"),$e(Ee,"margin",0),$e(Ee,"top",n.top),$e(Ee,"left",n.left),$e(Ee,"width",n.width),$e(Ee,"height",n.height),$e(Ee,"opacity","0.8"),$e(Ee,"position",Ms?"absolute":"fixed"),$e(Ee,"zIndex","100000"),$e(Ee,"pointerEvents","none"),_e.ghost=Ee,t.appendChild(Ee),$e(Ee,"transform-origin",Il/parseInt(Ee.style.width)*100+"% "+Rl/parseInt(Ee.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,a=t.dataTransfer,i=o.options;if(At("dragStart",this,{evt:t}),_e.eventCanceled){this._onDrop();return}At("setupClone",this),_e.eventCanceled||(Ze=hd(oe),Ze.removeAttribute("id"),Ze.draggable=!1,Ze.style["will-change"]="",this._hideClone(),Rt(Ze,this.options.chosenClass,!1),_e.clone=Ze),o.cloneId=Ks(function(){At("clone",o),!_e.eventCanceled&&(o.options.removeCloneOnHide||Ye.insertBefore(Ze,oe),o._hideClone(),kt({sortable:o,name:"clone"}))}),!n&&Rt(oe,i.dragClass,!0),n?(ha=!0,o._loopId=setInterval(o._emulateDragOver,50)):(He(document,"mouseup",o._onDrop),He(document,"touchend",o._onDrop),He(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(o,a,oe)),Ie(document,"drop",o),$e(oe,"transform","translateZ(0)")),go=!0,o._dragStartId=Ks(o._dragStarted.bind(o,n,t)),Ie(document,"selectstart",o),jo=!0,window.getSelection().removeAllRanges(),es&&$e(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,a,i,r,l=this.options,c=l.group,u=_e.active,f=Rs===c,p=l.sort,m=ft||u,h,$=this,y=!1;if(Ai)return;function v(ve,q){At(ve,$,dn({evt:t,isOwner:f,axis:h?"vertical":"horizontal",revert:r,dragRect:a,targetRect:i,canSort:p,fromSortable:m,target:o,completed:M,onMove:function(re,J){return Bs(Ye,n,oe,a,re,rt(re),t,J)},changed:E},q))}function _(){v("dragOverAnimationCapture"),$.captureAnimationState(),$!==m&&m.captureAnimationState()}function M(ve){return v("dragOverCompleted",{insertion:ve}),ve&&(f?u._hideClone():u._showClone($),$!==m&&(Rt(oe,ft?ft.options.ghostClass:u.options.ghostClass,!1),Rt(oe,l.ghostClass,!0)),ft!==$&&$!==_e.active?ft=$:$===_e.active&&ft&&(ft=null),m===$&&($._ignoreWhileAnimating=o),$.animateAll(function(){v("dragOverAnimationComplete"),$._ignoreWhileAnimating=null}),$!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(o===oe&&!oe.animated||o===n&&!o.animated)&&(po=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(oe.parentNode[Ht]._isOutsideThisEl(t.target),!ve&&Xn(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function E(){Mt=Ft(oe),Hn=Ft(oe,l.draggable),kt({sortable:$,name:"change",toEl:n,newIndex:Mt,newDraggableIndex:Hn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=Xt(o,l.draggable,n,!0),v("dragOver"),_e.eventCanceled)return y;if(oe.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||$._ignoreWhileAnimating===o)return M(!1);if(ha=!1,u&&!l.disabled&&(f?p||(r=tt!==Ye):ft===this||(this.lastPutMode=Rs.checkPull(this,u,oe,t))&&c.checkPut(this,u,oe,t))){if(h=this._getDirection(t,o)==="vertical",a=rt(oe),v("dragOverValid"),_e.eventCanceled)return y;if(r)return tt=Ye,_(),this._hideClone(),v("revert"),_e.eventCanceled||(Yn?Ye.insertBefore(oe,Yn):Ye.appendChild(oe)),M(!0);var H=gr(n,l.draggable);if(!H||L1(t,h,this)&&!H.animated){if(H===oe)return M(!1);if(H&&n===t.target&&(o=H),o&&(i=rt(o)),Bs(Ye,n,oe,a,o,i,t,!!o)!==!1)return _(),H&&H.nextSibling?n.insertBefore(oe,H.nextSibling):n.appendChild(oe),tt=n,E(),M(!0)}else if(H&&B1(t,h,this)){var N=Ao(n,0,l,!0);if(N===oe)return M(!1);if(o=N,i=rt(o),Bs(Ye,n,oe,a,o,i,t,!1)!==!1)return _(),n.insertBefore(oe,N),tt=n,E(),M(!0)}else if(o.parentNode===n){i=rt(o);var ie=0,pe,de=oe.parentNode!==n,L=!P1(oe.animated&&oe.toRect||a,o.animated&&o.toRect||i,h),T=h?"top":"left",P=Hl(o,"top","top")||Hl(oe,"top","top"),D=P?P.scrollTop:void 0;po!==o&&(pe=i[T],ss=!1,Os=!L&&l.invertSwap||de),ie=N1(t,o,i,h,L?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Os,po===o);var k;if(ie!==0){var V=Ft(oe);do V-=ie,k=tt.children[V];while(k&&($e(k,"display")==="none"||k===Ee))}if(ie===0||k===o)return M(!1);po=o,os=ie;var be=o.nextElementSibling,X=!1;X=ie===1;var K=Bs(Ye,n,oe,a,o,i,t,X);if(K!==!1)return(K===1||K===-1)&&(X=K===1),Ai=!0,setTimeout(M1,30),_(),X&&!be?n.appendChild(oe):o.parentNode.insertBefore(oe,X?be:o),P&&md(P,0,D-P.scrollTop),tt=oe.parentNode,pe!==void 0&&!Os&&(Ws=Math.abs(pe-rt(o)[T])),E(),M(!0)}if(n.contains(oe))return M(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){He(document,"mousemove",this._onTouchMove),He(document,"touchmove",this._onTouchMove),He(document,"pointermove",this._onTouchMove),He(document,"dragover",Xn),He(document,"mousemove",Xn),He(document,"touchmove",Xn)},_offUpEvents:function(){var t=this.el.ownerDocument;He(t,"mouseup",this._onDrop),He(t,"touchend",this._onDrop),He(t,"pointerup",this._onDrop),He(t,"pointercancel",this._onDrop),He(t,"touchcancel",this._onDrop),He(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(Mt=Ft(oe),Hn=Ft(oe,o.draggable),At("drop",this,{evt:t}),tt=oe&&oe.parentNode,Mt=Ft(oe),Hn=Ft(oe,o.draggable),_e.eventCanceled){this._nulling();return}go=!1,Os=!1,ss=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Hi(this.cloneId),Hi(this._dragStartId),this.nativeDraggable&&(He(document,"drop",this),He(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),es&&$e(document.body,"user-select",""),$e(oe,"transform",""),t&&(jo&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),(Ye===tt||ft&&ft.lastPutMode!=="clone")&&Ze&&Ze.parentNode&&Ze.parentNode.removeChild(Ze),oe&&(this.nativeDraggable&&He(oe,"dragend",this),li(oe),oe.style["will-change"]="",jo&&!go&&Rt(oe,ft?ft.options.ghostClass:this.options.ghostClass,!1),Rt(oe,this.options.chosenClass,!1),kt({sortable:this,name:"unchoose",toEl:tt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ye!==tt?(Mt>=0&&(kt({rootEl:tt,name:"add",toEl:tt,fromEl:Ye,originalEvent:t}),kt({sortable:this,name:"remove",toEl:tt,originalEvent:t}),kt({rootEl:tt,name:"sort",toEl:tt,fromEl:Ye,originalEvent:t}),kt({sortable:this,name:"sort",toEl:tt,originalEvent:t})),ft&&ft.save()):Mt!==vo&&Mt>=0&&(kt({sortable:this,name:"update",toEl:tt,originalEvent:t}),kt({sortable:this,name:"sort",toEl:tt,originalEvent:t})),_e.active&&((Mt==null||Mt===-1)&&(Mt=vo,Hn=ns),kt({sortable:this,name:"end",toEl:tt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){At("nulling",this),Ye=oe=tt=Ee=Yn=Ze=qs=In=Kn=Kt=jo=Mt=Hn=vo=ns=po=os=ft=Rs=_e.dragged=_e.ghost=_e.clone=_e.active=null,va.forEach(function(t){t.checked=!0}),va.length=ai=ii=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":oe&&(this._onDragOver(t),O1(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,a=0,i=o.length,r=this.options;a<i;a++)n=o[a],Xt(n,r.draggable,this.el,!1)&&t.push(n.getAttribute(r.dataIdAttr)||j1(n));return t},sort:function(t,n){var o={},a=this.el;this.toArray().forEach(function(i,r){var l=a.children[r];Xt(l,this.options.draggable,a,!1)&&(o[i]=l)},this),n&&this.captureAnimationState(),t.forEach(function(i){o[i]&&(a.removeChild(o[i]),a.appendChild(o[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Xt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var a=Es.modifyOption(this,t,n);typeof a<"u"?o[t]=a:o[t]=n,t==="group"&&wd(o)},destroy:function(){At("destroy",this);var t=this.el;t[Ht]=null,He(t,"mousedown",this._onTapStart),He(t,"touchstart",this._onTapStart),He(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(He(t,"dragover",this),He(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ga.splice(ga.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!In){if(At("hideClone",this),_e.eventCanceled)return;$e(Ze,"display","none"),this.options.removeCloneOnHide&&Ze.parentNode&&Ze.parentNode.removeChild(Ze),In=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(In){if(At("showClone",this),_e.eventCanceled)return;oe.parentNode==Ye&&!this.options.group.revertClone?Ye.insertBefore(Ze,oe):Yn?Ye.insertBefore(Ze,Yn):Ye.appendChild(Ze),this.options.group.revertClone&&this.animate(oe,Ze),$e(Ze,"display",""),In=!1}}};function O1(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Bs(e,t,n,o,a,i,r,l){var c,u=e[Ht],f=u.options.onMove,p;return window.CustomEvent&&!_n&&!Ds?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=o,c.related=a||t,c.relatedRect=i||rt(t),c.willInsertAfter=l,c.originalEvent=r,e.dispatchEvent(c),f&&(p=f.call(u,c,r)),p}function li(e){e.draggable=!1}function M1(){Ai=!1}function B1(e,t,n){var o=rt(Ao(n.el,0,n.options,!0)),a=gd(n.el,n.options,Ee),i=10;return t?e.clientX<a.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<a.top-i||e.clientY<o.bottom&&e.clientX<o.left}function L1(e,t,n){var o=rt(gr(n.el,n.options.draggable)),a=gd(n.el,n.options,Ee),i=10;return t?e.clientX>a.right+i||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>a.bottom+i||e.clientX>o.right&&e.clientY>o.top}function N1(e,t,n,o,a,i,r,l){var c=o?e.clientY:e.clientX,u=o?n.height:n.width,f=o?n.top:n.left,p=o?n.bottom:n.right,m=!1;if(!r){if(l&&Ws<u*a){if(!ss&&(os===1?c>f+u*i/2:c<p-u*i/2)&&(ss=!0),ss)m=!0;else if(os===1?c<f+Ws:c>p-Ws)return-os}else if(c>f+u*(1-a)/2&&c<p-u*(1-a)/2)return V1(t)}return m=m||r,m&&(c<f+u*i/2||c>p-u*i/2)?c>f+u/2?1:-1:0}function V1(e){return Ft(oe)<Ft(e)?1:-1}function j1(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function F1(e){va.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&va.push(o)}}function Ks(e){return setTimeout(e,0)}function Hi(e){return clearTimeout(e)}La&&Ie(document,"touchmove",function(e){(_e.active||go)&&e.cancelable&&e.preventDefault()});_e.utils={on:Ie,off:He,css:$e,find:fd,is:function(t,n){return!!Xt(t,n,t,!1)},extend:_1,throttle:pd,closest:Xt,toggleClass:Rt,clone:hd,index:Ft,nextTick:Ks,cancelNextTick:Hi,detectDirection:bd,getChild:Ao,expando:Ht};_e.get=function(e){return e[Ht]};_e.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(_e.utils=dn(dn({},_e.utils),o.utils)),Es.mount(o)})};_e.create=function(e,t){return new _e(e,t)};_e.version=x1;var it=[],Fo,Pi,Ii=!1,ci,ui,ba,Uo;function U1(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Ie(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ie(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Ie(document,"touchmove",this._handleFallbackAutoScroll):Ie(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?He(document,"dragover",this._handleAutoScroll):(He(document,"pointermove",this._handleFallbackAutoScroll),He(document,"touchmove",this._handleFallbackAutoScroll),He(document,"mousemove",this._handleFallbackAutoScroll)),Ml(),Xs(),$1()},nulling:function(){ba=Pi=Fo=Ii=Uo=ci=ui=null,it.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(i,r);if(ba=n,o||this.options.forceAutoScrollFallback||Ds||_n||es){di(n,this.options,l,o);var c=Mn(l,!0);Ii&&(!Uo||i!==ci||r!==ui)&&(Uo&&Ml(),Uo=setInterval(function(){var u=Mn(document.elementFromPoint(i,r),!0);u!==c&&(c=u,Xs()),di(n,a.options,u,o)},10),ci=i,ui=r)}else{if(!this.options.bubbleScroll||Mn(l,!0)===rn()){Xs();return}di(n,this.options,Mn(l,!1),!1)}}},xn(e,{pluginName:"scroll",initializeByDefault:!0})}function Xs(){it.forEach(function(e){clearInterval(e.pid)}),it=[]}function Ml(){clearInterval(Uo)}var di=pd(function(e,t,n,o){if(t.scroll){var a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,c=rn(),u=!1,f;Pi!==n&&(Pi=n,Xs(),Fo=t.scroll,f=t.scrollFn,Fo===!0&&(Fo=Mn(n,!0)));var p=0,m=Fo;do{var h=m,$=rt(h),y=$.top,v=$.bottom,_=$.left,M=$.right,E=$.width,H=$.height,N=void 0,ie=void 0,pe=h.scrollWidth,de=h.scrollHeight,L=$e(h),T=h.scrollLeft,P=h.scrollTop;h===c?(N=E<pe&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),ie=H<de&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(N=E<pe&&(L.overflowX==="auto"||L.overflowX==="scroll"),ie=H<de&&(L.overflowY==="auto"||L.overflowY==="scroll"));var D=N&&(Math.abs(M-a)<=r&&T+E<pe)-(Math.abs(_-a)<=r&&!!T),k=ie&&(Math.abs(v-i)<=r&&P+H<de)-(Math.abs(y-i)<=r&&!!P);if(!it[p])for(var V=0;V<=p;V++)it[V]||(it[V]={});(it[p].vx!=D||it[p].vy!=k||it[p].el!==h)&&(it[p].el=h,it[p].vx=D,it[p].vy=k,clearInterval(it[p].pid),(D!=0||k!=0)&&(u=!0,it[p].pid=setInterval((function(){o&&this.layer===0&&_e.active._onTouchMove(ba);var be=it[this.layer].vy?it[this.layer].vy*l:0,X=it[this.layer].vx?it[this.layer].vx*l:0;typeof f=="function"&&f.call(_e.dragged.parentNode[Ht],X,be,e,ba,it[this.layer].el)!=="continue"||md(it[this.layer].el,X,be)}).bind({layer:p}),24))),p++}while(t.bubbleScroll&&m!==c&&(m=Mn(m,!1)));Ii=u}},30),xd=function(t){var n=t.originalEvent,o=t.putSortable,a=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,l=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(n){var u=o||i;l();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,p=document.elementFromPoint(f.clientX,f.clientY);c(),u&&!u.el.contains(p)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function vr(){}vr.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Ao(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:xd};xn(vr,{pluginName:"revertOnSpill"});function br(){}br.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:xd};xn(br,{pluginName:"removeOnSpill"});_e.mount(new U1);_e.mount(br,vr);function kd(e){if(e<=0)return 0;if(e>=1&&e<=4)return 10;if(e>=5&&e<=10)return 20;if(e>=11&&e<=16)return 30;if(e>=17&&e<=20)return 40;const t=21,n=50;if(e>=t){const o=Math.floor((e-t)/4);return n+o*10}return 0}function _d(e){const[t,n]=e.toLowerCase().split("d").map(Number),o=[];for(let a=0;a<t;a++)o.push(Math.floor(Math.random()*n)+1);return o}function wa(e){const t={};let n=0,o=0;e.damageRolls.forEach(a=>{let{dice:i,min:r=1,bonus:l=0,type:c,lifeSteal:u={percentage:0}}=a;r=Number(r)||1,l=Number(l)||0;const f=Number(u.percentage)||0,p=`d${i.split("d")[1]}`,h=_d(i).map(v=>({value:Math.max(v,r),diceType:p,originalValue:v,isReplaced:!1})),y=h.reduce((v,_)=>v+_.value,0)+l;if(n+=y,t[c]||(t[c]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),t[c].rolls.push(...h),t[c].bonus+=l,t[c].total+=y,f>0){const v=Math.floor(y*(f/100));o+=v,t[c].lifeSteal.healed+=v,t[c].lifeSteal.percentages.push(f)}});for(const a in t)if(t[a].lifeSteal.healed===0)t[a].lifeSteal=null;else{const i=[...new Set(t[a].lifeSteal.percentages)];t[a].lifeSteal.percentage_display=i.join("% / ")+"%",delete t[a].lifeSteal.percentages}return{name:e.name,results:t,grandTotal:n,totalHealed:o}}function $d(e,t){const{rule:n,characterLevel:o}=t;if(n==="default"){const a=JSON.parse(JSON.stringify(e));return a.name=`${e.name} (Crtico)`,a.damageRolls.forEach(i=>{const[r,l]=i.dice.split("d");i.dice=`${Number(r)*2}d${l}`}),wa(a)}if(n==="dad"){const a={};let i=0,r=0;const l=kd(o);if(e.damageRolls.forEach(c=>{let{dice:u,min:f=1,bonus:p=0,type:m,lifeSteal:h={percentage:0}}=c;const[$,y]=u.split("d").map(Number);f=Number(f)||1,p=Number(p)||0;const v=Number(h.percentage)||0;let _=0;const M=[];for(let H=0;H<$;H++){const N=Math.max(Math.floor(Math.random()*y)+1,f),ie=y;_+=ie+N,M.push({value:ie,originalValue:`${y} (Mx)`}),M.push({value:N,originalValue:`${N} (Aleatorio)`})}const E=_+p;if(i+=E,a[m]||(a[m]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),a[m].rolls.push(...M),a[m].bonus+=p,a[m].total+=E,v>0){const H=Math.floor(E*(v/100));r+=H,a[m].lifeSteal.healed+=H,a[m].lifeSteal.percentages.push(v)}}),l>0){const c="force";a[c]?(a[c].total+=l,a[c].rolls.push({value:l,originalValue:l})):a[c]={rolls:[{value:l,originalValue:l}],bonus:0,total:l,lifeSteal:{healed:0,percentages:[]}},i+=l}for(const c in a)if(a[c].lifeSteal.healed===0)a[c].lifeSteal=null;else{const u=[...new Set(a[c].lifeSteal.percentages)];a[c].lifeSteal.percentage_display=u.join("% / ")+"%",delete a[c].lifeSteal.percentages}return{name:`${e.name} (Crtico DAD)`,results:a,grandTotal:i,totalHealed:r}}return wa(e)}function as(e){const t={};if(!e)return t;e.forEach(n=>{const o=`d${n.dice.split("d")[1]}`,a=Number(n.min)||1,r=_d(n.dice).map(l=>Math.max(l,a));t[o]||(t[o]=[]),t[o].push(...r)});for(const n in t)t[n].sort((o,a)=>a-o);return t}function Ri(e,t){const n=JSON.parse(JSON.stringify(e));for(const i in t){const r=t[i];let l=[];for(const u in n.results)n.results[u].rolls.forEach((f,p)=>{f.diceType===i&&!f.isReplaced&&l.push({roll:f,damageType:u,index:p})});l.sort((u,f)=>u.roll.value-f.roll.value);const c=Math.min(l.length,r.length);for(let u=0;u<c;u++){const f=l[u],p=r[u];p>f.roll.value&&(f.roll.originalValue=f.roll.value,f.roll.value=p,f.roll.isReplaced=!0)}}let o=0,a=0;for(const i in n.results){const r=n.results[i],l=r.rolls.reduce((c,u)=>c+u.value,0);if(r.total=l+r.bonus,o+=r.total,r.lifeSteal){const c=r.lifeSteal.percentage_display,u=parseFloat(c);if(!isNaN(u)){const f=Math.floor(r.total*(u/100));r.lifeSteal.healed=f,a+=f}}}return n.grandTotal=o,n.totalHealed=a,n}const z1={class:"attack-manager-container"},q1={class:"header"},W1={class:"header-actions"},K1={class:"content"},X1={class:"attacks-list"},G1={key:0,class:"no-attacks"},Y1=["data-id"],J1={class:"header-attack"},Q1={class:"attack-info"},Z1={class:"attack-name"},ew={class:"attack-summary"},tw={class:"attack-actions"},nw=["onClick"],ow=["onClick"],sw=["onClick"],aw=["onClick"],iw=["onClick"],rw={class:"new-attack-area"},lw={class:"attack-form"},cw={class:"attack-form-header"},uw={class:"attack-form-content"},dw={class:"form-group"},fw={class:"damage-rolls-section"},pw={class:"damage-roll-header"},mw={class:"damage-roll-title"},hw=["onClick","disabled"],gw={class:"damage-roll-inputs"},vw={class:"form-group-inline"},bw=["for"],ww=["id","onUpdate:modelValue"],yw={class:"form-group-inline"},Cw=["for"],xw=["id","onUpdate:modelValue"],kw={class:"form-group-inline"},_w=["for"],$w=["id","onUpdate:modelValue"],Sw=["value"],Dw={class:"form-group-inline"},Ew=["for"],Tw=["id","onUpdate:modelValue"],Aw={class:"form-group-inline"},Hw=["for"],Pw=["id","onUpdate:modelValue"],Iw={class:"form-group-inline"},Rw=["for"],Ow=["id","onUpdate:modelValue"],Mw={class:"damage-rolls-section"},Bw={key:0,class:"empty-state"},Lw={class:"damage-roll-header"},Nw={class:"damage-roll-title"},Vw=["onClick"],jw={class:"damage-roll-inputs reroll-inputs"},Fw={class:"form-group-inline"},Uw=["for"],zw=["id","onUpdate:modelValue"],qw={class:"form-group-inline"},Ww=["for"],Kw=["id","onUpdate:modelValue"],Xw={class:"form-group-inline"},Gw=["for"],Yw=["id","onUpdate:modelValue"],Jw={class:"form-actions"},Qw={class:"attack-form settings-form"},Zw={class:"attack-form-content"},ey={class:"form-group"},ty={key:0,class:"form-group"},ny={key:0,class:"dad-bonus-display"},oy={__name:"AttackManager",emits:["close"],setup(e,{emit:t}){const n=mu(),o=io(),{criticalHit:a}=no(n),i=Z(!1),r=Z(!1),l=Z(!1),c=qt({rule:"default",characterLevel:1}),u=Le(()=>c.rule!=="dad"?0:kd(c.characterLevel)),f=qt({id:null,name:"",damageRolls:[],rerollDice:[]});St(()=>{document.body.style.overflow="hidden",n.loadData(),ao(()=>{const P=document.querySelector(".attacks-list");P&&new _e(P,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:V=>{const be=Array.from(V.target.children).map(X=>X.dataset.id).filter(X=>X);n.updateAttackOrder(be)}});const D=document.querySelector(".attack-manager-overlay"),k=document.querySelector(".content");if(D&&k){const V=be=>{be.target.closest(".attack-form-overlay")||(be.preventDefault(),k.scrollTop+=be.deltaY)};D.addEventListener("wheel",V,{passive:!1}),D._wheelHandler=V}})}),Fn(()=>{document.body.style.overflow="";const P=document.querySelector(".attack-manager-overlay");P&&P._wheelHandler&&P.removeEventListener("wheel",P._wheelHandler)});const p=P=>{if(!P||!P.includes("d"))return{numDice:1,diceType:6};const[D,k]=P.split("d");return{numDice:Number(D)||1,diceType:Number(k)||6}},m=P=>{const D=JSON.parse(JSON.stringify(P));D.damageRolls.forEach(k=>{const{numDice:V,diceType:be}=p(k.dice);k.numDice=V,k.diceType=be,k.lifeSteal||(k.lifeSteal={percentage:0})}),D.rerollDice?D.rerollDice.forEach(k=>{const{numDice:V,diceType:be}=p(k.dice);k.numDice=V,k.diceType=be}):D.rerollDice=[],f.id=D.id,f.name=D.name,f.damageRolls.splice(0,f.damageRolls.length,...D.damageRolls),f.rerollDice.splice(0,f.rerollDice.length,...D.rerollDice),i.value=!0},h=()=>{c.rule=n.criticalHit.rule,c.characterLevel=n.criticalHit.characterLevel,l.value=!0},$=()=>{l.value=!1},y=()=>{n.updateCriticalHitConfig({rule:c.rule,characterLevel:c.characterLevel}),$(),le.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},v=()=>{r.value=!1,m({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},_=P=>{r.value=!0,m(P)},M=P=>{n.duplicateAttack(P.id)},E=()=>{i.value=!1},H=()=>{f.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},N=P=>{f.damageRolls.splice(P,1)},ie=()=>{f.rerollDice||(f.rerollDice=[]),f.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},pe=P=>{f.rerollDice.splice(P,1)},de=()=>{if(!f.name){le.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const P=JSON.parse(JSON.stringify(f));P.damageRolls.forEach(D=>{D.dice=`${D.numDice||1}d${D.diceType||6}`,delete D.numDice,delete D.diceType}),P.rerollDice&&P.rerollDice.forEach(D=>{D.dice=`${D.numDice||1}d${D.diceType||6}`,delete D.numDice,delete D.diceType}),r.value?n.updateAttack(P):n.addAttack(P),E()},L=P=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(D=>{D.isConfirmed&&(n.deleteAttack(P),le.fire("Eliminado","El ataque ha sido eliminado.","success"))})},T=(P,D=!1)=>{let k;D?k=$d(P,n.criticalHit):k=wa(P);const V=re=>re.map(J=>`<span class="roll-value ${J.isReplaced?"replaced":""}">${J.value}</span>`).join(", "),be=re=>{if(!re)return"";let J='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const R in re)J+=`<div class="reroll-type"><strong>${R}:</strong> [${re[R].join(", ")}]</div>`;return J+="</div>",J},X=(re,J=null)=>{let R='<div class="attack-result-modal">';R+=`<h3 class="dnd-title-modern">${re.name}</h3>`;for(const te in re.results){const ge=re.results[te],Je=pu(te),me=(oo.find(ce=>ce.id===te)||{name:te}).name.toUpperCase();R+=`
        <div class="damage-type-block-modern" style="border-left-color: ${Je};">
          <div class="damage-header">
            <span class="damage-type-modern" style="color: ${Je};">${me}</span>
            <span class="damage-total-modern">${ge.total}</span>
          </div>
          <div class="damage-details">
            <span><strong>Tiradas:</strong> [${V(ge.rolls)}]</span>
            <span><strong>Bonus:</strong> ${ge.bonus>0?"+":""}${ge.bonus}</span>
          </div>
      `,ge.lifeSteal&&(R+=`
          <div class="lifesteal-details">
            <i class="bi bi-heart-fill"></i>
            <span><strong>Curado:</strong> ${ge.lifeSteal.healed} (${ge.lifeSteal.percentage_display})</span>
          </div>
        `),R+="</div>"}return R+=be(J),R+=`<div class="grand-total-modern">Dao Total: ${re.grandTotal}</div>`,re.totalHealed>0&&(R+=`<div class="total-healed-modern">Curacin Total: ${re.totalHealed}</div>`),R+="</div>",R},K="dnd-modern-modal-styles",ve=`
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Teko:wght@700&display=swap');
        .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .dnd-modern-swal-container { padding: 0 !important; }
        .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.5rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; }
        .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
        .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 15px; padding: 15px; border-radius: 4px; }
        .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.5rem; }
        .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.8rem; color: #ff4d4d; }
        .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 20px; padding: 10px; border-radius: 5px; }
        .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
        .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
        .dnd-modern-swal-popup .lifesteal-details { color: #4dff7e; }`,q=`
    .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
    .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
    .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
    .reroll-type { margin-bottom: 5px; padding-left: 10px; }
    .swal2-actions { gap: 15px !important; }
    .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
    .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`;let A=null;le.fire({width:600,html:X(k),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:P.rerollDice&&P.rerollDice.length>0,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{if(document.getElementById(K))return;const re=document.createElement("style");re.id=K,re.innerHTML=ve+q,document.head.appendChild(re)},didClose:()=>{k.totalHealed>0&&o.heal(k.totalHealed),o.addLog(`Ataque: ${P.name}`,`Dao total: ${k.grandTotal}. Curacin por robo de vida: ${k.totalHealed}.`)},preDeny:()=>(A=as(P.rerollDice),le.update({html:X(k,A),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const re=document.getElementById("swal-replace-btn");re&&(re.onclick=()=>{A||(A=as(P.rerollDice)),k=Ri(k,A),le.update({html:X(k,A),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1),preCancel:()=>(A||(A=as(P.rerollDice)),k=Ri(k,A),le.update({html:X(k,A),showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Cerrar"}),!1)})};return(P,D)=>(C(),x("div",{class:"attack-manager-overlay",onClick:D[5]||(D[5]=Me(k=>P.$emit("close"),["self"]))},[s("div",z1,[s("div",q1,[D[7]||(D[7]=s("h2",null,[s("i",{class:"bi bi-hammer"}),G(" Gestor de Ataques")],-1)),s("div",W1,[s("button",{onClick:h,class:"settings-btn"},D[6]||(D[6]=[s("i",{class:"bi bi-gear-fill"},null,-1)])),s("button",{onClick:D[0]||(D[0]=k=>P.$emit("close")),class:"close-btn"},"")])]),s("div",K1,[s("div",X1,[Q(n).attacks.length===0?(C(),x("div",G1," No hay ataques guardados. Crea uno nuevo! ")):se("",!0),(C(!0),x(De,null,Pe(Q(n).attacks,k=>(C(),x("div",{key:k.id,class:"attack-item","data-id":k.id},[s("div",J1,[D[8]||(D[8]=s("div",{class:"drag-handle"},[s("i",{class:"bi bi-grip-vertical"})],-1)),s("div",Q1,[s("span",Z1,B(k.name),1),s("div",ew,[(C(!0),x(De,null,Pe(k.damageRolls,(V,be)=>(C(),x("span",{key:be,class:"damage-tag"},B(V.dice)+" "+B(V.type),1))),128))])])]),s("div",tw,[s("button",{onClick:V=>T(k,!1),class:"action-btn btn-execute"},"Atacar",8,nw),s("button",{onClick:V=>T(k,!0),class:"action-btn btn-critical"},"Crtico",8,ow),s("button",{onClick:V=>_(k),class:"action-btn btn-edit"},"Editar",8,sw),s("button",{onClick:V=>M(k),class:"action-btn btn-duplicate"},"Duplicar",8,aw),s("button",{onClick:V=>L(k.id),class:"action-btn btn-delete"},"Eliminar",8,iw)])],8,Y1))),128))]),s("div",rw,[s("button",{onClick:D[1]||(D[1]=k=>v()),class:"btn-new-attack"},D[9]||(D[9]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),G(" Crear Nuevo Ataque ")]))]),i.value?(C(),x("div",{key:0,class:"attack-form-overlay",onClick:Me(E,["self"])},[s("div",lw,[s("div",cw,[s("h3",null,B(r.value?"Editar Ataque":"Nuevo Ataque"),1),s("button",{onClick:E,class:"form-close-btn","aria-label":"Cerrar formulario"},D[10]||(D[10]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",uw,[s("div",dw,[D[11]||(D[11]=s("label",{for:"attack-name"},"Nombre del Ataque",-1)),z(s("input",{id:"attack-name",type:"text","onUpdate:modelValue":D[2]||(D[2]=k=>f.name=k),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[ee,f.name]])]),s("div",fw,[D[15]||(D[15]=s("h4",null,[s("i",{class:"bi bi-dice-6-fill"}),G(" Tiradas de Dao")],-1)),(C(!0),x(De,null,Pe(f.damageRolls,(k,V)=>(C(),x("div",{key:V,class:"damage-roll-item"},[s("div",pw,[s("span",mw,"Dao #"+B(V+1),1),s("button",{onClick:be=>N(V),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:f.damageRolls.length===1},D[12]||(D[12]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,hw)]),s("div",gw,[s("div",vw,[s("label",{for:`dice-num-${V}`},"Cantidad",8,bw),z(s("input",{id:`dice-num-${V}`,type:"number","onUpdate:modelValue":be=>k.numDice=be,min:"1",max:"20",class:"input-narrow"},null,8,ww),[[ee,k.numDice,void 0,{number:!0}]])]),s("div",yw,[s("label",{for:`dice-type-${V}`},"Tipo de Dado",8,Cw),z(s("select",{id:`dice-type-${V}`,"onUpdate:modelValue":be=>k.diceType=be},D[13]||(D[13]=[Ln('<option value="4" data-v-179190ef>d4</option><option value="6" data-v-179190ef>d6</option><option value="8" data-v-179190ef>d8</option><option value="10" data-v-179190ef>d10</option><option value="12" data-v-179190ef>d12</option><option value="20" data-v-179190ef>d20</option><option value="100" data-v-179190ef>d100</option>',7)]),8,xw),[[mt,k.diceType,void 0,{number:!0}]])]),s("div",kw,[s("label",{for:`type-${V}`},"Tipo de Dao",8,_w),z(s("select",{id:`type-${V}`,"onUpdate:modelValue":be=>k.type=be},[(C(!0),x(De,null,Pe(Q(oo),be=>(C(),x("option",{key:be.id,value:be.id},B(be.name),9,Sw))),128))],8,$w),[[mt,k.type]])]),s("div",Dw,[s("label",{for:`bonus-${V}`},"Bonus",8,Ew),z(s("input",{id:`bonus-${V}`,type:"number","onUpdate:modelValue":be=>k.bonus=be,placeholder:"+3"},null,8,Tw),[[ee,k.bonus,void 0,{number:!0}]])]),s("div",Aw,[s("label",{for:`min-${V}`},"Mnimo",8,Hw),z(s("input",{id:`min-${V}`,type:"number","onUpdate:modelValue":be=>k.min=be,placeholder:"1",min:"1"},null,8,Pw),[[ee,k.min,void 0,{number:!0}]])]),s("div",Iw,[s("label",{for:`lifesteal-${V}`},"Robo de Vida (%)",8,Rw),z(s("input",{id:`lifesteal-${V}`,type:"number","onUpdate:modelValue":be=>k.lifeSteal.percentage=be,placeholder:"0",min:"0",max:"100"},null,8,Ow),[[ee,k.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:H,class:"btn-add-roll"},D[14]||(D[14]=[s("i",{class:"bi bi-plus-circle"},null,-1),G(" Aadir Tipo de Dao ")]))]),s("div",Mw,[D[20]||(D[20]=s("h4",null,[s("i",{class:"bi bi-arrow-repeat"}),G(" Dados de Reroll (Opcional)")],-1)),f.rerollDice.length===0?(C(),x("div",Bw,D[16]||(D[16]=[s("p",null,"No hay dados de reroll configurados",-1)]))):se("",!0),(C(!0),x(De,null,Pe(f.rerollDice,(k,V)=>(C(),x("div",{key:V,class:"damage-roll-item"},[s("div",Lw,[s("span",Nw,"Reroll #"+B(V+1),1),s("button",{onClick:be=>pe(V),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},D[17]||(D[17]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,Vw)]),s("div",jw,[s("div",Fw,[s("label",{for:`reroll-dice-num-${V}`},"Cantidad",8,Uw),z(s("input",{id:`reroll-dice-num-${V}`,type:"number","onUpdate:modelValue":be=>k.numDice=be,min:"1",max:"20",class:"input-narrow"},null,8,zw),[[ee,k.numDice,void 0,{number:!0}]])]),s("div",qw,[s("label",{for:`reroll-dice-type-${V}`},"Tipo de Dado",8,Ww),z(s("select",{id:`reroll-dice-type-${V}`,"onUpdate:modelValue":be=>k.diceType=be},D[18]||(D[18]=[Ln('<option value="4" data-v-179190ef>d4</option><option value="6" data-v-179190ef>d6</option><option value="8" data-v-179190ef>d8</option><option value="10" data-v-179190ef>d10</option><option value="12" data-v-179190ef>d12</option><option value="20" data-v-179190ef>d20</option><option value="100" data-v-179190ef>d100</option>',7)]),8,Kw),[[mt,k.diceType,void 0,{number:!0}]])]),s("div",Xw,[s("label",{for:`reroll-min-${V}`},"Mnimo",8,Gw),z(s("input",{id:`reroll-min-${V}`,type:"number","onUpdate:modelValue":be=>k.min=be,placeholder:"1",min:"1"},null,8,Yw),[[ee,k.min,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:ie,class:"btn-add-roll"},D[19]||(D[19]=[s("i",{class:"bi bi-plus-circle"},null,-1),G(" Aadir Dado de Reroll ")]))]),s("div",Jw,[s("button",{onClick:de,class:"btn-save"},[D[21]||(D[21]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),G(" "+B(r.value?"Guardar Cambios":"Crear Ataque"),1)]),s("button",{onClick:E,class:"btn-cancel"},D[22]||(D[22]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),G(" Cancelar ")]))])])])])):se("",!0),l.value?(C(),x("div",{key:1,class:"attack-form-overlay",onClick:Me($,["self"])},[s("div",Qw,[s("div",{class:"attack-form-header"},[D[24]||(D[24]=s("h3",null,[s("i",{class:"bi bi-gear-fill"}),G(" Configuracin de Dao Crtico")],-1)),s("button",{onClick:$,class:"form-close-btn","aria-label":"Cerrar configuracin"},D[23]||(D[23]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",Zw,[s("div",ey,[D[26]||(D[26]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),z(s("select",{id:"critical-rule","onUpdate:modelValue":D[3]||(D[3]=k=>c.rule=k),class:"settings-select"},D[25]||(D[25]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[mt,c.rule]])]),c.rule==="dad"?(C(),x("div",ty,[D[29]||(D[29]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),z(s("input",{type:"number",id:"character-level","onUpdate:modelValue":D[4]||(D[4]=k=>c.characterLevel=k),min:"1",max:"20",class:"settings-input"},null,512),[[ee,c.characterLevel,void 0,{number:!0}]]),u.value>0?(C(),x("div",ny,[D[28]||(D[28]=s("i",{class:"bi bi-lightning-charge-fill"},null,-1)),s("p",null,[D[27]||(D[27]=G("Bonus de dao por crtico: ")),s("strong",null,"+"+B(u.value),1)])])):se("",!0)])):se("",!0),s("div",{class:"form-actions"},[s("button",{onClick:y,class:"btn-save"},D[30]||(D[30]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),G(" Guardar ")])),s("button",{onClick:$,class:"btn-cancel"},D[31]||(D[31]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),G(" Cancelar ")]))])])])])):se("",!0)])])]))}},sy=ut(oy,[["__scopeId","data-v-179190ef"]]),ay={class:"passive-damage-manager-container"},iy={class:"header"},ry={class:"content"},ly={class:"passive-damages-list"},cy={key:0,class:"no-damages"},uy={class:"damage-info"},dy={class:"damage-name"},fy={key:0,class:"duration-tag"},py={class:"damage-summary"},my={class:"damage-actions"},hy=["onClick"],gy=["onClick"],vy=["onClick"],by={class:"new-damage-area"},wy={class:"damage-form"},yy={class:"damage-form-header"},Cy={class:"form-group"},xy={class:"form-group"},ky={class:"damage-rolls-section"},_y={class:"damage-roll-inputs"},$y={class:"form-group-inline"},Sy=["onUpdate:modelValue"],Dy={class:"form-group-inline"},Ey=["onUpdate:modelValue"],Ty={class:"form-group-inline"},Ay=["onUpdate:modelValue"],Hy={class:"form-group-inline"},Py=["onUpdate:modelValue"],Iy=["value"],Ry=["onClick","title"],Oy={class:"form-actions"},My={__name:"PassiveDamageManager",emits:["close"],setup(e,{emit:t}){const n=Us(),o=Z(!1),a=Z(!1),i=qt({id:null,name:"",duration:0,damageRolls:[]});St(()=>{document.body.style.overflow="hidden",n.loadData()}),Fn(()=>{document.body.style.overflow=""});const r=y=>{i.id=y.id,i.name=y.name,i.duration=y.duration||0,i.damageRolls.splice(0,i.damageRolls.length,...JSON.parse(JSON.stringify(y.damageRolls||[]))),o.value=!0},l=()=>{a.value=!1,r({id:null,name:"",duration:0,damageRolls:[{numDice:1,diceType:6,bonus:0,type:"bludgeoning"}]})},c=y=>{a.value=!0,r(y)},u=()=>{o.value=!1},f=()=>{i.damageRolls.push({numDice:1,diceType:6,bonus:0,type:"bludgeoning"})},p=y=>{i.damageRolls.splice(y,1)},m=()=>{if(!i.name||i.damageRolls.length===0){le.fire("Error","El nombre y al menos una tirada de dao son requeridos.","error");return}const y=JSON.parse(JSON.stringify(i));a.value?n.updatePassiveDamage(y):n.addPassiveDamage(y),u()},h=y=>{n.duplicatePassiveDamage(y)},$=y=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(v=>{v.isConfirmed&&(n.deletePassiveDamage(y),le.fire("Eliminado","El dao pasivo ha sido eliminado.","success"))})};return(y,v)=>(C(),x("div",{class:"passive-damage-manager-overlay",onClick:v[4]||(v[4]=Me(_=>y.$emit("close"),["self"]))},[s("div",ay,[s("div",iy,[v[5]||(v[5]=s("h2",null,[s("i",{class:"bi bi-shield-fill-exclamation"}),G(" Gestor de Dao Pasivo")],-1)),s("button",{onClick:v[0]||(v[0]=_=>y.$emit("close")),class:"close-btn"},"")]),s("div",ry,[s("div",ly,[Q(n).passiveDamages.length===0?(C(),x("div",cy," No hay daos pasivos configurados. ")):se("",!0),(C(!0),x(De,null,Pe(Q(n).passiveDamages,_=>(C(),x("div",{key:_.id,class:"damage-item"},[s("div",uy,[s("span",dy,B(_.name),1),_.duration>0?(C(),x("span",fy,[v[6]||(v[6]=s("i",{class:"bi bi-hourglass-split"},null,-1)),G(" "+B(_.duration)+" turnos restantes ",1)])):se("",!0),s("div",py,[(C(!0),x(De,null,Pe(_.damageRolls,(M,E)=>(C(),x("span",{key:E,class:"damage-tag"},B(M.numDice)+"d"+B(M.diceType)+B(M.bonus>0?"+"+M.bonus:"")+" "+B(M.type),1))),128))])]),s("div",my,[s("button",{onClick:M=>c(_),class:"action-btn btn-edit"},"Editar",8,hy),s("button",{onClick:M=>h(_.id),class:"action-btn btn-duplicate"},"Duplicar",8,gy),s("button",{onClick:M=>$(_.id),class:"action-btn btn-delete"},"Eliminar",8,vy)])]))),128))]),s("div",by,[s("button",{onClick:v[1]||(v[1]=_=>l()),class:"btn-new-damage"},v[7]||(v[7]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),G(" Aadir Dao Pasivo ")]))]),o.value?(C(),x("div",{key:0,class:"damage-form-overlay",onClick:Me(u,["self"])},[s("div",wy,[s("div",yy,[s("h3",null,B(a.value?"Editar Dao Pasivo":"Nuevo Dao Pasivo"),1),s("button",{onClick:u,class:"form-close-btn",title:"Cerrar"},"")]),s("div",Cy,[v[8]||(v[8]=s("label",{class:"form-label"},[s("i",{class:"bi bi-tag-fill"}),G(" Nombre ")],-1)),z(s("input",{type:"text","onUpdate:modelValue":v[2]||(v[2]=_=>i.name=_),placeholder:"Ej: Aura venenosa"},null,512),[[ee,i.name]])]),s("div",xy,[v[9]||(v[9]=s("label",{class:"form-label"},[s("i",{class:"bi bi-hourglass-split"}),G(" Duracin en Turnos "),s("span",{class:"label-hint"},"(0 para infinito)")],-1)),z(s("input",{type:"number","onUpdate:modelValue":v[3]||(v[3]=_=>i.duration=_),min:"0",placeholder:"0"},null,512),[[ee,i.duration,void 0,{number:!0}]])]),s("div",ky,[v[17]||(v[17]=s("h4",null,[s("i",{class:"bi bi-dice-5-fill"}),G(" Tiradas de Dao")],-1)),(C(!0),x(De,null,Pe(i.damageRolls,(_,M)=>(C(),x("div",{key:M,class:"damage-roll-item"},[s("div",_y,[s("div",$y,[v[10]||(v[10]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-hash"}),G(" Cantidad ")],-1)),z(s("input",{type:"number","onUpdate:modelValue":E=>_.numDice=E,min:"1",class:"input-narrow",placeholder:"1"},null,8,Sy),[[ee,_.numDice,void 0,{number:!0}]])]),s("div",Dy,[v[12]||(v[12]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-dice-6"}),G(" Dado ")],-1)),z(s("select",{"onUpdate:modelValue":E=>_.diceType=E},v[11]||(v[11]=[Ln('<option value="4" data-v-20861895>d4</option><option value="6" data-v-20861895>d6</option><option value="8" data-v-20861895>d8</option><option value="10" data-v-20861895>d10</option><option value="12" data-v-20861895>d12</option><option value="20" data-v-20861895>d20</option><option value="100" data-v-20861895>d100</option>',7)]),8,Ey),[[mt,_.diceType,void 0,{number:!0}]])]),s("div",Ty,[v[13]||(v[13]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-plus-slash-minus"}),G(" Bonus ")],-1)),z(s("input",{type:"number","onUpdate:modelValue":E=>_.bonus=E,placeholder:"0"},null,8,Ay),[[ee,_.bonus,void 0,{number:!0}]])]),s("div",Hy,[v[14]||(v[14]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-fire"}),G(" Tipo ")],-1)),z(s("select",{"onUpdate:modelValue":E=>_.type=E},[(C(!0),x(De,null,Pe(Q(oo),E=>(C(),x("option",{key:E.id,value:E.id},B(E.name),9,Iy))),128))],8,Py),[[mt,_.type]])])]),s("button",{onClick:E=>p(M),class:"btn-remove-roll",title:"Eliminar tirada "+(M+1)},v[15]||(v[15]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,Ry)]))),128)),s("button",{onClick:f,class:"btn-add-roll"},v[16]||(v[16]=[s("i",{class:"bi bi-plus-circle"},null,-1),G(" Aadir tipo de dao ")]))]),s("div",Oy,[s("button",{onClick:m,class:"btn-save"},[v[18]||(v[18]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),G(" "+B(a.value?"Guardar Cambios":"Crear"),1)]),s("button",{onClick:u,class:"btn-cancel"},v[19]||(v[19]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),G(" Cancelar ")]))])])])):se("",!0)])])]))}},By=ut(My,[["__scopeId","data-v-20861895"]]),Ly={class:"character-view-container fade-in"},Ny={class:"character-header"},Vy={key:0,class:"character-state-display"},jy=["src"],Fy={class:"character-name"},Uy={class:"state-title-display"},zy={key:1,class:"character-name"},qy={class:"turn-info"},Wy={class:"turn-number"},Ky={class:"health-section"},Xy={class:"health-header"},Gy={class:"health-stats"},Yy={class:"current-hp"},Jy={class:"max-hp"},Qy={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},Zy={class:"health-bar-container"},e0={class:"health-bar"},t0={class:"health-percentage"},n0={key:0,class:"necro-info"},o0={class:"necro-text"},s0={key:0,class:"temp-health-section"},a0={class:"temp-health-header"},i0={class:"temp-hp-value"},r0={class:"temp-health-bar-container"},l0={class:"temp-health-bar"},c0={key:1,class:"regeneration-info"},u0={class:"regeneration-text"},d0={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8 mb-2 custom-fold-row"},f0={key:0},p0={key:1},m0={key:0},h0={key:1},g0={class:"action-buttons"},v0=["disabled"],b0=["disabled"],w0=["disabled"],y0=["disabled"],C0=["disabled"],x0=["disabled"],k0={class:"secondary-actions"},_0={key:0,class:"state-selector-wrapper"},$0={key:0},S0={key:1},D0={class:"state-selector-navigation"},E0=["disabled"],T0={class:"state-indicators"},A0=["onClick"],H0={class:"state-preview"},P0=["src","alt"],I0={key:1,class:"state-preview-placeholder"},R0={class:"state-preview-title"},O0=["disabled"],M0={__name:"CharacterView",setup(e){const t=bs(),n=io(),o=ys(),a=ws();st();const i=Le(()=>a.selectedState&&a.selectedState.image?URL.createObjectURL(a.selectedState.image):null),r=q=>q&&q.image?URL.createObjectURL(q.image):null,l=q=>{a.setSelectedState(q)},c=()=>{const q=a.states.findIndex(A=>A.id===a.selectedStateId);q>0?a.setSelectedState(a.states[q-1].id):a.setSelectedState(a.states[a.states.length-1].id)},u=()=>{const q=a.states.findIndex(A=>A.id===a.selectedStateId);q<a.states.length-1?a.setSelectedState(a.states[q+1].id):a.setSelectedState(a.states[0].id)},f=Z(!1),p=Z(!1),m=Z(!1),h=Z(!1),$=Z(!0);function y(){try{const q=localStorage.getItem("dnd-character-folds");if(q){const A=JSON.parse(q);m.value=!!A.countersFolded,h.value=!!A.statesFolded,$.value=A.stateSelectorFolded!==void 0?!!A.stateSelectorFolded:!0}}catch{}}function v(){localStorage.setItem("dnd-character-folds",JSON.stringify({countersFolded:m.value,statesFolded:h.value,stateSelectorFolded:$.value}))}function _(){m.value=!m.value,v()}function M(){h.value=!h.value,v()}function E(){$.value=!$.value,v()}St(async()=>{n.loadData(),o.loadData(),await a.loadData(),y(),n.character.isConfigured||t.push("/config")});const H=()=>{const q=n.startTurn();if(q){const{totalDamage:A,damageDetails:re}=q,J=re.map(R=>`<li style="margin-bottom: 8px; color: #ecf0f1; font-size: 1rem;">
        <strong style="color: #f39c12;">${R.name}:</strong> ${R.damage} de dao (${R.details})
      </li>`).join("");le.fire({title:'<span style="color: #e74c3c;">Dao Pasivo Recibido</span>',html:`
        <div style="text-align: left; padding: 10px;">
          <p style="font-size: 1.2rem; margin-bottom: 15px; color: #ecf0f1;">
            Dao total: <strong style="color: #e74c3c; font-size: 1.5rem;">${A}</strong>
          </p>
          <ul style="list-style-type: none; padding-left: 0;">
            ${J}
          </ul>
        </div>
      `,icon:"warning",confirmButtonText:"Aceptar",customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn"},background:"#1a1a1a",color:"#ffffff"}).then(()=>{n.applyPassiveDamage(A,re)})}},N=()=>{n.endTurn()},ie=()=>{le.fire({title:"Curar Personaje",input:"number",inputLabel:"Cantidad de HP a curar",inputPlaceholder:"Ej: 10",inputAttributes:{min:"1",max:n.character.maxHp-n.character.currentHp},showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",inputValidator:q=>{if(!q||q<=0)return"Debes ingresar un nmero vlido";if(q>n.character.maxHp-n.character.currentHp)return`No puedes curar ms all del mximo (${n.character.maxHp-n.character.currentHp} HP)`}}).then(q=>{if(q.isConfirmed){const A=parseInt(q.value);n.heal(A)}})},pe=()=>{le.fire({title:"Agregar Vida Temporal",input:"number",inputLabel:"Cantidad de HP temporal",inputPlaceholder:"Ej: 15",inputAttributes:{min:"1",max:"999"},showCancelButton:!0,confirmButtonText:"Agregar",cancelButtonText:"Cancelar",inputValidator:q=>{if(!q||q<=0)return"Debes ingresar un nmero vlido"}}).then(q=>{if(q.isConfirmed){const A=parseInt(q.value);n.addTempHp(A)}})},de=()=>{le.fire({title:"Recibir Dao",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="damage-amount" type="number" placeholder="Ej: 25" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Recibir Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const q=document.getElementById("damage-amount").value,A=document.getElementById("necro-damage").checked;return!q||q<=0?(le.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(q),isNecroDamage:A}}}).then(q=>{if(q.isConfirmed){const{amount:A,isNecroDamage:re}=q.value;n.takeDamage(A,re)}})},L=()=>{le.fire({title:"Dao Resistente",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="resistant-damage-amount" type="number" placeholder="Ej: 20" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-resistant-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Aplicar Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const q=document.getElementById("resistant-damage-amount").value,A=document.getElementById("necro-resistant-damage").checked;return!q||q<=0?(le.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(q),isNecroDamage:A}}}).then(q=>{if(q.isConfirmed){const{amount:A,isNecroDamage:re}=q.value,J=Math.floor(A/2);n.takeDamage(J,re)}})},T=()=>{le.fire({title:"Resetear HP?",text:"Quieres restaurar la vida al mximo y eliminar la vida temporal?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&n.resetToMaxHp()})},P=async()=>{if(n.character.maxHp<n.character.originalMaxHp){const A=n.character.maxHp;n.character.maxHp=n.character.originalMaxHp,n.addLog("Restaurar HP Mximo",`HP mximo restaurado de ${A} a ${n.character.originalMaxHp} (dao necro revertido)`),n.saveToLocalStorage()}const{value:q}=await le.fire({title:`
      <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:8px;">
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
        <span>Ritual de Resurreccin</span>
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
      </div>
    `,html:`
      <div style="background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%); 
                  border: 2px solid #d4af37; 
                  border-radius: 12px; 
                  padding: 20px; 
                  margin: 10px 0;
                  box-shadow: inset 0 0 20px rgba(212, 175, 55, 0.1);">
        <div style="text-align: center; margin-bottom: 16px;">
          <div style="color: #f39c12; font-size: 1.2em; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">
            ${n.character.name}
          </div>
          <div style="color: #bbb; font-size: 0.9em; margin-top: 4px;">
            Elige el mtodo de resurreccin
          </div>
        </div>
        <div style="text-align: left; font-size: 1.05em;">
          <!-- Opcin 1: 1 HP -->
          <label style="display: block; background: linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%); border: 1px solid rgba(39, 174, 96, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease; position: relative;"
                 onmouseover="this.style.borderColor='rgba(39, 174, 96, 0.6)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.25) 0%, rgba(39, 174, 96, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(39, 174, 96, 0.3)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="1" checked style="accent-color: #27ae60; transform: scale(1.2);">
              <i class="bi bi-heart" style="color: #27ae60; font-size: 1.1em;"></i>
              <div>
                <div style="color: #27ae60; font-weight: 700; font-size: 1.05em;">Resurreccin Bsica</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con 1 punto de vida</div>
              </div>
            </div>
          </label>
          <!-- Opcin 2: Media vida -->
          <label style="display: block; background: linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%); border: 1px solid rgba(243, 156, 18, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(243, 156, 18, 0.6)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.25) 0%, rgba(243, 156, 18, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(243, 156, 18, 0.3)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="half" style="accent-color: #f39c12; transform: scale(1.2);">
              <i class="bi bi-heart-half" style="color: #f39c12; font-size: 1.1em;"></i>
              <div>
                <div style="color: #f39c12; font-weight: 700; font-size: 1.05em;">Resurreccin Mejorada</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con ${Math.floor(n.character.maxHp/2)} HP (50% vida mxima)</div>
              </div>
            </div>
          </label>
          <!-- Opcin 3: Personalizada -->
          <label style="display: block; background: linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%); border: 1px solid rgba(155, 89, 182, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 16px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(155, 89, 182, 0.6)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.25) 0%, rgba(155, 89, 182, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(155, 89, 182, 0.3)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%)'">
            <div style="display: flex; align-items: flex-start; gap: 10px;">
              <input type="radio" name="reviveOption" value="custom" style="accent-color: #9b59b6; transform: scale(1.2); margin-top: 2px;">
              <i class="bi bi-gear-fill" style="color: #9b59b6; font-size: 1.1em; margin-top: 2px;"></i>
              <div style="flex: 1;">
                <div style="color: #9b59b6; font-weight: 700; font-size: 1.05em; margin-bottom: 8px;">Resurreccin Personalizada</div>
                <input id="customHpInput" type="number" min="1" max="${n.character.maxHp}" placeholder="Cantidad de HP" disabled style="width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(155, 89, 182, 0.4); border-radius: 6px; padding: 8px 12px; color: #fff; font-size: 0.95em; transition: all 0.3s ease;" onfocus="this.style.borderColor='#9b59b6'; this.style.boxShadow='0 0 8px rgba(155, 89, 182, 0.3)'" onblur="this.style.borderColor='rgba(155, 89, 182, 0.4)'; this.style.boxShadow='none'">
                <div style="color: #aaa; font-size: 0.85em; margin-top: 4px;">Especifica la cantidad exacta de HP</div>
              </div>
            </div>
          </label>
        </div>
        <div style="background: rgba(52, 152, 219, 0.1); border: 1px solid rgba(52, 152, 219, 0.3); border-radius: 6px; padding: 12px; text-align: center;">
          <i class="bi bi-info-circle-fill" style="color: #3498db; margin-right: 8px;"></i>
          <span style="color: #bbb; font-size: 0.9em;">Vida mxima actual: <strong style="color: #3498db;">${n.character.maxHp} HP</strong></span>
        </div>
      </div>
    `,customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn",cancelButton:"dnd-cancel-btn"},showCancelButton:!0,confirmButtonText:`
      <i class="bi bi-magic" style="margin-right: 8px; color: #d4af37;"></i>
      Realizar Ritual
    `,cancelButtonText:`
      <i class="bi bi-x-circle" style="margin-right: 6px;"></i>
      Cancelar
    `,background:"#1a1a1a",color:"#ffffff",preConfirm:()=>{const A=document.querySelector('input[name="reviveOption"]:checked').value;if(A==="custom"){const re=parseInt(document.getElementById("customHpInput").value);return isNaN(re)||re<1||re>n.character.maxHp?(le.showValidationMessage(`Introduce un valor entre 1 y ${n.character.maxHp}`),!1):re}return A==="half"?Math.floor(n.character.maxHp/2):1},didOpen:()=>{const A=document.createElement("style");A.textContent=`
        .dnd-modal-popup {
          background: linear-gradient(145deg, #2c2c2c 0%, #1a1a1a 100%) !important;
          border: 2px solid #d4af37 !important;
          border-radius: 16px !important;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7), 0 0 30px rgba(212, 175, 55, 0.2) !important;
        }
        .dnd-modal-title {
          color: #d4af37 !important;
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8) !important;
          font-weight: 700 !important;
          font-size: 1.4em !important;
        }
        .dnd-confirm-btn {
          background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%) !important;
          color: #1a1a1a !important;
          border: none !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 600 !important;
          font-size: 1.05em !important;
          transition: all 0.3s ease !important;
          box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3) !important;
        }
        .dnd-confirm-btn:hover {
          background: linear-gradient(135deg, #e6c451 0%, #d4af37 100%) !important;
          transform: translateY(-2px) !important;
          box-shadow: 0 6px 16px rgba(212, 175, 55, 0.4) !important;
        }
        .dnd-cancel-btn {
          background: linear-gradient(135deg, #555 0%, #333 100%) !important;
          color: #fff !important;
          border: 1px solid #666 !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 500 !important;
          transition: all 0.3s ease !important;
        }
        .dnd-cancel-btn:hover {
          background: linear-gradient(135deg, #666 0%, #444 100%) !important;
          border-color: #777 !important;
          transform: translateY(-1px) !important;
        }
        .swal2-actions {
          gap: 16px !important;
          margin-top: 24px !important;
        }
      `,document.head.appendChild(A);const re=le.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),J=le.getHtmlContainer().querySelector("#customHpInput");re.forEach(R=>{R.addEventListener("change",()=>{R.value==="custom"?(J.disabled=!1,J.focus()):J.disabled=!0})})}});q&&q>0&&n.revive(q)},D=()=>{le.fire({title:"Resetear Turno?",text:"Quieres volver al turno 0?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&n.resetTurn()})},k=()=>{t.push("/config")},V=()=>{t.push("/logs")},be=()=>{le.fire({title:"Descanso Largo",text:"Quieres restaurar la vida al mximo, reiniciar el turno y recargar contadores?",icon:"question",showCancelButton:!0,confirmButtonText:"S, descansar",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&(n.resetToMaxHp(),n.resetTurn(),o.regenerateCountersByRest("long"))})},X=()=>{le.fire({title:"Descanso Corto",text:"Quieres reiniciar el contador de turnos y recargar contadores? (La vida no se restaura)",icon:"question",showCancelButton:!0,confirmButtonText:"S, reiniciar turnos",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&(n.resetTurn(),o.regenerateCountersByRest("short"))})},K=()=>{const q=n.character.originalMaxHp-n.character.maxHp;le.fire({title:"Curar Dao Necro",html:`
      <div style="margin-bottom: 20px;">
        <p style="margin-bottom: 15px; color: #ecf0f1;">Dao necro acumulado: <strong style="color: #e74c3c;">${q} HP</strong></p>
        <input id="heal-necro-amount" type="number" placeholder="Cantidad a curar" min="1" max="${q}" value="1" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left; background: rgba(231, 76, 60, 0.2); padding: 12px; border-radius: 8px; border: 1px solid rgba(231, 76, 60, 0.3);">
          <p style="margin: 0; color: #e74c3c; font-size: 0.9rem;">
            <strong>Qu hace esta accin?</strong><br>
            - Aumenta tu HP mximo en la cantidad especificada<br>
            - Cura tu HP actual en la misma cantidad
          </p>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",preConfirm:()=>{const A=document.getElementById("heal-necro-amount").value;if(!A||A<=0)return le.showValidationMessage("Debes ingresar un nmero vlido"),!1;const re=parseInt(A);return re>q?(le.showValidationMessage(`No puedes curar ms dao necro del acumulado (${q} HP)`),!1):{amount:re}}}).then(A=>{if(A.isConfirmed){const{amount:re}=A.value;ve(re)}})},ve=q=>{const A=n.character.maxHp,re=n.character.currentHp;n.character.maxHp=Math.min(n.character.originalMaxHp,n.character.maxHp+q),n.character.currentHp=Math.min(n.character.maxHp,n.character.currentHp+q),n.addLog("Curar Dao Necro",`HP mximo restaurado: +${n.character.maxHp-A} (${A}  ${n.character.maxHp}) | HP actual curado: +${n.character.currentHp-re} (${re}  ${n.character.currentHp})`),n.saveToLocalStorage(),le.fire({icon:"success",title:"Dao Necro Curado",text:`Has curado ${q} puntos de dao necro`,timer:2e3,showConfirmButton:!1})};return(q,A)=>(C(),x("div",Ly,[s("div",Ny,[Q(a).selectedState?(C(),x("div",Vy,[i.value?(C(),x("img",{key:0,src:i.value,alt:"Estado del personaje",class:"state-image-display"},null,8,jy)):se("",!0),s("h1",Fy,B(Q(n).character.name),1),s("span",Uy,B(Q(a).selectedState.title),1)])):(C(),x("h1",zy,B(Q(n).character.name),1)),s("div",qy,[A[4]||(A[4]=s("span",{class:"turn-label"},"Turno:",-1)),s("span",Wy,B(Q(n).turn.current),1)])]),s("div",Ky,[s("div",Xy,[A[6]||(A[6]=s("h2",null,"Puntos de Vida",-1)),s("div",Gy,[s("span",Yy,B(Q(n).character.currentHp),1),A[5]||(A[5]=s("span",{class:"separator"},"/",-1)),s("span",Jy,B(Q(n).character.maxHp),1),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("span",Qy,"  ")):se("",!0)])]),s("div",Zy,[s("div",e0,[s("div",{class:ze(["health-fill",Q(n).hasTempHp?"temp-hp":Q(n).hpBarColor]),style:sn({width:`${Q(n).hpPercentage}%`})},null,6),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("div",{key:0,class:"necro-bar-indicator",style:sn({left:`${Q(n).character.maxHp/Q(n).character.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):se("",!0)]),s("div",t0,B(Math.round(Q(n).hpPercentage))+"%",1)]),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("div",n0,[A[7]||(A[7]=s("span",{class:"necro-icon"},"",-1)),s("span",o0,"HP mximo reducido por dao necro: "+B(Q(n).character.maxHp)+" / "+B(Q(n).character.originalMaxHp),1)])):se("",!0)]),Q(n).hasTempHp?(C(),x("div",s0,[s("div",a0,[A[8]||(A[8]=s("h3",null,"Vida Temporal",-1)),s("span",i0,B(Q(n).character.tempHp),1)]),s("div",r0,[s("div",l0,[s("div",{class:"temp-health-fill",style:sn({width:`${Q(n).tempHpPercentage}%`})},null,4)])])])):se("",!0),Q(n).character.regeneration>0?(C(),x("div",c0,[A[9]||(A[9]=s("span",{class:"regeneration-icon"},"",-1)),s("span",u0,"Regeneracin: +"+B(Q(n).character.regeneration)+" HP/turno",1)])):se("",!0),s("div",d0,[s("div",null,[s("button",{onClick:_,class:"fold-btn"},[m.value?(C(),x("span",f0," Mostrar Contadores")):(C(),x("span",p0," Ocultar Contadores"))]),z(s("div",null,[Ge(e1)],512),[[Wa,!m.value]])]),s("div",null,[s("button",{onClick:M,class:"fold-btn"},[h.value?(C(),x("span",m0," Mostrar Estados")):(C(),x("span",h0," Ocultar Estados"))]),z(s("div",null,[Ge(b1)],512),[[Wa,!h.value]])])]),s("div",g0,[Q(n).turn.isActive?(C(),x("button",{key:1,onClick:N,class:"action-btn btn-end-turn"},A[11]||(A[11]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Finalizar Turno",-1)]))):(C(),x("button",{key:0,onClick:H,class:"action-btn btn-start-turn"},A[10]||(A[10]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Iniciar Turno",-1)]))),s("button",{onClick:ie,class:"action-btn btn-heal",disabled:!Q(n).isAlive||Q(n).character.currentHp>=Q(n).character.maxHp},A[12]||(A[12]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Curar",-1)]),8,v0),s("button",{onClick:pe,class:"action-btn btn-temp-hp",disabled:!Q(n).isAlive},A[13]||(A[13]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Vida Temporal",-1)]),8,b0),s("button",{onClick:de,class:"action-btn btn-damage",disabled:!Q(n).isAlive},A[14]||(A[14]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Recibir Dao",-1)]),8,w0),s("button",{onClick:L,class:"action-btn btn-resistant-damage",disabled:!Q(n).isAlive},A[15]||(A[15]=[s("span",{class:"btn-icon"},[s("i",{"data-v-6dd7d5c6":"",class:"bi bi-shield-slash"})],-1),s("span",{class:"btn-text"},"Dao Resistente",-1)]),8,y0),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("button",{key:2,onClick:K,class:"action-btn btn-restore-max",title:"Curar una cantidad especfica de dao necro"},A[16]||(A[16]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Curar Dao Necro",-1)]))):se("",!0),s("button",{onClick:A[0]||(A[0]=re=>f.value=!0),class:"action-btn btn-attack-manager",disabled:!Q(n).isAlive},A[17]||(A[17]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Gestor de Ataques",-1)]),8,C0),s("button",{onClick:A[1]||(A[1]=re=>p.value=!0),class:"action-btn btn-passive-damage-manager",disabled:!Q(n).isAlive},A[18]||(A[18]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Dao Pasivo",-1)]),8,x0)]),f.value?(C(),vn(sy,{key:2,onClose:A[2]||(A[2]=re=>f.value=!1)})):se("",!0),p.value?(C(),vn(By,{key:3,onClose:A[3]||(A[3]=re=>p.value=!1)})):se("",!0),s("div",k0,[s("button",{onClick:be,class:"secondary-btn btn-long-rest"},A[19]||(A[19]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Descanso Largo",-1)])),s("button",{onClick:X,class:"secondary-btn btn-short-rest"},A[20]||(A[20]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Descanso Corto",-1)])),Q(a).selectedState?(C(),x("div",_0,[s("button",{onClick:E,class:"state-selector-fold-btn"},[$.value?(C(),x("span",$0," Mostrar Selector de Estados")):(C(),x("span",S0," Ocultar Selector de Estados"))]),z(s("div",D0,[s("button",{onClick:c,class:"state-nav-btn state-nav-prev",disabled:Q(a).states.length<=1,title:"Estado anterior"},A[21]||(A[21]=[s("span",null,"",-1)]),8,E0),s("div",T0,[(C(!0),x(De,null,Pe(Q(a).states,re=>(C(),x("button",{key:re.id,onClick:J=>l(re.id),class:ze(["state-indicator",{active:re.id===Q(a).selectedStateId}])},[s("div",H0,[re.image?(C(),x("img",{key:0,src:r(re),alt:re.title,class:"state-preview-image"},null,8,P0)):(C(),x("div",I0,A[22]||(A[22]=[s("span",null,"",-1)])))]),s("span",R0,B(re.title),1)],10,A0))),128))]),s("button",{onClick:u,class:"state-nav-btn state-nav-next",disabled:Q(a).states.length<=1,title:"Estado siguiente"},A[23]||(A[23]=[s("span",null,"",-1)]),8,O0)],512),[[Wa,!$.value]])])):se("",!0),s("button",{onClick:T,class:"secondary-btn btn-reset"},A[24]||(A[24]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Resetear HP",-1)])),Q(n).isAlive?se("",!0):(C(),x("button",{key:1,onClick:P,class:"secondary-btn btn-revive"},A[25]||(A[25]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Revivir",-1)]))),s("button",{onClick:D,class:"secondary-btn btn-reset-turn"},A[26]||(A[26]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Resetear Turno",-1)])),s("button",{onClick:V,class:"secondary-btn btn-logs"},A[27]||(A[27]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Ver Historial",-1)])),s("button",{onClick:k,class:"secondary-btn btn-config"},A[28]||(A[28]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Configuracin",-1)]))])]))}},B0=ut(M0,[["__scopeId","data-v-d6e11421"]]),L0={class:"logs-view-container fade-in"},N0={class:"logs-header"},V0={class:"logs-stats"},j0={class:"stats-item"},F0={class:"stats-value"},U0={class:"stats-item"},z0={class:"stats-value"},q0={class:"logs-filters"},W0={class:"filter-group"},K0={class:"filter-group"},X0=["value"],G0={class:"logs-content"},Y0={key:0,class:"no-logs"},J0={key:1,class:"logs-list"},Q0={class:"turn-header"},Z0={class:"turn-title"},e2={class:"turn-count"},t2={class:"turn-logs"},n2={class:"log-header"},o2={class:"log-action"},s2={class:"action-icon"},a2={class:"action-name"},i2={class:"log-time"},r2={class:"log-details"},l2={class:"log-description"},c2={key:0,class:"hp-changes"},u2={key:0,class:"hp-change"},d2={key:1,class:"hp-change"},f2={__name:"LogsView",setup(e){const t=bs(),n=io(),o=Z(""),a=Z("");St(()=>{n.loadData(),n.character.isConfigured||t.push("/config")});const i=Le(()=>Object.keys(n.logsByTurn).map(Number).sort((v,_)=>_-v)),r=Le(()=>{let y=n.logs;return o.value&&(y=y.filter(v=>v.action===o.value)),a.value!==""&&(y=y.filter(v=>v.turn===a.value)),y}),l=Le(()=>{const y={};return r.value.forEach(v=>{y[v.turn]||(y[v.turn]=[]),y[v.turn].push(v)}),Object.fromEntries(Object.entries(y).sort(([v],[_])=>Number(_)-Number(v)))}),c=()=>{o.value="",a.value=""},u=y=>({"Inicio de Turno":"log-turn-start","Fin de Turno":"log-turn-end",Curacin:"log-heal","Regeneracin Automtica":"log-regen","Vida Temporal":"log-temp","Dao Recibido":"log-damage","Reset HP":"log-reset","Reset Turno":"log-reset-turn",Configuracin:"log-config"})[y]||"log-default",f=y=>({"Inicio de Turno":"","Fin de Turno":"",Curacin:"","Regeneracin Automtica":"","Vida Temporal":"","Dao Recibido":"","Reset HP":"","Reset Turno":"",Configuracin:""})[y]||"",p=(y,v)=>v>y?"hp-increase":v<y?"hp-decrease":"hp-no-change",m=()=>{const y=n.logs.map(E=>`[${E.timestamp}] Turno ${E.turn} - ${E.action}: ${E.details}`).join(`
`),v=new Blob([y],{type:"text/plain"}),_=URL.createObjectURL(v),M=document.createElement("a");M.href=_,M.download=`dnd-logs-${n.character.name}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(_),le.fire({icon:"success",title:"Logs Exportados",text:"Los logs se han descargado correctamente",timer:2e3,showConfirmButton:!1})},h=()=>{t.push("/character")},$=()=>{le.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(y=>{y.isConfirmed&&(n.clearAllLogs(),le.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})};return(y,v)=>(C(),x("div",L0,[s("div",N0,[v[4]||(v[4]=s("h1",{class:"logs-title"}," Historial de Acciones",-1)),s("div",V0,[s("span",j0,[v[2]||(v[2]=s("span",{class:"stats-label"},"Total de Acciones:",-1)),s("span",F0,B(Q(n).logs.length),1)]),s("span",U0,[v[3]||(v[3]=s("span",{class:"stats-label"},"Turnos Registrados:",-1)),s("span",z0,B(Object.keys(Q(n).logsByTurn).length),1)])])]),s("div",q0,[s("div",W0,[v[6]||(v[6]=s("label",{for:"actionFilter",class:"filter-label"},"Filtrar por Accin:",-1)),z(s("select",{id:"actionFilter","onUpdate:modelValue":v[0]||(v[0]=_=>o.value=_),class:"filter-select"},v[5]||(v[5]=[Ln('<option value="" data-v-e48a34f0>Todas las acciones</option><option value="Inicio de Turno" data-v-e48a34f0>Inicio de Turno</option><option value="Fin de Turno" data-v-e48a34f0>Fin de Turno</option><option value="Curacin" data-v-e48a34f0>Curacin</option><option value="Regeneracin Automtica" data-v-e48a34f0>Regeneracin Automtica</option><option value="Vida Temporal" data-v-e48a34f0>Vida Temporal</option><option value="Dao Recibido" data-v-e48a34f0>Dao Recibido</option><option value="Reset HP" data-v-e48a34f0>Reset HP</option><option value="Reset Turno" data-v-e48a34f0>Reset Turno</option><option value="Configuracin" data-v-e48a34f0>Configuracin</option>',10)]),512),[[mt,o.value]])]),s("div",K0,[v[8]||(v[8]=s("label",{for:"turnFilter",class:"filter-label"},"Filtrar por Turno:",-1)),z(s("select",{id:"turnFilter","onUpdate:modelValue":v[1]||(v[1]=_=>a.value=_),class:"filter-select"},[v[7]||(v[7]=s("option",{value:""},"Todos los turnos",-1)),(C(!0),x(De,null,Pe(i.value,_=>(C(),x("option",{key:_,value:_}," Turno "+B(_),9,X0))),128))],512),[[mt,a.value]])]),s("button",{onClick:c,class:"clear-filters-btn"},v[9]||(v[9]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Limpiar Filtros",-1)]))]),s("div",G0,[r.value.length===0?(C(),x("div",Y0,v[10]||(v[10]=[s("div",{class:"no-logs-icon"},"",-1),s("h3",null,"No hay logs para mostrar",-1),s("p",null,"Los logs aparecern aqu cuando realices acciones con tu personaje",-1)]))):(C(),x("div",J0,[(C(!0),x(De,null,Pe(l.value,(_,M)=>(C(),x("div",{key:M,class:"turn-group"},[s("div",Q0,[s("h2",Z0,[v[11]||(v[11]=s("span",{class:"turn-icon"},"",-1)),G(" Turno "+B(M),1)]),s("span",e2,B(_.length)+" acciones",1)]),s("div",t2,[(C(!0),x(De,null,Pe(_,E=>(C(),x("div",{key:E.id,class:ze(["log-entry",u(E.action)])},[s("div",n2,[s("div",o2,[s("span",s2,B(f(E.action)),1),s("span",a2,B(E.action),1)]),s("div",i2,B(E.timestamp),1)]),s("div",r2,[s("p",l2,B(E.details),1),E.hpBefore!==E.hpAfter||E.tempHpBefore!==E.tempHpAfter?(C(),x("div",c2,[E.hpBefore!==E.hpAfter?(C(),x("div",u2,[v[12]||(v[12]=s("span",{class:"change-label"},"HP:",-1)),s("span",{class:ze(["change-value",p(E.hpBefore,E.hpAfter)])},B(E.hpBefore)+"  "+B(E.hpAfter),3)])):se("",!0),E.tempHpBefore!==E.tempHpAfter?(C(),x("div",d2,[v[13]||(v[13]=s("span",{class:"change-label"},"HP Temporal:",-1)),s("span",{class:ze(["change-value",p(E.tempHpBefore,E.tempHpAfter)])},B(E.tempHpBefore)+"  "+B(E.tempHpAfter),3)])):se("",!0)])):se("",!0)])],2))),128))])]))),128))]))]),s("div",{class:"logs-actions"},[s("button",{onClick:$,class:"action-btn btn-clear"},v[14]||(v[14]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Limpiar Logs",-1)])),s("button",{onClick:m,class:"action-btn btn-export"},v[15]||(v[15]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Exportar Logs",-1)])),s("button",{onClick:h,class:"action-btn btn-character"},v[16]||(v[16]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Volver al Personaje",-1)]))])]))}},p2=ut(f2,[["__scopeId","data-v-e48a34f0"]]),Sd=Un("dm",{state:()=>({characters:[],currentTurn:0,isTurnActive:!1,criticalHit:{rule:"default",characterLevel:1}}),getters:{aliveCharacters:e=>e.characters.filter(t=>t.currentHp>0),deadCharacters:e=>e.characters.filter(t=>t.currentHp<=0),aliveCount:e=>e.aliveCharacters.length,deadCount:e=>e.deadCharacters.length,getCharacterById:e=>t=>e.characters.find(n=>n.id===t),getCharacterByName:e=>t=>e.characters.find(n=>n.name===t),charactersByHp:e=>[...e.characters].sort((t,n)=>t.currentHp+t.tempHp-(n.currentHp+n.tempHp)),charactersByName:e=>[...e.characters].sort((t,n)=>t.name.localeCompare(n.name))},actions:{createCharacter(e,t,n=0,o="",a="",i="",r="",l="",c="",u="",f="",p="",m="",h=""){const $={id:nt(),name:e.trim(),maxHp:parseInt(t),originalMaxHp:parseInt(t),currentHp:parseInt(t),tempHp:0,regeneration:parseInt(n)||0,xp:o,resistencias:a,inmunidades:i,fuerza:r,destreza:l,constitucion:c,inteligencia:u,sabiduria:f,carisma:p,notas:m,ca:h,isConfigured:!0,createdAt:new Date().toISOString(),logs:[],defeatedBy:null,attacks:[]};return this.characters.push($),this.addLogToCharacter($.id,"Creacin",`${e} creado con ${t} HP`),this.saveData(),$},deleteCharacter(e){const t=this.characters.findIndex(n=>n.id===e);return t!==-1?(this.characters.splice(t,1),this.saveData(),!0):!1},editCharacter(e,t){const n=this.getCharacterById(e);return n?(Object.assign(n,t),t.maxHp!==void 0&&(n.maxHp=parseInt(t.maxHp,10)),t.currentHp!==void 0&&(n.currentHp=parseInt(t.currentHp,10)),t.regeneration!==void 0&&(n.regeneration=parseInt(t.regeneration,10)||0),this.addLogToCharacter(e,"Edicin","Personaje editado"),this.saveData(),!0):!1},addLogToCharacter(e,t,n){const o=this.getCharacterById(e);if(o){const a={id:nt(),timestamp:new Date().toLocaleTimeString(),turn:this.currentTurn,action:t,details:n};o.logs.unshift(a),o.logs.length>50&&(o.logs.length=50)}},healCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.currentHp;return n.currentHp=Math.min(n.maxHp,n.currentHp+parseInt(t)),n.currentHp>o&&(this.addLogToCharacter(e,"Curacin",`+${n.currentHp-o} HP`),this.saveData()),n.currentHp-o}return 0},addTempHpToCharacter(e,t){const n=this.getCharacterById(e);return n?(n.tempHp+=parseInt(t),this.addLogToCharacter(e,"Vida Temporal",`+${t} HP temporal`),this.saveData(),n.tempHp):0},damageCharacter(e,t,n=!1){const o=this.getCharacterById(e);if(o){let a=parseInt(t);const i=Math.min(a,o.tempHp);return o.tempHp-=i,a-=i,o.currentHp=Math.max(0,o.currentHp-a),n&&(o.maxHp=Math.max(1,o.maxHp-a)),this.addLogToCharacter(e,"Dao Recibido",`-${t} HP`),this.saveData(),{damageDealt:t,remainingHp:o.currentHp}}return null},setDefeatedBy(e,t){const n=this.getCharacterById(e);return n?(n.defeatedBy=t,this.saveData(),!0):!1},resetCharacterToMaxHp(e){const t=this.getCharacterById(e);return t?(t.currentHp=t.originalMaxHp,t.maxHp=t.originalMaxHp,t.tempHp=0,t.defeatedBy=null,this.addLogToCharacter(e,"Reset HP","HP restaurado al mximo"),this.saveData(),!0):!1},reviveCharacter(e,t=1){const n=this.getCharacterById(e);return n&&n.currentHp<=0?(n.currentHp=Math.min(parseInt(t)||1,n.maxHp),n.tempHp=0,n.defeatedBy=null,this.addLogToCharacter(e,"Revivir",`Personaje revivido con ${n.currentHp} HP`),this.saveData(),!0):!1},startTurn(){this.currentTurn++,this.isTurnActive=!0,this.characters.forEach(e=>{e.regeneration>0&&e.currentHp>0&&this.healCharacter(e.id,e.regeneration)}),this.saveData()},endTurn(){this.isTurnActive=!1,this.saveData()},resetAllTurns(){this.currentTurn=0,this.isTurnActive=!1,this.saveData()},resetAllCharacters(){this.characters.forEach(e=>this.resetCharacterToMaxHp(e.id))},clearAllLogs(){this.characters.forEach(e=>{e.logs=[]}),this.saveData()},duplicateCharacter(e){const t=this.getCharacterById(e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=nt(),n.name=`${t.name} (Copia)`,this.characters.push(n),this.addLogToCharacter(n.id,"Clonacin",`Clonado de ${t.name}`),this.saveData()}},clearAllData(){this.characters=[],this.currentTurn=0,this.isTurnActive=!1,this.saveData()},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveData()},addAttackToCharacter(e,t){const n=this.getCharacterById(e);n&&(n.attacks.push({...t,id:nt()}),this.saveData())},updateAttackInCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.attacks.findIndex(a=>a.id===t.id);o!==-1&&(n.attacks[o]=t,this.saveData())}},deleteAttackFromCharacter(e,t){const n=this.getCharacterById(e);n&&(n.attacks=n.attacks.filter(o=>o.id!==t),this.saveData())},duplicateAttackInCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.attacks.find(a=>a.id===t);if(o){const a={...o,id:nt(),name:`${o.name} (Copia)`},i=n.attacks.findIndex(r=>r.id===t);n.attacks.splice(i+1,0,a),this.saveData()}}},updateCharacterAttackOrder(e,t){const n=this.getCharacterById(e);n&&(n.attacks=t.map(o=>n.attacks.find(a=>a.id===o)).filter(Boolean),this.saveData())},saveData(){const e=st(),t={characters:this.characters,currentTurn:this.currentTurn,isTurnActive:this.isTurnActive,criticalHit:this.criticalHit};e.updateSection("dm",t)},loadData(){const t=st().getSection("dm");t&&(this.characters=t.characters||[],this.currentTurn=t.currentTurn||0,this.isTurnActive=t.isTurnActive||!1,this.criticalHit=t.criticalHit||{rule:"default",characterLevel:1},this.characters.forEach(n=>{n.attacks||(n.attacks=[])}))}}}),m2=["Acrobacias","Arcanos","Atletismo","Engao","Historia","Interpretacin","Intimidacin","Investigacin","Juego de Manos","Medicina","Naturaleza","Percepcin","Perspicacia","Persuasin","Religin","Sigilo","Supervivencia","Trato con Animales"],Bl=()=>m2.map(e=>({id:nt(),name:e,value:0,step:1,isVisible:!0})),Dd=Un("player",{state:()=>({players:[]}),getters:{mostUsedXpValues:e=>{const t=e.players.flatMap(n=>n.xpHistory||[]).reduce((n,o)=>(n[o.amount]=(n[o.amount]||0)+1,n),{});return Object.entries(t).sort(([,n],[,o])=>o-n).slice(0,3).map(([n])=>parseInt(n))}},actions:{loadData(){const t=st().getSection("players");t&&(this.players=t.map(n=>({...n,counters:n.counters||Bl()})))},saveData(){st().updateSection("players",this.players)},addPlayer(e){if(!e||!e.trim())return;const t={id:nt(),name:e.trim(),sessionXp:0,xpHistory:[],notes:"",counters:Bl()};this.players.push(t),this.saveData()},deletePlayer(e){this.players=this.players.filter(t=>t.id!==e),this.saveData()},addXpToPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&t>0&&(n.sessionXp=(n.sessionXp||0)+parseInt(t),n.xpHistory||(n.xpHistory=[]),n.xpHistory.push({amount:parseInt(t),timestamp:new Date().toISOString()}),this.saveData())},addXpToAllPlayers(e){e>0&&this.players.forEach(t=>this.addXpToPlayer(t.id,e))},startNewSession(){this.players.forEach(e=>{e.sessionXp=0,e.xpHistory=[]}),this.saveData()},removeXpFromPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&t>0&&(n.sessionXp-=parseInt(t),n.xpHistory.push({amount:-parseInt(t),timestamp:new Date().toISOString()}),this.saveData())},editPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&(Object.assign(n,t),this.saveData())},_getPlayer(e){return this.players.find(t=>t.id===e)},addCounter(e,t){const n=this._getPlayer(e);n&&(n.counters.push({id:nt(),name:t.name||"Nuevo Contador",value:t.value||0,step:t.step||1,isVisible:!0}),this.saveData())},editCounter(e,t,n){const o=this._getPlayer(e),a=o==null?void 0:o.counters.find(i=>i.id===t);a&&(Object.assign(a,n),this.saveData())},deleteCounter(e,t){const n=this._getPlayer(e);n&&(n.counters=n.counters.filter(o=>o.id!==t),this.saveData())},updateCounterValue(e,t,n){const o=this._getPlayer(e),a=o==null?void 0:o.counters.find(i=>i.id===t);a&&(a.value+=n,this.saveData())}}}),h2={key:0,class:"content"},g2={class:"turn-controls"},v2=["disabled"],b2=["disabled"],w2={key:0,class:"initiative-list"},y2=["draggable","onDragstart","onDrop","onTouchstart","onClick"],C2={class:"turn-indicator"},x2={class:"turn-number"},k2={class:"item-name"},_2={key:0,class:"mobile-reorder-buttons"},$2=["onClick","disabled"],S2=["onClick","disabled"],D2=["onClick"],E2={key:1,class:"empty-list"},T2={class:"add-character-section"},A2=["disabled"],H2={__name:"DraggableList",props:{characters:{type:Array,required:!0},players:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,a=qt({x:100,y:100}),i=Z(!1),r=Z([]),l=Z(null),c=Z(""),u=Z(null),f=Z(window.innerWidth<=768);let p=!1,m=null,h=null;const $=Le(()=>window.innerWidth<=768?{}:{top:a.y+"px",left:a.x+"px"}),y=()=>{o("close")},v=()=>{window.innerWidth<=768&&o("close")},_=Le(()=>{const X=n.characters.map(ve=>({...ve,type:"character"}));return[...n.players.map(ve=>({...ve,type:"player"})),...X]});an(_,X=>{const K=[],ve=new Set(X.map(A=>A.id));r.value.forEach(A=>{ve.has(A.id)&&K.push(A)});const q=new Set(K.map(A=>A.id));X.forEach(A=>{q.has(A.id)||K.push(A)}),r.value=K},{immediate:!0,deep:!0}),St(()=>{const X=()=>{f.value=window.innerWidth<=768};window.addEventListener("resize",X),Fn(()=>{window.removeEventListener("resize",X)})});const M=X=>{if(window.innerWidth<=768)return;p=!0;const K=X.clientX-a.x,ve=X.clientY-a.y,q=re=>{p&&(a.x=re.clientX-K,a.y=re.clientY-ve)},A=()=>{p=!1,window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",A)};window.addEventListener("mousemove",q),window.addEventListener("mouseup",A)},E=()=>{i.value=!i.value},H=X=>{m=X},N=X=>{if(m===null||m===X)return;const K=r.value.splice(m,1)[0];r.value.splice(X,0,K),l.value!==null&&(m===l.value?l.value=X:m<l.value&&X>=l.value?l.value--:m>l.value&&X<=l.value&&l.value++),m=null,u.value=null},ie=(X,K)=>{if(K.target.closest("button"))return;const ve=K.touches[0];h={startIndex:X,startY:ve.clientY,currentIndex:X,moving:!1},u.value=X,K.preventDefault()},pe=X=>{if(!h)return;const K=X.touches[0],ve=K.clientY-h.startY;if(Math.abs(ve)>10&&(h.moving=!0),!h.moving)return;const q=document.querySelectorAll(".initiative-list li");let A=h.startIndex;if(q.forEach((re,J)=>{const R=re.getBoundingClientRect();R.top+R.height/2,K.clientY>R.top&&K.clientY<R.bottom&&(A=J)}),A!==h.currentIndex){const re=r.value.splice(h.currentIndex,1)[0];r.value.splice(A,0,re),l.value!==null&&(h.currentIndex===l.value?l.value=A:h.currentIndex<l.value&&A>=l.value?l.value--:h.currentIndex>l.value&&A<=l.value&&l.value++),h.currentIndex=A}X.preventDefault()},de=()=>{h=null,u.value=null},L=X=>{if(X===0)return;const K=r.value.splice(X,1)[0];r.value.splice(X-1,0,K),l.value!==null&&(l.value===X?l.value=X-1:l.value===X-1&&(l.value=X))},T=X=>{if(X===r.value.length-1)return;const K=r.value.splice(X,1)[0];r.value.splice(X+1,0,K),l.value!==null&&(l.value===X?l.value=X+1:l.value===X+1&&(l.value=X))},P=X=>{l.value=X},D=()=>{r.value.length!==0&&(l.value===null?l.value=0:l.value=(l.value+1)%r.value.length)},k=()=>{r.value.length>0?l.value=0:l.value=null},V=()=>{if(!c.value.trim())return;const X={id:nt(),name:c.value.trim(),type:"custom"};r.value.push(X),c.value=""},be=X=>{r.value.splice(X,1),l.value!==null&&(X===l.value?r.value.length>0?l.value=Math.min(l.value,r.value.length-1):l.value=null:X<l.value&&l.value--)};return(X,K)=>(C(),x("div",{class:"draggable-list-overlay",onClick:Me(v,["self"])},[s("div",{class:"draggable-list",style:sn($.value)},[s("div",{class:"header",onMousedown:M},[K[4]||(K[4]=s("span",null," Orden de Iniciativa",-1)),s("button",{onClick:E,class:"minimize-btn"},B(i.value?"":""),1),s("button",{onClick:y,class:"close-btn"},"")],32),i.value?se("",!0):(C(),x("div",h2,[s("div",g2,[s("button",{onClick:D,class:"btn-next-turn",disabled:r.value.length===0},K[5]||(K[5]=[s("i",{class:"bi bi-arrow-right-circle-fill"},null,-1),G(" Siguiente Turno ")]),8,v2),s("button",{onClick:k,class:"btn-reset-turn",disabled:r.value.length===0},K[6]||(K[6]=[s("i",{class:"bi bi-arrow-counterclockwise"},null,-1),G(" Resetear ")]),8,b2)]),r.value.length>0?(C(),x("ul",w2,[(C(!0),x(De,null,Pe(r.value,(ve,q)=>(C(),x("li",{key:ve.id,class:ze([ve.type,{active:l.value===q,dragging:u.value===q}]),draggable:!f.value,onDragstart:A=>H(q),onDragover:K[0]||(K[0]=Me(()=>{},["prevent"])),onDrop:A=>N(q),onTouchstart:A=>f.value?null:ie(q,A),onTouchmove:K[1]||(K[1]=A=>f.value?null:pe(A)),onTouchend:K[2]||(K[2]=A=>f.value?null:de),onClick:A=>P(q)},[s("div",C2,[s("span",x2,B(q+1),1)]),s("i",{class:ze(["bi item-icon",ve.type==="player"?"bi-person-fill":"bi-shield-fill"])},null,2),s("span",k2,B(ve.name),1),f.value&&r.value.length>1?(C(),x("div",_2,[s("button",{onClick:Me(A=>L(q),["stop"]),class:"btn-reorder btn-up",disabled:q===0,title:"Mover arriba"},K[7]||(K[7]=[s("i",{class:"bi bi-chevron-up"},null,-1)]),8,$2),s("button",{onClick:Me(A=>T(q),["stop"]),class:"btn-reorder btn-down",disabled:q===r.value.length-1,title:"Mover abajo"},K[8]||(K[8]=[s("i",{class:"bi bi-chevron-down"},null,-1)]),8,S2)])):se("",!0),s("button",{onClick:Me(A=>be(q),["stop"]),class:"btn-remove",title:"Quitar de iniciativa"},K[9]||(K[9]=[s("i",{class:"bi bi-x"},null,-1)]),8,D2)],42,y2))),128))])):(C(),x("div",E2,K[10]||(K[10]=[s("p",null,"No hay personajes en la iniciativa",-1),s("small",null,"Aade jugadores desde el gestor o personajes manualmente",-1)]))),s("div",T2,[z(s("input",{"onUpdate:modelValue":K[3]||(K[3]=ve=>c.value=ve),onKeyup:nn(V,["enter"]),type:"text",placeholder:"Aadir personaje/enemigo...",class:"input-add-character"},null,544),[[ee,c.value]]),s("button",{onClick:V,disabled:!c.value.trim(),class:"btn-add-character"},K[11]||(K[11]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1)]),8,A2)])]))],4)]))}},P2=ut(H2,[["__scopeId","data-v-d8552edf"]]),I2={class:"header-actions"},R2={key:0,class:"content"},O2={class:"dice-config"},M2={class:"config-row"},B2={class:"config-row"},L2={class:"config-row"},N2=["disabled"],V2={key:0,class:"bi bi-dice-1"},j2={key:1,class:"bi bi-arrow-clockwise rotating"},F2={key:0,class:"result-section"},U2={class:"current-result"},z2={class:"result-formula"},q2={class:"result-total"},W2={class:"dice-breakdown"},K2={class:"dice-values"},X2={key:0,class:"modifier-display"},G2={class:"history-section"},Y2={class:"history-list"},J2={class:"history-formula"},Q2={class:"history-result"},Z2={class:"history-time"},eC={key:0,class:"no-history"},Ll="diceRollerHistory",tC={__name:"DiceRoller",props:{characters:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=t,o=qt({x:200,y:150}),a=Z(!1),i=Z(1),r=Z(20),l=Z(0),c=Z(null),u=Z([]),f=Z(!1);let p=!1;const m=Le(()=>window.innerWidth<=768?{}:{top:o.y+"px",left:o.x+"px"}),h=()=>{n("close")},$=()=>{window.innerWidth<=768&&n("close")};St(()=>{const N=localStorage.getItem(Ll);if(N)try{u.value=JSON.parse(N)}catch(ie){console.error("Error loading dice history:",ie),u.value=[]}window.innerWidth>768&&(o.x=Math.random()*300+200,o.y=Math.random()*200+100)}),an(u,N=>{localStorage.setItem(Ll,JSON.stringify(N))},{deep:!0});const y=N=>{if(window.innerWidth<=768)return;p=!0;const ie=N.clientX-o.x,pe=N.clientY-o.y,de=T=>{p&&(o.x=Math.max(0,Math.min(window.innerWidth-320,T.clientX-ie)),o.y=Math.max(0,Math.min(window.innerHeight-100,T.clientY-pe)))},L=()=>{p=!1,window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",L)};window.addEventListener("mousemove",de),window.addEventListener("mouseup",L)},v=()=>{a.value=!a.value},_=N=>Math.floor(Math.random()*N)+1,M=async()=>{f.value=!0,await new Promise(L=>setTimeout(L,500));const N=[];for(let L=0;L<i.value;L++)N.push(_(r.value));const pe=N.reduce((L,T)=>L+T,0)+l.value,de={id:Date.now(),rolls:N,modifier:l.value,total:pe,formula:`${i.value}d${r.value}${l.value>0?"+"+l.value:l.value<0?l.value:""}`,time:new Date().toLocaleTimeString()};c.value=de,u.value.push(de),u.value.length>50&&(u.value=u.value.slice(-50)),f.value=!1},E=N=>{if(r.value===20){if(N===20)return"crit-success";if(N===1)return"crit-fail"}const ie=N/r.value;return ie>=.8?"high-roll":ie<=.2?"low-roll":"normal-roll"},H=()=>{confirm("Ests seguro de que quieres limpiar el historial?")&&(u.value=[],c.value=null)};return(N,ie)=>(C(),x("div",{class:"dice-roller-overlay",onClick:Me($,["self"])},[s("div",{class:"dice-roller",style:sn(m.value)},[s("div",{class:"header",onMousedown:y},[ie[3]||(ie[3]=s("span",null,[s("i",{class:"bi bi-dice-6"}),G(" Lanzar Dados")],-1)),s("div",I2,[s("button",{onClick:v,class:"minimize-btn"},B(a.value?"+":"-"),1),s("button",{onClick:h,class:"close-btn"},"")])],32),a.value?se("",!0):(C(),x("div",R2,[s("div",O2,[s("div",M2,[ie[4]||(ie[4]=s("label",null,"Cantidad:",-1)),z(s("input",{type:"number","onUpdate:modelValue":ie[0]||(ie[0]=pe=>i.value=pe),class:"dice-count-input"},null,512),[[ee,i.value]])]),s("div",B2,[ie[6]||(ie[6]=s("label",null,"Tipo:",-1)),z(s("select",{"onUpdate:modelValue":ie[1]||(ie[1]=pe=>r.value=pe)},ie[5]||(ie[5]=[Ln('<option value="4" data-v-c4397ffc>d4</option><option value="6" data-v-c4397ffc>d6</option><option value="8" data-v-c4397ffc>d8</option><option value="10" data-v-c4397ffc>d10</option><option value="12" data-v-c4397ffc>d12</option><option value="20" data-v-c4397ffc>d20</option><option value="100" data-v-c4397ffc>d100</option>',7)]),512),[[mt,r.value]])]),s("div",L2,[ie[7]||(ie[7]=s("label",null,"Modificador:",-1)),z(s("input",{"onUpdate:modelValue":ie[2]||(ie[2]=pe=>l.value=pe),type:"number",class:"modifier-input",placeholder:"+0"},null,512),[[ee,l.value,void 0,{number:!0}]])])]),s("button",{onClick:M,class:"roll-button",disabled:f.value},[f.value?(C(),x("i",j2)):(C(),x("i",V2)),G(" "+B(f.value?"Lanzando...":"Lanzar Dados"),1)],8,N2),c.value?(C(),x("div",F2,[s("div",U2,[s("div",z2,B(i.value)+"d"+B(r.value)+B(l.value>0?"+"+l.value:l.value<0?l.value:""),1),s("div",q2,B(c.value.total),1)]),s("div",W2,[s("div",K2,[(C(!0),x(De,null,Pe(c.value.rolls,(pe,de)=>(C(),x("span",{key:de,class:ze(["dice-value",E(pe)])},B(pe),3))),128))]),l.value!==0?(C(),x("div",X2,B(l.value>0?"+":"")+B(l.value),1)):se("",!0)])])):se("",!0),s("div",G2,[s("div",{class:"history-header"},[ie[8]||(ie[8]=s("span",null,"Historial",-1)),s("button",{onClick:H,class:"clear-btn"},"Limpiar")]),s("div",Y2,[(C(!0),x(De,null,Pe(u.value.slice().reverse(),pe=>(C(),x("div",{key:pe.id,class:"history-item"},[s("div",J2,B(pe.formula),1),s("div",Q2,B(pe.total),1),s("div",Z2,B(pe.time),1)]))),128)),u.value.length===0?(C(),x("div",eC," Sin tiradas an ")):se("",!0)])])]))],4)]))}},nC=ut(tC,[["__scopeId","data-v-c4397ffc"]]);function Ed(e,t=!1,n={rule:"default",characterLevel:1}){let o;t?o=$d(e,n):o=wa(e);const a=c=>c.map(u=>`<span class="roll-value ${u.isReplaced?"replaced":""}">${u.value}</span>`).join(", "),i=c=>{if(!c)return"";let u='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const f in c)u+=`<div class="reroll-type"><strong>${f}:</strong> [${c[f].join(", ")}]</div>`;return u+="</div>",u},r=(c,u=null)=>{let f='<div class="attack-result-modal">';f+=`<h3 class="dnd-title-modern">${c.name}</h3>`;for(const p in c.results){const m=c.results[p],h=pu(p),y=(oo.find(v=>v.id===p)||{name:p}).name.toUpperCase();f+=`
                <div class="damage-type-block-modern" style="border-left-color: ${h};">
                    <div class="damage-header">
                        <span class="damage-type-modern" style="color: ${h};">${y}</span>
                        <span class="damage-total-modern">${m.total}</span>
                    </div>
                    <div class="damage-details">
                        <span><strong>Tiradas:</strong> [${a(m.rolls)}]</span>
                        <span><strong>Bonus:</strong> ${m.bonus>0?"+":""}${m.bonus}</span>
                    </div>
            `,m.lifeSteal&&(f+=`
                    <div class="lifesteal-details">
                        <i class="bi bi-heart-fill"></i>
                        <span><strong>Curado:</strong> ${m.lifeSteal.healed} (${m.lifeSteal.percentage_display})</span>
                    </div>
                `),f+="</div>"}return f+=i(u),f+=`<div class="grand-total-modern">Dao Total: ${c.grandTotal}</div>`,c.totalHealed>0&&(f+=`<div class="total-healed-modern">Curacin Total: ${c.totalHealed}</div>`),f+="</div>",f};let l=null;le.fire({width:600,html:r(o),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:e.rerollDice&&e.rerollDice.length>0,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{const c="dnd-modern-modal-styles";if(document.getElementById(c))return;const u=document.createElement("style");u.id=c,u.innerHTML=`
                .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
                .dnd-modern-swal-container { padding: 0 !important; }
                .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.5rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; }
                .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
                .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 15px; padding: 15px; border-radius: 4px; }
                .damage-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
                .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.5rem; }
                .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.8rem; color: #ff4d4d; }
                .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 20px; padding: 10px; border-radius: 5px; }
                .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
                .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
                .lifesteal-details { color: #4dff7e; }
                .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
                .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
                .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
                .reroll-type { margin-bottom: 5px; padding-left: 10px; }
                .swal2-actions { gap: 15px !important; }
                .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
                .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`,document.head.appendChild(u)},preDeny:()=>(l=as(e.rerollDice),le.update({html:r(o,l),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const c=document.getElementById("swal-replace-btn");c&&(c.onclick=()=>{l||(l=as(e.rerollDice)),o=Ri(o,l),le.update({html:r(o,l),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1)})}const oC={class:"attack-manager-container"},sC={class:"header"},aC={class:"header-actions"},iC={class:"content"},rC={class:"attacks-list"},lC={key:0,class:"no-attacks"},cC=["data-id"],uC={class:"header-attack"},dC={class:"attack-info"},fC={class:"attack-name"},pC={class:"attack-summary"},mC={class:"attack-actions"},hC=["onClick"],gC=["onClick"],vC=["onClick"],bC=["onClick"],wC=["onClick"],yC={class:"new-attack-area"},CC={class:"attack-form"},xC={class:"attack-form-header"},kC={class:"attack-form-content"},_C={class:"form-group"},$C={class:"damage-rolls-section"},SC={class:"damage-roll-header"},DC={class:"damage-roll-title"},EC=["onClick","disabled"],TC={class:"damage-roll-inputs"},AC={class:"form-group-inline"},HC=["for"],PC=["id","onUpdate:modelValue"],IC={class:"form-group-inline"},RC=["for"],OC=["id","onUpdate:modelValue"],MC={class:"form-group-inline"},BC=["for"],LC=["id","onUpdate:modelValue"],NC=["value"],VC={class:"form-group-inline"},jC=["for"],FC=["id","onUpdate:modelValue"],UC={class:"form-group-inline"},zC=["for"],qC=["id","onUpdate:modelValue"],WC={class:"form-group-inline"},KC=["for"],XC=["id","onUpdate:modelValue"],GC={class:"damage-rolls-section"},YC={key:0,class:"empty-state"},JC={class:"damage-roll-header"},QC={class:"damage-roll-title"},ZC=["onClick"],ex={class:"damage-roll-inputs reroll-inputs"},tx={class:"form-group-inline"},nx=["for"],ox=["id","onUpdate:modelValue"],sx={class:"form-group-inline"},ax=["for"],ix=["id","onUpdate:modelValue"],rx={class:"form-group-inline"},lx=["for"],cx=["id","onUpdate:modelValue"],ux={class:"form-actions"},dx={class:"attack-form settings-form"},fx={class:"attack-form-header"},px={class:"attack-form-content"},mx={class:"form-group"},hx={key:0,class:"form-group"},gx={key:0,class:"dad-bonus-display"},vx={class:"form-actions"},bx={__name:"DMAttackManager",props:{characterId:{type:[String,Number],required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,o=Sd(),a=Le(()=>o.getCharacterById(n.characterId)),i=Le(()=>a.value?a.value.attacks:[]),r=Z(!1),l=Z(!1),c=Z(!1),u=qt({rule:"default",characterLevel:1}),f=Le(()=>u.rule!=="dad"?0:calculateDadBonus(u.characterLevel)),p=qt({id:null,name:"",damageRolls:[],rerollDice:[]});St(()=>{document.body.style.overflow="hidden",ao(()=>{const L=document.querySelector(".attacks-list");L&&new _e(L,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:D=>{const k=Array.from(D.target.children).map(V=>V.dataset.id).filter(V=>V);o.updateCharacterAttackOrder(n.characterId,k)}});const T=document.querySelector(".attack-manager-overlay"),P=document.querySelector(".content");if(T&&P){const D=k=>{k.target.closest(".attack-form-overlay")||(k.preventDefault(),P.scrollTop+=k.deltaY)};T.addEventListener("wheel",D,{passive:!1}),T._wheelHandler=D}})}),Fn(()=>{document.body.style.overflow="";const L=document.querySelector(".attack-manager-overlay");L&&L._wheelHandler&&L.removeEventListener("wheel",L._wheelHandler)});const m=L=>{if(!L||!L.includes("d"))return{numDice:1,diceType:6};const[T,P]=L.split("d");return{numDice:Number(T)||1,diceType:Number(P)||6}},h=L=>{const T=JSON.parse(JSON.stringify(L));T.damageRolls.forEach(P=>{const{numDice:D,diceType:k}=m(P.dice);P.numDice=D,P.diceType=k,P.lifeSteal||(P.lifeSteal={percentage:0})}),T.rerollDice?T.rerollDice.forEach(P=>{const{numDice:D,diceType:k}=m(P.dice);P.numDice=D,P.diceType=k}):T.rerollDice=[],p.id=T.id,p.name=T.name,p.damageRolls.splice(0,p.damageRolls.length,...T.damageRolls),p.rerollDice.splice(0,p.rerollDice.length,...T.rerollDice),r.value=!0},$=()=>{l.value=!1,h({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},y=L=>{l.value=!0,h(L)},v=L=>{o.duplicateAttackInCharacter(n.characterId,L.id)},_=()=>{r.value=!1},M=()=>{p.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},E=L=>{p.damageRolls.splice(L,1)},H=()=>{p.rerollDice||(p.rerollDice=[]),p.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},N=L=>{p.rerollDice.splice(L,1)},ie=()=>{if(!p.name){le.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const L=JSON.parse(JSON.stringify(p));L.damageRolls.forEach(T=>{T.dice=`${T.numDice||1}d${T.diceType||6}`,delete T.numDice,delete T.diceType}),L.rerollDice&&L.rerollDice.forEach(T=>{T.dice=`${T.numDice||1}d${T.diceType||6}`,delete T.numDice,delete T.diceType}),l.value?o.updateAttackInCharacter(n.characterId,L):o.addAttackToCharacter(n.characterId,L),_()},pe=L=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(T=>{T.isConfirmed&&(o.deleteAttackFromCharacter(n.characterId,L),le.fire("Eliminado","El ataque ha sido eliminado.","success"))})},de=(L,T=!1)=>{Ed(L,T,o.criticalHit)};return(L,T)=>(C(),x("div",{class:"attack-manager-overlay",onClick:T[10]||(T[10]=Me(P=>L.$emit("close"),["self"]))},[s("div",oC,[s("div",sC,[T[12]||(T[12]=s("h2",null,[s("i",{class:"bi bi-shield-fill"}),G(" Gestor de Ataques del DM")],-1)),s("div",aC,[s("button",{onClick:T[0]||(T[0]=(...P)=>L.showSettingsForm&&L.showSettingsForm(...P)),class:"settings-btn"},T[11]||(T[11]=[s("i",{class:"bi bi-gear-fill"},null,-1)])),s("button",{onClick:T[1]||(T[1]=P=>L.$emit("close")),class:"close-btn"},"")])]),s("div",iC,[s("div",rC,[i.value.length===0?(C(),x("div",lC," No hay ataques guardados para el DM. Crea uno nuevo! ")):se("",!0),(C(!0),x(De,null,Pe(i.value,P=>(C(),x("div",{key:P.id,class:"attack-item","data-id":P.id},[s("div",uC,[T[13]||(T[13]=s("div",{class:"drag-handle"},[s("i",{class:"bi bi-grip-vertical"})],-1)),s("div",dC,[s("span",fC,B(P.name),1),s("div",pC,[(C(!0),x(De,null,Pe(P.damageRolls,(D,k)=>(C(),x("span",{key:k,class:"damage-tag"},B(D.dice)+" "+B(D.type),1))),128))])])]),s("div",mC,[s("button",{onClick:D=>de(P,!1),class:"action-btn btn-execute"},"Atacar",8,hC),s("button",{onClick:D=>de(P,!0),class:"action-btn btn-critical"},"Crtico",8,gC),s("button",{onClick:D=>y(P),class:"action-btn btn-edit"},"Editar",8,vC),s("button",{onClick:D=>v(P),class:"action-btn btn-duplicate"},"Duplicar",8,bC),s("button",{onClick:D=>pe(P.id),class:"action-btn btn-delete"},"Eliminar",8,wC)])],8,cC))),128))]),s("div",yC,[s("button",{onClick:T[2]||(T[2]=P=>$()),class:"btn-new-attack"},T[14]||(T[14]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),G(" Crear Nuevo Ataque ")]))]),r.value?(C(),x("div",{key:0,class:"attack-form-overlay",onClick:Me(_,["self"])},[s("div",CC,[s("div",xC,[s("h3",null,B(l.value?"Editar Ataque":"Nuevo Ataque"),1),s("button",{onClick:_,class:"form-close-btn","aria-label":"Cerrar formulario"},T[15]||(T[15]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",kC,[s("div",_C,[T[16]||(T[16]=s("label",{for:"attack-name"},"Nombre del Ataque",-1)),z(s("input",{id:"attack-name",type:"text","onUpdate:modelValue":T[3]||(T[3]=P=>p.name=P),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[ee,p.name]])]),s("div",$C,[T[20]||(T[20]=s("h4",null,[s("i",{class:"bi bi-dice-6-fill"}),G(" Tiradas de Dao")],-1)),(C(!0),x(De,null,Pe(p.damageRolls,(P,D)=>(C(),x("div",{key:D,class:"damage-roll-item"},[s("div",SC,[s("span",DC,"Dao #"+B(D+1),1),s("button",{onClick:k=>E(D),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:p.damageRolls.length===1},T[17]||(T[17]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,EC)]),s("div",TC,[s("div",AC,[s("label",{for:`dice-num-${D}`},"Cantidad",8,HC),z(s("input",{id:`dice-num-${D}`,type:"number","onUpdate:modelValue":k=>P.numDice=k,min:"1",max:"20",class:"input-narrow"},null,8,PC),[[ee,P.numDice,void 0,{number:!0}]])]),s("div",IC,[s("label",{for:`dice-type-${D}`},"Tipo de Dado",8,RC),z(s("select",{id:`dice-type-${D}`,"onUpdate:modelValue":k=>P.diceType=k},T[18]||(T[18]=[Ln('<option value="4" data-v-7a55c277>d4</option><option value="6" data-v-7a55c277>d6</option><option value="8" data-v-7a55c277>d8</option><option value="10" data-v-7a55c277>d10</option><option value="12" data-v-7a55c277>d12</option><option value="20" data-v-7a55c277>d20</option><option value="100" data-v-7a55c277>d100</option>',7)]),8,OC),[[mt,P.diceType,void 0,{number:!0}]])]),s("div",MC,[s("label",{for:`type-${D}`},"Tipo de Dao",8,BC),z(s("select",{id:`type-${D}`,"onUpdate:modelValue":k=>P.type=k},[(C(!0),x(De,null,Pe(Q(oo),k=>(C(),x("option",{key:k.id,value:k.id},B(k.name),9,NC))),128))],8,LC),[[mt,P.type]])]),s("div",VC,[s("label",{for:`bonus-${D}`},"Bonus",8,jC),z(s("input",{id:`bonus-${D}`,type:"number","onUpdate:modelValue":k=>P.bonus=k,placeholder:"+3"},null,8,FC),[[ee,P.bonus,void 0,{number:!0}]])]),s("div",UC,[s("label",{for:`min-${D}`},"Mnimo",8,zC),z(s("input",{id:`min-${D}`,type:"number","onUpdate:modelValue":k=>P.min=k,placeholder:"1",min:"1"},null,8,qC),[[ee,P.min,void 0,{number:!0}]])]),s("div",WC,[s("label",{for:`lifesteal-${D}`},"Robo de Vida (%)",8,KC),z(s("input",{id:`lifesteal-${D}`,type:"number","onUpdate:modelValue":k=>P.lifeSteal.percentage=k,placeholder:"0",min:"0",max:"100"},null,8,XC),[[ee,P.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:M,class:"btn-add-roll"},T[19]||(T[19]=[s("i",{class:"bi bi-plus-circle"},null,-1),G(" Aadir Tipo de Dao ")]))]),s("div",GC,[T[25]||(T[25]=s("h4",null,[s("i",{class:"bi bi-arrow-repeat"}),G(" Dados de Reroll (Opcional)")],-1)),p.rerollDice.length===0?(C(),x("div",YC,T[21]||(T[21]=[s("p",null,"No hay dados de reroll configurados",-1)]))):se("",!0),(C(!0),x(De,null,Pe(p.rerollDice,(P,D)=>(C(),x("div",{key:D,class:"damage-roll-item"},[s("div",JC,[s("span",QC,"Reroll #"+B(D+1),1),s("button",{onClick:k=>N(D),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},T[22]||(T[22]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,ZC)]),s("div",ex,[s("div",tx,[s("label",{for:`reroll-dice-num-${D}`},"Cantidad",8,nx),z(s("input",{id:`reroll-dice-num-${D}`,type:"number","onUpdate:modelValue":k=>P.numDice=k,min:"1",max:"20",class:"input-narrow"},null,8,ox),[[ee,P.numDice,void 0,{number:!0}]])]),s("div",sx,[s("label",{for:`reroll-dice-type-${D}`},"Tipo de Dado",8,ax),z(s("select",{id:`reroll-dice-type-${D}`,"onUpdate:modelValue":k=>P.diceType=k},T[23]||(T[23]=[Ln('<option value="4" data-v-7a55c277>d4</option><option value="6" data-v-7a55c277>d6</option><option value="8" data-v-7a55c277>d8</option><option value="10" data-v-7a55c277>d10</option><option value="12" data-v-7a55c277>d12</option><option value="20" data-v-7a55c277>d20</option><option value="100" data-v-7a55c277>d100</option>',7)]),8,ix),[[mt,P.diceType,void 0,{number:!0}]])]),s("div",rx,[s("label",{for:`reroll-min-${D}`},"Mnimo",8,lx),z(s("input",{id:`reroll-min-${D}`,type:"number","onUpdate:modelValue":k=>P.min=k,placeholder:"1",min:"1"},null,8,cx),[[ee,P.min,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:H,class:"btn-add-roll"},T[24]||(T[24]=[s("i",{class:"bi bi-plus-circle"},null,-1),G(" Aadir Dado de Reroll ")]))]),s("div",ux,[s("button",{onClick:ie,class:"btn-save"},[T[26]||(T[26]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),G(" "+B(l.value?"Guardar Cambios":"Crear Ataque"),1)]),s("button",{onClick:_,class:"btn-cancel"},T[27]||(T[27]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),G(" Cancelar ")]))])])])])):se("",!0),c.value?(C(),x("div",{key:1,class:"attack-form-overlay",onClick:T[9]||(T[9]=Me((...P)=>L.hideSettingsForm&&L.hideSettingsForm(...P),["self"]))},[s("div",dx,[s("div",fx,[T[29]||(T[29]=s("h3",null,[s("i",{class:"bi bi-gear-fill"}),G(" Configuracin de Dao Crtico")],-1)),s("button",{onClick:T[4]||(T[4]=(...P)=>L.hideSettingsForm&&L.hideSettingsForm(...P)),class:"form-close-btn","aria-label":"Cerrar configuracin"},T[28]||(T[28]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",px,[s("div",mx,[T[31]||(T[31]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),z(s("select",{id:"critical-rule","onUpdate:modelValue":T[5]||(T[5]=P=>u.rule=P),class:"settings-select"},T[30]||(T[30]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[mt,u.rule]])]),u.rule==="dad"?(C(),x("div",hx,[T[34]||(T[34]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),z(s("input",{type:"number",id:"character-level","onUpdate:modelValue":T[6]||(T[6]=P=>u.characterLevel=P),min:"1",max:"20",class:"settings-input"},null,512),[[ee,u.characterLevel,void 0,{number:!0}]]),f.value>0?(C(),x("div",gx,[T[33]||(T[33]=s("i",{class:"bi bi-lightning-charge-fill"},null,-1)),s("p",null,[T[32]||(T[32]=G("Bonus de dao por crtico: ")),s("strong",null,"+"+B(f.value),1)])])):se("",!0)])):se("",!0),s("div",vx,[s("button",{onClick:T[7]||(T[7]=(...P)=>L.saveSettings&&L.saveSettings(...P)),class:"btn-save"},T[35]||(T[35]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),G(" Guardar ")])),s("button",{onClick:T[8]||(T[8]=(...P)=>L.hideSettingsForm&&L.hideSettingsForm(...P)),class:"btn-cancel"},T[36]||(T[36]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),G(" Cancelar ")]))])])])])):se("",!0)])])]))}},wx=ut(bx,[["__scopeId","data-v-7a55c277"]]),yx={class:"player-manager-content"},Cx={class:"player-manager-header"},xx={class:"player-manager-body"},kx={class:"global-controls-player"},_x={class:"add-xp-all"},$x=["disabled"],Sx={class:"add-player"},Dx=["disabled"],Ex={class:"player-list"},Tx={key:0,class:"empty-state"},Ax={class:"player-info"},Hx={class:"player-name"},Px={class:"player-xp-total"},Ix={class:"player-actions"},Rx={class:"add-xp-single"},Ox=["onUpdate:modelValue","onKeyup"],Mx=["onClick","disabled"],Bx=["onClick","disabled"],Lx={class:"quick-xp-buttons"},Nx=["onClick"],Vx={class:"player-footer"},jx=["onClick"],Fx=["onClick"],Ux=["onClick"],zx=["onClick"],qx=["onClick"],Wx={key:0,class:"xp-history"},Kx={class:"timestamp"},Xx={key:0},Gx={key:1,class:"counters-section"},Yx={class:"counters-header"},Jx=["onClick"],Qx={class:"counters-grid"},Zx={class:"counter-name"},ek={class:"counter-controls"},tk=["onClick"],nk={class:"counter-value"},ok=["onClick"],sk={key:0,class:"empty-state-small"},ak={key:2,class:"notes-section"},ik=["onUpdate:modelValue","onInput"],rk={class:"player-manager-content"},lk={class:"player-manager-header"},ck={class:"player-manager-body"},uk={key:0,class:"edit-form"},dk={class:"form-group"},fk={class:"modal-actions"},pk={class:"player-manager-content"},mk={class:"player-manager-body"},hk={class:"add-counter-form"},gk={class:"counter-manage-list"},vk=["onUpdate:modelValue","onChange"],bk=["onUpdate:modelValue","onChange"],wk=["onUpdate:modelValue","onChange"],yk={class:"visibility-toggle"},Ck=["checked","onChange"],xk=["onClick"],kk={__name:"PlayerManager",emits:["close"],setup(e,{emit:t}){const n=t,o=Dd(),{players:a,mostUsedXpValues:i}=no(o),r=Z(""),l=Z(null),c=Z({}),u=Z(new Set),f=Z(new Set),p=Z(new Set),m=Z(!1),h=Z(null),$=Z(!1),y=Z(null),v=Z([]),_=Z({name:"",value:0,step:1}),M=J=>{J.key==="Escape"&&($.value?K():m.value?m.value=!1:n("close"))};St(()=>{o.loadData(),document.body.classList.add("modal-open"),a.value.forEach(J=>{c.value[J.id]=null}),document.addEventListener("keydown",M)}),Fn(()=>{document.body.classList.remove("modal-open"),document.removeEventListener("keydown",M)});const E=()=>{r.value.trim()&&(o.addPlayer(r.value),r.value="")},H=J=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(R=>{R.isConfirmed&&(o.deletePlayer(J),le.fire("Eliminado!","El jugador ha sido eliminado.","success"))})},N=J=>{const R=c.value[J];R&&R>0&&(o.addXpToPlayer(J,R),c.value[J]=null)},ie=J=>{const R=c.value[J];R&&R>0&&(o.removeXpFromPlayer(J,R),c.value[J]=null)},pe=(J,R)=>{o.addXpToPlayer(J,R)},de=()=>{l.value&&l.value>0&&(o.addXpToAllPlayers(l.value),l.value=null)},L=()=>{le.fire({title:"Iniciar una nueva sesin?",text:"Esto resetear la XP de la sesin actual de todos los jugadores a 0.",icon:"question",showCancelButton:!0,confirmButtonText:"S, iniciar",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(J=>{J.isConfirmed&&(o.startNewSession(),le.fire({title:"Nueva sesin iniciada!",text:"La XP de la sesin ha sido reseteada.",icon:"success",customClass:{container:"high-z-index"}}))})},T=J=>{u.value.has(J)?u.value.delete(J):u.value.add(J)},P=J=>{h.value={...J},m.value=!0},D=()=>{h.value&&(o.editPlayer(h.value.id,{name:h.value.name}),m.value=!1,h.value=null)},k=J=>{f.value.has(J)?f.value.delete(J):f.value.add(J)},V=J=>{o.editPlayer(J.id,{notes:J.notes})},be=J=>{p.value.has(J)?p.value.delete(J):p.value.add(J)},X=J=>{y.value=J;const R=a.value.find(te=>te.id===J);R&&(v.value=JSON.parse(JSON.stringify(R.counters))),$.value=!0},K=()=>{$.value=!1,y.value=null,v.value=[]},ve=()=>{if(y.value&&_.value.name.trim()){o.addCounter(y.value,{..._.value});const J=a.value.find(R=>R.id===y.value);J&&(v.value=JSON.parse(JSON.stringify(J.counters))),_.value={name:"",value:0,step:1}}},q=(J,R)=>{o.editCounter(y.value,J.id,{[R]:J[R]})},A=J=>{o.editCounter(y.value,J.id,{isVisible:!J.isVisible});const R=v.value.find(te=>te.id===J.id);R&&(R.isVisible=!R.isVisible)},re=J=>{le.fire({title:"Eliminar este contador?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar",customClass:{container:"high-z-index-2"}}).then(R=>{R.isConfirmed&&(o.deleteCounter(y.value,J),v.value=v.value.filter(te=>te.id!==J))})};return(J,R)=>(C(),x("div",{class:"player-manager-overlay",onClick:R[10]||(R[10]=Me(te=>J.$emit("close"),["self"]))},[s("div",yx,[s("div",Cx,[R[12]||(R[12]=s("h2",null,[s("i",{class:"bi bi-person-badge"}),G(" Gestin de Jugadores")],-1)),s("button",{onClick:R[0]||(R[0]=te=>J.$emit("close")),class:"btn-close"},R[11]||(R[11]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",xx,[s("div",kx,[s("button",{onClick:L,class:"btn btn-warning"},R[13]||(R[13]=[s("i",{class:"bi bi-play-circle"},null,-1),G(" Iniciar Nueva Sesin ")])),s("div",_x,[z(s("input",{type:"number","onUpdate:modelValue":R[1]||(R[1]=te=>l.value=te),placeholder:"XP para todos",min:"1",onKeyup:nn(de,["enter"])},null,544),[[ee,l.value,void 0,{number:!0}]]),s("button",{onClick:de,disabled:!l.value||l.value<=0,class:"btn btn-info"},R[14]||(R[14]=[s("i",{class:"bi bi-people-fill"},null,-1),G(" Dar a Todos ")]),8,$x)])]),s("div",Sx,[z(s("input",{type:"text","onUpdate:modelValue":R[2]||(R[2]=te=>r.value=te),placeholder:"Nombre del nuevo jugador",onKeyup:nn(E,["enter"])},null,544),[[ee,r.value]]),s("button",{onClick:E,disabled:!r.value.trim(),class:"btn btn-primary"},R[15]||(R[15]=[s("i",{class:"bi bi-plus-circle"},null,-1),G(" Aadir Jugador ")]),8,Dx)]),s("div",Ex,[Q(a).length===0?(C(),x("div",Tx,R[16]||(R[16]=[s("p",null,"An no hay jugadores. Aade el primero para empezar!",-1)]))):se("",!0),(C(!0),x(De,null,Pe(Q(a),te=>(C(),x("div",{key:te.id,class:"player-card"},[s("div",Ax,[s("h3",Hx,B(te.name),1),s("div",Px,[R[17]||(R[17]=G(" XP Sesin: ")),s("strong",null,B(te.sessionXp),1)])]),s("div",Ix,[s("div",Rx,[z(s("input",{type:"number","onUpdate:modelValue":ge=>c.value[te.id]=ge,placeholder:"Aadir XP",min:"1",class:"xp-input",onKeyup:nn(ge=>N(te.id),["enter"])},null,40,Ox),[[ee,c.value[te.id],void 0,{number:!0}]]),s("button",{onClick:ge=>N(te.id),disabled:!c.value[te.id]||c.value[te.id]<=0,class:"btn btn-success btn-sm"},R[18]||(R[18]=[s("i",{class:"bi bi-plus"},null,-1)]),8,Mx),s("button",{onClick:ge=>ie(te.id),disabled:!c.value[te.id]||c.value[te.id]<=0,class:"btn btn-danger btn-sm"},R[19]||(R[19]=[s("i",{class:"bi bi-dash"},null,-1)]),8,Bx)]),s("div",Lx,[(C(!0),x(De,null,Pe(Q(i),ge=>(C(),x("button",{key:ge,onClick:Je=>pe(te.id,ge),class:"btn btn-outline-primary btn-sm"}," +"+B(ge)+" XP ",9,Nx))),128))])]),s("div",Vx,[s("button",{onClick:ge=>T(te.id),class:"btn btn-link btn-sm"},R[20]||(R[20]=[s("i",{class:"bi bi-clock-history"},null,-1),G(" Ver Historial ")]),8,jx),s("button",{onClick:ge=>be(te.id),class:"btn btn-link btn-sm"},R[21]||(R[21]=[s("i",{class:"bi bi-plus-slash-minus"},null,-1),G(" Contadores ")]),8,Fx),s("button",{onClick:ge=>k(te.id),class:"btn btn-link btn-sm"},R[22]||(R[22]=[s("i",{class:"bi bi-journal-text"},null,-1),G(" Notas ")]),8,Ux),s("div",null,[s("button",{onClick:ge=>P(te),class:"btn btn-secondary btn-sm"},R[23]||(R[23]=[s("i",{class:"bi bi-pencil"},null,-1),G(" Editar ")]),8,zx),s("button",{onClick:ge=>H(te.id),class:"btn btn-danger btn-sm"},R[24]||(R[24]=[s("i",{class:"bi bi-trash"},null,-1)]),8,qx)])]),u.value.has(te.id)?(C(),x("div",Wx,[R[25]||(R[25]=s("h4",null,"Historial de XP (Sesin)",-1)),s("ul",null,[(C(!0),x(De,null,Pe(te.xpHistory,(ge,Je)=>(C(),x("li",{key:Je,class:ze({"xp-gain":ge.amount>0,"xp-loss":ge.amount<0})},[G(B(ge.amount>0?"+":"")+B(ge.amount)+" XP ",1),s("span",Kx,B(new Date(ge.timestamp).toLocaleTimeString()),1)],2))),128)),te.xpHistory.length===0?(C(),x("li",Xx," No hay entradas de XP en esta sesin. ")):se("",!0)])])):se("",!0),p.value.has(te.id)?(C(),x("div",Gx,[s("div",Yx,[R[27]||(R[27]=s("h4",null,"Contadores",-1)),s("button",{onClick:ge=>X(te.id),class:"btn btn-secondary btn-sm"},R[26]||(R[26]=[s("i",{class:"bi bi-gear"},null,-1),G(" Gestionar ")]),8,Jx)]),s("div",Qx,[(C(!0),x(De,null,Pe(te.counters.filter(ge=>ge.isVisible),ge=>(C(),x("div",{key:ge.id,class:"counter-item"},[s("span",Zx,B(ge.name),1),s("div",ek,[s("button",{onClick:Je=>Q(o).updateCounterValue(te.id,ge.id,-ge.step),class:"btn btn-danger btn-sm"},"-",8,tk),s("span",nk,B(ge.value),1),s("button",{onClick:Je=>Q(o).updateCounterValue(te.id,ge.id,ge.step),class:"btn btn-success btn-sm"},"+",8,ok)])]))),128)),te.counters.filter(ge=>ge.isVisible).length===0?(C(),x("div",sk," No hay contadores visibles. ")):se("",!0)])])):se("",!0),f.value.has(te.id)?(C(),x("div",ak,[z(s("textarea",{"onUpdate:modelValue":ge=>te.notes=ge,onInput:ge=>V(te),placeholder:"Aade tus notas aqu...",class:"notes-textarea"},null,40,ik),[[ee,te.notes]])])):se("",!0)]))),128))])])]),m.value?(C(),x("div",{key:0,class:"player-manager-overlay edit-modal",onClick:R[6]||(R[6]=Me(te=>m.value=!1,["self"]))},[s("div",rk,[s("div",lk,[R[29]||(R[29]=s("h2",null,[s("i",{class:"bi bi-pencil-square"}),G(" Editar Jugador")],-1)),s("button",{onClick:R[3]||(R[3]=te=>m.value=!1),class:"btn-close"},R[28]||(R[28]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",ck,[h.value?(C(),x("div",uk,[s("div",dk,[R[30]||(R[30]=s("label",{for:"playerName"},"Nombre del Jugador",-1)),z(s("input",{id:"playerName",type:"text","onUpdate:modelValue":R[4]||(R[4]=te=>h.value.name=te),class:"form-control"},null,512),[[ee,h.value.name]])]),s("div",fk,[s("button",{onClick:R[5]||(R[5]=te=>m.value=!1),class:"btn btn-secondary"}," Cancelar "),s("button",{onClick:D,class:"btn btn-primary"}," Guardar Cambios ")])])):se("",!0)])])])):se("",!0),$.value?(C(),x("div",{key:1,class:"player-manager-overlay edit-modal",onClick:Me(K,["self"])},[s("div",pk,[s("div",{class:"player-manager-header"},[R[32]||(R[32]=s("h2",null,[s("i",{class:"bi bi-gear"}),G(" Gestionar Contadores")],-1)),s("button",{onClick:K,class:"btn-close"},R[31]||(R[31]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",mk,[s("div",hk,[z(s("input",{type:"text","onUpdate:modelValue":R[7]||(R[7]=te=>_.value.name=te),placeholder:"Nombre"},null,512),[[ee,_.value.name]]),z(s("input",{type:"number","onUpdate:modelValue":R[8]||(R[8]=te=>_.value.value=te),placeholder:"Valor inicial"},null,512),[[ee,_.value.value,void 0,{number:!0}]]),z(s("input",{type:"number","onUpdate:modelValue":R[9]||(R[9]=te=>_.value.step=te),placeholder:"Paso (+/-)"},null,512),[[ee,_.value.step,void 0,{number:!0}]]),s("button",{onClick:ve,class:"btn btn-primary"},"Aadir")]),s("div",gk,[R[35]||(R[35]=s("div",{class:"counter-manage-header-labels"},[s("span",null,"Nombre"),s("span",null,"Valor"),s("span",null,"Paso"),s("span",null,"Visible"),s("span",null,"Acciones")],-1)),(C(!0),x(De,null,Pe(v.value,te=>(C(),x("div",{key:te.id,class:"counter-manage-item"},[z(s("input",{type:"text","onUpdate:modelValue":ge=>te.name=ge,onChange:ge=>q(te,"name")},null,40,vk),[[ee,te.name]]),z(s("input",{type:"number","onUpdate:modelValue":ge=>te.value=ge,onChange:ge=>q(te,"value")},null,40,bk),[[ee,te.value,void 0,{number:!0}]]),z(s("input",{type:"number","onUpdate:modelValue":ge=>te.step=ge,onChange:ge=>q(te,"step")},null,40,wk),[[ee,te.step,void 0,{number:!0}]]),s("label",yk,[s("input",{type:"checkbox",checked:te.isVisible,onChange:ge=>A(te)},null,40,Ck),R[33]||(R[33]=s("span",{class:"slider"},null,-1))]),s("button",{onClick:ge=>re(te.id),class:"btn btn-danger btn-sm"},R[34]||(R[34]=[s("i",{class:"bi bi-trash"},null,-1)]),8,xk)]))),128))])])])])):se("",!0)]))}},_k=ut(kk,[["__scopeId","data-v-6a40332d"]]),$k={class:"dm-view"},Sk={class:"dm-header"},Dk={class:"dm-header-top"},Ek={class:"turn-controls"},Tk={class:"turn-label"},Ak=["disabled"],Hk=["disabled"],Pk={class:"global-controls"},Ik={class:"stats-overview"},Rk={class:"stat-card"},Ok={class:"stat-content"},Mk={class:"stat-value"},Bk={class:"stat-card alive"},Lk={class:"stat-content"},Nk={class:"stat-value"},Vk={class:"stat-card dead"},jk={class:"stat-content"},Fk={class:"stat-value"},Uk={class:"stat-card"},zk={class:"stat-content"},qk={class:"stat-value"},Wk={class:"create-character-section"},Kk={class:"characters-section"},Xk={class:"section-header"},Gk={class:"sort-controls"},Yk={key:0,class:"no-characters"},Jk={key:1,class:"characters-grid"},Qk={class:"character-header"},Zk={class:"character-name"},e_={class:"character-actions"},t_=["onClick"],n_=["onClick"],o_=["onClick"],s_={class:"character-stats"},a_={class:"hp-section"},i_={class:"hp-bar-container"},r_={class:"hp-bar"},l_={class:"hp-text"},c_={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},u_={key:0,class:"temp-hp"},d_={class:"temp-hp-value"},f_={key:1,class:"defeated-by"},p_={class:"defeated-by-hero"},m_={class:"character-details"},h_={class:"detail-item"},g_={class:"detail-value"},v_={class:"detail-item"},b_={key:0,class:"detail-item"},w_={class:"detail-value"},y_={key:1,class:"detail-item"},C_={class:"detail-value"},x_={key:2,class:"detail-item"},k_={class:"detail-value"},__={key:3,class:"detail-item"},$_={class:"detail-value"},S_={key:4,class:"detail-item"},D_={class:"detail-value"},E_={key:5,class:"attributes-display"},T_={class:"attributes-list"},A_={key:0,class:"attribute-item fuerza"},H_={class:"attribute-value"},P_={key:1,class:"attribute-item inteligencia"},I_={class:"attribute-value"},R_={key:2,class:"attribute-item destreza"},O_={class:"attribute-value"},M_={key:3,class:"attribute-item sabiduria"},B_={class:"attribute-value"},L_={key:4,class:"attribute-item constitucion"},N_={class:"attribute-value"},V_={key:5,class:"attribute-item carisma"},j_={class:"attribute-value"},F_={key:6,class:"detail-item notas"},U_={class:"detail-value"},z_={class:"actions-toggle"},q_=["onClick"],W_={class:"action-group"},K_={class:"action-inputs"},X_=["onUpdate:modelValue","onKeyup"],G_=["onClick","disabled"],Y_={class:"necro-checkbox"},J_={class:"necro-label"},Q_=["onUpdate:modelValue"],Z_={class:"action-group"},e$={class:"action-inputs"},t$=["onUpdate:modelValue","onKeyup"],n$=["onClick","disabled"],o$={class:"necro-checkbox"},s$={class:"necro-label"},a$=["onUpdate:modelValue"],i$={class:"action-group"},r$={class:"action-inputs"},l$=["onUpdate:modelValue","onKeyup"],c$=["onClick","disabled"],u$={class:"action-group"},d$={class:"action-inputs"},f$=["onUpdate:modelValue","onKeyup"],p$=["onClick","disabled"],m$={class:"reset-buttons"},h$=["onClick"],g$=["onClick"],v$=["onClick"],b$={class:"character-attacks-section"},w$={class:"attacks-header"},y$=["onClick"],C$={key:0,class:"attack-search-bar"},x$=["onUpdate:modelValue"],k$={key:1,class:"attacks-preview-list"},_$={class:"attack-preview-info"},$$={class:"attack-preview-name"},S$={class:"attack-preview-summary"},D$={class:"attack-preview-actions"},E$=["onClick"],T$=["onClick"],A$={key:2,class:"no-attacks-preview"},H$=["onClick"],P$={class:"modal-header"},I$={class:"modal-body"},R$={class:"form-group"},O$={class:"form-group"},M$={class:"form-group"},B$={class:"form-group"},L$={class:"form-group"},N$={class:"form-group"},V$={class:"form-group"},j$={class:"attributes-section"},F$={class:"attributes-grid",id:"tiradas-salvacion"},U$={class:"attribute-column"},z$={class:"form-group attribute-input"},q$={class:"form-group attribute-input"},W$={class:"form-group attribute-input"},K$={class:"attribute-column"},X$={class:"form-group attribute-input"},G$={class:"form-group attribute-input"},Y$={class:"form-group attribute-input"},J$={class:"form-group"},Q$={class:"modal-actions"},Z$={class:"modal-header"},eS={class:"modal-body"},tS={class:"form-group"},nS={class:"form-group"},oS={class:"form-group"},sS=["max"],aS={class:"form-group"},iS={class:"form-group"},rS={class:"form-group"},lS={class:"form-group"},cS={class:"form-group"},uS={class:"attributes-section"},dS={class:"attributes-grid"},fS={class:"attribute-column"},pS={class:"form-group attribute-input"},mS={class:"form-group attribute-input"},hS={class:"form-group attribute-input"},gS={class:"attribute-column"},vS={class:"form-group attribute-input"},bS={class:"form-group attribute-input"},wS={class:"form-group attribute-input"},yS={class:"form-group"},CS={class:"modal-actions"},xS={class:"modal-header"},kS={class:"modal-body"},_S={class:"form-group"},$S={key:0,class:"form-group"},SS={class:"modal-header"},DS={class:"modal-body"},ES={class:"import-options"},TS={class:"import-option"},AS={class:"modal-actions"},HS=["disabled"],PS={class:"modal-header"},IS={class:"modal-body"},RS={class:"death-notification"},OS={class:"hp-status"},MS={class:"hp-dead"},BS={class:"form-group"},LS={class:"modal-actions"},NS=["disabled"],VS={class:"modal-header"},jS={class:"modal-body"},FS={class:"add-todo"},US={class:"todo-list"},zS=["onUpdate:modelValue","onChange"],qS=["onClick"],WS={__name:"DMView",setup(e){const t=Sd(),n=Dd(),{players:o}=no(n),a=Z({}),i=Z({}),r=I=>{a.value[I]=!a.value[I]},l=I=>{const d=(i.value[I.id]||"").toLowerCase();return d?I.attacks.filter(g=>g.name.toLowerCase().includes(d)):I.attacks},c=(I,d)=>{Ed(I,d,t.criticalHit)},u=Z(!1),f=Z(!1),p=Z(null),m=Z(!1),h=Z(!1),$=Z(!1),y=Z({rule:t.criticalHit.rule,characterLevel:t.criticalHit.characterLevel}),v=()=>{t.updateCriticalHitConfig(y.value),$.value=!1,le.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},_=Z(!1),M=Z(!1),E=Z(!1),H=Z(!1),N=Z(!1),ie=Z("name"),pe=Z(""),de=Z(null),L=Z(""),T=Z([]),P=Z(""),D=Z(null),k=Z(null),V=Z({name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",necroDamage:!1,necroResistantDamage:!1}),be=Le(()=>{switch(ie.value){case"hp":return t.charactersByHp;case"created":return[...t.characters].sort((I,d)=>new Date(d.createdAt)-new Date(I.createdAt));default:return t.charactersByName}}),X=()=>{V.value.name&&V.value.maxHp&&(t.createCharacter(V.value.name,V.value.maxHp,V.value.regeneration,V.value.xp,V.value.resistencias,V.value.inmunidades,V.value.fuerza,V.value.destreza,V.value.constitucion,V.value.inteligencia,V.value.sabiduria,V.value.carisma,V.value.notas,V.value.ca),V.value={name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",necroDamage:!1,necroResistantDamage:!1},_.value=!1)},K=I=>{k.value={...I},M.value=!0},ve=()=>{k.value&&(t.editCharacter(k.value.id,{name:k.value.name,maxHp:k.value.maxHp,currentHp:k.value.currentHp,regeneration:k.value.regeneration,xp:k.value.xp,resistencias:k.value.resistencias,inmunidades:k.value.inmunidades,fuerza:k.value.fuerza,destreza:k.value.destreza,constitucion:k.value.constitucion,inteligencia:k.value.inteligencia,sabiduria:k.value.sabiduria,carisma:k.value.carisma,notas:k.value.notas,ca:k.value.ca}),M.value=!1,k.value=null)},q=I=>{confirm("Ests seguro de que quieres eliminar este personaje?")&&t.deleteCharacter(I)},A=I=>{t.duplicateCharacter(I.id)},re=I=>{p.value=I},J=I=>{if(I.damageInput&&I.damageInput>0){const d=I.currentHp,g=I.necroDamage||!1,fe=t.damageCharacter(I.id,I.damageInput,g);I.damageInput="",d>0&&fe&&fe.remainingHp<=0&&(de.value=I,H.value=!0)}},R=I=>{if(I.resistantDamageInput&&I.resistantDamageInput>0){const d=Math.floor(I.resistantDamageInput/2),g=I.currentHp,fe=I.necroResistantDamage||!1,Qe=t.damageCharacter(I.id,d,fe);I.resistantDamageInput="",g>0&&Qe&&Qe.remainingHp<=0&&(de.value=I,H.value=!0)}},te=()=>{if(L.value.trim()&&de.value){const I=L.value.trim();if(I.toLowerCase()===de.value.name.toLowerCase()){alert("El nombre del hroe no puede ser el mismo que el personaje derrotado.");return}t.setDefeatedBy(de.value.id,I),t.addLogToCharacter(de.value.id,"Derrotado por",`Derrotado por ${I}`),ge()}else alert("Por favor, escribe el nombre del hroe que derrot al personaje.")},ge=()=>{H.value=!1,de.value=null,L.value=""},Je=()=>{L.value.trim()?confirm("Ests seguro de que quieres cerrar? Se perder el nombre del hroe ingresado.")&&ge():ge()};an(H,I=>{I&&ao(()=>{const d=document.getElementById("heroName");d&&d.focus()})}),St(()=>{const I=d=>{d.key==="Escape"&&H.value&&Je()};document.addEventListener("keydown",I),Fn(()=>{document.removeEventListener("keydown",I)})});const j=I=>{I.healInput&&I.healInput>0&&(t.healCharacter(I.id,I.healInput),I.healInput="")},me=I=>{I.tempHpInput&&I.tempHpInput>0&&(t.addTempHpToCharacter(I.id,I.tempHpInput),I.tempHpInput="")},ce=I=>{const d=t.getCharacterById(I);if(d&&d.maxHp<d.originalMaxHp){const g=d.maxHp;d.maxHp=d.originalMaxHp,t.addLogToCharacter(I,"Restaurar HP Mximo",`HP mximo restaurado de ${g} a ${d.originalMaxHp} (dao necro revertido)`),le.fire({icon:"success",title:"HP Mximo Restaurado",text:`El HP mximo de ${d.name} ha sido restaurado de ${g} a ${d.originalMaxHp}`,timer:2e3,showConfirmButton:!1})}},we=async I=>{const d=t.getCharacterById(I);if(!d)return;if(d.maxHp<d.originalMaxHp){const fe=d.maxHp;d.maxHp=d.originalMaxHp,t.addLogToCharacter(I,"Restaurar HP Mximo",`HP mximo restaurado de ${fe} a ${d.originalMaxHp} (dao necro revertido)`)}const{value:g}=await le.fire({title:`Cmo quieres revivir a ${d.name}?`,html:`
      <div style='text-align:left;'>
        <label><input type='radio' name='reviveOption' value='1' checked> Revivir con 1 HP</label><br>
        <label><input type='radio' name='reviveOption' value='half'> Revivir con la mitad de la vida mxima (${Math.floor(d.maxHp/2)} HP)</label><br>
        <label><input type='radio' name='reviveOption' value='custom'> Revivir con cantidad personalizada:</label>
        <input id='customHpInput' type='number' min='1' max='${d.maxHp}' class='swal2-input' style='width:100%;margin:0;' placeholder='HP' disabled>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Revivir",cancelButtonText:"Cancelar",preConfirm:()=>{const fe=document.querySelector('input[name="reviveOption"]:checked').value;if(fe==="custom"){const Qe=parseInt(document.getElementById("customHpInput").value);return isNaN(Qe)||Qe<1||Qe>d.maxHp?(le.showValidationMessage(`Introduce un valor entre 1 y ${d.maxHp}`),!1):Qe}return fe==="half"?Math.floor(d.maxHp/2):1},didOpen:()=>{const fe=le.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),Qe=le.getHtmlContainer().querySelector("#customHpInput");fe.forEach(Ts=>{Ts.addEventListener("change",()=>{Ts.value==="custom"?(Qe.disabled=!1,Qe.focus()):Qe.disabled=!0})})}});g&&g>0&&t.reviveCharacter(I,g)},Ue=I=>{const d=I.currentHp/I.maxHp*100;return d>75?"hp-high":d>50?"hp-medium":d>25?"hp-low":"hp-critical"},b=I=>I.currentHp<=0?"status-dead":I.currentHp<=I.maxHp*.25?"status-critical":I.currentHp<=I.maxHp*.5?"status-wounded":"status-healthy",w=I=>I.currentHp<=0?"Muerto":I.currentHp<=I.maxHp*.25?"Crtico":I.currentHp<=I.maxHp*.5?"Herido":"Saludable",S=I=>{const d=parseInt(I);return isNaN(d)?I:d>=0?`+${d}`:`${d}`},F=I=>I.fuerza||I.destreza||I.constitucion||I.inteligencia||I.sabiduria||I.carisma,W=()=>{const I=t.exportCharacters(),d=new Blob([I],{type:"application/json"}),g=URL.createObjectURL(d),fe=document.createElement("a");fe.href=g,fe.download=`dnd-characters-${new Date().toISOString().split("T")[0]}.json`,fe.click(),URL.revokeObjectURL(g)},U=()=>{D.value&&D.value.click()},ue=I=>{const d=I.target.files[0];if(d){const g=new FileReader;g.onload=fe=>{try{const Qe=fe.target.result;t.importCharacters(Qe)?(alert("Personajes importados correctamente desde el archivo"),E.value=!1,I.target.value=""):alert("Error al importar los personajes. Verifica que el archivo contenga datos vlidos.")}catch(Qe){alert("Error al leer el archivo. Verifica que sea un archivo JSON vlido."),console.error("Error importing file:",Qe)}},g.onerror=()=>{alert("Error al leer el archivo. Intntalo de nuevo.")},g.readAsText(d)}},ae=()=>{pe.value.trim()&&(t.importCharacters(pe.value)?(alert("Personajes importados correctamente"),pe.value="",E.value=!1):alert("Error al importar los personajes. Verifica el formato JSON."))},ne=()=>{h.value=!h.value},Y=()=>{le.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs de todos los personajes. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(I=>{I.isConfirmed&&(t.clearAllLogs(),le.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})},xe=()=>{const I=[];t.characters.forEach(g=>{g.logs.forEach(fe=>{I.push({...fe,characterName:g.name})})}),I.sort((g,fe)=>new Date(fe.timestamp)-new Date(g.timestamp));let d='<div style="max-height: 400px; overflow-y: auto;">';I.length===0?d+='<p style="text-align: center; color: #666;">No hay logs para mostrar</p>':I.forEach(g=>{d+=`
        <div style="border-bottom: 1px solid #eee; padding: 10px 0; margin-bottom: 10px;">
          <div style="font-weight: bold; color: #f39c12;">${g.characterName}</div>
          <div style="color: #333;">${g.action}: ${g.details}</div>
          <div style="font-size: 0.8em; color: #666;">Turno ${g.turn} - ${g.timestamp}</div>
        </div>
      `}),d+="</div>",le.fire({title:"Historial de Logs - Todos los Personajes",html:d,width:"800px",confirmButtonText:"Cerrar",confirmButtonColor:"#3085d6"})},he=()=>{t.characters.forEach(I=>{I.damageInput="",I.healInput="",I.tempHpInput="",I.resistantDamageInput="",I.necroDamage=!1,I.necroResistantDamage=!1})},ye=Z(new Set),Se=I=>{const d=new Set(ye.value);d.has(I)?d.delete(I):d.add(I),ye.value=d},Ae=()=>{u.value=!u.value},Ve=I=>ye.value.has(I);an(ye,I=>{const d=Array.from(I);localStorage.setItem("collapsedCharacters",JSON.stringify(d))},{deep:!0});const Oe=()=>{if(P.value.trim()==="")return;const I={id:Date.now(),text:P.value.trim(),completed:!1,createdAt:new Date().toISOString()};T.value.push(I),P.value="",Tt()},Ct=I=>{T.value=T.value.filter(d=>d.id!==I),Tt()},ht=I=>{T.value.find(g=>g.id===I)&&Tt()},Tt=()=>{localStorage.setItem("dnd-todo-items",JSON.stringify(T.value))},jt=()=>{const I=localStorage.getItem("dnd-todo-items");if(I)try{T.value=JSON.parse(I)}catch(d){console.error("Error loading todo items:",d),T.value=[]}};return St(()=>{const I=localStorage.getItem("collapsedCharacters");if(I)try{const d=JSON.parse(I);ye.value=new Set(d)}catch(d){console.error("Error loading collapsed characters state:",d),ye.value=new Set}jt(),t.loadData(),n.loadData(),he()}),(I,d)=>(C(),x("div",$k,[s("div",Sk,[s("div",Dk,[d[68]||(d[68]=s("h1",{class:"dm-title"},[s("i",{class:"bi bi-shield-fill"}),G(" Panel del Dungeon Master ")],-1)),s("button",{onClick:ne,class:"mobile-menu-toggle"},[s("i",{class:ze(["bi",h.value?"bi-x-lg":"bi-list"])},null,2)])]),s("div",{class:ze(["dm-controls",{"mobile-open":h.value}])},[s("div",Ek,[s("span",Tk,"Turno: "+B(Q(t).currentTurn),1),s("button",{onClick:d[0]||(d[0]=g=>Q(t).startTurn()),class:"btn btn-success",disabled:Q(t).isTurnActive},d[69]||(d[69]=[s("i",{class:"bi bi-play-fill"},null,-1),s("span",{class:"btn-text"},"Iniciar Turno",-1)]),8,Ak),s("button",{onClick:d[1]||(d[1]=g=>Q(t).endTurn()),class:"btn btn-warning",disabled:!Q(t).isTurnActive},d[70]||(d[70]=[s("i",{class:"bi bi-stop-fill"},null,-1),s("span",{class:"btn-text"},"Finalizar Turno",-1)]),8,Hk),s("button",{onClick:d[2]||(d[2]=g=>Q(t).resetAllTurns()),class:"btn btn-secondary"},d[71]||(d[71]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1),s("span",{class:"btn-text"},"Reset Turnos",-1)]))]),s("div",Pk,[s("button",{onClick:d[3]||(d[3]=g=>Q(t).resetAllCharacters()),class:"btn btn-info"},d[72]||(d[72]=[s("i",{class:"bi bi-heart-fill"},null,-1),s("span",{class:"btn-text"},"Reset Todos",-1)])),s("button",{onClick:Y,class:"btn btn-warning"},d[73]||(d[73]=[s("i",{class:"bi bi-trash"},null,-1),s("span",{class:"btn-text"},"Limpiar Logs",-1)])),s("button",{onClick:xe,class:"btn btn-outline-info"},d[74]||(d[74]=[s("i",{class:"bi bi-journal-text"},null,-1),s("span",{class:"btn-text"},"Ver Logs",-1)])),s("button",{onClick:U,class:"btn btn-outline-primary"},d[75]||(d[75]=[s("i",{class:"bi bi-upload"},null,-1),s("span",{class:"btn-text"},"Importar",-1)])),s("button",{onClick:W,class:"btn btn-outline-success"},d[76]||(d[76]=[s("i",{class:"bi bi-download"},null,-1),s("span",{class:"btn-text"},"Exportar",-1)])),s("button",{onClick:Ae,class:"btn btn-outline-secondary"},d[77]||(d[77]=[s("i",{class:"bi bi-list"},null,-1),s("span",{class:"btn-text"},"Lista Iniciativa",-1)])),s("button",{onClick:d[4]||(d[4]=g=>N.value=!0),class:"btn btn-outline-primary"},d[78]||(d[78]=[s("i",{class:"bi bi-check-circle"},null,-1),s("span",{class:"btn-text"},"Todo List",-1)])),s("button",{onClick:d[5]||(d[5]=g=>f.value=!0),class:"btn btn-outline-info"},d[79]||(d[79]=[s("i",{class:"bi bi-dice-6"},null,-1),s("span",{class:"btn-text"},"Lanzar Dados",-1)])),s("button",{onClick:d[6]||(d[6]=g=>m.value=!0),class:"btn btn-outline-info"},d[80]||(d[80]=[s("i",{class:"bi bi-person-badge"},null,-1),s("span",{class:"btn-text"},"Gestin de Jugadores",-1)])),s("button",{onClick:d[7]||(d[7]=g=>$.value=!0),class:"btn btn-outline-secondary"},d[81]||(d[81]=[s("i",{class:"bi bi-gear-fill"},null,-1),s("span",{class:"btn-text"},"Configuracin",-1)]))])],2)]),f.value?(C(),vn(nC,{key:0,characters:Q(t).characters,onClose:d[8]||(d[8]=g=>f.value=!1)},null,8,["characters"])):se("",!0),p.value?(C(),vn(wx,{key:1,"character-id":p.value,onClose:d[9]||(d[9]=g=>p.value=null)},null,8,["character-id"])):se("",!0),m.value?(C(),vn(_k,{key:2,onClose:d[10]||(d[10]=g=>m.value=!1)})):se("",!0),s("div",Ik,[s("div",Rk,[d[83]||(d[83]=s("div",{class:"stat-icon"},"",-1)),s("div",Ok,[s("div",Mk,B(Q(t).characters.length),1),d[82]||(d[82]=s("div",{class:"stat-label"},"Total Personajes",-1))])]),s("div",Bk,[d[85]||(d[85]=s("div",{class:"stat-icon"},"",-1)),s("div",Lk,[s("div",Nk,B(Q(t).aliveCount),1),d[84]||(d[84]=s("div",{class:"stat-label"},"Vivos",-1))])]),s("div",Vk,[d[87]||(d[87]=s("div",{class:"stat-icon"},"",-1)),s("div",jk,[s("div",Fk,B(Q(t).deadCount),1),d[86]||(d[86]=s("div",{class:"stat-label"},"Muertos",-1))])]),s("div",Uk,[d[89]||(d[89]=s("div",{class:"stat-icon"},"",-1)),s("div",zk,[s("div",qk,B(Q(t).currentTurn),1),d[88]||(d[88]=s("div",{class:"stat-label"},"Turno Actual",-1))])])]),s("div",Wk,[s("button",{onClick:d[11]||(d[11]=g=>_.value=!0),class:"btn btn-primary btn-lg"},d[90]||(d[90]=[s("i",{class:"bi bi-plus-circle"},null,-1),G(" Crear Nuevo Personaje ")]))]),s("div",Kk,[s("div",Xk,[s("h2",null,"Personajes ("+B(Q(t).characters.length)+")",1),s("div",Gk,[z(s("select",{"onUpdate:modelValue":d[12]||(d[12]=g=>ie.value=g),class:"form-select"},d[91]||(d[91]=[s("option",{value:"name"},"Ordenar por Nombre",-1),s("option",{value:"hp"},"Ordenar por HP",-1),s("option",{value:"created"},"Ordenar por Creacin",-1)]),512),[[mt,ie.value]])])]),Q(t).characters.length===0?(C(),x("div",Yk,d[92]||(d[92]=[s("div",{class:"no-characters-icon"},"",-1),s("h3",null,"No hay personajes creados",-1),s("p",null,"Crea tu primer personaje para comenzar a gestionar la partida",-1)]))):(C(),x("div",Jk,[(C(!0),x(De,null,Pe(be.value,g=>(C(),x("div",{key:g.id,class:ze(["character-card",{dead:g.currentHp<=0,"low-hp":g.currentHp>0&&g.currentHp<=g.maxHp*.25}])},[s("div",Qk,[s("h3",Zk,B(g.name),1),s("div",e_,[s("button",{onClick:fe=>K(g),class:"btn btn-sm btn-outline-primary"},d[93]||(d[93]=[s("i",{class:"bi bi-pencil"},null,-1)]),8,t_),s("button",{onClick:fe=>A(g),class:"btn btn-sm btn-outline-info",title:"Duplicar personaje"},d[94]||(d[94]=[s("i",{class:"bi bi-copy"},null,-1)]),8,n_),s("button",{onClick:fe=>q(g.id),class:"btn btn-sm btn-outline-danger"},d[95]||(d[95]=[s("i",{class:"bi bi-trash"},null,-1)]),8,o_)])]),s("div",s_,[s("div",a_,[s("div",i_,[s("div",r_,[s("div",{class:ze(["hp-fill",g.tempHp>0?"temp-hp":Ue(g)]),style:sn({width:`${g.currentHp/g.maxHp*100}%`})},null,6),g.maxHp<g.originalMaxHp?(C(),x("div",{key:0,class:"necro-bar-indicator",style:sn({left:`${g.maxHp/g.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):se("",!0)]),s("div",l_,[G(B(g.currentHp)+" / "+B(g.maxHp)+" HP ("+B(Math.round(g.currentHp/g.maxHp*100))+"%) ",1),g.maxHp<g.originalMaxHp?(C(),x("span",c_,"  ")):se("",!0)])]),g.tempHp>0?(C(),x("div",u_,[d[96]||(d[96]=s("span",{class:"temp-hp-label"},"Temporal:",-1)),s("span",d_,"+"+B(g.tempHp),1)])):se("",!0),g.defeatedBy?(C(),x("div",f_,[d[97]||(d[97]=s("span",{class:"defeated-by-label"},"Derrotado por:",-1)),s("span",p_,B(g.defeatedBy),1)])):se("",!0)]),s("div",m_,[s("div",h_,[d[98]||(d[98]=s("span",{class:"detail-label"},"Regeneracin:",-1)),s("span",g_,B(g.regeneration||0)+" HP/turno",1)]),s("div",v_,[d[99]||(d[99]=s("span",{class:"detail-label"},"Estado:",-1)),s("span",{class:ze(["detail-value",b(g)])},B(w(g)),3)]),g.xp?(C(),x("div",b_,[d[100]||(d[100]=s("span",{class:"detail-label"},"XP:",-1)),s("span",w_,B(g.xp),1)])):se("",!0),g.ca?(C(),x("div",y_,[d[101]||(d[101]=s("span",{class:"detail-label"},"CA:",-1)),s("span",C_,B(g.ca),1)])):se("",!0),g.resistencias?(C(),x("div",x_,[d[102]||(d[102]=s("span",{class:"detail-label"},"Resistencias:",-1)),s("span",k_,B(g.resistencias),1)])):se("",!0),g.inmunidades?(C(),x("div",__,[d[103]||(d[103]=s("span",{class:"detail-label"},"Inmunidades:",-1)),s("span",$_,B(g.inmunidades),1)])):se("",!0),g.bonoTiradasSalvacion?(C(),x("div",S_,[d[104]||(d[104]=s("span",{class:"detail-label"},"Bono Tiradas de Salvacion:",-1)),s("span",D_,B(g.bonoTiradasSalvacion),1)])):se("",!0),F(g)?(C(),x("div",E_,[d[111]||(d[111]=s("div",{class:"attributes-header"},"Tiradas de Salvacin",-1)),s("div",T_,[g.fuerza?(C(),x("div",A_,[d[105]||(d[105]=s("span",{class:"attribute-label"},"FUE:",-1)),s("span",H_,B(S(g.fuerza)),1)])):se("",!0),g.inteligencia?(C(),x("div",P_,[d[106]||(d[106]=s("span",{class:"attribute-label"},"INT:",-1)),s("span",I_,B(S(g.inteligencia)),1)])):se("",!0),g.destreza?(C(),x("div",R_,[d[107]||(d[107]=s("span",{class:"attribute-label"},"DES:",-1)),s("span",O_,B(S(g.destreza)),1)])):se("",!0),g.sabiduria?(C(),x("div",M_,[d[108]||(d[108]=s("span",{class:"attribute-label"},"SAB:",-1)),s("span",B_,B(S(g.sabiduria)),1)])):se("",!0),g.constitucion?(C(),x("div",L_,[d[109]||(d[109]=s("span",{class:"attribute-label"},"CON:",-1)),s("span",N_,B(S(g.constitucion)),1)])):se("",!0),g.carisma?(C(),x("div",V_,[d[110]||(d[110]=s("span",{class:"attribute-label"},"CAR:",-1)),s("span",j_,B(S(g.carisma)),1)])):se("",!0)])])):se("",!0),g.notas?(C(),x("div",F_,[d[112]||(d[112]=s("span",{class:"detail-label"},"Notas:",-1)),s("span",U_,B(g.notas),1)])):se("",!0)])]),s("div",z_,[s("button",{onClick:fe=>Se(g.id),class:ze(["toggle-actions-btn",{collapsed:Ve(g.id)}])},[d[113]||(d[113]=s("i",{class:"bi bi-chevron-up"},null,-1)),G(" "+B(Ve(g.id)?"Mostrar Acciones":"Ocultar Acciones"),1)],10,q_)]),s("div",{class:ze(["character-actions-panel",{collapsed:Ve(g.id)}])},[s("div",W_,[d[117]||(d[117]=s("label",{class:"action-label"},"Dao:",-1)),s("div",K_,[z(s("input",{"onUpdate:modelValue":fe=>g.damageInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:nn(fe=>J(g),["enter"])},null,40,X_),[[ee,g.damageInput]]),s("button",{onClick:fe=>J(g),class:"btn btn-sm btn-danger",disabled:!g.damageInput||g.damageInput<=0},d[114]||(d[114]=[s("i",{class:"bi bi-lightning"},null,-1)]),8,G_)]),s("div",Y_,[s("label",J_,[z(s("input",{"onUpdate:modelValue":fe=>g.necroDamage=fe,type:"checkbox",class:"necro-input"},null,8,Q_),[[Yo,g.necroDamage]]),d[115]||(d[115]=s("span",{class:"necro-text"},"Dao Necro",-1)),d[116]||(d[116]=s("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),s("div",Z_,[d[121]||(d[121]=s("label",{class:"action-label"},"Dao Resistente:",-1)),s("div",e$,[z(s("input",{"onUpdate:modelValue":fe=>g.resistantDamageInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:nn(fe=>R(g),["enter"])},null,40,t$),[[ee,g.resistantDamageInput]]),s("button",{onClick:fe=>R(g),class:"btn btn-sm btn-danger",disabled:!g.resistantDamageInput||g.resistantDamageInput<=0},d[118]||(d[118]=[s("i",{class:"bi bi-shield-slash"},null,-1)]),8,n$)]),s("div",o$,[s("label",s$,[z(s("input",{"onUpdate:modelValue":fe=>g.necroResistantDamage=fe,type:"checkbox",class:"necro-input"},null,8,a$),[[Yo,g.necroResistantDamage]]),d[119]||(d[119]=s("span",{class:"necro-text"},"Dao Necro",-1)),d[120]||(d[120]=s("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),s("div",i$,[d[123]||(d[123]=s("label",{class:"action-label"},"Curacin:",-1)),s("div",r$,[z(s("input",{"onUpdate:modelValue":fe=>g.healInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:nn(fe=>j(g),["enter"])},null,40,l$),[[ee,g.healInput]]),s("button",{onClick:fe=>j(g),class:"btn btn-sm btn-success",disabled:!g.healInput||g.healInput<=0},d[122]||(d[122]=[s("i",{class:"bi bi-heart"},null,-1)]),8,c$)])]),s("div",u$,[d[125]||(d[125]=s("label",{class:"action-label"},"Vida Temp:",-1)),s("div",d$,[z(s("input",{"onUpdate:modelValue":fe=>g.tempHpInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:nn(fe=>me(g),["enter"])},null,40,f$),[[ee,g.tempHpInput]]),s("button",{onClick:fe=>me(g),class:"btn btn-sm btn-info",disabled:!g.tempHpInput||g.tempHpInput<=0},d[124]||(d[124]=[s("i",{class:"bi bi-shield"},null,-1)]),8,p$)])]),s("div",m$,[s("button",{onClick:fe=>Q(t).resetCharacterToMaxHp(g.id),class:ze(["btn btn-sm btn-outline-warning",{"w-100":g.maxHp>=g.originalMaxHp}])},d[126]||(d[126]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1),G(" Reset HP ")]),10,h$),g.maxHp<g.originalMaxHp?(C(),x("button",{key:0,onClick:fe=>ce(g.id),class:"btn btn-sm btn-outline-danger",title:"Restaurar solo el HP mximo (dao necro)"},d[127]||(d[127]=[s("i",{class:"bi bi-heart-pulse"},null,-1),G(" Restaurar HP Mx ")]),8,g$)):se("",!0)]),g.currentHp<=0?(C(),x("button",{key:0,onClick:fe=>we(g.id),class:"btn btn-sm btn-success w-100"},d[128]||(d[128]=[s("i",{class:"bi bi-heart-pulse"},null,-1),G(" Revivir ")]),8,v$)):se("",!0)],2),s("div",b$,[s("div",w$,[d[130]||(d[130]=s("h4",null,"Ataques",-1)),s("button",{onClick:fe=>r(g.id),class:"btn btn-sm btn-outline-secondary"},d[129]||(d[129]=[s("i",{class:"bi bi-search"},null,-1)]),8,y$)]),a.value[g.id]?(C(),x("div",C$,[z(s("input",{type:"text","onUpdate:modelValue":fe=>i.value[g.id]=fe,placeholder:"Buscar ataque...",class:"form-control form-control-sm"},null,8,x$),[[ee,i.value[g.id]]])])):se("",!0),g.attacks&&g.attacks.length>0?(C(),x("div",k$,[(C(!0),x(De,null,Pe(l(g),fe=>(C(),x("div",{key:fe.id,class:"attack-preview-item"},[s("div",_$,[s("span",$$,B(fe.name),1),s("div",S$,[(C(!0),x(De,null,Pe(fe.damageRolls,(Qe,Ts)=>(C(),x("span",{key:Ts,class:"damage-tag"},B(Qe.dice)+" "+B(Qe.type),1))),128))])]),s("div",D$,[s("button",{onClick:Qe=>c(fe,!1),class:"btn btn-sm btn-primary"},"Lanzar",8,E$),s("button",{onClick:Qe=>c(fe,!0),class:"btn btn-sm btn-danger"},"Crtico",8,T$)])]))),128))])):(C(),x("div",A$,d[131]||(d[131]=[s("p",null,"No hay ataques definidos.",-1)]))),s("button",{onClick:fe=>re(g.id),class:"btn btn-sm btn-outline-warning w-100 mt-2"},d[132]||(d[132]=[s("i",{class:"bi bi-hammer"},null,-1),G(" Gestionar Ataques ")]),8,H$)])],2))),128))])),_.value?(C(),x("div",{key:2,class:"modal-overlay",onClick:d[30]||(d[30]=g=>_.value=!1)},[s("div",{class:"modal-content",onClick:d[29]||(d[29]=Me(()=>{},["stop"]))},[s("div",P$,[d[134]||(d[134]=s("h3",null,"Crear Nuevo Personaje",-1)),s("button",{onClick:d[13]||(d[13]=g=>_.value=!1),class:"btn-close"},d[133]||(d[133]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",I$,[s("form",{onSubmit:Me(X,["prevent"])},[s("div",R$,[d[135]||(d[135]=s("label",{for:"characterName"},"Nombre del Personaje",-1)),z(s("input",{id:"characterName","onUpdate:modelValue":d[14]||(d[14]=g=>V.value.name=g),type:"text",class:"form-control",placeholder:"Ej: Gandalf",required:""},null,512),[[ee,V.value.name]])]),s("div",O$,[d[136]||(d[136]=s("label",{for:"characterMaxHp"},"HP Mximo",-1)),z(s("input",{id:"characterMaxHp","onUpdate:modelValue":d[15]||(d[15]=g=>V.value.maxHp=g),type:"number",class:"form-control",placeholder:"100",min:"1",required:""},null,512),[[ee,V.value.maxHp]])]),s("div",M$,[d[137]||(d[137]=s("label",{for:"characterRegeneration"},"Regeneracin por Turno (opcional)",-1)),z(s("input",{id:"characterRegeneration","onUpdate:modelValue":d[16]||(d[16]=g=>V.value.regeneration=g),type:"number",class:"form-control",placeholder:"0",min:"0"},null,512),[[ee,V.value.regeneration]])]),s("div",B$,[d[138]||(d[138]=s("label",{for:"xp"},"XP:",-1)),z(s("input",{id:"xp","onUpdate:modelValue":d[17]||(d[17]=g=>V.value.xp=g),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.xp]])]),s("div",L$,[d[139]||(d[139]=s("label",{for:"ca"},"CA (Clase de Armadura):",-1)),z(s("input",{id:"ca","onUpdate:modelValue":d[18]||(d[18]=g=>V.value.ca=g),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.ca]])]),s("div",N$,[d[140]||(d[140]=s("label",{for:"resistencias"},"Resistencias:",-1)),z(s("input",{id:"resistencias","onUpdate:modelValue":d[19]||(d[19]=g=>V.value.resistencias=g),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.resistencias]])]),s("div",V$,[d[141]||(d[141]=s("label",{for:"inmunidades"},"Inmunidades:",-1)),z(s("input",{id:"inmunidades","onUpdate:modelValue":d[20]||(d[20]=g=>V.value.inmunidades=g),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.inmunidades]])]),s("div",j$,[d[148]||(d[148]=s("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),s("div",F$,[s("div",U$,[s("div",z$,[d[142]||(d[142]=s("label",{for:"fuerza"},"Fuerza:",-1)),z(s("input",{id:"fuerza","onUpdate:modelValue":d[21]||(d[21]=g=>V.value.fuerza=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.fuerza]])]),s("div",q$,[d[143]||(d[143]=s("label",{for:"destreza"},"Destreza:",-1)),z(s("input",{id:"destreza","onUpdate:modelValue":d[22]||(d[22]=g=>V.value.destreza=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.destreza]])]),s("div",W$,[d[144]||(d[144]=s("label",{for:"constitucion"},"Constitucin:",-1)),z(s("input",{id:"constitucion","onUpdate:modelValue":d[23]||(d[23]=g=>V.value.constitucion=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.constitucion]])])]),s("div",K$,[s("div",X$,[d[145]||(d[145]=s("label",{for:"inteligencia"},"Inteligencia:",-1)),z(s("input",{id:"inteligencia","onUpdate:modelValue":d[24]||(d[24]=g=>V.value.inteligencia=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.inteligencia]])]),s("div",G$,[d[146]||(d[146]=s("label",{for:"sabiduria"},"Sabidura:",-1)),z(s("input",{id:"sabiduria","onUpdate:modelValue":d[25]||(d[25]=g=>V.value.sabiduria=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.sabiduria]])]),s("div",Y$,[d[147]||(d[147]=s("label",{for:"carisma"},"Carisma:",-1)),z(s("input",{id:"carisma","onUpdate:modelValue":d[26]||(d[26]=g=>V.value.carisma=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.carisma]])])])])]),s("div",J$,[d[149]||(d[149]=s("label",{for:"notas"},"Notas:",-1)),z(s("textarea",{id:"notas","onUpdate:modelValue":d[27]||(d[27]=g=>V.value.notas=g),class:"form-control",rows:"3",placeholder:""},null,512),[[ee,V.value.notas]])]),s("div",Q$,[s("button",{type:"button",onClick:d[28]||(d[28]=g=>_.value=!1),class:"btn btn-secondary"}," Cancelar "),d[150]||(d[150]=s("button",{type:"submit",class:"btn btn-primary"}," Crear Personaje ",-1))])],32)])])])):se("",!0),M.value&&k.value?(C(),x("div",{key:3,class:"modal-overlay",onClick:d[49]||(d[49]=g=>M.value=!1)},[s("div",{class:"modal-content",onClick:d[48]||(d[48]=Me(()=>{},["stop"]))},[s("div",Z$,[d[152]||(d[152]=s("h3",null,"Editar Personaje",-1)),s("button",{onClick:d[31]||(d[31]=g=>M.value=!1),class:"btn-close"},d[151]||(d[151]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",eS,[s("form",{onSubmit:Me(ve,["prevent"])},[s("div",tS,[d[153]||(d[153]=s("label",{for:"editCharacterName"},"Nombre del Personaje",-1)),z(s("input",{id:"editCharacterName","onUpdate:modelValue":d[32]||(d[32]=g=>k.value.name=g),type:"text",class:"form-control",required:""},null,512),[[ee,k.value.name]])]),s("div",nS,[d[154]||(d[154]=s("label",{for:"editCharacterMaxHp"},"HP Mximo",-1)),z(s("input",{id:"editCharacterMaxHp","onUpdate:modelValue":d[33]||(d[33]=g=>k.value.maxHp=g),type:"number",class:"form-control",min:"1",required:""},null,512),[[ee,k.value.maxHp]])]),s("div",oS,[d[155]||(d[155]=s("label",{for:"editCharacterCurrentHp"},"HP Actual",-1)),z(s("input",{id:"editCharacterCurrentHp","onUpdate:modelValue":d[34]||(d[34]=g=>k.value.currentHp=g),type:"number",class:"form-control",min:"0",max:k.value.maxHp,required:""},null,8,sS),[[ee,k.value.currentHp]])]),s("div",aS,[d[156]||(d[156]=s("label",{for:"editCharacterRegeneration"},"Regeneracin por Turno",-1)),z(s("input",{id:"editCharacterRegeneration","onUpdate:modelValue":d[35]||(d[35]=g=>k.value.regeneration=g),type:"number",class:"form-control",min:"0"},null,512),[[ee,k.value.regeneration]])]),s("div",iS,[d[157]||(d[157]=s("label",{for:"editXp"},"XP:",-1)),z(s("input",{id:"editXp","onUpdate:modelValue":d[36]||(d[36]=g=>k.value.xp=g),type:"text",class:"form-control"},null,512),[[ee,k.value.xp]])]),s("div",rS,[d[158]||(d[158]=s("label",{for:"editCa"},"CA (Clase de Armadura):",-1)),z(s("input",{id:"editCa","onUpdate:modelValue":d[37]||(d[37]=g=>k.value.ca=g),type:"text",class:"form-control"},null,512),[[ee,k.value.ca]])]),s("div",lS,[d[159]||(d[159]=s("label",{for:"editResistencias"},"Resistencias:",-1)),z(s("input",{id:"editResistencias","onUpdate:modelValue":d[38]||(d[38]=g=>k.value.resistencias=g),type:"text",class:"form-control"},null,512),[[ee,k.value.resistencias]])]),s("div",cS,[d[160]||(d[160]=s("label",{for:"editInmunidades"},"Inmunidades:",-1)),z(s("input",{id:"editInmunidades","onUpdate:modelValue":d[39]||(d[39]=g=>k.value.inmunidades=g),type:"text",class:"form-control"},null,512),[[ee,k.value.inmunidades]])]),s("div",uS,[d[167]||(d[167]=s("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),s("div",dS,[s("div",fS,[s("div",pS,[d[161]||(d[161]=s("label",{for:"editFuerza"},"Fuerza:",-1)),z(s("input",{id:"editFuerza","onUpdate:modelValue":d[40]||(d[40]=g=>k.value.fuerza=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,k.value.fuerza]])]),s("div",mS,[d[162]||(d[162]=s("label",{for:"editDestreza"},"Destreza:",-1)),z(s("input",{id:"editDestreza","onUpdate:modelValue":d[41]||(d[41]=g=>k.value.destreza=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,k.value.destreza]])]),s("div",hS,[d[163]||(d[163]=s("label",{for:"editConstitucion"},"Constitucin:",-1)),z(s("input",{id:"editConstitucion","onUpdate:modelValue":d[42]||(d[42]=g=>k.value.constitucion=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,k.value.constitucion]])])]),s("div",gS,[s("div",vS,[d[164]||(d[164]=s("label",{for:"editInteligencia"},"Inteligencia:",-1)),z(s("input",{id:"editInteligencia","onUpdate:modelValue":d[43]||(d[43]=g=>k.value.inteligencia=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,k.value.inteligencia]])]),s("div",bS,[d[165]||(d[165]=s("label",{for:"editSabiduria"},"Sabidura:",-1)),z(s("input",{id:"editSabiduria","onUpdate:modelValue":d[44]||(d[44]=g=>k.value.sabiduria=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,k.value.sabiduria]])]),s("div",wS,[d[166]||(d[166]=s("label",{for:"editCarisma"},"Carisma:",-1)),z(s("input",{id:"editCarisma","onUpdate:modelValue":d[45]||(d[45]=g=>k.value.carisma=g),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,k.value.carisma]])])])])]),s("div",yS,[d[168]||(d[168]=s("label",{for:"editNotas"},"Notas:",-1)),z(s("textarea",{id:"editNotas","onUpdate:modelValue":d[46]||(d[46]=g=>k.value.notas=g),class:"form-control",rows:"3"},null,512),[[ee,k.value.notas]])]),s("div",CS,[s("button",{type:"button",onClick:d[47]||(d[47]=g=>M.value=!1),class:"btn btn-secondary"}," Cancelar "),d[169]||(d[169]=s("button",{type:"submit",class:"btn btn-primary"}," Guardar Cambios ",-1))])],32)])])])):se("",!0),s("input",{ref_key:"fileInput",ref:D,type:"file",accept:".json",onChange:ue,style:{display:"none"}},null,544),$.value?(C(),x("div",{key:4,class:"modal-overlay",onClick:d[54]||(d[54]=g=>$.value=!1)},[s("div",{class:"modal-content",onClick:d[53]||(d[53]=Me(()=>{},["stop"]))},[s("div",xS,[d[171]||(d[171]=s("h3",null,"Configuracin de Crticos",-1)),s("button",{onClick:d[50]||(d[50]=g=>$.value=!1),class:"btn-close"},d[170]||(d[170]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",kS,[s("div",_S,[d[173]||(d[173]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),z(s("select",{id:"critical-rule","onUpdate:modelValue":d[51]||(d[51]=g=>y.value.rule=g),class:"form-control"},d[172]||(d[172]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[mt,y.value.rule]])]),y.value.rule==="dad"?(C(),x("div",$S,[d[174]||(d[174]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),z(s("input",{type:"number",id:"character-level","onUpdate:modelValue":d[52]||(d[52]=g=>y.value.characterLevel=g),min:"1",max:"20",class:"form-control"},null,512),[[ee,y.value.characterLevel,void 0,{number:!0}]])])):se("",!0),s("div",{class:"modal-actions"},[s("button",{onClick:v,class:"btn btn-primary"},"Guardar")])])])])):se("",!0),E.value?(C(),x("div",{key:5,class:"modal-overlay",onClick:d[59]||(d[59]=g=>E.value=!1)},[s("div",{class:"modal-content",onClick:d[58]||(d[58]=Me(()=>{},["stop"]))},[s("div",SS,[d[176]||(d[176]=s("h3",null,"Importar Personajes",-1)),s("button",{onClick:d[55]||(d[55]=g=>E.value=!1),class:"btn-close"},d[175]||(d[175]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",DS,[s("div",ES,[s("div",{class:"import-option"},[d[178]||(d[178]=s("h4",null,"Opcin 1: Seleccionar Archivo",-1)),d[179]||(d[179]=s("p",null,"Selecciona un archivo JSON exportado previamente",-1)),s("button",{onClick:U,class:"btn btn-primary"},d[177]||(d[177]=[s("i",{class:"bi bi-folder2-open"},null,-1),G(" Seleccionar Archivo ")]))]),d[182]||(d[182]=s("div",{class:"import-divider"},[s("span",null,"o")],-1)),s("div",TS,[d[180]||(d[180]=s("h4",null,"Opcin 2: Pegar JSON",-1)),d[181]||(d[181]=s("p",null,"Pega aqu el contenido JSON exportado",-1)),z(s("textarea",{"onUpdate:modelValue":d[56]||(d[56]=g=>pe.value=g),class:"form-control",rows:"6",placeholder:"Pega aqu el JSON exportado..."},null,512),[[ee,pe.value]])])]),s("div",AS,[s("button",{type:"button",onClick:d[57]||(d[57]=g=>E.value=!1),class:"btn btn-secondary"}," Cancelar "),s("button",{onClick:ae,class:"btn btn-primary",disabled:!pe.value.trim()}," Importar desde Texto ",8,HS)])])])])):se("",!0),H.value?(C(),x("div",{key:6,class:"modal-overlay",onClick:Je},[s("div",{class:"modal-content death-modal",onClick:d[62]||(d[62]=Me(()=>{},["stop"]))},[s("div",PS,[d[184]||(d[184]=s("h3",null,"Personaje Derrotado!",-1)),s("button",{onClick:d[60]||(d[60]=g=>H.value=!1),class:"btn-close"},d[183]||(d[183]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",IS,[s("div",RS,[d[188]||(d[188]=s("div",{class:"death-icon"},"",-1)),s("p",null,[d[185]||(d[185]=G(" El personaje ")),s("strong",null,B(de.value.name),1),d[186]||(d[186]=G(" ha sido derrotado! "))]),s("p",OS,[d[187]||(d[187]=G(" HP: ")),s("span",MS,B(de.value.currentHp),1),G(" / "+B(de.value.maxHp),1)]),d[189]||(d[189]=s("p",null,"Quin fue el hroe que lo derrot?",-1))]),s("div",BS,[d[190]||(d[190]=s("label",{for:"heroName"},"Nombre del Hroe:",-1)),z(s("input",{id:"heroName","onUpdate:modelValue":d[61]||(d[61]=g=>L.value=g),type:"text",class:"form-control",placeholder:"Escribe el nombre del hroe...",onKeyup:nn(te,["enter"])},null,544),[[ee,L.value]])]),s("div",LS,[s("button",{onClick:te,class:"btn btn-primary",disabled:!L.value.trim()},d[191]||(d[191]=[s("i",{class:"bi bi-save"},null,-1),G(" Guardar ")]),8,NS),s("button",{onClick:ge,class:"btn btn-secondary"}," Cancelar ")])])])])):se("",!0)]),N.value?(C(),x("div",{key:3,class:"modal-overlay",id:"todo-list",onClick:d[66]||(d[66]=g=>N.value=!1)},[s("div",{class:"modal-content",onClick:d[65]||(d[65]=Me(()=>{},["stop"]))},[s("div",VS,[d[193]||(d[193]=s("h3",null,"Lista de Tareas",-1)),s("button",{onClick:d[63]||(d[63]=g=>N.value=!1),class:"btn-close"},d[192]||(d[192]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",jS,[s("div",FS,[z(s("input",{"onUpdate:modelValue":d[64]||(d[64]=g=>P.value=g),type:"text",class:"form-control",placeholder:"Nueva tarea",onKeyup:nn(Oe,["enter"])},null,544),[[ee,P.value]]),s("button",{onClick:Oe,class:"btn btn-primary"},"Agregar")]),s("ul",US,[(C(!0),x(De,null,Pe(T.value,g=>(C(),x("li",{key:g.id},[z(s("input",{type:"checkbox","onUpdate:modelValue":fe=>g.completed=fe,onChange:fe=>ht(g.id)},null,40,zS),[[Yo,g.completed]]),s("span",{class:ze({completed:g.completed})},B(g.text),3),s("button",{onClick:fe=>Ct(g.id),class:"btn btn-danger btn-sm"},"Eliminar",8,qS)]))),128))])])])])):se("",!0),u.value?(C(),vn(P2,{key:4,characters:Q(t).characters,players:Q(o),onClose:d[67]||(d[67]=g=>u.value=!1)},null,8,["characters","players"])):se("",!0)]))}},KS=ut(WS,[["__scopeId","data-v-e1a0d2ca"]]),XS={class:"account-view-container fade-in"},GS={class:"account-sections"},YS={class:"account-section character-management-section"},JS={class:"section-content"},QS={class:"account-section import-section"},ZS={class:"section-content"},eD={class:"file-upload-container"},tD={for:"file-upload",class:"file-upload-label"},nD={key:0,class:"preview-section"},oD=["disabled"],sD={__name:"AccountView",setup(e){const t=st(),n=Z(""),o=Z(""),a=c=>{const u=c.target.files[0];if(!u)return;o.value=u.name;const f=new FileReader;f.onload=p=>{n.value=p.target.result},f.readAsText(u)},i=()=>{try{const c=t.exportData(),u=new Blob([c],{type:"application/json"}),f=URL.createObjectURL(u),p=document.createElement("a");p.href=f,p.download=`dnd-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(f),le.fire({icon:"success",title:"Exportado!",text:"Copia de seguridad guardada correctamente.",timer:2e3,showConfirmButton:!1})}catch{le.fire({icon:"error",title:"Error",text:"No se pudieron exportar los datos."})}},r=()=>{le.fire({title:"Restaurar datos?",text:"Se reemplazarn todos los datos actuales por los del archivo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2ecc71",cancelButtonColor:"#d33",confirmButtonText:"S, restaurar",cancelButtonText:"Cancelar"}).then(c=>{if(c.isConfirmed){const{success:u,error:f}=t.importData(n.value);u?le.fire({title:"Restaurado!",text:"Los datos se han cargado correctamente.",icon:"success",timer:1500,showConfirmButton:!1}):le.fire({title:"Error",text:f||"El archivo no es vlido.",icon:"error"})}})},l=()=>{le.fire({title:"Ests seguro?",text:"Se borrarn todos los personajes y configuraciones. No se puede deshacer.",icon:"error",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, borrar todo",cancelButtonText:"Cancelar"}).then(c=>{c.isConfirmed&&t.clearAllData()})};return(c,u)=>{const f=Yi("router-link");return C(),x("div",XS,[u[14]||(u[14]=s("div",{class:"account-header"},[s("h1",null,[s("i",{class:"bi bi-person-badge-fill"}),G(" Gestin de Cuenta")]),s("p",{class:"account-subtitle"},"Administra tus datos y configuraciones")],-1)),s("div",GS,[s("div",YS,[u[2]||(u[2]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-people-fill"}),G(" Gestor de Personajes")])],-1)),s("div",JS,[u[1]||(u[1]=s("p",null,"Administra todos tus personajes: crea, elimina, importa, exporta y selecciona cul quieres usar.",-1)),Ge(f,{to:"/character-manager",class:"btn btn-primary"},{default:En(()=>u[0]||(u[0]=[s("i",{class:"bi bi-folder-symlink"},null,-1),s("span",null,"Ir al Gestor de Personajes",-1)])),_:1})])]),s("div",{class:"account-section export-section"},[u[5]||(u[5]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-cloud-download-fill"}),G(" Exportar Cuenta Completa")])],-1)),s("div",{class:"section-content"},[u[4]||(u[4]=s("p",null,"Guarda una copia de seguridad de todos tus personajes y configuraciones en un archivo JSON.",-1)),s("button",{onClick:i,class:"btn btn-primary"},u[3]||(u[3]=[s("i",{class:"bi bi-download"},null,-1),s("span",null,"Descargar Copia de Seguridad",-1)]))])]),s("div",QS,[u[10]||(u[10]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-cloud-upload-fill"}),G(" Importar Datos")])],-1)),s("div",ZS,[u[9]||(u[9]=s("p",null,[G("Restaura tus datos desde un archivo de copia de seguridad. "),s("strong",null,"Esto reemplazar los datos actuales.")],-1)),s("div",eD,[s("label",tD,[u[6]||(u[6]=s("i",{class:"bi bi-folder2-open"},null,-1)),s("span",null,B(o.value||"Seleccionar archivo JSON..."),1)]),s("input",{id:"file-upload",type:"file",accept:".json",onChange:a,class:"file-input"},null,32)]),n.value?(C(),x("div",nD,u[7]||(u[7]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),s("span",null,"Archivo cargado y listo para importar",-1)]))):se("",!0),s("button",{onClick:r,disabled:!n.value,class:"btn btn-success"},u[8]||(u[8]=[s("i",{class:"bi bi-upload"},null,-1),s("span",null,"Restaurar Datos",-1)]),8,oD)])]),s("div",{class:"account-section danger-section"},[u[13]||(u[13]=s("div",{class:"section-header danger-header"},[s("h2",null,[s("i",{class:"bi bi-exclamation-triangle-fill"}),G(" Zona de Peligro")])],-1)),s("div",{class:"section-content"},[u[12]||(u[12]=s("p",null,[G("Eliminar todos los datos guardados en este navegador. "),s("strong",null,"Esta accin no se puede deshacer.")],-1)),s("button",{onClick:l,class:"btn btn-danger"},u[11]||(u[11]=[s("i",{class:"bi bi-trash-fill"},null,-1),s("span",null,"Borrar Todos los Datos",-1)]))])])])])}}},aD=ut(sD,[["__scopeId","data-v-0ab84876"]]),iD={class:"manager-container fade-in"},rD={class:"manager-section"},lD={class:"section-content"},cD={key:0,class:"character-list"},uD={class:"character-info"},dD={class:"character-name"},fD={class:"character-actions"},pD=["onClick","disabled"],mD=["onClick"],hD=["onClick"],gD={key:1,class:"no-characters-message"},vD={__name:"CharacterManager",setup(e){const t=st(),n=io(),o=bs(),a=Le(()=>t.accountData.characters),i=Le(()=>t.accountData.activeCharacterId),r=p=>{n.setActiveCharacter(p),le.fire({toast:!0,position:"top-end",icon:"success",title:"Personaje cargado",showConfirmButton:!1,timer:1500,timerProgressBar:!0})},l=()=>{const p=nt(),m={id:p,characterData:{character:{isConfigured:!1,name:"Nuevo Personaje"},turn:{current:0,isActive:!1},logs:[]},attacks:[],passiveDamages:[],counters:[],characterState:[]};t.accountData.characters.push(m),n.setActiveCharacter(p),o.push("/config")},c=p=>{le.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, brralo!",cancelButtonText:"Cancelar"}).then(m=>{if(m.isConfirmed){if(t.accountData.characters=t.accountData.characters.filter(h=>h.id!==p),t.accountData.activeCharacterId===p){const h=t.accountData.characters.length>0?t.accountData.characters[0].id:null;n.setActiveCharacter(h)}else t.saveDataToLocalStorage();le.fire("Eliminado!","El personaje ha sido eliminado.","success")}})},u=p=>{const m=a.value.find(h=>h.id===p);if(m){const h=JSON.stringify(m,null,2),$="data:application/json;charset=utf-8,"+encodeURIComponent(h),y=`${m.characterData.character.name||"character"}.json`,v=document.createElement("a");v.setAttribute("href",$),v.setAttribute("download",y),v.click()}},f=()=>{const p=document.createElement("input");p.type="file",p.accept=".json",p.onchange=m=>{const h=m.target.files[0],$=new FileReader;$.onload=y=>{try{const v=y.target.result,_=JSON.parse(v);_.id&&_.characterData?(_.id=nt(),t.accountData.characters.push(_),t.saveDataToLocalStorage(),le.fire("xito!","Personaje importado correctamente.","success")):le.fire("Error","El archivo no tiene el formato de personaje esperado.","error")}catch{le.fire("Error","No se pudo leer o procesar el archivo.","error")}},$.readAsText(h,"UTF-8")},p.click()};return(p,m)=>(C(),x("div",iD,[m[9]||(m[9]=s("div",{class:"manager-header"},[s("h1",null,[s("i",{class:"bi bi-people-fill"}),G(" Gestor de Personajes")]),s("p",{class:"manager-subtitle"},"Administra, crea, carga y comparte tus personajes")],-1)),s("div",rD,[m[5]||(m[5]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-person-lines-fill"}),G(" Mis Personajes")])],-1)),s("div",lD,[a.value.length>0?(C(),x("ul",cD,[(C(!0),x(De,null,Pe(a.value,h=>(C(),x("li",{key:h.id,class:ze(["character-item",{active:h.id===i.value}])},[s("div",uD,[m[0]||(m[0]=s("i",{class:"bi bi-person-circle character-icon"},null,-1)),s("span",dD,B(h.characterData.character.name||"Personaje sin nombre"),1)]),s("div",fD,[s("button",{onClick:$=>r(h.id),class:"btn btn-sm btn-primary",disabled:h.id===i.value},[m[1]||(m[1]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),s("span",null,B(h.id===i.value?"Cargado":"Cargar"),1)],8,pD),s("button",{onClick:$=>u(h.id),class:"btn btn-sm btn-secondary"},m[2]||(m[2]=[s("i",{class:"bi bi-box-arrow-up"},null,-1),s("span",null,"Exportar",-1)]),8,mD),s("button",{onClick:$=>c(h.id),class:"btn btn-sm btn-danger"},m[3]||(m[3]=[s("i",{class:"bi bi-trash-fill"},null,-1),s("span",null,"Eliminar",-1)]),8,hD)])],2))),128))])):(C(),x("div",gD,m[4]||(m[4]=[s("i",{class:"bi bi-emoji-dizzy"},null,-1),s("p",null,"No tienes ningn personaje todava. Crea uno para empezar!",-1)])))])]),s("div",{class:"manager-section"},[m[8]||(m[8]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-plus-circle-fill"}),G(" Nuevas Aventuras")])],-1)),s("div",{class:"section-content action-buttons"},[s("button",{onClick:l,class:"btn btn-success"},m[6]||(m[6]=[s("i",{class:"bi bi-person-plus-fill"},null,-1),s("span",null,"Crear Nuevo Personaje",-1)])),s("button",{onClick:f,class:"btn btn-info"},m[7]||(m[7]=[s("i",{class:"bi bi-box-arrow-down"},null,-1),s("span",null,"Importar Personaje",-1)]))])])]))}},bD=ut(vD,[["__scopeId","data-v-a8b1242e"]]),wD={class:"character-manager-view"},yD={__name:"CharacterManagerView",setup(e){return(t,n)=>(C(),x("div",wD,[Ge(bD)]))}},CD=ut(yD,[["__scopeId","data-v-22bb6cd8"]]),xD=[{path:"/",component:wh,name:"home"},{path:"/account",component:aD,name:"account"},{path:"/character-manager",component:CD,name:"character-manager"},{path:"/config",component:Ab,name:"config"},{path:"/character",component:B0,name:"character"},{path:"/logs",component:p2,name:"logs"},{path:"/dm",component:KS,name:"dm"},{path:"/:pathMatch(.*)*",redirect:"/"}],kD=ih({history:Om("/DyD/"),routes:xD}),_D={class:"app-header"},$D={class:"navbar"},SD={class:"navbar-brand"},DD={__name:"AppHeader",setup(e){const t=io(),n=Z(!1),o=Le(()=>t.character.isConfigured),a=()=>{n.value=!n.value},i=()=>{n.value=!1};return(r,l)=>{const c=Yi("router-link");return C(),x("header",_D,[l[7]||(l[7]=s("div",{class:"header-background"},[s("div",{class:"header-glow"}),s("div",{class:"header-pattern"})],-1)),s("nav",$D,[s("div",SD,[Ge(c,{to:"/",class:"brand-link"},{default:En(()=>l[0]||(l[0]=[s("div",{class:"brand-icon-container"},[s("span",{class:"brand-icon"},""),s("div",{class:"brand-icon-glow"})],-1),s("span",{class:"brand-text"},"D&D Life Tracker",-1)])),_:1})]),s("button",{onClick:a,class:ze(["mobile-menu-toggle",{active:n.value}]),"aria-label":"Toggle mobile menu"},l[1]||(l[1]=[s("span",{class:"hamburger-line"},null,-1),s("span",{class:"hamburger-line"},null,-1),s("span",{class:"hamburger-line"},null,-1)]),2),s("div",{class:ze(["navbar-nav",{"mobile-open":n.value}])},[Ge(c,{to:"/",class:"nav-link","active-class":"active",onClick:i},{default:En(()=>l[2]||(l[2]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-house-door"})],-1),s("span",null,"Inicio",-1)])),_:1}),o.value?(C(),vn(c,{key:0,to:"/character",class:"nav-link","active-class":"active",onClick:i},{default:En(()=>l[3]||(l[3]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-person"})],-1),s("span",null,"Personaje",-1)])),_:1})):(C(),vn(c,{key:1,to:"/config",class:"nav-link","active-class":"active",onClick:i},{default:En(()=>l[4]||(l[4]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-plus-circle"})],-1),s("span",null,"Crear Personaje",-1)])),_:1})),Ge(c,{to:"/dm",class:"nav-link","active-class":"active",onClick:i},{default:En(()=>l[5]||(l[5]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-shield-fill"})],-1),s("span",null,"DM",-1)])),_:1}),Ge(c,{to:"/account",class:"nav-link","active-class":"active",onClick:i},{default:En(()=>l[6]||(l[6]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-person-badge"})],-1),s("span",null,"Cuenta",-1)])),_:1})],2)])])}}},ED=ut(DD,[["__scopeId","data-v-88619630"]]),TD={class:"app-container"},AD={class:"main-content"},HD={__name:"App",setup(e){const t=st(),{isLoading:n}=no(t);return St(()=>{t.loadInitialData()}),an(n,o=>{o||io().loadAllCharacterData()}),(o,a)=>{const i=Yi("RouterView");return C(),x("div",TD,[Ge(ED),s("main",AD,[Ge(i)])])}}},wr=Yp(HD),PD=Zp();wr.use(PD);const ID=st();ID.loadInitialData();wr.use(kD);wr.mount("#app");
