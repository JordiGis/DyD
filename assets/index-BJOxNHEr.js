(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ha(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ot={},Xo=[],An=()=>{},bp=()=>!1,ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ia=e=>e.startsWith("onUpdate:"),Mt=Object.assign,Ra=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wp=Object.prototype.hasOwnProperty,Ze=(e,t)=>wp.call(e,t),Be=Array.isArray,Go=e=>Yr(e)==="[object Map]",ur=e=>Yr(e)==="[object Set]",_l=e=>Yr(e)==="[object Date]",Fe=e=>typeof e=="function",_t=e=>typeof e=="string",Hn=e=>typeof e=="symbol",rt=e=>e!==null&&typeof e=="object",zc=e=>(rt(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),qc=Object.prototype.toString,Yr=e=>qc.call(e),yp=e=>Yr(e).slice(8,-1),Wc=e=>Yr(e)==="[object Object]",Pa=e=>_t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kr=Ha(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),li=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},xp=/-(\w)/g,un=li(e=>e.replace(xp,(t,n)=>n?n.toUpperCase():"")),Cp=/\B([A-Z])/g,po=li(e=>e.replace(Cp,"-$1").toLowerCase()),ci=li(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ri=li(e=>e?`on${ci(e)}`:""),uo=(e,t)=>!Object.is(e,t),ys=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Kc=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Hs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Sl;const ui=()=>Sl||(Sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tn(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=_t(o)?Ep(o):Tn(o);if(r)for(const s in r)t[s]=r[s]}return t}else if(_t(e)||rt(e))return e}const _p=/;(?![^(]*\))/g,Sp=/:([^]+)/,kp=/\/\*[^]*?\*\//g;function Ep(e){const t={};return e.replace(kp,"").split(_p).forEach(n=>{if(n){const o=n.split(Sp);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function at(e){let t="";if(_t(e))t=e;else if(Be(e))for(let n=0;n<e.length;n++){const o=at(e[n]);o&&(t+=o+" ")}else if(rt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const $p="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ap=Ha($p);function Yc(e){return!!e||e===""}function Tp(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Xr(e[o],t[o]);return n}function Xr(e,t){if(e===t)return!0;let n=_l(e),o=_l(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Hn(e),o=Hn(t),n||o)return e===t;if(n=Be(e),o=Be(t),n||o)return n&&o?Tp(e,t):!1;if(n=rt(e),o=rt(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),d=t.hasOwnProperty(a);if(l&&!d||!l&&d||!Xr(e[a],t[a]))return!1}}return String(e)===String(t)}function Oa(e,t){return e.findIndex(n=>Xr(n,t))}const Xc=e=>!!(e&&e.__v_isRef===!0),ie=e=>_t(e)?e:e==null?"":Be(e)||rt(e)&&(e.toString===qc||!Fe(e.toString))?Xc(e)?ie(e.value):JSON.stringify(e,Gc,2):String(e),Gc=(e,t)=>Xc(t)?Gc(e,t.value):Go(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],s)=>(n[Pi(o,s)+" =>"]=r,n),{})}:ur(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Pi(n))}:Hn(t)?Pi(t):rt(t)&&!Be(t)&&!Wc(t)?String(t):t,Pi=(e,t="")=>{var n;return Hn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class Jc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ut,!t&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ut;try{return Ut=this,t()}finally{Ut=n}}}on(){Ut=this}off(){Ut=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Qc(e){return new Jc(e)}function Zc(){return Ut}function Dp(e,t=!1){Ut&&Ut.cleanups.push(e)}let it;const Oi=new WeakSet;class eu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ut&&Ut.active&&Ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Oi.has(this)&&(Oi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||nu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,kl(this),ou(this);const t=it,n=vn;it=this,vn=!0;try{return this.fn()}finally{ru(this),it=t,vn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)La(t);this.deps=this.depsTail=void 0,kl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Oi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){la(this)&&this.run()}get dirty(){return la(this)}}let tu=0,Er,$r;function nu(e,t=!1){if(e.flags|=8,t){e.next=$r,$r=e;return}e.next=Er,Er=e}function Ma(){tu++}function Ba(){if(--tu>0)return;if($r){let t=$r;for($r=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Er;){let t=Er;for(Er=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function ou(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ru(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),La(o),Hp(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function la(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(su(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function su(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ur))return;e.globalVersion=Ur;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!la(e)){e.flags&=-3;return}const n=it,o=vn;it=e,vn=!0;try{ou(e);const r=e.fn(e._value);(t.version===0||uo(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{it=n,vn=o,ru(e),e.flags&=-3}}function La(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)La(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Hp(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let vn=!0;const iu=[];function mo(){iu.push(vn),vn=!1}function ho(){const e=iu.pop();vn=e===void 0?!0:e}function kl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=it;it=void 0;try{t()}finally{it=n}}}let Ur=0;class Ip{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Na{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!it||!vn||it===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==it)n=this.activeLink=new Ip(it,this),it.deps?(n.prevDep=it.depsTail,it.depsTail.nextDep=n,it.depsTail=n):it.deps=it.depsTail=n,au(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=it.depsTail,n.nextDep=void 0,it.depsTail.nextDep=n,it.depsTail=n,it.deps===n&&(it.deps=o)}return n}trigger(t){this.version++,Ur++,this.notify(t)}notify(t){Ma();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ba()}}}function au(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)au(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Is=new WeakMap,Ao=Symbol(""),ca=Symbol(""),Fr=Symbol("");function Rt(e,t,n){if(vn&&it){let o=Is.get(e);o||Is.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new Na),r.map=o,r.key=n),r.track()}}function Un(e,t,n,o,r,s){const a=Is.get(e);if(!a){Ur++;return}const l=d=>{d&&d.trigger()};if(Ma(),t==="clear")a.forEach(l);else{const d=Be(e),p=d&&Pa(n);if(d&&n==="length"){const u=Number(o);a.forEach((c,f)=>{(f==="length"||f===Fr||!Hn(f)&&f>=u)&&l(c)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),p&&l(a.get(Fr)),t){case"add":d?p&&l(a.get("length")):(l(a.get(Ao)),Go(e)&&l(a.get(ca)));break;case"delete":d||(l(a.get(Ao)),Go(e)&&l(a.get(ca)));break;case"set":Go(e)&&l(a.get(Ao));break}}Ba()}function Rp(e,t){const n=Is.get(e);return n&&n.get(t)}function Uo(e){const t=We(e);return t===e?t:(Rt(t,"iterate",Fr),ln(e)?t:t.map(Pt))}function di(e){return Rt(e=We(e),"iterate",Fr),e}const Pp={__proto__:null,[Symbol.iterator](){return Mi(this,Symbol.iterator,Pt)},concat(...e){return Uo(this).concat(...e.map(t=>Be(t)?Uo(t):t))},entries(){return Mi(this,"entries",e=>(e[1]=Pt(e[1]),e))},every(e,t){return Bn(this,"every",e,t,void 0,arguments)},filter(e,t){return Bn(this,"filter",e,t,n=>n.map(Pt),arguments)},find(e,t){return Bn(this,"find",e,t,Pt,arguments)},findIndex(e,t){return Bn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Bn(this,"findLast",e,t,Pt,arguments)},findLastIndex(e,t){return Bn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Bn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Bi(this,"includes",e)},indexOf(...e){return Bi(this,"indexOf",e)},join(e){return Uo(this).join(e)},lastIndexOf(...e){return Bi(this,"lastIndexOf",e)},map(e,t){return Bn(this,"map",e,t,void 0,arguments)},pop(){return vr(this,"pop")},push(...e){return vr(this,"push",e)},reduce(e,...t){return El(this,"reduce",e,t)},reduceRight(e,...t){return El(this,"reduceRight",e,t)},shift(){return vr(this,"shift")},some(e,t){return Bn(this,"some",e,t,void 0,arguments)},splice(...e){return vr(this,"splice",e)},toReversed(){return Uo(this).toReversed()},toSorted(e){return Uo(this).toSorted(e)},toSpliced(...e){return Uo(this).toSpliced(...e)},unshift(...e){return vr(this,"unshift",e)},values(){return Mi(this,"values",Pt)}};function Mi(e,t,n){const o=di(e),r=o[t]();return o!==e&&!ln(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const Op=Array.prototype;function Bn(e,t,n,o,r,s){const a=di(e),l=a!==e&&!ln(e),d=a[t];if(d!==Op[t]){const c=d.apply(e,s);return l?Pt(c):c}let p=n;a!==e&&(l?p=function(c,f){return n.call(this,Pt(c),f,e)}:n.length>2&&(p=function(c,f){return n.call(this,c,f,e)}));const u=d.call(a,p,o);return l&&r?r(u):u}function El(e,t,n,o){const r=di(e);let s=n;return r!==e&&(ln(e)?n.length>3&&(s=function(a,l,d){return n.call(this,a,l,d,e)}):s=function(a,l,d){return n.call(this,a,Pt(l),d,e)}),r[t](s,...o)}function Bi(e,t,n){const o=We(e);Rt(o,"iterate",Fr);const r=o[t](...n);return(r===-1||r===!1)&&Va(n[0])?(n[0]=We(n[0]),o[t](...n)):r}function vr(e,t,n=[]){mo(),Ma();const o=We(e)[t].apply(e,n);return Ba(),ho(),o}const Mp=Ha("__proto__,__v_isRef,__isVue"),lu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Hn));function Bp(e){Hn(e)||(e=String(e));const t=We(this);return Rt(t,"has",e),t.hasOwnProperty(e)}class cu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?Kp:pu:s?fu:du).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const a=Be(t);if(!r){let d;if(a&&(d=Pp[n]))return d;if(n==="hasOwnProperty")return Bp}const l=Reflect.get(t,n,ht(t)?t:o);return(Hn(n)?lu.has(n):Mp(n))||(r||Rt(t,"get",n),s)?l:ht(l)?a&&Pa(n)?l:l.value:rt(l)?r?hu(l):dn(l):l}}class uu extends cu{constructor(t=!1){super(!1,t)}set(t,n,o,r){let s=t[n];if(!this._isShallow){const d=Ho(s);if(!ln(o)&&!Ho(o)&&(s=We(s),o=We(o)),!Be(t)&&ht(s)&&!ht(o))return d?!1:(s.value=o,!0)}const a=Be(t)&&Pa(n)?Number(n)<t.length:Ze(t,n),l=Reflect.set(t,n,o,ht(t)?t:r);return t===We(r)&&(a?uo(o,s)&&Un(t,"set",n,o):Un(t,"add",n,o)),l}deleteProperty(t,n){const o=Ze(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&Un(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!Hn(n)||!lu.has(n))&&Rt(t,"has",n),o}ownKeys(t){return Rt(t,"iterate",Be(t)?"length":Ao),Reflect.ownKeys(t)}}class Lp extends cu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Np=new uu,Up=new Lp,Fp=new uu(!0);const ua=e=>e,us=e=>Reflect.getPrototypeOf(e);function Vp(e,t,n){return function(...o){const r=this.__v_raw,s=We(r),a=Go(s),l=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,p=r[e](...o),u=n?ua:t?da:Pt;return!t&&Rt(s,"iterate",d?ca:Ao),{next(){const{value:c,done:f}=p.next();return f?{value:c,done:f}:{value:l?[u(c[0]),u(c[1])]:u(c),done:f}},[Symbol.iterator](){return this}}}}function ds(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jp(e,t){const n={get(r){const s=this.__v_raw,a=We(s),l=We(r);e||(uo(r,l)&&Rt(a,"get",r),Rt(a,"get",l));const{has:d}=us(a),p=t?ua:e?da:Pt;if(d.call(a,r))return p(s.get(r));if(d.call(a,l))return p(s.get(l));s!==a&&s.get(r)},get size(){const r=this.__v_raw;return!e&&Rt(We(r),"iterate",Ao),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,a=We(s),l=We(r);return e||(uo(r,l)&&Rt(a,"has",r),Rt(a,"has",l)),r===l?s.has(r):s.has(r)||s.has(l)},forEach(r,s){const a=this,l=a.__v_raw,d=We(l),p=t?ua:e?da:Pt;return!e&&Rt(d,"iterate",Ao),l.forEach((u,c)=>r.call(s,p(u),p(c),a))}};return Mt(n,e?{add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear")}:{add(r){!t&&!ln(r)&&!Ho(r)&&(r=We(r));const s=We(this);return us(s).has.call(s,r)||(s.add(r),Un(s,"add",r,r)),this},set(r,s){!t&&!ln(s)&&!Ho(s)&&(s=We(s));const a=We(this),{has:l,get:d}=us(a);let p=l.call(a,r);p||(r=We(r),p=l.call(a,r));const u=d.call(a,r);return a.set(r,s),p?uo(s,u)&&Un(a,"set",r,s):Un(a,"add",r,s),this},delete(r){const s=We(this),{has:a,get:l}=us(s);let d=a.call(s,r);d||(r=We(r),d=a.call(s,r)),l&&l.call(s,r);const p=s.delete(r);return d&&Un(s,"delete",r,void 0),p},clear(){const r=We(this),s=r.size!==0,a=r.clear();return s&&Un(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Vp(r,e,t)}),n}function Ua(e,t){const n=jp(e,t);return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Ze(n,r)&&r in o?n:o,r,s)}const zp={get:Ua(!1,!1)},qp={get:Ua(!1,!0)},Wp={get:Ua(!0,!1)};const du=new WeakMap,fu=new WeakMap,pu=new WeakMap,Kp=new WeakMap;function Yp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xp(e){return e.__v_skip||!Object.isExtensible(e)?0:Yp(yp(e))}function dn(e){return Ho(e)?e:Fa(e,!1,Np,zp,du)}function mu(e){return Fa(e,!1,Fp,qp,fu)}function hu(e){return Fa(e,!0,Up,Wp,pu)}function Fa(e,t,n,o,r){if(!rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const a=Xp(e);if(a===0)return e;const l=new Proxy(e,a===2?o:n);return r.set(e,l),l}function jn(e){return Ho(e)?jn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ho(e){return!!(e&&e.__v_isReadonly)}function ln(e){return!!(e&&e.__v_isShallow)}function Va(e){return e?!!e.__v_raw:!1}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function ja(e){return!Ze(e,"__v_skip")&&Object.isExtensible(e)&&Kc(e,"__v_skip",!0),e}const Pt=e=>rt(e)?dn(e):e,da=e=>rt(e)?hu(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function $e(e){return gu(e,!1)}function Gp(e){return gu(e,!0)}function gu(e,t){return ht(e)?e:new Jp(e,t)}class Jp{constructor(t,n){this.dep=new Na,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:We(t),this._value=n?t:Pt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||ln(t)||Ho(t);t=o?t:We(t),uo(t,n)&&(this._rawValue=t,this._value=o?t:Pt(t),this.dep.trigger())}}function ye(e){return ht(e)?e.value:e}const Qp={get:(e,t,n)=>t==="__v_raw"?e:ye(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return ht(r)&&!ht(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function vu(e){return jn(e)?e:new Proxy(e,Qp)}function Zp(e){const t=Be(e)?new Array(e.length):{};for(const n in e)t[n]=wu(e,n);return t}class em{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Rp(We(this._object),this._key)}}class tm{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function bu(e,t,n){return ht(e)?e:Fe(e)?new tm(e):rt(e)&&arguments.length>1?wu(e,t,n):$e(e)}function wu(e,t,n){const o=e[t];return ht(o)?o:new em(e,t,n)}class nm{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Na(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ur-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&it!==this)return nu(this,!0),!0}get value(){const t=this.dep.track();return su(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function om(e,t,n=!1){let o,r;return Fe(e)?o=e:(o=e.get,r=e.set),new nm(o,r,n)}const fs={},Rs=new WeakMap;let So;function rm(e,t=!1,n=So){if(n){let o=Rs.get(n);o||Rs.set(n,o=[]),o.push(e)}}function sm(e,t,n=ot){const{immediate:o,deep:r,once:s,scheduler:a,augmentJob:l,call:d}=n,p=I=>r?I:ln(I)||r===!1||r===0?Fn(I,1):Fn(I);let u,c,f,m,b=!1,y=!1;if(ht(e)?(c=()=>e.value,b=ln(e)):jn(e)?(c=()=>p(e),b=!0):Be(e)?(y=!0,b=e.some(I=>jn(I)||ln(I)),c=()=>e.map(I=>{if(ht(I))return I.value;if(jn(I))return p(I);if(Fe(I))return d?d(I,2):I()})):Fe(e)?t?c=d?()=>d(e,2):e:c=()=>{if(f){mo();try{f()}finally{ho()}}const I=So;So=u;try{return d?d(e,3,[m]):e(m)}finally{So=I}}:c=An,t&&r){const I=c,A=r===!0?1/0:r;c=()=>Fn(I(),A)}const v=Zc(),_=()=>{u.stop(),v&&v.active&&Ra(v.effects,u)};if(s&&t){const I=t;t=(...A)=>{I(...A),_()}}let N=y?new Array(e.length).fill(fs):fs;const P=I=>{if(!(!(u.flags&1)||!u.dirty&&!I))if(t){const A=u.run();if(r||b||(y?A.some((k,V)=>uo(k,N[V])):uo(A,N))){f&&f();const k=So;So=u;try{const V=[A,N===fs?void 0:y&&N[0]===fs?[]:N,m];d?d(t,3,V):t(...V),N=A}finally{So=k}}}else u.run()};return l&&l(P),u=new eu(c),u.scheduler=a?()=>a(P,!1):P,m=I=>rm(I,!1,u),f=u.onStop=()=>{const I=Rs.get(u);if(I){if(d)d(I,4);else for(const A of I)A();Rs.delete(u)}},t?o?P(!0):N=u.run():a?a(P.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Fn(e,t=1/0,n){if(t<=0||!rt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ht(e))Fn(e.value,t,n);else if(Be(e))for(let o=0;o<e.length;o++)Fn(e[o],t,n);else if(ur(e)||Go(e))e.forEach(o=>{Fn(o,t,n)});else if(Wc(e)){for(const o in e)Fn(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Fn(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gr(e,t,n,o){try{return o?e(...o):e()}catch(r){fi(r,t,n)}}function In(e,t,n,o){if(Fe(e)){const r=Gr(e,t,n,o);return r&&zc(r)&&r.catch(s=>{fi(s,t,n)}),r}if(Be(e)){const r=[];for(let s=0;s<e.length;s++)r.push(In(e[s],t,n,o));return r}}function fi(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||ot;if(t){let l=t.parent;const d=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,d,p)===!1)return}l=l.parent}if(s){mo(),Gr(s,null,10,[e,d,p]),ho();return}}im(e,n,r,o,a)}function im(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const Ft=[];let _n=-1;const Jo=[];let to=null,zo=0;const yu=Promise.resolve();let Ps=null;function Po(e){const t=Ps||yu;return e?t.then(this?e.bind(this):e):t}function am(e){let t=_n+1,n=Ft.length;for(;t<n;){const o=t+n>>>1,r=Ft[o],s=Vr(r);s<e||s===e&&r.flags&2?t=o+1:n=o}return t}function za(e){if(!(e.flags&1)){const t=Vr(e),n=Ft[Ft.length-1];!n||!(e.flags&2)&&t>=Vr(n)?Ft.push(e):Ft.splice(am(t),0,e),e.flags|=1,xu()}}function xu(){Ps||(Ps=yu.then(_u))}function lm(e){Be(e)?Jo.push(...e):to&&e.id===-1?to.splice(zo+1,0,e):e.flags&1||(Jo.push(e),e.flags|=1),xu()}function $l(e,t,n=_n+1){for(;n<Ft.length;n++){const o=Ft[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ft.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Cu(e){if(Jo.length){const t=[...new Set(Jo)].sort((n,o)=>Vr(n)-Vr(o));if(Jo.length=0,to){to.push(...t);return}for(to=t,zo=0;zo<to.length;zo++){const n=to[zo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}to=null,zo=0}}const Vr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _u(e){try{for(_n=0;_n<Ft.length;_n++){const t=Ft[_n];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Gr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;_n<Ft.length;_n++){const t=Ft[_n];t&&(t.flags&=-2)}_n=-1,Ft.length=0,Cu(),Ps=null,(Ft.length||Jo.length)&&_u()}}let Xt=null,Su=null;function Os(e){const t=Xt;return Xt=e,Su=e&&e.type.__scopeId||null,t}function ko(e,t=Xt,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&Bl(-1);const s=Os(t);let a;try{a=e(...r)}finally{Os(s),o._d&&Bl(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function ge(e,t){if(Xt===null)return e;const n=gi(Xt),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,a,l,d=ot]=t[r];s&&(Fe(s)&&(s={mounted:s,updated:s}),s.deep&&Fn(a),o.push({dir:s,instance:n,value:a,oldValue:void 0,arg:l,modifiers:d}))}return e}function wo(e,t,n,o){const r=e.dirs,s=t&&t.dirs;for(let a=0;a<r.length;a++){const l=r[a];s&&(l.oldValue=s[a].value);let d=l.dir[o];d&&(mo(),In(d,n,8,[e.el,l,e,t]),ho())}}const cm=Symbol("_vte"),um=e=>e.__isTeleport;function qa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,qa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ku(e,t){return Fe(e)?Mt({name:e.name},t,{setup:e}):e}function Eu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ms(e,t,n,o,r=!1){if(Be(e)){e.forEach((b,y)=>Ms(b,t&&(Be(t)?t[y]:t),n,o,r));return}if(Ar(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Ms(e,t,n,o.component.subTree);return}const s=o.shapeFlag&4?gi(o.component):o.el,a=r?null:s,{i:l,r:d}=e,p=t&&t.r,u=l.refs===ot?l.refs={}:l.refs,c=l.setupState,f=We(c),m=c===ot?()=>!1:b=>Ze(f,b);if(p!=null&&p!==d&&(_t(p)?(u[p]=null,m(p)&&(c[p]=null)):ht(p)&&(p.value=null)),Fe(d))Gr(d,l,12,[a,u]);else{const b=_t(d),y=ht(d);if(b||y){const v=()=>{if(e.f){const _=b?m(d)?c[d]:u[d]:d.value;r?Be(_)&&Ra(_,s):Be(_)?_.includes(s)||_.push(s):b?(u[d]=[s],m(d)&&(c[d]=u[d])):(d.value=[s],e.k&&(u[e.k]=d.value))}else b?(u[d]=a,m(d)&&(c[d]=a)):y&&(d.value=a,e.k&&(u[e.k]=a))};a?(v.id=-1,Zt(v,n)):v()}}}ui().requestIdleCallback;ui().cancelIdleCallback;const Ar=e=>!!e.type.__asyncLoader,$u=e=>e.type.__isKeepAlive;function dm(e,t){Au(e,"a",t)}function fm(e,t){Au(e,"da",t)}function Au(e,t,n=Tt){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(pi(t,o,n),n){let r=n.parent;for(;r&&r.parent;)$u(r.parent.vnode)&&pm(o,t,n,r),r=r.parent}}function pm(e,t,n,o){const r=pi(t,e,o,!0);go(()=>{Ra(o[t],r)},n)}function pi(e,t,n=Tt,o=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{mo();const l=Jr(n),d=In(t,n,e,a);return l(),ho(),d});return o?r.unshift(s):r.push(s),s}}const Yn=e=>(t,n=Tt)=>{(!zr||e==="sp")&&pi(e,(...o)=>t(...o),n)},mm=Yn("bm"),Jt=Yn("m"),hm=Yn("bu"),gm=Yn("u"),vm=Yn("bum"),go=Yn("um"),bm=Yn("sp"),wm=Yn("rtg"),ym=Yn("rtc");function xm(e,t=Tt){pi("ec",e,t)}const Cm="components";function Tu(e,t){return Sm(Cm,e,!0,t)||e}const _m=Symbol.for("v-ndc");function Sm(e,t,n=!0,o=!1){const r=Xt||Tt;if(r){const s=r.type;{const l=dh(s,!1);if(l&&(l===t||l===un(t)||l===ci(un(t))))return s}const a=Al(r[e]||s[e],t)||Al(r.appContext[e],t);return!a&&o?s:a}}function Al(e,t){return e&&(e[t]||e[un(t)]||e[ci(un(t))])}function Xe(e,t,n,o){let r;const s=n,a=Be(e);if(a||_t(e)){const l=a&&jn(e);let d=!1;l&&(d=!ln(e),e=di(e)),r=new Array(e.length);for(let p=0,u=e.length;p<u;p++)r[p]=t(d?Pt(e[p]):e[p],p,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,s)}else if(rt(e))if(e[Symbol.iterator])r=Array.from(e,(l,d)=>t(l,d,void 0,s));else{const l=Object.keys(e);r=new Array(l.length);for(let d=0,p=l.length;d<p;d++){const u=l[d];r[d]=t(e[u],u,d,s)}}else r=[];return r}const fa=e=>e?Gu(e)?gi(e):fa(e.parent):null,Tr=Mt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fa(e.parent),$root:e=>fa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Hu(e),$forceUpdate:e=>e.f||(e.f=()=>{za(e.update)}),$nextTick:e=>e.n||(e.n=Po.bind(e.proxy)),$watch:e=>Wm.bind(e)}),Li=(e,t)=>e!==ot&&!e.__isScriptSetup&&Ze(e,t),km={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:a,type:l,appContext:d}=e;let p;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Li(o,t))return a[t]=1,o[t];if(r!==ot&&Ze(r,t))return a[t]=2,r[t];if((p=e.propsOptions[0])&&Ze(p,t))return a[t]=3,s[t];if(n!==ot&&Ze(n,t))return a[t]=4,n[t];pa&&(a[t]=0)}}const u=Tr[t];let c,f;if(u)return t==="$attrs"&&Rt(e.attrs,"get",""),u(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==ot&&Ze(n,t))return a[t]=4,n[t];if(f=d.config.globalProperties,Ze(f,t))return f[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:s}=e;return Li(r,t)?(r[t]=n,!0):o!==ot&&Ze(o,t)?(o[t]=n,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:s}},a){let l;return!!n[a]||e!==ot&&Ze(e,a)||Li(t,a)||(l=s[0])&&Ze(l,a)||Ze(o,a)||Ze(Tr,a)||Ze(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Tl(e){return Be(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let pa=!0;function Em(e){const t=Hu(e),n=e.proxy,o=e.ctx;pa=!1,t.beforeCreate&&Dl(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:a,watch:l,provide:d,inject:p,created:u,beforeMount:c,mounted:f,beforeUpdate:m,updated:b,activated:y,deactivated:v,beforeDestroy:_,beforeUnmount:N,destroyed:P,unmounted:I,render:A,renderTracked:k,renderTriggered:V,errorCaptured:$,serverPrefetch:E,expose:M,inheritAttrs:C,components:g,directives:S,filters:D}=t;if(p&&$m(p,o,null),a)for(const w in a){const J=a[w];Fe(J)&&(o[w]=J.bind(n))}if(r){const w=r.call(n,n);rt(w)&&(e.data=dn(w))}if(pa=!0,s)for(const w in s){const J=s[w],L=Fe(J)?J.bind(n,n):Fe(J.get)?J.get.bind(n,n):An,H=!Fe(J)&&Fe(J.set)?J.set.bind(n):An,Q=ut({get:L,set:H});Object.defineProperty(o,w,{enumerable:!0,configurable:!0,get:()=>Q.value,set:re=>Q.value=re})}if(l)for(const w in l)Du(l[w],o,n,w);if(d){const w=Fe(d)?d.call(n):d;Reflect.ownKeys(w).forEach(J=>{xs(J,w[J])})}u&&Dl(u,e,"c");function x(w,J){Be(J)?J.forEach(L=>w(L.bind(n))):J&&w(J.bind(n))}if(x(mm,c),x(Jt,f),x(hm,m),x(gm,b),x(dm,y),x(fm,v),x(xm,$),x(ym,k),x(wm,V),x(vm,N),x(go,I),x(bm,E),Be(M))if(M.length){const w=e.exposed||(e.exposed={});M.forEach(J=>{Object.defineProperty(w,J,{get:()=>n[J],set:L=>n[J]=L})})}else e.exposed||(e.exposed={});A&&e.render===An&&(e.render=A),C!=null&&(e.inheritAttrs=C),g&&(e.components=g),S&&(e.directives=S),E&&Eu(e)}function $m(e,t,n=An){Be(e)&&(e=ma(e));for(const o in e){const r=e[o];let s;rt(r)?"default"in r?s=bn(r.from||o,r.default,!0):s=bn(r.from||o):s=bn(r),ht(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[o]=s}}function Dl(e,t,n){In(Be(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Du(e,t,n,o){let r=o.includes(".")?qu(n,o):()=>n[o];if(_t(e)){const s=t[e];Fe(s)&&wn(r,s)}else if(Fe(e))wn(r,e.bind(n));else if(rt(e))if(Be(e))e.forEach(s=>Du(s,t,n,o));else{const s=Fe(e.handler)?e.handler.bind(n):t[e.handler];Fe(s)&&wn(r,s,e)}}function Hu(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let d;return l?d=l:!r.length&&!n&&!o?d=t:(d={},r.length&&r.forEach(p=>Bs(d,p,a,!0)),Bs(d,t,a)),rt(t)&&s.set(t,d),d}function Bs(e,t,n,o=!1){const{mixins:r,extends:s}=t;s&&Bs(e,s,n,!0),r&&r.forEach(a=>Bs(e,a,n,!0));for(const a in t)if(!(o&&a==="expose")){const l=Am[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Am={data:Hl,props:Il,emits:Il,methods:xr,computed:xr,beforeCreate:Lt,created:Lt,beforeMount:Lt,mounted:Lt,beforeUpdate:Lt,updated:Lt,beforeDestroy:Lt,beforeUnmount:Lt,destroyed:Lt,unmounted:Lt,activated:Lt,deactivated:Lt,errorCaptured:Lt,serverPrefetch:Lt,components:xr,directives:xr,watch:Dm,provide:Hl,inject:Tm};function Hl(e,t){return t?e?function(){return Mt(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function Tm(e,t){return xr(ma(e),ma(t))}function ma(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Lt(e,t){return e?[...new Set([].concat(e,t))]:t}function xr(e,t){return e?Mt(Object.create(null),e,t):t}function Il(e,t){return e?Be(e)&&Be(t)?[...new Set([...e,...t])]:Mt(Object.create(null),Tl(e),Tl(t??{})):t}function Dm(e,t){if(!e)return t;if(!t)return e;const n=Mt(Object.create(null),e);for(const o in t)n[o]=Lt(e[o],t[o]);return n}function Iu(){return{app:null,config:{isNativeTag:bp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hm=0;function Im(e,t){return function(o,r=null){Fe(o)||(o=Mt({},o)),r!=null&&!rt(r)&&(r=null);const s=Iu(),a=new WeakSet,l=[];let d=!1;const p=s.app={_uid:Hm++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:ph,get config(){return s.config},set config(u){},use(u,...c){return a.has(u)||(u&&Fe(u.install)?(a.add(u),u.install(p,...c)):Fe(u)&&(a.add(u),u(p,...c))),p},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),p},component(u,c){return c?(s.components[u]=c,p):s.components[u]},directive(u,c){return c?(s.directives[u]=c,p):s.directives[u]},mount(u,c,f){if(!d){const m=p._ceVNode||mt(o,r);return m.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(m,u,f),d=!0,p._container=u,u.__vue_app__=p,gi(m.component)}},onUnmount(u){l.push(u)},unmount(){d&&(In(l,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(u,c){return s.provides[u]=c,p},runWithContext(u){const c=To;To=p;try{return u()}finally{To=c}}};return p}}let To=null;function xs(e,t){if(Tt){let n=Tt.provides;const o=Tt.parent&&Tt.parent.provides;o===n&&(n=Tt.provides=Object.create(o)),n[e]=t}}function bn(e,t,n=!1){const o=Tt||Xt;if(o||To){const r=To?To._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Fe(t)?t.call(o&&o.proxy):t}}function Rm(){return!!(Tt||Xt||To)}const Ru={},Pu=()=>Object.create(Ru),Ou=e=>Object.getPrototypeOf(e)===Ru;function Pm(e,t,n,o=!1){const r={},s=Pu();e.propsDefaults=Object.create(null),Mu(e,t,r,s);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=o?r:mu(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Om(e,t,n,o){const{props:r,attrs:s,vnode:{patchFlag:a}}=e,l=We(r),[d]=e.propsOptions;let p=!1;if((o||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let c=0;c<u.length;c++){let f=u[c];if(mi(e.emitsOptions,f))continue;const m=t[f];if(d)if(Ze(s,f))m!==s[f]&&(s[f]=m,p=!0);else{const b=un(f);r[b]=ha(d,l,b,m,e,!1)}else m!==s[f]&&(s[f]=m,p=!0)}}}else{Mu(e,t,r,s)&&(p=!0);let u;for(const c in l)(!t||!Ze(t,c)&&((u=po(c))===c||!Ze(t,u)))&&(d?n&&(n[c]!==void 0||n[u]!==void 0)&&(r[c]=ha(d,l,c,void 0,e,!0)):delete r[c]);if(s!==l)for(const c in s)(!t||!Ze(t,c))&&(delete s[c],p=!0)}p&&Un(e.attrs,"set","")}function Mu(e,t,n,o){const[r,s]=e.propsOptions;let a=!1,l;if(t)for(let d in t){if(kr(d))continue;const p=t[d];let u;r&&Ze(r,u=un(d))?!s||!s.includes(u)?n[u]=p:(l||(l={}))[u]=p:mi(e.emitsOptions,d)||(!(d in o)||p!==o[d])&&(o[d]=p,a=!0)}if(s){const d=We(n),p=l||ot;for(let u=0;u<s.length;u++){const c=s[u];n[c]=ha(r,d,c,p[c],e,!Ze(p,c))}}return a}function ha(e,t,n,o,r,s){const a=e[n];if(a!=null){const l=Ze(a,"default");if(l&&o===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&Fe(d)){const{propsDefaults:p}=r;if(n in p)o=p[n];else{const u=Jr(r);o=p[n]=d.call(null,t),u()}}else o=d;r.ce&&r.ce._setProp(n,o)}a[0]&&(s&&!l?o=!1:a[1]&&(o===""||o===po(n))&&(o=!0))}return o}const Mm=new WeakMap;function Bu(e,t,n=!1){const o=n?Mm:t.propsCache,r=o.get(e);if(r)return r;const s=e.props,a={},l=[];let d=!1;if(!Fe(e)){const u=c=>{d=!0;const[f,m]=Bu(c,t,!0);Mt(a,f),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!d)return rt(e)&&o.set(e,Xo),Xo;if(Be(s))for(let u=0;u<s.length;u++){const c=un(s[u]);Rl(c)&&(a[c]=ot)}else if(s)for(const u in s){const c=un(u);if(Rl(c)){const f=s[u],m=a[c]=Be(f)||Fe(f)?{type:f}:Mt({},f),b=m.type;let y=!1,v=!0;if(Be(b))for(let _=0;_<b.length;++_){const N=b[_],P=Fe(N)&&N.name;if(P==="Boolean"){y=!0;break}else P==="String"&&(v=!1)}else y=Fe(b)&&b.name==="Boolean";m[0]=y,m[1]=v,(y||Ze(m,"default"))&&l.push(c)}}const p=[a,l];return rt(e)&&o.set(e,p),p}function Rl(e){return e[0]!=="$"&&!kr(e)}const Lu=e=>e[0]==="_"||e==="$stable",Wa=e=>Be(e)?e.map(kn):[kn(e)],Bm=(e,t,n)=>{if(t._n)return t;const o=ko((...r)=>Wa(t(...r)),n);return o._c=!1,o},Nu=(e,t,n)=>{const o=e._ctx;for(const r in e){if(Lu(r))continue;const s=e[r];if(Fe(s))t[r]=Bm(r,s,o);else if(s!=null){const a=Wa(s);t[r]=()=>a}}},Uu=(e,t)=>{const n=Wa(t);e.slots.default=()=>n},Fu=(e,t,n)=>{for(const o in t)(n||o!=="_")&&(e[o]=t[o])},Lm=(e,t,n)=>{const o=e.slots=Pu();if(e.vnode.shapeFlag&32){const r=t._;r?(Fu(o,t,n),n&&Kc(o,"_",r,!0)):Nu(t,o)}else t&&Uu(e,t)},Nm=(e,t,n)=>{const{vnode:o,slots:r}=e;let s=!0,a=ot;if(o.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:Fu(r,t,n):(s=!t.$stable,Nu(t,r)),a=t}else t&&(Uu(e,t),a={default:1});if(s)for(const l in r)!Lu(l)&&a[l]==null&&delete r[l]},Zt=Zm;function Um(e){return Fm(e)}function Fm(e,t){const n=ui();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:a,createText:l,createComment:d,setText:p,setElementText:u,parentNode:c,nextSibling:f,setScopeId:m=An,insertStaticContent:b}=e,y=(B,F,K,Z=null,se=null,ne=null,fe=void 0,me=null,he=!!F.dynamicChildren)=>{if(B===F)return;B&&!br(B,F)&&(Z=te(B),re(B,se,ne,!0),B=null),F.patchFlag===-2&&(he=!1,F.dynamicChildren=null);const{type:ae,ref:De,shapeFlag:be}=F;switch(ae){case hi:v(B,F,K,Z);break;case Io:_(B,F,K,Z);break;case Cs:B==null&&N(F,K,Z,fe);break;case Ve:g(B,F,K,Z,se,ne,fe,me,he);break;default:be&1?A(B,F,K,Z,se,ne,fe,me,he):be&6?S(B,F,K,Z,se,ne,fe,me,he):(be&64||be&128)&&ae.process(B,F,K,Z,se,ne,fe,me,he,_e)}De!=null&&se&&Ms(De,B&&B.ref,ne,F||B,!F)},v=(B,F,K,Z)=>{if(B==null)o(F.el=l(F.children),K,Z);else{const se=F.el=B.el;F.children!==B.children&&p(se,F.children)}},_=(B,F,K,Z)=>{B==null?o(F.el=d(F.children||""),K,Z):F.el=B.el},N=(B,F,K,Z)=>{[B.el,B.anchor]=b(B.children,F,K,Z,B.el,B.anchor)},P=({el:B,anchor:F},K,Z)=>{let se;for(;B&&B!==F;)se=f(B),o(B,K,Z),B=se;o(F,K,Z)},I=({el:B,anchor:F})=>{let K;for(;B&&B!==F;)K=f(B),r(B),B=K;r(F)},A=(B,F,K,Z,se,ne,fe,me,he)=>{F.type==="svg"?fe="svg":F.type==="math"&&(fe="mathml"),B==null?k(F,K,Z,se,ne,fe,me,he):E(B,F,se,ne,fe,me,he)},k=(B,F,K,Z,se,ne,fe,me)=>{let he,ae;const{props:De,shapeFlag:be,transition:z,dirs:h}=B;if(he=B.el=a(B.type,ne,De&&De.is,De),be&8?u(he,B.children):be&16&&$(B.children,he,null,Z,se,Ni(B,ne),fe,me),h&&wo(B,null,Z,"created"),V(he,B,B.scopeId,fe,Z),De){for(const we in De)we!=="value"&&!kr(we)&&s(he,we,null,De[we],ne,Z);"value"in De&&s(he,"value",null,De.value,ne),(ae=De.onVnodeBeforeMount)&&Cn(ae,Z,B)}h&&wo(B,null,Z,"beforeMount");const O=Vm(se,z);O&&z.beforeEnter(he),o(he,F,K),((ae=De&&De.onVnodeMounted)||O||h)&&Zt(()=>{ae&&Cn(ae,Z,B),O&&z.enter(he),h&&wo(B,null,Z,"mounted")},se)},V=(B,F,K,Z,se)=>{if(K&&m(B,K),Z)for(let ne=0;ne<Z.length;ne++)m(B,Z[ne]);if(se){let ne=se.subTree;if(F===ne||Ku(ne.type)&&(ne.ssContent===F||ne.ssFallback===F)){const fe=se.vnode;V(B,fe,fe.scopeId,fe.slotScopeIds,se.parent)}}},$=(B,F,K,Z,se,ne,fe,me,he=0)=>{for(let ae=he;ae<B.length;ae++){const De=B[ae]=me?no(B[ae]):kn(B[ae]);y(null,De,F,K,Z,se,ne,fe,me)}},E=(B,F,K,Z,se,ne,fe)=>{const me=F.el=B.el;let{patchFlag:he,dynamicChildren:ae,dirs:De}=F;he|=B.patchFlag&16;const be=B.props||ot,z=F.props||ot;let h;if(K&&yo(K,!1),(h=z.onVnodeBeforeUpdate)&&Cn(h,K,F,B),De&&wo(F,B,K,"beforeUpdate"),K&&yo(K,!0),(be.innerHTML&&z.innerHTML==null||be.textContent&&z.textContent==null)&&u(me,""),ae?M(B.dynamicChildren,ae,me,K,Z,Ni(F,se),ne):fe||J(B,F,me,null,K,Z,Ni(F,se),ne,!1),he>0){if(he&16)C(me,be,z,K,se);else if(he&2&&be.class!==z.class&&s(me,"class",null,z.class,se),he&4&&s(me,"style",be.style,z.style,se),he&8){const O=F.dynamicProps;for(let we=0;we<O.length;we++){const He=O[we],nt=be[He],Ke=z[He];(Ke!==nt||He==="value")&&s(me,He,nt,Ke,se,K)}}he&1&&B.children!==F.children&&u(me,F.children)}else!fe&&ae==null&&C(me,be,z,K,se);((h=z.onVnodeUpdated)||De)&&Zt(()=>{h&&Cn(h,K,F,B),De&&wo(F,B,K,"updated")},Z)},M=(B,F,K,Z,se,ne,fe)=>{for(let me=0;me<F.length;me++){const he=B[me],ae=F[me],De=he.el&&(he.type===Ve||!br(he,ae)||he.shapeFlag&70)?c(he.el):K;y(he,ae,De,null,Z,se,ne,fe,!0)}},C=(B,F,K,Z,se)=>{if(F!==K){if(F!==ot)for(const ne in F)!kr(ne)&&!(ne in K)&&s(B,ne,F[ne],null,se,Z);for(const ne in K){if(kr(ne))continue;const fe=K[ne],me=F[ne];fe!==me&&ne!=="value"&&s(B,ne,me,fe,se,Z)}"value"in K&&s(B,"value",F.value,K.value,se)}},g=(B,F,K,Z,se,ne,fe,me,he)=>{const ae=F.el=B?B.el:l(""),De=F.anchor=B?B.anchor:l("");let{patchFlag:be,dynamicChildren:z,slotScopeIds:h}=F;h&&(me=me?me.concat(h):h),B==null?(o(ae,K,Z),o(De,K,Z),$(F.children||[],K,De,se,ne,fe,me,he)):be>0&&be&64&&z&&B.dynamicChildren?(M(B.dynamicChildren,z,K,se,ne,fe,me),(F.key!=null||se&&F===se.subTree)&&Vu(B,F,!0)):J(B,F,K,De,se,ne,fe,me,he)},S=(B,F,K,Z,se,ne,fe,me,he)=>{F.slotScopeIds=me,B==null?F.shapeFlag&512?se.ctx.activate(F,K,Z,fe,he):D(F,K,Z,se,ne,fe,he):U(B,F,he)},D=(B,F,K,Z,se,ne,fe)=>{const me=B.component=ih(B,Z,se);if($u(B)&&(me.ctx.renderer=_e),ah(me,!1,fe),me.asyncDep){if(se&&se.registerDep(me,x,fe),!B.el){const he=me.subTree=mt(Io);_(null,he,F,K)}}else x(me,B,F,K,se,ne,fe)},U=(B,F,K)=>{const Z=F.component=B.component;if(Jm(B,F,K))if(Z.asyncDep&&!Z.asyncResolved){w(Z,F,K);return}else Z.next=F,Z.update();else F.el=B.el,Z.vnode=F},x=(B,F,K,Z,se,ne,fe)=>{const me=()=>{if(B.isMounted){let{next:be,bu:z,u:h,parent:O,vnode:we}=B;{const st=ju(B);if(st){be&&(be.el=we.el,w(B,be,fe)),st.asyncDep.then(()=>{B.isUnmounted||me()});return}}let He=be,nt;yo(B,!1),be?(be.el=we.el,w(B,be,fe)):be=we,z&&ys(z),(nt=be.props&&be.props.onVnodeBeforeUpdate)&&Cn(nt,O,be,we),yo(B,!0);const Ke=Ol(B),ct=B.subTree;B.subTree=Ke,y(ct,Ke,c(ct.el),te(ct),B,se,ne),be.el=Ke.el,He===null&&Qm(B,Ke.el),h&&Zt(h,se),(nt=be.props&&be.props.onVnodeUpdated)&&Zt(()=>Cn(nt,O,be,we),se)}else{let be;const{el:z,props:h}=F,{bm:O,m:we,parent:He,root:nt,type:Ke}=B,ct=Ar(F);yo(B,!1),O&&ys(O),!ct&&(be=h&&h.onVnodeBeforeMount)&&Cn(be,He,F),yo(B,!0);{nt.ce&&nt.ce._injectChildStyle(Ke);const st=B.subTree=Ol(B);y(null,st,K,Z,B,se,ne),F.el=st.el}if(we&&Zt(we,se),!ct&&(be=h&&h.onVnodeMounted)){const st=F;Zt(()=>Cn(be,He,st),se)}(F.shapeFlag&256||He&&Ar(He.vnode)&&He.vnode.shapeFlag&256)&&B.a&&Zt(B.a,se),B.isMounted=!0,F=K=Z=null}};B.scope.on();const he=B.effect=new eu(me);B.scope.off();const ae=B.update=he.run.bind(he),De=B.job=he.runIfDirty.bind(he);De.i=B,De.id=B.uid,he.scheduler=()=>za(De),yo(B,!0),ae()},w=(B,F,K)=>{F.component=B;const Z=B.vnode.props;B.vnode=F,B.next=null,Om(B,F.props,Z,K),Nm(B,F.children,K),mo(),$l(B),ho()},J=(B,F,K,Z,se,ne,fe,me,he=!1)=>{const ae=B&&B.children,De=B?B.shapeFlag:0,be=F.children,{patchFlag:z,shapeFlag:h}=F;if(z>0){if(z&128){H(ae,be,K,Z,se,ne,fe,me,he);return}else if(z&256){L(ae,be,K,Z,se,ne,fe,me,he);return}}h&8?(De&16&&Ie(ae,se,ne),be!==ae&&u(K,be)):De&16?h&16?H(ae,be,K,Z,se,ne,fe,me,he):Ie(ae,se,ne,!0):(De&8&&u(K,""),h&16&&$(be,K,Z,se,ne,fe,me,he))},L=(B,F,K,Z,se,ne,fe,me,he)=>{B=B||Xo,F=F||Xo;const ae=B.length,De=F.length,be=Math.min(ae,De);let z;for(z=0;z<be;z++){const h=F[z]=he?no(F[z]):kn(F[z]);y(B[z],h,K,null,se,ne,fe,me,he)}ae>De?Ie(B,se,ne,!0,!1,be):$(F,K,Z,se,ne,fe,me,he,be)},H=(B,F,K,Z,se,ne,fe,me,he)=>{let ae=0;const De=F.length;let be=B.length-1,z=De-1;for(;ae<=be&&ae<=z;){const h=B[ae],O=F[ae]=he?no(F[ae]):kn(F[ae]);if(br(h,O))y(h,O,K,null,se,ne,fe,me,he);else break;ae++}for(;ae<=be&&ae<=z;){const h=B[be],O=F[z]=he?no(F[z]):kn(F[z]);if(br(h,O))y(h,O,K,null,se,ne,fe,me,he);else break;be--,z--}if(ae>be){if(ae<=z){const h=z+1,O=h<De?F[h].el:Z;for(;ae<=z;)y(null,F[ae]=he?no(F[ae]):kn(F[ae]),K,O,se,ne,fe,me,he),ae++}}else if(ae>z)for(;ae<=be;)re(B[ae],se,ne,!0),ae++;else{const h=ae,O=ae,we=new Map;for(ae=O;ae<=z;ae++){const ft=F[ae]=he?no(F[ae]):kn(F[ae]);ft.key!=null&&we.set(ft.key,ae)}let He,nt=0;const Ke=z-O+1;let ct=!1,st=0;const St=new Array(Ke);for(ae=0;ae<Ke;ae++)St[ae]=0;for(ae=h;ae<=be;ae++){const ft=B[ae];if(nt>=Ke){re(ft,se,ne,!0);continue}let Dt;if(ft.key!=null)Dt=we.get(ft.key);else for(He=O;He<=z;He++)if(St[He-O]===0&&br(ft,F[He])){Dt=He;break}Dt===void 0?re(ft,se,ne,!0):(St[Dt-O]=ae+1,Dt>=st?st=Dt:ct=!0,y(ft,F[Dt],K,null,se,ne,fe,me,he),nt++)}const Et=ct?jm(St):Xo;for(He=Et.length-1,ae=Ke-1;ae>=0;ae--){const ft=O+ae,Dt=F[ft],Gn=ft+1<De?F[ft+1].el:Z;St[ae]===0?y(null,Dt,K,Gn,se,ne,fe,me,he):ct&&(He<0||ae!==Et[He]?Q(Dt,K,Gn,2):He--)}}},Q=(B,F,K,Z,se=null)=>{const{el:ne,type:fe,transition:me,children:he,shapeFlag:ae}=B;if(ae&6){Q(B.component.subTree,F,K,Z);return}if(ae&128){B.suspense.move(F,K,Z);return}if(ae&64){fe.move(B,F,K,_e);return}if(fe===Ve){o(ne,F,K);for(let be=0;be<he.length;be++)Q(he[be],F,K,Z);o(B.anchor,F,K);return}if(fe===Cs){P(B,F,K);return}if(Z!==2&&ae&1&&me)if(Z===0)me.beforeEnter(ne),o(ne,F,K),Zt(()=>me.enter(ne),se);else{const{leave:be,delayLeave:z,afterLeave:h}=me,O=()=>o(ne,F,K),we=()=>{be(ne,()=>{O(),h&&h()})};z?z(ne,O,we):we()}else o(ne,F,K)},re=(B,F,K,Z=!1,se=!1)=>{const{type:ne,props:fe,ref:me,children:he,dynamicChildren:ae,shapeFlag:De,patchFlag:be,dirs:z,cacheIndex:h}=B;if(be===-2&&(se=!1),me!=null&&Ms(me,null,K,B,!0),h!=null&&(F.renderCache[h]=void 0),De&256){F.ctx.deactivate(B);return}const O=De&1&&z,we=!Ar(B);let He;if(we&&(He=fe&&fe.onVnodeBeforeUnmount)&&Cn(He,F,B),De&6)ee(B.component,K,Z);else{if(De&128){B.suspense.unmount(K,Z);return}O&&wo(B,null,F,"beforeUnmount"),De&64?B.type.remove(B,F,K,_e,Z):ae&&!ae.hasOnce&&(ne!==Ve||be>0&&be&64)?Ie(ae,F,K,!1,!0):(ne===Ve&&be&384||!se&&De&16)&&Ie(he,F,K),Z&&ce(B)}(we&&(He=fe&&fe.onVnodeUnmounted)||O)&&Zt(()=>{He&&Cn(He,F,B),O&&wo(B,null,F,"unmounted")},K)},ce=B=>{const{type:F,el:K,anchor:Z,transition:se}=B;if(F===Ve){de(K,Z);return}if(F===Cs){I(B);return}const ne=()=>{r(K),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(B.shapeFlag&1&&se&&!se.persisted){const{leave:fe,delayLeave:me}=se,he=()=>fe(K,ne);me?me(B.el,ne,he):he()}else ne()},de=(B,F)=>{let K;for(;B!==F;)K=f(B),r(B),B=K;r(F)},ee=(B,F,K)=>{const{bum:Z,scope:se,job:ne,subTree:fe,um:me,m:he,a:ae}=B;Pl(he),Pl(ae),Z&&ys(Z),se.stop(),ne&&(ne.flags|=8,re(fe,B,F,K)),me&&Zt(me,F),Zt(()=>{B.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},Ie=(B,F,K,Z=!1,se=!1,ne=0)=>{for(let fe=ne;fe<B.length;fe++)re(B[fe],F,K,Z,se)},te=B=>{if(B.shapeFlag&6)return te(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const F=f(B.anchor||B.el),K=F&&F[cm];return K?f(K):F};let pe=!1;const ue=(B,F,K)=>{B==null?F._vnode&&re(F._vnode,null,null,!0):y(F._vnode||null,B,F,null,null,null,K),F._vnode=B,pe||(pe=!0,$l(),Cu(),pe=!1)},_e={p:y,um:re,m:Q,r:ce,mt:D,mc:$,pc:J,pbc:M,n:te,o:e};return{render:ue,hydrate:void 0,createApp:Im(ue)}}function Ni({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function yo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Vm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Vu(e,t,n=!1){const o=e.children,r=t.children;if(Be(o)&&Be(r))for(let s=0;s<o.length;s++){const a=o[s];let l=r[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[s]=no(r[s]),l.el=a.el),!n&&l.patchFlag!==-2&&Vu(a,l)),l.type===hi&&(l.el=a.el)}}function jm(e){const t=e.slice(),n=[0];let o,r,s,a,l;const d=e.length;for(o=0;o<d;o++){const p=e[o];if(p!==0){if(r=n[n.length-1],e[r]<p){t[o]=r,n.push(o);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<p?s=l+1:a=l;p<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function ju(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ju(t)}function Pl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const zm=Symbol.for("v-scx"),qm=()=>bn(zm);function wn(e,t,n){return zu(e,t,n)}function zu(e,t,n=ot){const{immediate:o,deep:r,flush:s,once:a}=n,l=Mt({},n),d=t&&o||!t&&s!=="post";let p;if(zr){if(s==="sync"){const m=qm();p=m.__watcherHandles||(m.__watcherHandles=[])}else if(!d){const m=()=>{};return m.stop=An,m.resume=An,m.pause=An,m}}const u=Tt;l.call=(m,b,y)=>In(m,u,b,y);let c=!1;s==="post"?l.scheduler=m=>{Zt(m,u&&u.suspense)}:s!=="sync"&&(c=!0,l.scheduler=(m,b)=>{b?m():za(m)}),l.augmentJob=m=>{t&&(m.flags|=4),c&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const f=sm(e,t,l);return zr&&(p?p.push(f):d&&f()),f}function Wm(e,t,n){const o=this.proxy,r=_t(e)?e.includes(".")?qu(o,e):()=>o[e]:e.bind(o,o);let s;Fe(t)?s=t:(s=t.handler,n=t);const a=Jr(this),l=zu(r,s.bind(o),n);return a(),l}function qu(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Km=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${un(t)}Modifiers`]||e[`${po(t)}Modifiers`];function Ym(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||ot;let r=n;const s=t.startsWith("update:"),a=s&&Km(o,t.slice(7));a&&(a.trim&&(r=n.map(u=>_t(u)?u.trim():u)),a.number&&(r=n.map(Hs)));let l,d=o[l=Ri(t)]||o[l=Ri(un(t))];!d&&s&&(d=o[l=Ri(po(t))]),d&&In(d,e,6,r);const p=o[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,In(p,e,6,r)}}function Wu(e,t,n=!1){const o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;const s=e.emits;let a={},l=!1;if(!Fe(e)){const d=p=>{const u=Wu(p,t,!0);u&&(l=!0,Mt(a,u))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!s&&!l?(rt(e)&&o.set(e,null),null):(Be(s)?s.forEach(d=>a[d]=null):Mt(a,s),rt(e)&&o.set(e,a),a)}function mi(e,t){return!e||!ai(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,po(t))||Ze(e,t))}function Ol(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:a,attrs:l,emit:d,render:p,renderCache:u,props:c,data:f,setupState:m,ctx:b,inheritAttrs:y}=e,v=Os(e);let _,N;try{if(n.shapeFlag&4){const I=r||o,A=I;_=kn(p.call(A,I,u,c,m,f,b)),N=l}else{const I=t;_=kn(I.length>1?I(c,{attrs:l,slots:a,emit:d}):I(c,null)),N=t.props?l:Xm(l)}}catch(I){Dr.length=0,fi(I,e,1),_=mt(Io)}let P=_;if(N&&y!==!1){const I=Object.keys(N),{shapeFlag:A}=P;I.length&&A&7&&(s&&I.some(Ia)&&(N=Gm(N,s)),P=nr(P,N,!1,!0))}return n.dirs&&(P=nr(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&qa(P,n.transition),_=P,Os(v),_}const Xm=e=>{let t;for(const n in e)(n==="class"||n==="style"||ai(n))&&((t||(t={}))[n]=e[n]);return t},Gm=(e,t)=>{const n={};for(const o in e)(!Ia(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Jm(e,t,n){const{props:o,children:r,component:s}=e,{props:a,children:l,patchFlag:d}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return o?Ml(o,a,p):!!a;if(d&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const f=u[c];if(a[f]!==o[f]&&!mi(p,f))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:o===a?!1:o?a?Ml(o,a,p):!0:!!a;return!1}function Ml(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(t[s]!==e[s]&&!mi(n,s))return!0}return!1}function Qm({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ku=e=>e.__isSuspense;function Zm(e,t){t&&t.pendingBranch?Be(e)?t.effects.push(...e):t.effects.push(e):lm(e)}const Ve=Symbol.for("v-fgt"),hi=Symbol.for("v-txt"),Io=Symbol.for("v-cmt"),Cs=Symbol.for("v-stc"),Dr=[];let tn=null;function Y(e=!1){Dr.push(tn=e?null:[])}function eh(){Dr.pop(),tn=Dr[Dr.length-1]||null}let jr=1;function Bl(e,t=!1){jr+=e,e<0&&tn&&t&&(tn.hasOnce=!0)}function Yu(e){return e.dynamicChildren=jr>0?tn||Xo:null,eh(),jr>0&&tn&&tn.push(e),e}function G(e,t,n,o,r,s){return Yu(i(e,t,n,o,r,s,!0))}function Vn(e,t,n,o,r){return Yu(mt(e,t,n,o,r,!0))}function Ls(e){return e?e.__v_isVNode===!0:!1}function br(e,t){return e.type===t.type&&e.key===t.key}const Xu=({key:e})=>e??null,_s=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_t(e)||ht(e)||Fe(e)?{i:Xt,r:e,k:t,f:!!n}:e:null);function i(e,t=null,n=null,o=0,r=null,s=e===Ve?0:1,a=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xu(t),ref:t&&_s(t),scopeId:Su,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Xt};return l?(Ka(d,n),s&128&&e.normalize(d)):n&&(d.shapeFlag|=_t(n)?8:16),jr>0&&!a&&tn&&(d.patchFlag>0||s&6)&&d.patchFlag!==32&&tn.push(d),d}const mt=th;function th(e,t=null,n=null,o=0,r=null,s=!1){if((!e||e===_m)&&(e=Io),Ls(e)){const l=nr(e,t,!0);return n&&Ka(l,n),jr>0&&!s&&tn&&(l.shapeFlag&6?tn[tn.indexOf(e)]=l:tn.push(l)),l.patchFlag=-2,l}if(fh(e)&&(e=e.__vccOpts),t){t=nh(t);let{class:l,style:d}=t;l&&!_t(l)&&(t.class=at(l)),rt(d)&&(Va(d)&&!Be(d)&&(d=Mt({},d)),t.style=Tn(d))}const a=_t(e)?1:Ku(e)?128:um(e)?64:rt(e)?4:Fe(e)?2:0;return i(e,t,n,o,r,a,s,!0)}function nh(e){return e?Va(e)||Ou(e)?Mt({},e):e:null}function nr(e,t,n=!1,o=!1){const{props:r,ref:s,patchFlag:a,children:l,transition:d}=e,p=t?oh(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Xu(p),ref:t&&t.ref?n&&s?Be(s)?s.concat(_s(t)):[s,_s(t)]:_s(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ve?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&nr(e.ssContent),ssFallback:e.ssFallback&&nr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&qa(u,d.clone(u)),u}function Ee(e=" ",t=0){return mt(hi,null,e,t)}function fo(e,t){const n=mt(Cs,null,e);return n.staticCount=t,n}function Te(e="",t=!1){return t?(Y(),Vn(Io,null,e)):mt(Io,null,e)}function kn(e){return e==null||typeof e=="boolean"?mt(Io):Be(e)?mt(Ve,null,e.slice()):Ls(e)?no(e):mt(hi,null,String(e))}function no(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:nr(e)}function Ka(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Be(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),Ka(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Ou(t)?t._ctx=Xt:r===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:Xt},n=32):(t=String(t),o&64?(n=16,t=[Ee(t)]):n=8);e.children=t,e.shapeFlag|=n}function oh(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=at([t.class,o.class]));else if(r==="style")t.style=Tn([t.style,o.style]);else if(ai(r)){const s=t[r],a=o[r];a&&s!==a&&!(Be(s)&&s.includes(a))&&(t[r]=s?[].concat(s,a):a)}else r!==""&&(t[r]=o[r])}return t}function Cn(e,t,n,o=null){In(e,t,7,[n,o])}const rh=Iu();let sh=0;function ih(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||rh,s={uid:sh++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bu(o,r),emitsOptions:Wu(o,r),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:o.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Ym.bind(null,s),e.ce&&e.ce(s),s}let Tt=null,Ns,ga;{const e=ui(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),s=>{r.length>1?r.forEach(a=>a(s)):r[0](s)}};Ns=t("__VUE_INSTANCE_SETTERS__",n=>Tt=n),ga=t("__VUE_SSR_SETTERS__",n=>zr=n)}const Jr=e=>{const t=Tt;return Ns(e),e.scope.on(),()=>{e.scope.off(),Ns(t)}},Ll=()=>{Tt&&Tt.scope.off(),Ns(null)};function Gu(e){return e.vnode.shapeFlag&4}let zr=!1;function ah(e,t=!1,n=!1){t&&ga(t);const{props:o,children:r}=e.vnode,s=Gu(e);Pm(e,o,s,t),Lm(e,r,n);const a=s?lh(e,t):void 0;return t&&ga(!1),a}function lh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,km);const{setup:o}=n;if(o){mo();const r=e.setupContext=o.length>1?uh(e):null,s=Jr(e),a=Gr(o,e,0,[e.props,r]),l=zc(a);if(ho(),s(),(l||e.sp)&&!Ar(e)&&Eu(e),l){if(a.then(Ll,Ll),t)return a.then(d=>{Nl(e,d)}).catch(d=>{fi(d,e,0)});e.asyncDep=a}else Nl(e,a)}else Ju(e)}function Nl(e,t,n){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:rt(t)&&(e.setupState=vu(t)),Ju(e)}function Ju(e,t,n){const o=e.type;e.render||(e.render=o.render||An);{const r=Jr(e);mo();try{Em(e)}finally{ho(),r()}}}const ch={get(e,t){return Rt(e,"get",""),e[t]}};function uh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ch),slots:e.slots,emit:e.emit,expose:t}}function gi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(vu(ja(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Tr)return Tr[n](e)},has(t,n){return n in t||n in Tr}})):e.proxy}function dh(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function fh(e){return Fe(e)&&"__vccOpts"in e}const ut=(e,t)=>om(e,t,zr);function Qu(e,t,n){const o=arguments.length;return o===2?rt(t)&&!Be(t)?Ls(t)?mt(e,null,[t]):mt(e,t):mt(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ls(n)&&(n=[n]),mt(e,t,n))}const ph="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let va;const Ul=typeof window<"u"&&window.trustedTypes;if(Ul)try{va=Ul.createPolicy("vue",{createHTML:e=>e})}catch{}const Zu=va?e=>va.createHTML(e):e=>e,mh="http://www.w3.org/2000/svg",hh="http://www.w3.org/1998/Math/MathML",Nn=typeof document<"u"?document:null,Fl=Nn&&Nn.createElement("template"),gh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?Nn.createElementNS(mh,e):t==="mathml"?Nn.createElementNS(hh,e):n?Nn.createElement(e,{is:n}):Nn.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>Nn.createTextNode(e),createComment:e=>Nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,s){const a=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Fl.innerHTML=Zu(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Fl.content;if(o==="svg"||o==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vh=Symbol("_vtc");function bh(e,t,n){const o=e[vh];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Us=Symbol("_vod"),ed=Symbol("_vsh"),Ui={beforeMount(e,{value:t},{transition:n}){e[Us]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):wr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),wr(e,!0),o.enter(e)):o.leave(e,()=>{wr(e,!1)}):wr(e,t))},beforeUnmount(e,{value:t}){wr(e,t)}};function wr(e,t){e.style.display=t?e[Us]:"none",e[ed]=!t}const wh=Symbol(""),yh=/(^|;)\s*display\s*:/;function xh(e,t,n){const o=e.style,r=_t(n);let s=!1;if(n&&!r){if(t)if(_t(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Ss(o,l,"")}else for(const a in t)n[a]==null&&Ss(o,a,"");for(const a in n)a==="display"&&(s=!0),Ss(o,a,n[a])}else if(r){if(t!==n){const a=o[wh];a&&(n+=";"+a),o.cssText=n,s=yh.test(n)}}else t&&e.removeAttribute("style");Us in e&&(e[Us]=s?o.display:"",e[ed]&&(o.display="none"))}const Vl=/\s*!important$/;function Ss(e,t,n){if(Be(n))n.forEach(o=>Ss(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Ch(e,t);Vl.test(n)?e.setProperty(po(o),n.replace(Vl,""),"important"):e[o]=n}}const jl=["Webkit","Moz","ms"],Fi={};function Ch(e,t){const n=Fi[t];if(n)return n;let o=un(t);if(o!=="filter"&&o in e)return Fi[t]=o;o=ci(o);for(let r=0;r<jl.length;r++){const s=jl[r]+o;if(s in e)return Fi[t]=s}return t}const zl="http://www.w3.org/1999/xlink";function ql(e,t,n,o,r,s=Ap(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(zl,t.slice(6,t.length)):e.setAttributeNS(zl,t,n):n==null||s&&!Yc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Hn(n)?String(n):n)}function Wl(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Zu(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(l!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Yc(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(r||t)}function so(e,t,n,o){e.addEventListener(t,n,o)}function _h(e,t,n,o){e.removeEventListener(t,n,o)}const Kl=Symbol("_vei");function Sh(e,t,n,o,r=null){const s=e[Kl]||(e[Kl]={}),a=s[t];if(o&&a)a.value=o;else{const[l,d]=kh(t);if(o){const p=s[t]=Ah(o,r);so(e,l,p,d)}else a&&(_h(e,l,a,d),s[t]=void 0)}}const Yl=/(?:Once|Passive|Capture)$/;function kh(e){let t;if(Yl.test(e)){t={};let o;for(;o=e.match(Yl);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):po(e.slice(2)),t]}let Vi=0;const Eh=Promise.resolve(),$h=()=>Vi||(Eh.then(()=>Vi=0),Vi=Date.now());function Ah(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;In(Th(o,n.value),t,5,[o])};return n.value=e,n.attached=$h(),n}function Th(e,t){if(Be(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Xl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Dh=(e,t,n,o,r,s)=>{const a=r==="svg";t==="class"?bh(e,o,a):t==="style"?xh(e,n,o):ai(t)?Ia(t)||Sh(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hh(e,t,o,a))?(Wl(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ql(e,t,o,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_t(o))?Wl(e,un(t),o,s,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),ql(e,t,o,a))};function Hh(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xl(t)&&Fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Xl(t)&&_t(n)?!1:t in e}const or=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Be(t)?n=>ys(t,n):t};function Ih(e){e.target.composing=!0}function Gl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const zn=Symbol("_assign"),Ae={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[zn]=or(r);const s=o||r.props&&r.props.type==="number";so(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Hs(l)),e[zn](l)}),n&&so(e,"change",()=>{e.value=e.value.trim()}),t||(so(e,"compositionstart",Ih),so(e,"compositionend",Gl),so(e,"change",Gl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},a){if(e[zn]=or(a),e.composing)return;const l=(s||e.type==="number")&&!/^0\d/.test(e.value)?Hs(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===d)||(e.value=d))}},Hr={deep:!0,created(e,t,n){e[zn]=or(n),so(e,"change",()=>{const o=e._modelValue,r=qr(e),s=e.checked,a=e[zn];if(Be(o)){const l=Oa(o,r),d=l!==-1;if(s&&!d)a(o.concat(r));else if(!s&&d){const p=[...o];p.splice(l,1),a(p)}}else if(ur(o)){const l=new Set(o);s?l.add(r):l.delete(r),a(l)}else a(td(e,s))})},mounted:Jl,beforeUpdate(e,t,n){e[zn]=or(n),Jl(e,t,n)}};function Jl(e,{value:t,oldValue:n},o){e._modelValue=t;let r;if(Be(t))r=Oa(t,o.props.value)>-1;else if(ur(t))r=t.has(o.props.value);else{if(t===n)return;r=Xr(t,td(e,!0))}e.checked!==r&&(e.checked=r)}const Ot={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=ur(t);so(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Hs(qr(a)):qr(a));e[zn](e.multiple?r?new Set(s):s:s[0]),e._assigning=!0,Po(()=>{e._assigning=!1})}),e[zn]=or(o)},mounted(e,{value:t}){Ql(e,t)},beforeUpdate(e,t,n){e[zn]=or(n)},updated(e,{value:t}){e._assigning||Ql(e,t)}};function Ql(e,t){const n=e.multiple,o=Be(t);if(!(n&&!o&&!ur(t))){for(let r=0,s=e.options.length;r<s;r++){const a=e.options[r],l=qr(a);if(n)if(o){const d=typeof l;d==="string"||d==="number"?a.selected=t.some(p=>String(p)===String(l)):a.selected=Oa(t,l)>-1}else a.selected=t.has(l);else if(Xr(qr(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function qr(e){return"_value"in e?e._value:e.value}function td(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Rh=["ctrl","shift","alt","meta"],Ph={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Rh.some(n=>e[`${n}Key`]&&!t.includes(n))},et=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(r,...s)=>{for(let a=0;a<t.length;a++){const l=Ph[t[a]];if(l&&l(r,t))return}return e(r,...s)})},Oh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},En=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=r=>{if(!("key"in r))return;const s=po(r.key);if(t.some(a=>a===s||Oh[a]===s))return e(r)})},Mh=Mt({patchProp:Dh},gh);let Zl;function Bh(){return Zl||(Zl=Um(Mh))}const Lh=(...e)=>{const t=Bh().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=Uh(o);if(!r)return;const s=t._component;!Fe(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,Nh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function Nh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uh(e){return _t(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let nd;const vi=e=>nd=e,od=Symbol();function ba(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ir;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ir||(Ir={}));function Fh(){const e=Qc(!0),t=e.run(()=>$e({}));let n=[],o=[];const r=ja({install(s){vi(r),r._a=s,s.provide(od,r),s.config.globalProperties.$pinia=r,o.forEach(a=>n.push(a)),o=[]},use(s){return this._a?n.push(s):o.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const rd=()=>{};function ec(e,t,n,o=rd){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),o())};return!n&&Zc()&&Dp(r),r}function Fo(e,...t){e.slice().forEach(n=>{n(...t)})}const Vh=e=>e(),tc=Symbol(),ji=Symbol();function wa(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];ba(r)&&ba(o)&&e.hasOwnProperty(n)&&!ht(o)&&!jn(o)?e[n]=wa(r,o):e[n]=o}return e}const jh=Symbol();function zh(e){return!ba(e)||!Object.prototype.hasOwnProperty.call(e,jh)}const{assign:Zn}=Object;function qh(e){return!!(ht(e)&&e.effect)}function Wh(e,t,n,o){const{state:r,actions:s,getters:a}=t,l=n.state.value[e];let d;function p(){l||(n.state.value[e]=r?r():{});const u=Zp(n.state.value[e]);return Zn(u,s,Object.keys(a||{}).reduce((c,f)=>(c[f]=ja(ut(()=>{vi(n);const m=n._s.get(e);return a[f].call(m,m)})),c),{}))}return d=sd(e,p,t,n,o,!0),d}function sd(e,t,n={},o,r,s){let a;const l=Zn({actions:{}},n),d={deep:!0};let p,u,c=[],f=[],m;const b=o.state.value[e];!s&&!b&&(o.state.value[e]={}),$e({});let y;function v($){let E;p=u=!1,typeof $=="function"?($(o.state.value[e]),E={type:Ir.patchFunction,storeId:e,events:m}):(wa(o.state.value[e],$),E={type:Ir.patchObject,payload:$,storeId:e,events:m});const M=y=Symbol();Po().then(()=>{y===M&&(p=!0)}),u=!0,Fo(c,E,o.state.value[e])}const _=s?function(){const{state:E}=n,M=E?E():{};this.$patch(C=>{Zn(C,M)})}:rd;function N(){a.stop(),c=[],f=[],o._s.delete(e)}const P=($,E="")=>{if(tc in $)return $[ji]=E,$;const M=function(){vi(o);const C=Array.from(arguments),g=[],S=[];function D(w){g.push(w)}function U(w){S.push(w)}Fo(f,{args:C,name:M[ji],store:A,after:D,onError:U});let x;try{x=$.apply(this&&this.$id===e?this:A,C)}catch(w){throw Fo(S,w),w}return x instanceof Promise?x.then(w=>(Fo(g,w),w)).catch(w=>(Fo(S,w),Promise.reject(w))):(Fo(g,x),x)};return M[tc]=!0,M[ji]=E,M},I={_p:o,$id:e,$onAction:ec.bind(null,f),$patch:v,$reset:_,$subscribe($,E={}){const M=ec(c,$,E.detached,()=>C()),C=a.run(()=>wn(()=>o.state.value[e],g=>{(E.flush==="sync"?u:p)&&$({storeId:e,type:Ir.direct,events:m},g)},Zn({},d,E)));return M},$dispose:N},A=dn(I);o._s.set(e,A);const V=(o._a&&o._a.runWithContext||Vh)(()=>o._e.run(()=>(a=Qc()).run(()=>t({action:P}))));for(const $ in V){const E=V[$];if(ht(E)&&!qh(E)||jn(E))s||(b&&zh(E)&&(ht(E)?E.value=b[$]:wa(E,b[$])),o.state.value[e][$]=E);else if(typeof E=="function"){const M=P(E,$);V[$]=M,l.actions[$]=E}}return Zn(A,V),Zn(We(A),V),Object.defineProperty(A,"$state",{get:()=>o.state.value[e],set:$=>{v(E=>{Zn(E,$)})}}),o._p.forEach($=>{Zn(A,a.run(()=>$({store:A,app:o._a,pinia:o,options:l})))}),b&&s&&n.hydrate&&n.hydrate(A.$state,b),p=!0,u=!0,A}/*! #__NO_SIDE_EFFECTS__ */function vo(e,t,n){let o;const r=typeof t=="function";o=r?n:t;function s(a,l){const d=Rm();return a=a||(d?bn(od,null):null),a&&vi(a),a=nd,a._s.has(e)||(r?sd(e,t,o,a):Wh(e,o,a)),a._s.get(e)}return s.$id=e,s}function Qr(e){const t=We(e),n={};for(const o in t){const r=t[o];r.effect?n[o]=ut({get:()=>e[o],set(s){e[o]=s}}):(ht(r)||jn(r))&&(n[o]=bu(e,o))}return n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const qo=typeof document<"u";function id(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Kh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&id(e.default)}const Qe=Object.assign;function zi(e,t){const n={};for(const o in t){const r=t[o];n[o]=yn(r)?r.map(e):e(r)}return n}const Rr=()=>{},yn=Array.isArray,ad=/#/g,Yh=/&/g,Xh=/\//g,Gh=/=/g,Jh=/\?/g,ld=/\+/g,Qh=/%5B/g,Zh=/%5D/g,cd=/%5E/g,eg=/%60/g,ud=/%7B/g,tg=/%7C/g,dd=/%7D/g,ng=/%20/g;function Ya(e){return encodeURI(""+e).replace(tg,"|").replace(Qh,"[").replace(Zh,"]")}function og(e){return Ya(e).replace(ud,"{").replace(dd,"}").replace(cd,"^")}function ya(e){return Ya(e).replace(ld,"%2B").replace(ng,"+").replace(ad,"%23").replace(Yh,"%26").replace(eg,"`").replace(ud,"{").replace(dd,"}").replace(cd,"^")}function rg(e){return ya(e).replace(Gh,"%3D")}function sg(e){return Ya(e).replace(ad,"%23").replace(Jh,"%3F")}function ig(e){return e==null?"":sg(e).replace(Xh,"%2F")}function Wr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ag=/\/$/,lg=e=>e.replace(ag,"");function qi(e,t,n="/"){let o,r={},s="",a="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(o=t.slice(0,d),s=t.slice(d+1,l>-1?l:t.length),r=e(s)),l>-1&&(o=o||t.slice(0,l),a=t.slice(l,t.length)),o=fg(o??t,n),{fullPath:o+(s&&"?")+s+a,path:o,query:r,hash:Wr(a)}}function cg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function nc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ug(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&rr(t.matched[o],n.matched[r])&&fd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function rr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function fd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!dg(e[n],t[n]))return!1;return!0}function dg(e,t){return yn(e)?oc(e,t):yn(t)?oc(t,e):e===t}function oc(e,t){return yn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function fg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let s=n.length-1,a,l;for(a=0;a<o.length;a++)if(l=o[a],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(a).join("/")}const Qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Kr;(function(e){e.pop="pop",e.push="push"})(Kr||(Kr={}));var Pr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Pr||(Pr={}));function pg(e){if(!e)if(qo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),lg(e)}const mg=/^[^#]+#/;function hg(e,t){return e.replace(mg,"#")+t}function gg(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const bi=()=>({left:window.scrollX,top:window.scrollY});function vg(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=gg(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function rc(e,t){return(history.state?history.state.position-t:-1)+e}const xa=new Map;function bg(e,t){xa.set(e,t)}function wg(e){const t=xa.get(e);return xa.delete(e),t}let yg=()=>location.protocol+"//"+location.host;function pd(e,t){const{pathname:n,search:o,hash:r}=t,s=e.indexOf("#");if(s>-1){let l=r.includes(e.slice(s))?e.slice(s).length:1,d=r.slice(l);return d[0]!=="/"&&(d="/"+d),nc(d,"")}return nc(n,e)+o+r}function xg(e,t,n,o){let r=[],s=[],a=null;const l=({state:f})=>{const m=pd(e,location),b=n.value,y=t.value;let v=0;if(f){if(n.value=m,t.value=f,a&&a===b){a=null;return}v=y?f.position-y.position:0}else o(m);r.forEach(_=>{_(n.value,b,{delta:v,type:Kr.pop,direction:v?v>0?Pr.forward:Pr.back:Pr.unknown})})};function d(){a=n.value}function p(f){r.push(f);const m=()=>{const b=r.indexOf(f);b>-1&&r.splice(b,1)};return s.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(Qe({},f.state,{scroll:bi()}),"")}function c(){for(const f of s)f();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:d,listen:p,destroy:c}}function sc(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?bi():null}}function Cg(e){const{history:t,location:n}=window,o={value:pd(e,n)},r={value:t.state};r.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(d,p,u){const c=e.indexOf("#"),f=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+d:yg()+e+d;try{t[u?"replaceState":"pushState"](p,"",f),r.value=p}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function a(d,p){const u=Qe({},t.state,sc(r.value.back,d,r.value.forward,!0),p,{position:r.value.position});s(d,u,!0),o.value=d}function l(d,p){const u=Qe({},r.value,t.state,{forward:d,scroll:bi()});s(u.current,u,!0);const c=Qe({},sc(o.value,d,null),{position:u.position+1},p);s(d,c,!1),o.value=d}return{location:o,state:r,push:l,replace:a}}function _g(e){e=pg(e);const t=Cg(e),n=xg(e,t.state,t.location,t.replace);function o(s,a=!0){a||n.pauseListeners(),history.go(s)}const r=Qe({location:"",base:e,go:o,createHref:hg.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Sg(e){return typeof e=="string"||e&&typeof e=="object"}function md(e){return typeof e=="string"||typeof e=="symbol"}const hd=Symbol("");var ic;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ic||(ic={}));function sr(e,t){return Qe(new Error,{type:e,[hd]:!0},t)}function Ln(e,t){return e instanceof Error&&hd in e&&(t==null||!!(e.type&t))}const ac="[^/]+?",kg={sensitive:!1,strict:!1,start:!0,end:!0},Eg=/[.+*?^${}()[\]/\\]/g;function $g(e,t){const n=Qe({},kg,t),o=[];let r=n.start?"^":"";const s=[];for(const p of e){const u=p.length?[]:[90];n.strict&&!p.length&&(r+="/");for(let c=0;c<p.length;c++){const f=p[c];let m=40+(n.sensitive?.25:0);if(f.type===0)c||(r+="/"),r+=f.value.replace(Eg,"\\$&"),m+=40;else if(f.type===1){const{value:b,repeatable:y,optional:v,regexp:_}=f;s.push({name:b,repeatable:y,optional:v});const N=_||ac;if(N!==ac){m+=10;try{new RegExp(`(${N})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${b}" (${N}): `+I.message)}}let P=y?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;c||(P=v&&p.length<2?`(?:/${P})`:"/"+P),v&&(P+="?"),r+=P,m+=20,v&&(m+=-8),y&&(m+=-20),N===".*"&&(m+=-50)}u.push(m)}o.push(u)}if(n.strict&&n.end){const p=o.length-1;o[p][o[p].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(p){const u=p.match(a),c={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",b=s[f-1];c[b.name]=m&&b.repeatable?m.split("/"):m}return c}function d(p){let u="",c=!1;for(const f of e){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:b,repeatable:y,optional:v}=m,_=b in p?p[b]:"";if(yn(_)&&!y)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const N=yn(_)?_.join("/"):_;if(!N)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${b}"`);u+=N}}return u||"/"}return{re:a,score:o,keys:s,parse:l,stringify:d}}function Ag(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function gd(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const s=Ag(o[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-o.length)===1){if(lc(o))return 1;if(lc(r))return-1}return r.length-o.length}function lc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Tg={type:0,value:""},Dg=/[a-zA-Z0-9_]/;function Hg(e){if(!e)return[[]];if(e==="/")return[[Tg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${p}": ${m}`)}let n=0,o=n;const r=[];let s;function a(){s&&r.push(s),s=[]}let l=0,d,p="",u="";function c(){p&&(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:u,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),p="")}function f(){p+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:d==="/"?(p&&c(),a()):d===":"?(c(),n=1):f();break;case 4:f(),n=o;break;case 1:d==="("?n=2:Dg.test(d)?f():(c(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+d:n=3:u+=d;break;case 3:c(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),c(),a(),r}function Ig(e,t,n){const o=$g(Hg(e.path),n),r=Qe(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Rg(e,t){const n=[],o=new Map;t=fc({strict:!1,end:!0,sensitive:!1},t);function r(c){return o.get(c)}function s(c,f,m){const b=!m,y=uc(c);y.aliasOf=m&&m.record;const v=fc(t,c),_=[y];if("alias"in c){const I=typeof c.alias=="string"?[c.alias]:c.alias;for(const A of I)_.push(uc(Qe({},y,{components:m?m.record.components:y.components,path:A,aliasOf:m?m.record:y})))}let N,P;for(const I of _){const{path:A}=I;if(f&&A[0]!=="/"){const k=f.record.path,V=k[k.length-1]==="/"?"":"/";I.path=f.record.path+(A&&V+A)}if(N=Ig(I,f,v),m?m.alias.push(N):(P=P||N,P!==N&&P.alias.push(N),b&&c.name&&!dc(N)&&a(c.name)),vd(N)&&d(N),y.children){const k=y.children;for(let V=0;V<k.length;V++)s(k[V],N,m&&m.children[V])}m=m||N}return P?()=>{a(P)}:Rr}function a(c){if(md(c)){const f=o.get(c);f&&(o.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&o.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function l(){return n}function d(c){const f=Mg(c,n);n.splice(f,0,c),c.record.name&&!dc(c)&&o.set(c.record.name,c)}function p(c,f){let m,b={},y,v;if("name"in c&&c.name){if(m=o.get(c.name),!m)throw sr(1,{location:c});v=m.record.name,b=Qe(cc(f.params,m.keys.filter(P=>!P.optional).concat(m.parent?m.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),c.params&&cc(c.params,m.keys.map(P=>P.name))),y=m.stringify(b)}else if(c.path!=null)y=c.path,m=n.find(P=>P.re.test(y)),m&&(b=m.parse(y),v=m.record.name);else{if(m=f.name?o.get(f.name):n.find(P=>P.re.test(f.path)),!m)throw sr(1,{location:c,currentLocation:f});v=m.record.name,b=Qe({},f.params,c.params),y=m.stringify(b)}const _=[];let N=m;for(;N;)_.unshift(N.record),N=N.parent;return{name:v,path:y,params:b,matched:_,meta:Og(_)}}e.forEach(c=>s(c));function u(){n.length=0,o.clear()}return{addRoute:s,resolve:p,removeRoute:a,clearRoutes:u,getRoutes:l,getRecordMatcher:r}}function cc(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function uc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Pg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function dc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Og(e){return e.reduce((t,n)=>Qe(t,n.meta),{})}function fc(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Mg(e,t){let n=0,o=t.length;for(;n!==o;){const s=n+o>>1;gd(e,t[s])<0?o=s:n=s+1}const r=Bg(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Bg(e){let t=e;for(;t=t.parent;)if(vd(t)&&gd(e,t)===0)return t}function vd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Lg(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const s=o[r].replace(ld," "),a=s.indexOf("="),l=Wr(a<0?s:s.slice(0,a)),d=a<0?null:Wr(s.slice(a+1));if(l in t){let p=t[l];yn(p)||(p=t[l]=[p]),p.push(d)}else t[l]=d}return t}function pc(e){let t="";for(let n in e){const o=e[n];if(n=rg(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(yn(o)?o.map(s=>s&&ya(s)):[o&&ya(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Ng(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=yn(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const Ug=Symbol(""),mc=Symbol(""),wi=Symbol(""),bd=Symbol(""),Ca=Symbol("");function yr(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function oo(e,t,n,o,r,s=a=>a()){const a=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((l,d)=>{const p=f=>{f===!1?d(sr(4,{from:n,to:t})):f instanceof Error?d(f):Sg(f)?d(sr(2,{from:t,to:f})):(a&&o.enterCallbacks[r]===a&&typeof f=="function"&&a.push(f),l())},u=s(()=>e.call(o&&o.instances[r],t,n,p));let c=Promise.resolve(u);e.length<3&&(c=c.then(p)),c.catch(f=>d(f))})}function Wi(e,t,n,o,r=s=>s()){const s=[];for(const a of e)for(const l in a.components){let d=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(id(d)){const u=(d.__vccOpts||d)[t];u&&s.push(oo(u,n,o,a,l,r))}else{let p=d();s.push(()=>p.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const c=Kh(u)?u.default:u;a.mods[l]=u,a.components[l]=c;const m=(c.__vccOpts||c)[t];return m&&oo(m,n,o,a,l,r)()}))}}return s}function hc(e){const t=bn(wi),n=bn(bd),o=ut(()=>{const d=ye(e.to);return t.resolve(d)}),r=ut(()=>{const{matched:d}=o.value,{length:p}=d,u=d[p-1],c=n.matched;if(!u||!c.length)return-1;const f=c.findIndex(rr.bind(null,u));if(f>-1)return f;const m=gc(d[p-2]);return p>1&&gc(u)===m&&c[c.length-1].path!==m?c.findIndex(rr.bind(null,d[p-2])):f}),s=ut(()=>r.value>-1&&qg(n.params,o.value.params)),a=ut(()=>r.value>-1&&r.value===n.matched.length-1&&fd(n.params,o.value.params));function l(d={}){if(zg(d)){const p=t[ye(e.replace)?"replace":"push"](ye(e.to)).catch(Rr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:o,href:ut(()=>o.value.href),isActive:s,isExactActive:a,navigate:l}}function Fg(e){return e.length===1?e[0]:e}const Vg=ku({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:hc,setup(e,{slots:t}){const n=dn(hc(e)),{options:o}=bn(wi),r=ut(()=>({[vc(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[vc(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&Fg(t.default(n));return e.custom?s:Qu("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),jg=Vg;function zg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function qg(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!yn(r)||r.length!==o.length||o.some((s,a)=>s!==r[a]))return!1}return!0}function gc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vc=(e,t,n)=>e??t??n,Wg=ku({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=bn(Ca),r=ut(()=>e.route||o.value),s=bn(mc,0),a=ut(()=>{let p=ye(s);const{matched:u}=r.value;let c;for(;(c=u[p])&&!c.components;)p++;return p}),l=ut(()=>r.value.matched[a.value]);xs(mc,ut(()=>a.value+1)),xs(Ug,l),xs(Ca,r);const d=$e();return wn(()=>[d.value,l.value,e.name],([p,u,c],[f,m,b])=>{u&&(u.instances[c]=p,m&&m!==u&&p&&p===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),p&&u&&(!m||!rr(u,m)||!f)&&(u.enterCallbacks[c]||[]).forEach(y=>y(p))},{flush:"post"}),()=>{const p=r.value,u=e.name,c=l.value,f=c&&c.components[u];if(!f)return bc(n.default,{Component:f,route:p});const m=c.props[u],b=m?m===!0?p.params:typeof m=="function"?m(p):m:null,v=Qu(f,Qe({},b,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[u]=null)},ref:d}));return bc(n.default,{Component:v,route:p})||v}}});function bc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Kg=Wg;function Yg(e){const t=Rg(e.routes,e),n=e.parseQuery||Lg,o=e.stringifyQuery||pc,r=e.history,s=yr(),a=yr(),l=yr(),d=Gp(Qn);let p=Qn;qo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=zi.bind(null,te=>""+te),c=zi.bind(null,ig),f=zi.bind(null,Wr);function m(te,pe){let ue,_e;return md(te)?(ue=t.getRecordMatcher(te),_e=pe):_e=te,t.addRoute(_e,ue)}function b(te){const pe=t.getRecordMatcher(te);pe&&t.removeRoute(pe)}function y(){return t.getRoutes().map(te=>te.record)}function v(te){return!!t.getRecordMatcher(te)}function _(te,pe){if(pe=Qe({},pe||d.value),typeof te=="string"){const K=qi(n,te,pe.path),Z=t.resolve({path:K.path},pe),se=r.createHref(K.fullPath);return Qe(K,Z,{params:f(Z.params),hash:Wr(K.hash),redirectedFrom:void 0,href:se})}let ue;if(te.path!=null)ue=Qe({},te,{path:qi(n,te.path,pe.path).path});else{const K=Qe({},te.params);for(const Z in K)K[Z]==null&&delete K[Z];ue=Qe({},te,{params:c(K)}),pe.params=c(pe.params)}const _e=t.resolve(ue,pe),Oe=te.hash||"";_e.params=u(f(_e.params));const B=cg(o,Qe({},te,{hash:og(Oe),path:_e.path})),F=r.createHref(B);return Qe({fullPath:B,hash:Oe,query:o===pc?Ng(te.query):te.query||{}},_e,{redirectedFrom:void 0,href:F})}function N(te){return typeof te=="string"?qi(n,te,d.value.path):Qe({},te)}function P(te,pe){if(p!==te)return sr(8,{from:pe,to:te})}function I(te){return V(te)}function A(te){return I(Qe(N(te),{replace:!0}))}function k(te){const pe=te.matched[te.matched.length-1];if(pe&&pe.redirect){const{redirect:ue}=pe;let _e=typeof ue=="function"?ue(te):ue;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=N(_e):{path:_e},_e.params={}),Qe({query:te.query,hash:te.hash,params:_e.path!=null?{}:te.params},_e)}}function V(te,pe){const ue=p=_(te),_e=d.value,Oe=te.state,B=te.force,F=te.replace===!0,K=k(ue);if(K)return V(Qe(N(K),{state:typeof K=="object"?Qe({},Oe,K.state):Oe,force:B,replace:F}),pe||ue);const Z=ue;Z.redirectedFrom=pe;let se;return!B&&ug(o,_e,ue)&&(se=sr(16,{to:Z,from:_e}),Q(_e,_e,!0,!1)),(se?Promise.resolve(se):M(Z,_e)).catch(ne=>Ln(ne)?Ln(ne,2)?ne:H(ne):J(ne,Z,_e)).then(ne=>{if(ne){if(Ln(ne,2))return V(Qe({replace:F},N(ne.to),{state:typeof ne.to=="object"?Qe({},Oe,ne.to.state):Oe,force:B}),pe||Z)}else ne=g(Z,_e,!0,F,Oe);return C(Z,_e,ne),ne})}function $(te,pe){const ue=P(te,pe);return ue?Promise.reject(ue):Promise.resolve()}function E(te){const pe=de.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(te):te()}function M(te,pe){let ue;const[_e,Oe,B]=Xg(te,pe);ue=Wi(_e.reverse(),"beforeRouteLeave",te,pe);for(const K of _e)K.leaveGuards.forEach(Z=>{ue.push(oo(Z,te,pe))});const F=$.bind(null,te,pe);return ue.push(F),Ie(ue).then(()=>{ue=[];for(const K of s.list())ue.push(oo(K,te,pe));return ue.push(F),Ie(ue)}).then(()=>{ue=Wi(Oe,"beforeRouteUpdate",te,pe);for(const K of Oe)K.updateGuards.forEach(Z=>{ue.push(oo(Z,te,pe))});return ue.push(F),Ie(ue)}).then(()=>{ue=[];for(const K of B)if(K.beforeEnter)if(yn(K.beforeEnter))for(const Z of K.beforeEnter)ue.push(oo(Z,te,pe));else ue.push(oo(K.beforeEnter,te,pe));return ue.push(F),Ie(ue)}).then(()=>(te.matched.forEach(K=>K.enterCallbacks={}),ue=Wi(B,"beforeRouteEnter",te,pe,E),ue.push(F),Ie(ue))).then(()=>{ue=[];for(const K of a.list())ue.push(oo(K,te,pe));return ue.push(F),Ie(ue)}).catch(K=>Ln(K,8)?K:Promise.reject(K))}function C(te,pe,ue){l.list().forEach(_e=>E(()=>_e(te,pe,ue)))}function g(te,pe,ue,_e,Oe){const B=P(te,pe);if(B)return B;const F=pe===Qn,K=qo?history.state:{};ue&&(_e||F?r.replace(te.fullPath,Qe({scroll:F&&K&&K.scroll},Oe)):r.push(te.fullPath,Oe)),d.value=te,Q(te,pe,ue,F),H()}let S;function D(){S||(S=r.listen((te,pe,ue)=>{if(!ee.listening)return;const _e=_(te),Oe=k(_e);if(Oe){V(Qe(Oe,{replace:!0,force:!0}),_e).catch(Rr);return}p=_e;const B=d.value;qo&&bg(rc(B.fullPath,ue.delta),bi()),M(_e,B).catch(F=>Ln(F,12)?F:Ln(F,2)?(V(Qe(N(F.to),{force:!0}),_e).then(K=>{Ln(K,20)&&!ue.delta&&ue.type===Kr.pop&&r.go(-1,!1)}).catch(Rr),Promise.reject()):(ue.delta&&r.go(-ue.delta,!1),J(F,_e,B))).then(F=>{F=F||g(_e,B,!1),F&&(ue.delta&&!Ln(F,8)?r.go(-ue.delta,!1):ue.type===Kr.pop&&Ln(F,20)&&r.go(-1,!1)),C(_e,B,F)}).catch(Rr)}))}let U=yr(),x=yr(),w;function J(te,pe,ue){H(te);const _e=x.list();return _e.length?_e.forEach(Oe=>Oe(te,pe,ue)):console.error(te),Promise.reject(te)}function L(){return w&&d.value!==Qn?Promise.resolve():new Promise((te,pe)=>{U.add([te,pe])})}function H(te){return w||(w=!te,D(),U.list().forEach(([pe,ue])=>te?ue(te):pe()),U.reset()),te}function Q(te,pe,ue,_e){const{scrollBehavior:Oe}=e;if(!qo||!Oe)return Promise.resolve();const B=!ue&&wg(rc(te.fullPath,0))||(_e||!ue)&&history.state&&history.state.scroll||null;return Po().then(()=>Oe(te,pe,B)).then(F=>F&&vg(F)).catch(F=>J(F,te,pe))}const re=te=>r.go(te);let ce;const de=new Set,ee={currentRoute:d,listening:!0,addRoute:m,removeRoute:b,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:y,resolve:_,options:e,push:I,replace:A,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:x.add,isReady:L,install(te){const pe=this;te.component("RouterLink",jg),te.component("RouterView",Kg),te.config.globalProperties.$router=pe,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>ye(d)}),qo&&!ce&&d.value===Qn&&(ce=!0,I(r.location).catch(Oe=>{}));const ue={};for(const Oe in Qn)Object.defineProperty(ue,Oe,{get:()=>d.value[Oe],enumerable:!0});te.provide(wi,pe),te.provide(bd,mu(ue)),te.provide(Ca,d);const _e=te.unmount;de.add(te),te.unmount=function(){de.delete(te),de.size<1&&(p=Qn,S&&S(),S=null,d.value=Qn,ce=!1,w=!1),_e()}}};function Ie(te){return te.reduce((pe,ue)=>pe.then(()=>E(ue)),Promise.resolve())}return ee}function Xg(e,t){const n=[],o=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(p=>rr(p,l))?o.push(l):n.push(l));const d=e.matched[a];d&&(t.matched.find(p=>rr(p,d))||r.push(d))}return[n,o,r]}function yi(){return bn(wi)}const $t=[];for(let e=0;e<256;++e)$t.push((e+256).toString(16).slice(1));function Gg(e,t=0){return($t[e[t+0]]+$t[e[t+1]]+$t[e[t+2]]+$t[e[t+3]]+"-"+$t[e[t+4]]+$t[e[t+5]]+"-"+$t[e[t+6]]+$t[e[t+7]]+"-"+$t[e[t+8]]+$t[e[t+9]]+"-"+$t[e[t+10]]+$t[e[t+11]]+$t[e[t+12]]+$t[e[t+13]]+$t[e[t+14]]+$t[e[t+15]]).toLowerCase()}let Ki;const Jg=new Uint8Array(16);function Qg(){if(!Ki){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ki=crypto.getRandomValues.bind(crypto)}return Ki(Jg)}const Zg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wc={randomUUID:Zg};function ev(e,t,n){var r;e=e||{};const o=e.random??((r=e.rng)==null?void 0:r.call(e))??Qg();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Gg(o)}function cn(e,t,n){return wc.randomUUID?wc.randomUUID():ev(e)}const _a=vo("passiveDamage",{state:()=>({passiveDamages:[]}),actions:{loadPassiveDamages(){const e=localStorage.getItem("dnd-passive-damages-data");if(e)try{const t=JSON.parse(e);this.passiveDamages=t.map(n=>{const o={id:n.id||cn(),name:n.name,duration:n.duration||0,damageRolls:[]};if(n.damageRolls)o.damageRolls=n.damageRolls.map(r=>{if(typeof r.dice=="string"){const[s,a]=r.dice.split("+"),[l,d]=s.split("d").map(Number);return{numDice:l||1,diceType:d||6,bonus:a?parseInt(a):0,type:r.type||"bludgeoning"}}return r});else if(n.dice){const[r,s]=n.dice.split("+"),[a,l]=r.split("d").map(Number);o.damageRolls.push({numDice:a||1,diceType:l||6,bonus:s?parseInt(s):0,type:"bludgeoning"})}return o})}catch(t){console.error("Error loading or migrating passive damages from localStorage:",t),this.passiveDamages=[]}},savePassiveDamages(){localStorage.setItem("dnd-passive-damages-data",JSON.stringify(this.passiveDamages))},addPassiveDamage(e){const t={...e,id:cn()};this.passiveDamages.push(t),this.savePassiveDamages()},updatePassiveDamage(e){const t=this.passiveDamages.findIndex(n=>n.id===e.id);t!==-1&&(this.passiveDamages[t]=e,this.savePassiveDamages())},duplicatePassiveDamage(e){const t=this.passiveDamages.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=cn(),n.name=`${t.name} (Copia)`;const o=this.passiveDamages.findIndex(r=>r.id===e);this.passiveDamages.splice(o+1,0,n),this.savePassiveDamages()}},deletePassiveDamage(e){this.passiveDamages=this.passiveDamages.filter(t=>t.id!==e),this.savePassiveDamages()},decrementDurations(){const e=this.passiveDamages.length;this.passiveDamages.forEach(t=>{t.duration>0&&t.duration--}),this.passiveDamages=this.passiveDamages.filter(t=>t.duration!==0),(this.passiveDamages.length!==e||this.passiveDamages.some(t=>t.duration>0))&&this.savePassiveDamages()}}});function tv(e,t,n){let o=0;for(let r=0;r<e;r++)o+=Math.floor(Math.random()*t)+1;return o+n}const Oo=vo("character",{state:()=>({character:{name:"",maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},turn:{current:0,isActive:!1},logs:[]}),getters:{hpPercentage:e=>e.character.maxHp===0?0:e.character.currentHp/e.character.maxHp*100,tempHpPercentage:e=>e.character.maxHp===0?0:e.character.tempHp/e.character.maxHp*100,hpBarColor:e=>{const t=e.character.currentHp/e.character.maxHp*100;return t>75?"success":t>50?"warning":t>25?"danger":"dark"},isAlive:e=>e.character.currentHp>0,hasTempHp:e=>e.character.tempHp>0,totalHp:e=>e.character.currentHp+e.character.tempHp,logsByTurn:e=>{const t={};return e.logs.forEach(n=>{t[n.turn]||(t[n.turn]=[]),t[n.turn].push(n)}),t},currentTurnLogs:e=>e.logs.filter(t=>t.turn===e.turn.current)},actions:{addLog(e,t,n=null){const o={id:Date.now()+Math.random(),timestamp:new Date().toLocaleTimeString(),turn:n!==null?n:this.turn.current,action:e,details:t,hpBefore:this.character.currentHp,hpAfter:this.character.currentHp,tempHpBefore:this.character.tempHp,tempHpAfter:this.character.tempHp};this.logs.unshift(o),this.logs.length>100&&(this.logs=this.logs.slice(0,100))},configureCharacter(e,t,n=0){this.character.name=e,this.character.maxHp=t,this.character.originalMaxHp=t,this.character.currentHp=t,this.character.tempHp=0,this.character.regeneration=n,this.character.isConfigured=!0,this.addLog("Configuracin",`${e} configurado con ${t} HP mximo${n>0?` y regeneracin de ${n} HP/turno`:""}`,0),this.saveToLocalStorage()},startTurn(){if(this.turn.current++,this.turn.isActive=!0,this.addLog("Inicio de Turno",`Turno ${this.turn.current} iniciado`,this.turn.current),this.character.regeneration>0){const o=this.character.currentHp,r=this.character.maxHp;let s=0;if(this.character.maxHp<this.character.originalMaxHp){const d=this.character.originalMaxHp-this.character.maxHp,p=Math.min(this.character.regeneration,d);p>0&&(this.character.maxHp=Math.min(this.character.originalMaxHp,this.character.maxHp+p),s=this.character.maxHp-r)}this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+this.character.regeneration);const a=this.character.currentHp-o;let l="";s>0&&a>0?l=`+${a} HP (${o}  ${this.character.currentHp}) | HP mximo restaurado: +${s} (${r}  ${this.character.maxHp})`:s>0?l=`HP mximo restaurado: +${s} (${r}  ${this.character.maxHp})`:a>0&&(l=`+${a} HP (${o}  ${this.character.currentHp})`),l&&this.addLog("Regeneracin Automtica",l)}const e=_a();e.loadPassiveDamages();let t=0;const n=[];return e.passiveDamages.length>0&&e.passiveDamages.forEach(o=>{if(o.duration===0||o.duration>0){let r=0,s=[];o.damageRolls.forEach(a=>{const l=tv(a.numDice,a.diceType,a.bonus);r+=l,s.push(`${l} ${a.type}`)}),r>0&&(t+=r,n.push({name:o.name,damage:r,details:s.join(", ")}))}}),this.saveToLocalStorage(),t>0?{totalDamage:t,damageDetails:n}:null},applyPassiveDamage(e,t){this.takeDamage(e,!1);const n=t.map(o=>`${o.damage} por ${o.name}`).join("; ");this.addLog("Dao Pasivo",`-${e} HP en total. Desglose: ${n}`)},endTurn(){this.turn.isActive=!1,_a().decrementDurations(),this.addLog("Fin de Turno",`Turno ${this.turn.current} finalizado`,this.turn.current),this.saveToLocalStorage()},heal(e,t=!1){const n=this.character.currentHp;this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+e);const o=this.character.currentHp-n;if(o>0){const r=t?"Regeneracin Automtica":"Curacin";this.addLog(r,`+${o} HP (${n}  ${this.character.currentHp})`)}return n!==this.character.currentHp&&this.saveToLocalStorage(),o},addTempHp(e){const t=this.character.tempHp;this.character.tempHp+=e,this.addLog("Vida Temporal",`+${e} HP temporal (${t}  ${this.character.tempHp})`),this.saveToLocalStorage()},takeDamage(e,t=!1){let n=e;const o=this.character.currentHp,r=this.character.tempHp,s=this.character.maxHp;this.character.tempHp>0&&(this.character.tempHp>=n?(this.character.tempHp-=n,n=0):(n-=this.character.tempHp,this.character.tempHp=0)),n>0&&(this.character.currentHp=Math.max(0,this.character.currentHp-n),t&&(this.character.maxHp=Math.max(1,this.character.maxHp-n)));let a=`-${e} HP`;t&&(a+=" (Necro)"),r>0&&(a+=` | Vida temporal: ${r}  ${this.character.tempHp}`),a+=` | HP actual: ${o}  ${this.character.currentHp}`,t&&s!==this.character.maxHp&&(a+=` | HP mximo: ${s}  ${this.character.maxHp}`),this.addLog("Dao Recibido",a),this.saveToLocalStorage()},resetToMaxHp(){const e=this.character.currentHp,t=this.character.tempHp,n=this.character.maxHp;this.character.currentHp=this.character.originalMaxHp,this.character.maxHp=this.character.originalMaxHp,this.character.tempHp=0,this.addLog("Reset HP",`HP restaurado al mximo original (${e}  ${this.character.originalMaxHp}) | HP mximo restaurado (${n}  ${this.character.originalMaxHp}) | Vida temporal eliminada (${t}  0)`),this.saveToLocalStorage()},revive(e=1){if(this.character.currentHp<=0){const t=this.character.currentHp,n=Math.min(parseInt(e)||1,this.character.maxHp);return this.character.currentHp=n,this.character.tempHp=0,this.addLog("Revivir",`Personaje revivido de la muerte (${t}  ${n} HP)`),this.saveToLocalStorage(),!0}return!1},resetTurn(){const e=this.turn.current;this.turn.current=0,this.turn.isActive=!1,this.addLog("Reset Turno",`Contador de turnos reiniciado (${e}  0)`),this.saveToLocalStorage()},clearLogs(){this.logs=[]},clearAllLogs(){this.logs=[],this.saveToLocalStorage()},saveToLocalStorage(){const e={character:this.character,turn:this.turn,logs:this.logs};localStorage.setItem("dnd-character-data",JSON.stringify(e))},loadFromLocalStorage(){const e=localStorage.getItem("dnd-character-data");if(e)try{const t=JSON.parse(e);this.character={...this.character,...t.character},this.character.originalMaxHp===void 0&&(this.character.originalMaxHp=this.character.maxHp),this.turn={...this.turn,...t.turn},this.logs=t.logs||[]}catch(t){console.error("Error loading from localStorage:",t)}},clearData(){this.character={name:"",maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},this.turn={current:0,isActive:!1},this.clearLogs(),localStorage.removeItem("dnd-character-data")}}}),jt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},nv={class:"home-container fade-in"},ov={class:"welcome-card"},rv={key:0,class:"loading-spinner"},sv={key:1,class:"welcome-content"},iv={class:"action-buttons"},av={__name:"HomeView",setup(e){const t=yi(),n=Oo(),o=$e(!0),r=$e(!1);Jt(async()=>{n.loadFromLocalStorage(),r.value=n.character.isConfigured,setTimeout(()=>{o.value=!1},1e3)});const s=()=>{t.push("/config")},a=()=>{t.push("/character")},l=()=>{t.push("/dm")};return(d,p)=>(Y(),G("div",nv,[i("div",ov,[p[5]||(p[5]=i("h1",{class:"welcome-title"}," D&D Life Tracker",-1)),p[6]||(p[6]=i("p",{class:"welcome-subtitle"},"Control de vida para personajes de Dungeons & Dragons",-1)),o.value?(Y(),G("div",rv,p[0]||(p[0]=[i("div",{class:"spinner"},null,-1),i("p",null,"Cargando...",-1)]))):(Y(),G("div",sv,[p[4]||(p[4]=fo('<div class="feature-list" data-v-9a27f4bb><div class="feature-item" data-v-9a27f4bb><span class="feature-icon" data-v-9a27f4bb></span><span class="feature-text" data-v-9a27f4bb>Control de vida mxima y actual</span></div><div class="feature-item" data-v-9a27f4bb><span class="feature-icon" data-v-9a27f4bb></span><span class="feature-text" data-v-9a27f4bb>Vida temporal que se consume primero</span></div><div class="feature-item" data-v-9a27f4bb><span class="feature-icon" data-v-9a27f4bb></span><span class="feature-text" data-v-9a27f4bb>Regeneracin pasiva por turno</span></div><div class="feature-item" data-v-9a27f4bb><span class="feature-icon" data-v-9a27f4bb></span><span class="feature-text" data-v-9a27f4bb>Panel del DM para gestionar mltiples personajes</span></div></div>',1)),i("div",iv,[i("button",{onClick:s,class:"btn btn-primary"},p[1]||(p[1]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Crear Nuevo Personaje",-1)])),r.value?(Y(),G("button",{key:0,onClick:a,class:"btn btn-secondary"},p[2]||(p[2]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Cargar Personaje Existente",-1)]))):Te("",!0),i("button",{onClick:l,class:"btn btn-success"},p[3]||(p[3]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Panel del DM",-1)]))])]))])]))}},lv=jt(av,[["__scopeId","data-v-9a27f4bb"]]);/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function wd(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function cv(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yc(e,t){return e.get(wd(e,t))}function uv(e,t,n){cv(e,t),t.set(e,n)}function dv(e,t,n){return e.set(wd(e,t),n),n}const fv=100,Me={},pv=()=>{Me.previousActiveElement instanceof HTMLElement?(Me.previousActiveElement.focus(),Me.previousActiveElement=null):document.body&&document.body.focus()},mv=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,o=window.scrollY;Me.restoreFocusTimeout=setTimeout(()=>{pv(),t()},fv),window.scrollTo(n,o)}),yd="swal2-",hv=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],oe=hv.reduce((e,t)=>(e[t]=yd+t,e),{}),gv=["success","warning","info","question","error"],Fs=gv.reduce((e,t)=>(e[t]=yd+t,e),{}),xd="SweetAlert2:",Xa=e=>e.charAt(0).toUpperCase()+e.slice(1),Vt=e=>{console.warn(`${xd} ${typeof e=="object"?e.join(" "):e}`)},Mo=e=>{console.error(`${xd} ${e}`)},xc=[],vv=e=>{xc.includes(e)||(xc.push(e),Vt(e))},Cd=(e,t=null)=>{vv(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},xi=e=>typeof e=="function"?e():e,Ga=e=>e&&typeof e.toPromise=="function",Zr=e=>Ga(e)?e.toPromise():Promise.resolve(e),Ja=e=>e&&Promise.resolve(e)===e,zt=()=>document.body.querySelector(`.${oe.container}`),es=e=>{const t=zt();return t?t.querySelector(e):null},on=e=>es(`.${e}`),Ye=()=>on(oe.popup),dr=()=>on(oe.icon),bv=()=>on(oe["icon-content"]),_d=()=>on(oe.title),Qa=()=>on(oe["html-container"]),Sd=()=>on(oe.image),Za=()=>on(oe["progress-steps"]),Ci=()=>on(oe["validation-message"]),Rn=()=>es(`.${oe.actions} .${oe.confirm}`),fr=()=>es(`.${oe.actions} .${oe.cancel}`),Bo=()=>es(`.${oe.actions} .${oe.deny}`),wv=()=>on(oe["input-label"]),pr=()=>es(`.${oe.loader}`),ts=()=>on(oe.actions),kd=()=>on(oe.footer),_i=()=>on(oe["timer-progress-bar"]),el=()=>on(oe.close),yv=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,tl=()=>{const e=Ye();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((s,a)=>{const l=parseInt(s.getAttribute("tabindex")||"0"),d=parseInt(a.getAttribute("tabindex")||"0");return l>d?1:l<d?-1:0}),o=e.querySelectorAll(yv),r=Array.from(o).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(r))].filter(s=>Gt(s))},nl=()=>qn(document.body,oe.shown)&&!qn(document.body,oe["toast-shown"])&&!qn(document.body,oe["no-backdrop"]),Si=()=>{const e=Ye();return e?qn(e,oe.toast):!1},xv=()=>{const e=Ye();return e?e.hasAttribute("data-loading"):!1},rn=(e,t)=>{if(e.textContent="",t){const o=new DOMParser().parseFromString(t,"text/html"),r=o.querySelector("head");r&&Array.from(r.childNodes).forEach(a=>{e.appendChild(a)});const s=o.querySelector("body");s&&Array.from(s.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?e.appendChild(a.cloneNode(!0)):e.appendChild(a)})}},qn=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let o=0;o<n.length;o++)if(!e.classList.contains(n[o]))return!1;return!0},Cv=(e,t)=>{Array.from(e.classList).forEach(n=>{!Object.values(oe).includes(n)&&!Object.values(Fs).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&e.classList.remove(n)})},nn=(e,t,n)=>{if(Cv(e,t),!t.customClass)return;const o=t.customClass[n];if(o){if(typeof o!="string"&&!o.forEach){Vt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof o}"`);return}Ge(e,o)}},ki=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${oe.popup} > .${oe[t]}`);case"checkbox":return e.querySelector(`.${oe.popup} > .${oe.checkbox} input`);case"radio":return e.querySelector(`.${oe.popup} > .${oe.radio} input:checked`)||e.querySelector(`.${oe.popup} > .${oe.radio} input:first-child`);case"range":return e.querySelector(`.${oe.popup} > .${oe.range} input`);default:return e.querySelector(`.${oe.popup} > .${oe.input}`)}},Ed=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},$d=(e,t,n)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(o=>{Array.isArray(e)?e.forEach(r=>{n?r.classList.add(o):r.classList.remove(o)}):n?e.classList.add(o):e.classList.remove(o)}))},Ge=(e,t)=>{$d(e,t,!0)},fn=(e,t)=>{$d(e,t,!1)},ao=(e,t)=>{const n=Array.from(e.children);for(let o=0;o<n.length;o++){const r=n[o];if(r instanceof HTMLElement&&qn(r,t))return r}},Do=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?e.style.setProperty(t,typeof n=="number"?`${n}px`:n):e.style.removeProperty(t)},kt=(e,t="flex")=>{e&&(e.style.display=t)},Bt=e=>{e&&(e.style.display="none")},ol=(e,t="block")=>{e&&new MutationObserver(()=>{ns(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Cc=(e,t,n,o)=>{const r=e.querySelector(t);r&&r.style.setProperty(n,o)},ns=(e,t,n="flex")=>{t?kt(e,n):Bt(e)},Gt=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),_v=()=>!Gt(Rn())&&!Gt(Bo())&&!Gt(fr()),Sa=e=>e.scrollHeight>e.clientHeight,Sv=(e,t)=>{let n=e;for(;n&&n!==t;){if(Sa(n))return!0;n=n.parentElement}return!1},Ad=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},rl=(e,t=!1)=>{const n=_i();n&&Gt(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},kv=()=>{const e=_i();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),o=t/n*100;e.style.width=`${o}%`},Ev=()=>typeof window>"u"||typeof document>"u",$v=`
 <div aria-labelledby="${oe.title}" aria-describedby="${oe["html-container"]}" class="${oe.popup}" tabindex="-1">
   <button type="button" class="${oe.close}"></button>
   <ul class="${oe["progress-steps"]}"></ul>
   <div class="${oe.icon}"></div>
   <img class="${oe.image}" />
   <h2 class="${oe.title}" id="${oe.title}"></h2>
   <div class="${oe["html-container"]}" id="${oe["html-container"]}"></div>
   <input class="${oe.input}" id="${oe.input}" />
   <input type="file" class="${oe.file}" />
   <div class="${oe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${oe.select}" id="${oe.select}"></select>
   <div class="${oe.radio}"></div>
   <label class="${oe.checkbox}">
     <input type="checkbox" id="${oe.checkbox}" />
     <span class="${oe.label}"></span>
   </label>
   <textarea class="${oe.textarea}" id="${oe.textarea}"></textarea>
   <div class="${oe["validation-message"]}" id="${oe["validation-message"]}"></div>
   <div class="${oe.actions}">
     <div class="${oe.loader}"></div>
     <button type="button" class="${oe.confirm}"></button>
     <button type="button" class="${oe.deny}"></button>
     <button type="button" class="${oe.cancel}"></button>
   </div>
   <div class="${oe.footer}"></div>
   <div class="${oe["timer-progress-bar-container"]}">
     <div class="${oe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Av=()=>{const e=zt();return e?(e.remove(),fn([document.documentElement,document.body],[oe["no-backdrop"],oe["toast-shown"],oe["has-column"]]),!0):!1},xo=()=>{Me.currentInstance.resetValidationMessage()},Tv=()=>{const e=Ye(),t=ao(e,oe.input),n=ao(e,oe.file),o=e.querySelector(`.${oe.range} input`),r=e.querySelector(`.${oe.range} output`),s=ao(e,oe.select),a=e.querySelector(`.${oe.checkbox} input`),l=ao(e,oe.textarea);t.oninput=xo,n.onchange=xo,s.onchange=xo,a.onchange=xo,l.oninput=xo,o.oninput=()=>{xo(),r.value=o.value},o.onchange=()=>{xo(),r.value=o.value}},Dv=e=>typeof e=="string"?document.querySelector(e):e,Hv=e=>{const t=Ye();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Iv=e=>{window.getComputedStyle(e).direction==="rtl"&&Ge(zt(),oe.rtl)},Rv=e=>{const t=Av();if(Ev()){Mo("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=oe.container,t&&Ge(n,oe["no-transition"]),rn(n,$v),n.dataset.swal2Theme=e.theme;const o=Dv(e.target);o.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Hv(e),Iv(o),Tv()},sl=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?Pv(e,t):e&&rn(t,e)},Pv=(e,t)=>{e.jquery?Ov(t,e):rn(t,e.toString())},Ov=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Mv=(e,t)=>{const n=ts(),o=pr();!n||!o||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Bt(n):kt(n),nn(n,t,"actions"),Bv(n,o,t),rn(o,t.loaderHtml||""),nn(o,t,"loader"))};function Bv(e,t,n){const o=Rn(),r=Bo(),s=fr();!o||!r||!s||(Xi(o,"confirm",n),Xi(r,"deny",n),Xi(s,"cancel",n),Lv(o,r,s,n),n.reverseButtons&&(n.toast?(e.insertBefore(s,o),e.insertBefore(r,o)):(e.insertBefore(s,t),e.insertBefore(r,t),e.insertBefore(o,t))))}function Lv(e,t,n,o){if(!o.buttonsStyling){fn([e,t,n],oe.styled);return}Ge([e,t,n],oe.styled),o.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor),o.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor),o.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor),Yi(e),Yi(t),Yi(n)}function Yi(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Xi(e,t,n){const o=Xa(t);ns(e,n[`show${o}Button`],"inline-block"),rn(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=oe[t],nn(e,n,`${t}Button`)}const Nv=(e,t)=>{const n=el();n&&(rn(n,t.closeButtonHtml||""),nn(n,t,"closeButton"),ns(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Uv=(e,t)=>{const n=zt();n&&(Fv(n,t.backdrop),Vv(n,t.position),jv(n,t.grow),nn(n,t,"container"))};function Fv(e,t){typeof t=="string"?e.style.background=t:t||Ge([document.documentElement,document.body],oe["no-backdrop"])}function Vv(e,t){t&&(t in oe?Ge(e,oe[t]):(Vt('The "position" parameter is not valid, defaulting to "center"'),Ge(e,oe.center)))}function jv(e,t){t&&Ge(e,oe[`grow-${t}`])}var lt={innerParams:new WeakMap,domCache:new WeakMap};const zv=["input","file","range","select","radio","checkbox","textarea"],qv=(e,t)=>{const n=Ye();if(!n)return;const o=lt.innerParams.get(e),r=!o||t.input!==o.input;zv.forEach(s=>{const a=ao(n,oe[s]);a&&(Yv(s,t.inputAttributes),a.className=oe[s],r&&Bt(a))}),t.input&&(r&&Wv(t),Xv(t))},Wv=e=>{if(!e.input)return;if(!bt[e.input]){Mo(`Unexpected type of input! Expected ${Object.keys(bt).join(" | ")}, got "${e.input}"`);return}const t=Td(e.input);if(!t)return;const n=bt[e.input](t,e);kt(t),e.inputAutoFocus&&setTimeout(()=>{Ed(n)})},Kv=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},Yv=(e,t)=>{const n=Ye();if(!n)return;const o=ki(n,e);if(o){Kv(o);for(const r in t)o.setAttribute(r,t[r])}},Xv=e=>{if(!e.input)return;const t=Td(e.input);t&&nn(t,e,"input")},il=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},os=(e,t,n)=>{if(n.inputLabel){const o=document.createElement("label"),r=oe["input-label"];o.setAttribute("for",e.id),o.className=r,typeof n.customClass=="object"&&Ge(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},Td=e=>{const t=Ye();if(t)return ao(t,oe[e]||oe.input)},Vs=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Ja(t)||Vt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},bt={};bt.text=bt.email=bt.password=bt.number=bt.tel=bt.url=bt.search=bt.date=bt["datetime-local"]=bt.time=bt.week=bt.month=(e,t)=>(Vs(e,t.inputValue),os(e,e,t),il(e,t),e.type=t.input,e);bt.file=(e,t)=>(os(e,e,t),il(e,t),e);bt.range=(e,t)=>{const n=e.querySelector("input"),o=e.querySelector("output");return Vs(n,t.inputValue),n.type=t.input,Vs(o,t.inputValue),os(n,e,t),e};bt.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");rn(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return os(e,e,t),e};bt.radio=e=>(e.textContent="",e);bt.checkbox=(e,t)=>{const n=ki(Ye(),"checkbox");n.value="1",n.checked=!!t.inputValue;const o=e.querySelector("span");return rn(o,t.inputPlaceholder||t.inputLabel),n};bt.textarea=(e,t)=>{Vs(e,t.inputValue),il(e,t),os(e,e,t);const n=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(Ye()).width),r=()=>{if(!document.body.contains(e))return;const s=e.offsetWidth+n(e);s>o?Ye().style.width=`${s}px`:Do(Ye(),"width",t.width)};new MutationObserver(r).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Gv=(e,t)=>{const n=Qa();n&&(ol(n),nn(n,t,"htmlContainer"),t.html?(sl(t.html,n),kt(n,"block")):t.text?(n.textContent=t.text,kt(n,"block")):Bt(n),qv(e,t))},Jv=(e,t)=>{const n=kd();n&&(ol(n),ns(n,t.footer,"block"),t.footer&&sl(t.footer,n),nn(n,t,"footer"))},Qv=(e,t)=>{const n=lt.innerParams.get(e),o=dr();if(!o)return;if(n&&t.icon===n.icon){Sc(o,t),_c(o,t);return}if(!t.icon&&!t.iconHtml){Bt(o);return}if(t.icon&&Object.keys(Fs).indexOf(t.icon)===-1){Mo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Bt(o);return}kt(o),Sc(o,t),_c(o,t),Ge(o,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Dd)},_c=(e,t)=>{for(const[n,o]of Object.entries(Fs))t.icon!==n&&fn(e,o);Ge(e,t.icon&&Fs[t.icon]),tb(e,t),Dd(),nn(e,t,"icon")},Dd=()=>{const e=Ye();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<n.length;o++)n[o].style.backgroundColor=t},Zv=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,eb=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Sc=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,o="";t.iconHtml?o=kc(t.iconHtml):t.icon==="success"?(o=Zv(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?o=eb:t.icon&&(o=kc({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==o.trim()&&rn(e,o)},tb=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Cc(e,n,"background-color",t.iconColor);Cc(e,".swal2-success-ring","border-color",t.iconColor)}},kc=e=>`<div class="${oe["icon-content"]}">${e}</div>`,nb=(e,t)=>{const n=Sd();if(n){if(!t.imageUrl){Bt(n);return}kt(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Do(n,"width",t.imageWidth),Do(n,"height",t.imageHeight),n.className=oe.image,nn(n,t,"image")}};let al=!1,Hd=0,Id=0,Rd=0,Pd=0;const ob=e=>{e.addEventListener("mousedown",js),document.body.addEventListener("mousemove",zs),e.addEventListener("mouseup",qs),e.addEventListener("touchstart",js),document.body.addEventListener("touchmove",zs),e.addEventListener("touchend",qs)},rb=e=>{e.removeEventListener("mousedown",js),document.body.removeEventListener("mousemove",zs),e.removeEventListener("mouseup",qs),e.removeEventListener("touchstart",js),document.body.removeEventListener("touchmove",zs),e.removeEventListener("touchend",qs)},js=e=>{const t=Ye();if(e.target===t||dr().contains(e.target)){al=!0;const n=Od(e);Hd=n.clientX,Id=n.clientY,Rd=parseInt(t.style.insetInlineStart)||0,Pd=parseInt(t.style.insetBlockStart)||0,Ge(t,"swal2-dragging")}},zs=e=>{const t=Ye();if(al){let{clientX:n,clientY:o}=Od(e);t.style.insetInlineStart=`${Rd+(n-Hd)}px`,t.style.insetBlockStart=`${Pd+(o-Id)}px`}},qs=()=>{const e=Ye();al=!1,fn(e,"swal2-dragging")},Od=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},sb=(e,t)=>{const n=zt(),o=Ye();if(!(!n||!o)){if(t.toast){Do(n,"width",t.width),o.style.width="100%";const r=pr();r&&o.insertBefore(r,dr())}else Do(o,"width",t.width);Do(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),Bt(Ci()),ib(o,t),t.draggable&&!t.toast?(Ge(o,oe.draggable),ob(o)):(fn(o,oe.draggable),rb(o))}},ib=(e,t)=>{const n=t.showClass||{};e.className=`${oe.popup} ${Gt(e)?n.popup:""}`,t.toast?(Ge([document.documentElement,document.body],oe["toast-shown"]),Ge(e,oe.toast)):Ge(e,oe.modal),nn(e,t,"popup"),typeof t.customClass=="string"&&Ge(e,t.customClass),t.icon&&Ge(e,oe[`icon-${t.icon}`])},ab=(e,t)=>{const n=Za();if(!n)return;const{progressSteps:o,currentProgressStep:r}=t;if(!o||o.length===0||r===void 0){Bt(n);return}kt(n),n.textContent="",r>=o.length&&Vt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((s,a)=>{const l=lb(s);if(n.appendChild(l),a===r&&Ge(l,oe["active-progress-step"]),a!==o.length-1){const d=cb(t);n.appendChild(d)}})},lb=e=>{const t=document.createElement("li");return Ge(t,oe["progress-step"]),rn(t,e),t},cb=e=>{const t=document.createElement("li");return Ge(t,oe["progress-step-line"]),e.progressStepsDistance&&Do(t,"width",e.progressStepsDistance),t},ub=(e,t)=>{const n=_d();n&&(ol(n),ns(n,t.title||t.titleText,"block"),t.title&&sl(t.title,n),t.titleText&&(n.innerText=t.titleText),nn(n,t,"title"))},Md=(e,t)=>{sb(e,t),Uv(e,t),ab(e,t),Qv(e,t),nb(e,t),ub(e,t),Nv(e,t),Gv(e,t),Mv(e,t),Jv(e,t);const n=Ye();typeof t.didRender=="function"&&n&&t.didRender(n),Me.eventEmitter.emit("didRender",n)},db=()=>Gt(Ye()),Bd=()=>{var e;return(e=Rn())===null||e===void 0?void 0:e.click()},fb=()=>{var e;return(e=Bo())===null||e===void 0?void 0:e.click()},pb=()=>{var e;return(e=fr())===null||e===void 0?void 0:e.click()},mr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ld=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},mb=(e,t,n)=>{Ld(e),t.toast||(e.keydownHandler=o=>gb(t,o,n),e.keydownTarget=t.keydownListenerCapture?window:Ye(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},ka=(e,t)=>{var n;const o=tl();if(o.length){e=e+t,e===-2&&(e=o.length-1),e===o.length?e=0:e===-1&&(e=o.length-1),o[e].focus();return}(n=Ye())===null||n===void 0||n.focus()},Nd=["ArrowRight","ArrowDown"],hb=["ArrowLeft","ArrowUp"],gb=(e,t,n)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?vb(t,e):t.key==="Tab"?bb(t):[...Nd,...hb].includes(t.key)?wb(t.key):t.key==="Escape"&&yb(t,e,n)))},vb=(e,t)=>{if(!xi(t.allowEnterKey))return;const n=ki(Ye(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Bd(),e.preventDefault()}},bb=e=>{const t=e.target,n=tl();let o=-1;for(let r=0;r<n.length;r++)if(t===n[r]){o=r;break}e.shiftKey?ka(o,-1):ka(o,1),e.stopPropagation(),e.preventDefault()},wb=e=>{const t=ts(),n=Rn(),o=Bo(),r=fr();if(!t||!n||!o||!r)return;const s=[n,o,r];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const a=Nd.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let d=0;d<t.children.length;d++){if(l=l[a],!l)return;if(l instanceof HTMLButtonElement&&Gt(l))break}l instanceof HTMLButtonElement&&l.focus()}},yb=(e,t,n)=>{e.preventDefault(),xi(t.allowEscapeKey)&&n(mr.esc)};var ir={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const xb=()=>{const e=zt();Array.from(document.body.children).forEach(n=>{n.contains(e)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Ud=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Fd=typeof window<"u"&&!!window.GestureEvent,Cb=()=>{if(Fd&&!qn(document.body,oe.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,Ge(document.body,oe.iosfix),_b()}},_b=()=>{const e=zt();if(!e)return;let t;e.ontouchstart=n=>{t=Sb(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},Sb=e=>{const t=e.target,n=zt(),o=Qa();return!n||!o||kb(e)||Eb(e)?!1:t===n||!Sa(n)&&t instanceof HTMLElement&&!Sv(t,o)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Sa(o)&&o.contains(t))},kb=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",Eb=e=>e.touches&&e.touches.length>1,$b=()=>{if(qn(document.body,oe.iosfix)){const e=parseInt(document.body.style.top,10);fn(document.body,oe.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},Ab=()=>{const e=document.createElement("div");e.className=oe["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Qo=null;const Tb=e=>{Qo===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Qo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qo+Ab()}px`)},Db=()=>{Qo!==null&&(document.body.style.paddingRight=`${Qo}px`,Qo=null)};function Vd(e,t,n,o){Si()?Ec(e,o):(mv(n).then(()=>Ec(e,o)),Ld(Me)),Fd?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),nl()&&(Db(),$b(),Ud()),Hb()}function Hb(){fn([document.documentElement,document.body],[oe.shown,oe["height-auto"],oe["no-backdrop"],oe["toast-shown"]])}function lo(e){e=Rb(e);const t=ir.swalPromiseResolve.get(this),n=Ib(this);this.isAwaitingPromise?e.isDismissed||(rs(this),t(e)):n&&t(e)}const Ib=e=>{const t=Ye();if(!t)return!1;const n=lt.innerParams.get(e);if(!n||qn(t,n.hideClass.popup))return!1;fn(t,n.showClass.popup),Ge(t,n.hideClass.popup);const o=zt();return fn(o,n.showClass.backdrop),Ge(o,n.hideClass.backdrop),Pb(e,t,n),!0};function jd(e){const t=ir.swalPromiseReject.get(this);rs(this),t&&t(e)}const rs=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,lt.innerParams.get(e)||e._destroy())},Rb=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Pb=(e,t,n)=>{var o;const r=zt(),s=Ad(t);typeof n.willClose=="function"&&n.willClose(t),(o=Me.eventEmitter)===null||o===void 0||o.emit("willClose",t),s?Ob(e,t,r,n.returnFocus,n.didClose):Vd(e,r,n.returnFocus,n.didClose)},Ob=(e,t,n,o,r)=>{Me.swalCloseEventFinishedCallback=Vd.bind(null,e,n,o,r);const s=function(a){if(a.target===t){var l;(l=Me.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Me),delete Me.swalCloseEventFinishedCallback,t.removeEventListener("animationend",s),t.removeEventListener("transitionend",s)}};t.addEventListener("animationend",s),t.addEventListener("transitionend",s)},Ec=(e,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(e.params)(),(n=Me.eventEmitter)===null||n===void 0||n.emit("didClose"),e._destroy&&e._destroy()})},ar=e=>{let t=Ye();if(t||new Re,t=Ye(),!t)return;const n=pr();Si()?Bt(dr()):Mb(t,e),kt(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Mb=(e,t)=>{const n=ts(),o=pr();!n||!o||(!t&&Gt(Rn())&&(t=Rn()),kt(n),t&&(Bt(t),o.setAttribute("data-button-to-replace",t.className),n.insertBefore(o,t)),Ge([e,n],oe.loading))},Bb=(e,t)=>{t.input==="select"||t.input==="radio"?Vb(e,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(Ga(t.inputValue)||Ja(t.inputValue))&&(ar(Rn()),jb(e,t))},Lb=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Nb(n);case"radio":return Ub(n);case"file":return Fb(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Nb=e=>e.checked?1:0,Ub=e=>e.checked?e.value:null,Fb=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,Vb=(e,t)=>{const n=Ye();if(!n)return;const o=r=>{t.input==="select"?zb(n,Ws(r),t):t.input==="radio"&&qb(n,Ws(r),t)};Ga(t.inputOptions)||Ja(t.inputOptions)?(ar(Rn()),Zr(t.inputOptions).then(r=>{e.hideLoading(),o(r)})):typeof t.inputOptions=="object"?o(t.inputOptions):Mo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},jb=(e,t)=>{const n=e.getInput();n&&(Bt(n),Zr(t.inputValue).then(o=>{n.value=t.input==="number"?`${parseFloat(o)||0}`:`${o}`,kt(n),n.focus(),e.hideLoading()}).catch(o=>{Mo(`Error in inputValue promise: ${o}`),n.value="",kt(n),n.focus(),e.hideLoading()}))};function zb(e,t,n){const o=ao(e,oe.select);if(!o)return;const r=(s,a,l)=>{const d=document.createElement("option");d.value=l,rn(d,a),d.selected=zd(l,n.inputValue),s.appendChild(d)};t.forEach(s=>{const a=s[0],l=s[1];if(Array.isArray(l)){const d=document.createElement("optgroup");d.label=a,d.disabled=!1,o.appendChild(d),l.forEach(p=>r(d,p[1],p[0]))}else r(o,l,a)}),o.focus()}function qb(e,t,n){const o=ao(e,oe.radio);if(!o)return;t.forEach(s=>{const a=s[0],l=s[1],d=document.createElement("input"),p=document.createElement("label");d.type="radio",d.name=oe.radio,d.value=a,zd(a,n.inputValue)&&(d.checked=!0);const u=document.createElement("span");rn(u,l),u.className=oe.label,p.appendChild(d),p.appendChild(u),o.appendChild(p)});const r=o.querySelectorAll("input");r.length&&r[0].focus()}const Ws=e=>{const t=[];return e instanceof Map?e.forEach((n,o)=>{let r=n;typeof r=="object"&&(r=Ws(r)),t.push([o,r])}):Object.keys(e).forEach(n=>{let o=e[n];typeof o=="object"&&(o=Ws(o)),t.push([n,o])}),t},zd=(e,t)=>!!t&&t.toString()===e.toString(),Wb=e=>{const t=lt.innerParams.get(e);e.disableButtons(),t.input?qd(e,"confirm"):cl(e,!0)},Kb=e=>{const t=lt.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?qd(e,"deny"):ll(e,!1)},Yb=(e,t)=>{e.disableButtons(),t(mr.cancel)},qd=(e,t)=>{const n=lt.innerParams.get(e);if(!n.input){Mo(`The "input" parameter is needed to be set when using returnInputValueOn${Xa(t)}`);return}const o=e.getInput(),r=Lb(e,n);n.inputValidator?Xb(e,r,t):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||o.validationMessage)):t==="deny"?ll(e,r):cl(e,r)},Xb=(e,t,n)=>{const o=lt.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Zr(o.inputValidator(t,o.validationMessage))).then(s=>{e.enableButtons(),e.enableInput(),s?e.showValidationMessage(s):n==="deny"?ll(e,t):cl(e,t)})},ll=(e,t)=>{const n=lt.innerParams.get(e||void 0);n.showLoaderOnDeny&&ar(Bo()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Zr(n.preDeny(t,n.validationMessage))).then(r=>{r===!1?(e.hideLoading(),rs(e)):e.close({isDenied:!0,value:typeof r>"u"?t:r})}).catch(r=>Wd(e||void 0,r))):e.close({isDenied:!0,value:t})},$c=(e,t)=>{e.close({isConfirmed:!0,value:t})},Wd=(e,t)=>{e.rejectPromise(t)},cl=(e,t)=>{const n=lt.innerParams.get(e||void 0);n.showLoaderOnConfirm&&ar(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Zr(n.preConfirm(t,n.validationMessage))).then(r=>{Gt(Ci())||r===!1?(e.hideLoading(),rs(e)):$c(e,typeof r>"u"?t:r)}).catch(r=>Wd(e||void 0,r))):$c(e,t)};function Ks(){const e=lt.innerParams.get(this);if(!e)return;const t=lt.domCache.get(this);Bt(t.loader),Si()?e.icon&&kt(dr()):Gb(t),fn([t.popup,t.actions],oe.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Gb=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?kt(t[0],"inline-block"):_v()&&Bt(e.actions)};function Kd(){const e=lt.innerParams.get(this),t=lt.domCache.get(this);return t?ki(t.popup,e.input):null}function Yd(e,t,n){const o=lt.domCache.get(e);t.forEach(r=>{o[r].disabled=n})}function Xd(e,t){const n=Ye();if(!(!n||!e))if(e.type==="radio"){const o=n.querySelectorAll(`[name="${oe.radio}"]`);for(let r=0;r<o.length;r++)o[r].disabled=t}else e.disabled=t}function Gd(){Yd(this,["confirmButton","denyButton","cancelButton"],!1)}function Jd(){Yd(this,["confirmButton","denyButton","cancelButton"],!0)}function Qd(){Xd(this.getInput(),!1)}function Zd(){Xd(this.getInput(),!0)}function ef(e){const t=lt.domCache.get(this),n=lt.innerParams.get(this);rn(t.validationMessage,e),t.validationMessage.className=oe["validation-message"],n.customClass&&n.customClass.validationMessage&&Ge(t.validationMessage,n.customClass.validationMessage),kt(t.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",oe["validation-message"]),Ed(o),Ge(o,oe.inputerror))}function tf(){const e=lt.domCache.get(this);e.validationMessage&&Bt(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),fn(t,oe.inputerror))}const Zo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Jb=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Qb={allowEnterKey:void 0},Zb=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],nf=e=>Object.prototype.hasOwnProperty.call(Zo,e),of=e=>Jb.indexOf(e)!==-1,rf=e=>Qb[e],e1=e=>{nf(e)||Vt(`Unknown parameter "${e}"`)},t1=e=>{Zb.includes(e)&&Vt(`The parameter "${e}" is incompatible with toasts`)},n1=e=>{const t=rf(e);t&&Cd(e,t)},sf=e=>{e.backdrop===!1&&e.allowOutsideClick&&Vt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Vt(`Invalid theme "${e.theme}"`);for(const t in e)e1(t),e.toast&&t1(t),n1(t)};function af(e){const t=zt(),n=Ye(),o=lt.innerParams.get(this);if(!n||qn(n,o.hideClass.popup)){Vt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=o1(e),s=Object.assign({},o,r);sf(s),t.dataset.swal2Theme=s.theme,Md(this,s),lt.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const o1=e=>{const t={};return Object.keys(e).forEach(n=>{of(n)?t[n]=e[n]:Vt(`Invalid parameter to update: ${n}`)}),t};function lf(){const e=lt.domCache.get(this),t=lt.innerParams.get(this);if(!t){cf(this);return}e.popup&&Me.swalCloseEventFinishedCallback&&(Me.swalCloseEventFinishedCallback(),delete Me.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Me.eventEmitter.emit("didDestroy"),r1(this)}const r1=e=>{cf(e),delete e.params,delete Me.keydownHandler,delete Me.keydownTarget,delete Me.currentInstance},cf=e=>{e.isAwaitingPromise?(Gi(lt,e),e.isAwaitingPromise=!0):(Gi(ir,e),Gi(lt,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Gi=(e,t)=>{for(const n in e)e[n].delete(t)};var s1=Object.freeze({__proto__:null,_destroy:lf,close:lo,closeModal:lo,closePopup:lo,closeToast:lo,disableButtons:Jd,disableInput:Zd,disableLoading:Ks,enableButtons:Gd,enableInput:Qd,getInput:Kd,handleAwaitingPromise:rs,hideLoading:Ks,rejectPromise:jd,resetValidationMessage:tf,showValidationMessage:ef,update:af});const i1=(e,t,n)=>{e.toast?a1(e,t,n):(c1(t),u1(t),d1(e,t,n))},a1=(e,t,n)=>{t.popup.onclick=()=>{e&&(l1(e)||e.timer||e.input)||n(mr.close)}},l1=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Ys=!1;const c1=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Ys=!0)}}},u1=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(n){e.popup.onmouseup=()=>{},(n.target===e.popup||n.target instanceof HTMLElement&&e.popup.contains(n.target))&&(Ys=!0)}}},d1=(e,t,n)=>{t.container.onclick=o=>{if(Ys){Ys=!1;return}o.target===t.container&&xi(e.allowOutsideClick)&&n(mr.backdrop)}},f1=e=>typeof e=="object"&&e.jquery,Ac=e=>e instanceof Element||f1(e),p1=e=>{const t={};return typeof e[0]=="object"&&!Ac(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((n,o)=>{const r=e[o];typeof r=="string"||Ac(r)?t[n]=r:r!==void 0&&Mo(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof r}`)}),t};function m1(...e){return new this(...e)}function h1(e){class t extends this{_main(o,r){return super._main(o,Object.assign({},e,r))}}return t}const g1=()=>Me.timeout&&Me.timeout.getTimerLeft(),uf=()=>{if(Me.timeout)return kv(),Me.timeout.stop()},df=()=>{if(Me.timeout){const e=Me.timeout.start();return rl(e),e}},v1=()=>{const e=Me.timeout;return e&&(e.running?uf():df())},b1=e=>{if(Me.timeout){const t=Me.timeout.increase(e);return rl(t,!0),t}},w1=()=>!!(Me.timeout&&Me.timeout.isRunning());let Tc=!1;const Ea={};function y1(e="data-swal-template"){Ea[e]=this,Tc||(document.body.addEventListener("click",x1),Tc=!0)}const x1=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in Ea){const o=t.getAttribute(n);if(o){Ea[n].fire({template:o});return}}};class C1{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const o=this._getHandlersByEventName(t);o.includes(n)||o.push(n)}once(t,n){const o=(...r)=>{this.removeListener(t,o),n.apply(this,r)};this.on(t,o)}emit(t,...n){this._getHandlersByEventName(t).forEach(o=>{try{o.apply(this,n)}catch(r){console.error(r)}})}removeListener(t,n){const o=this._getHandlersByEventName(t),r=o.indexOf(n);r>-1&&o.splice(r,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}Me.eventEmitter=new C1;const _1=(e,t)=>{Me.eventEmitter.on(e,t)},S1=(e,t)=>{Me.eventEmitter.once(e,t)},k1=(e,t)=>{if(!e){Me.eventEmitter.reset();return}t?Me.eventEmitter.removeListener(e,t):Me.eventEmitter.removeAllListeners(e)};var E1=Object.freeze({__proto__:null,argsToParams:p1,bindClickHandler:y1,clickCancel:pb,clickConfirm:Bd,clickDeny:fb,enableLoading:ar,fire:m1,getActions:ts,getCancelButton:fr,getCloseButton:el,getConfirmButton:Rn,getContainer:zt,getDenyButton:Bo,getFocusableElements:tl,getFooter:kd,getHtmlContainer:Qa,getIcon:dr,getIconContent:bv,getImage:Sd,getInputLabel:wv,getLoader:pr,getPopup:Ye,getProgressSteps:Za,getTimerLeft:g1,getTimerProgressBar:_i,getTitle:_d,getValidationMessage:Ci,increaseTimer:b1,isDeprecatedParameter:rf,isLoading:xv,isTimerRunning:w1,isUpdatableParameter:of,isValidParameter:nf,isVisible:db,mixin:h1,off:k1,on:_1,once:S1,resumeTimer:df,showLoading:ar,stopTimer:uf,toggleTimer:v1});class $1{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ff=["swal-title","swal-html","swal-footer"],A1=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return M1(n),Object.assign(T1(n),D1(n),H1(n),I1(n),R1(n),P1(n),O1(n,ff))},T1=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(o=>{Ro(o,["name","value"]);const r=o.getAttribute("name"),s=o.getAttribute("value");!r||!s||(typeof Zo[r]=="boolean"?t[r]=s!=="false":typeof Zo[r]=="object"?t[r]=JSON.parse(s):t[r]=s)}),t},D1=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(o=>{const r=o.getAttribute("name"),s=o.getAttribute("value");!r||!s||(t[r]=new Function(`return ${s}`)())}),t},H1=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(o=>{Ro(o,["type","color","aria-label"]);const r=o.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(t[`${r}ButtonText`]=o.innerHTML,t[`show${Xa(r)}Button`]=!0,o.hasAttribute("color")&&(t[`${r}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(t[`${r}ButtonAriaLabel`]=o.getAttribute("aria-label")))}),t},I1=e=>{const t={},n=e.querySelector("swal-image");return n&&(Ro(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},R1=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Ro(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},P1=e=>{const t={},n=e.querySelector("swal-input");n&&(Ro(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(t.inputOptions={},o.forEach(r=>{Ro(r,["value"]);const s=r.getAttribute("value");if(!s)return;const a=r.innerHTML;t.inputOptions[s]=a})),t},O1=(e,t)=>{const n={};for(const o in t){const r=t[o],s=e.querySelector(r);s&&(Ro(s,[]),n[r.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},M1=e=>{const t=ff.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(n=>{const o=n.tagName.toLowerCase();t.includes(o)||Vt(`Unrecognized element <${o}>`)})},Ro=(e,t)=>{Array.from(e.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Vt([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},pf=10,B1=e=>{const t=zt(),n=Ye();typeof e.willOpen=="function"&&e.willOpen(n),Me.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;U1(t,n,e),setTimeout(()=>{L1(t,n)},pf),nl()&&(N1(t,e.scrollbarPadding,r),xb()),!Si()&&!Me.previousActiveElement&&(Me.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(n)),Me.eventEmitter.emit("didOpen",n),fn(t,oe["no-transition"])},Xs=e=>{const t=Ye();if(e.target!==t)return;const n=zt();t.removeEventListener("animationend",Xs),t.removeEventListener("transitionend",Xs),n.style.overflowY="auto"},L1=(e,t)=>{Ad(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Xs),t.addEventListener("transitionend",Xs)):e.style.overflowY="auto"},N1=(e,t,n)=>{Cb(),t&&n!=="hidden"&&Tb(n),setTimeout(()=>{e.scrollTop=0})},U1=(e,t,n)=>{Ge(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),kt(t,"grid"),setTimeout(()=>{Ge(t,n.showClass.popup),t.style.removeProperty("opacity")},pf)):kt(t,"grid"),Ge([document.documentElement,document.body],oe.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ge([document.documentElement,document.body],oe["height-auto"])};var Dc={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function F1(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Dc.email),e.input==="url"&&(e.inputValidator=Dc.url))}function V1(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Vt('Target parameter is not valid, defaulting to "body"'),e.target="body")}function j1(e){F1(e),e.showLoaderOnConfirm&&!e.preConfirm&&Vt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),V1(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Rv(e)}let Sn;var ps=new WeakMap;class wt{constructor(...t){if(uv(this,ps,void 0),typeof window>"u")return;Sn=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,dv(ps,this,this._main(Sn.params))}_main(t,n={}){if(sf(Object.assign({},n,t)),Me.currentInstance){const s=ir.swalPromiseResolve.get(Me.currentInstance),{isAwaitingPromise:a}=Me.currentInstance;Me.currentInstance._destroy(),a||s({isDismissed:!0}),nl()&&Ud()}Me.currentInstance=Sn;const o=q1(t,n);j1(o),Object.freeze(o),Me.timeout&&(Me.timeout.stop(),delete Me.timeout),clearTimeout(Me.restoreFocusTimeout);const r=W1(Sn);return Md(Sn,o),lt.innerParams.set(Sn,o),z1(Sn,r,o)}then(t){return yc(ps,this).then(t)}finally(t){return yc(ps,this).finally(t)}}const z1=(e,t,n)=>new Promise((o,r)=>{const s=a=>{e.close({isDismissed:!0,dismiss:a})};ir.swalPromiseResolve.set(e,o),ir.swalPromiseReject.set(e,r),t.confirmButton.onclick=()=>{Wb(e)},t.denyButton.onclick=()=>{Kb(e)},t.cancelButton.onclick=()=>{Yb(e,s)},t.closeButton.onclick=()=>{s(mr.close)},i1(n,t,s),mb(Me,n,s),Bb(e,n),B1(n),K1(Me,n,s),Y1(t,n),setTimeout(()=>{t.container.scrollTop=0})}),q1=(e,t)=>{const n=A1(e),o=Object.assign({},Zo,t,n,e);return o.showClass=Object.assign({},Zo.showClass,o.showClass),o.hideClass=Object.assign({},Zo.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},W1=e=>{const t={popup:Ye(),container:zt(),actions:ts(),confirmButton:Rn(),denyButton:Bo(),cancelButton:fr(),loader:pr(),closeButton:el(),validationMessage:Ci(),progressSteps:Za()};return lt.domCache.set(e,t),t},K1=(e,t,n)=>{const o=_i();Bt(o),t.timer&&(e.timeout=new $1(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(kt(o),nn(o,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&rl(t.timer)})))},Y1=(e,t)=>{if(!t.toast){if(!xi(t.allowEnterKey)){Cd("allowEnterKey"),J1();return}X1(e)||G1(e,t)||ka(-1,1)}},X1=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&Gt(n))return n.focus(),!0;return!1},G1=(e,t)=>t.focusDeny&&Gt(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Gt(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&Gt(e.confirmButton)?(e.confirmButton.focus(),!0):!1,J1=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};wt.prototype.disableButtons=Jd;wt.prototype.enableButtons=Gd;wt.prototype.getInput=Kd;wt.prototype.disableInput=Zd;wt.prototype.enableInput=Qd;wt.prototype.hideLoading=Ks;wt.prototype.disableLoading=Ks;wt.prototype.showValidationMessage=ef;wt.prototype.resetValidationMessage=tf;wt.prototype.close=lo;wt.prototype.closePopup=lo;wt.prototype.closeModal=lo;wt.prototype.closeToast=lo;wt.prototype.rejectPromise=jd;wt.prototype.update=af;wt.prototype._destroy=lf;Object.assign(wt,E1);Object.keys(s1).forEach(e=>{wt[e]=function(...t){return Sn&&Sn[e]?Sn[e](...t):null}});wt.DismissReason=mr;wt.version="11.22.4";const Re=wt;Re.default=Re;typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Q1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hs(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ji={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Hc;function Z1(){return Hc||(Hc=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(o,r,s){function a(p,u){if(!r[p]){if(!o[p]){var c=typeof hs=="function"&&hs;if(!u&&c)return c(p,!0);if(l)return l(p,!0);var f=new Error("Cannot find module '"+p+"'");throw f.code="MODULE_NOT_FOUND",f}var m=r[p]={exports:{}};o[p][0].call(m.exports,function(b){var y=o[p][1][b];return a(y||b)},m,m.exports,n,o,r,s)}return r[p].exports}for(var l=typeof hs=="function"&&hs,d=0;d<s.length;d++)a(s[d]);return a}({1:[function(n,o,r){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,l;if(a){var d=0,p=new a(b),u=s.document.createTextNode("");p.observe(u,{characterData:!0}),l=function(){u.data=d=++d%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var c=new s.MessageChannel;c.port1.onmessage=b,l=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var v=s.document.createElement("script");v.onreadystatechange=function(){b(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:l=function(){setTimeout(b,0)};var f,m=[];function b(){f=!0;for(var v,_,N=m.length;N;){for(_=m,m=[],v=-1;++v<N;)_[v]();N=m.length}f=!1}o.exports=y;function y(v){m.push(v)===1&&!f&&l()}}).call(this,typeof ms<"u"?ms:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,o,r){var s=n(1);function a(){}var l={},d=["REJECTED"],p=["FULFILLED"],u=["PENDING"];o.exports=c;function c(A){if(typeof A!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,A!==a&&y(this,A)}c.prototype.catch=function(A){return this.then(null,A)},c.prototype.then=function(A,k){if(typeof A!="function"&&this.state===p||typeof k!="function"&&this.state===d)return this;var V=new this.constructor(a);if(this.state!==u){var $=this.state===p?A:k;m(V,$,this.outcome)}else this.queue.push(new f(V,A,k));return V};function f(A,k,V){this.promise=A,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof V=="function"&&(this.onRejected=V,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(A){l.resolve(this.promise,A)},f.prototype.otherCallFulfilled=function(A){m(this.promise,this.onFulfilled,A)},f.prototype.callRejected=function(A){l.reject(this.promise,A)},f.prototype.otherCallRejected=function(A){m(this.promise,this.onRejected,A)};function m(A,k,V){s(function(){var $;try{$=k(V)}catch(E){return l.reject(A,E)}$===A?l.reject(A,new TypeError("Cannot resolve promise with itself")):l.resolve(A,$)})}l.resolve=function(A,k){var V=v(b,k);if(V.status==="error")return l.reject(A,V.value);var $=V.value;if($)y(A,$);else{A.state=p,A.outcome=k;for(var E=-1,M=A.queue.length;++E<M;)A.queue[E].callFulfilled(k)}return A},l.reject=function(A,k){A.state=d,A.outcome=k;for(var V=-1,$=A.queue.length;++V<$;)A.queue[V].callRejected(k);return A};function b(A){var k=A&&A.then;if(A&&(typeof A=="object"||typeof A=="function")&&typeof k=="function")return function(){k.apply(A,arguments)}}function y(A,k){var V=!1;function $(g){V||(V=!0,l.reject(A,g))}function E(g){V||(V=!0,l.resolve(A,g))}function M(){k(E,$)}var C=v(M);C.status==="error"&&$(C.value)}function v(A,k){var V={};try{V.value=A(k),V.status="success"}catch($){V.status="error",V.value=$}return V}c.resolve=_;function _(A){return A instanceof this?A:l.resolve(new this(a),A)}c.reject=N;function N(A){var k=new this(a);return l.reject(k,A)}c.all=P;function P(A){var k=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=A.length,$=!1;if(!V)return this.resolve([]);for(var E=new Array(V),M=0,C=-1,g=new this(a);++C<V;)S(A[C],C);return g;function S(D,U){k.resolve(D).then(x,function(w){$||($=!0,l.reject(g,w))});function x(w){E[U]=w,++M===V&&!$&&($=!0,l.resolve(g,E))}}}c.race=I;function I(A){var k=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=A.length,$=!1;if(!V)return this.resolve([]);for(var E=-1,M=new this(a);++E<V;)C(A[E]);return M;function C(g){k.resolve(g).then(function(S){$||($=!0,l.resolve(M,S))},function(S){$||($=!0,l.reject(M,S))})}}},{1:1}],3:[function(n,o,r){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof ms<"u"?ms:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,o,r){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function a(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function p(){try{if(!d||!d.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),j=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||j)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(T,j){T=T||[],j=j||{};try{return new Blob(T,j)}catch(q){if(q.name!=="TypeError")throw q;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new R,X=0;X<T.length;X+=1)W.append(T[X]);return W.getBlob(j.type)}}typeof Promise>"u"&&n(3);var c=Promise;function f(T,j){j&&T.then(function(R){j(null,R)},function(R){j(R)})}function m(T,j,R){typeof j=="function"&&T.then(j),typeof R=="function"&&T.catch(R)}function b(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var v="local-forage-detect-blob-support",_=void 0,N={},P=Object.prototype.toString,I="readonly",A="readwrite";function k(T){for(var j=T.length,R=new ArrayBuffer(j),W=new Uint8Array(R),X=0;X<j;X++)W[X]=T.charCodeAt(X);return R}function V(T){return new c(function(j){var R=T.transaction(v,A),W=u([""]);R.objectStore(v).put(W,"key"),R.onabort=function(X){X.preventDefault(),X.stopPropagation(),j(!1)},R.oncomplete=function(){var X=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);j(q||!X||parseInt(X[1],10)>=43)}}).catch(function(){return!1})}function $(T){return typeof _=="boolean"?c.resolve(_):V(T).then(function(j){return _=j,_})}function E(T){var j=N[T.name],R={};R.promise=new c(function(W,X){R.resolve=W,R.reject=X}),j.deferredOperations.push(R),j.dbReady?j.dbReady=j.dbReady.then(function(){return R.promise}):j.dbReady=R.promise}function M(T){var j=N[T.name],R=j.deferredOperations.pop();if(R)return R.resolve(),R.promise}function C(T,j){var R=N[T.name],W=R.deferredOperations.pop();if(W)return W.reject(j),W.promise}function g(T,j){return new c(function(R,W){if(N[T.name]=N[T.name]||re(),T.db)if(j)E(T),T.db.close();else return R(T.db);var X=[T.name];j&&X.push(T.version);var q=d.open.apply(d,X);j&&(q.onupgradeneeded=function(le){var ve=q.result;try{ve.createObjectStore(T.storeName),le.oldVersion<=1&&ve.createObjectStore(v)}catch(xe){if(xe.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+le.oldVersion+" to version "+le.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw xe}}),q.onerror=function(le){le.preventDefault(),W(q.error)},q.onsuccess=function(){var le=q.result;le.onversionchange=function(ve){ve.target.close()},R(le),M(T)}})}function S(T){return g(T,!1)}function D(T){return g(T,!0)}function U(T,j){if(!T.db)return!0;var R=!T.db.objectStoreNames.contains(T.storeName),W=T.version<T.db.version,X=T.version>T.db.version;if(W&&(T.version!==j&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),X||R){if(R){var q=T.db.version+1;q>T.version&&(T.version=q)}return!0}return!1}function x(T){return new c(function(j,R){var W=new FileReader;W.onerror=R,W.onloadend=function(X){var q=btoa(X.target.result||"");j({__local_forage_encoded_blob:!0,data:q,type:T.type})},W.readAsBinaryString(T)})}function w(T){var j=k(atob(T.data));return u([j],{type:T.type})}function J(T){return T&&T.__local_forage_encoded_blob}function L(T){var j=this,R=j._initReady().then(function(){var W=N[j._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return m(R,T,T),R}function H(T){E(T);for(var j=N[T.name],R=j.forages,W=0;W<R.length;W++){var X=R[W];X._dbInfo.db&&(X._dbInfo.db.close(),X._dbInfo.db=null)}return T.db=null,S(T).then(function(q){return T.db=q,U(T)?D(T):q}).then(function(q){T.db=j.db=q;for(var le=0;le<R.length;le++)R[le]._dbInfo.db=q}).catch(function(q){throw C(T,q),q})}function Q(T,j,R,W){W===void 0&&(W=1);try{var X=T.db.transaction(T.storeName,j);R(null,X)}catch(q){if(W>0&&(!T.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return c.resolve().then(function(){if(!T.db||q.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),D(T)}).then(function(){return H(T).then(function(){Q(T,j,R,W-1)})}).catch(R);R(q)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ce(T){var j=this,R={db:null};if(T)for(var W in T)R[W]=T[W];var X=N[R.name];X||(X=re(),N[R.name]=X),X.forages.push(j),j._initReady||(j._initReady=j.ready,j.ready=L);var q=[];function le(){return c.resolve()}for(var ve=0;ve<X.forages.length;ve++){var xe=X.forages[ve];xe!==j&&q.push(xe._initReady().catch(le))}var Ce=X.forages.slice(0);return c.all(q).then(function(){return R.db=X.db,S(R)}).then(function(Se){return R.db=Se,U(R,j._defaultConfig.version)?D(R):Se}).then(function(Se){R.db=X.db=Se,j._dbInfo=R;for(var Pe=0;Pe<Ce.length;Pe++){var je=Ce[Pe];je!==j&&(je._dbInfo.db=R.db,je._dbInfo.version=R.version)}})}function de(T,j){var R=this;T=b(T);var W=new c(function(X,q){R.ready().then(function(){Q(R._dbInfo,I,function(le,ve){if(le)return q(le);try{var xe=ve.objectStore(R._dbInfo.storeName),Ce=xe.get(T);Ce.onsuccess=function(){var Se=Ce.result;Se===void 0&&(Se=null),J(Se)&&(Se=w(Se)),X(Se)},Ce.onerror=function(){q(Ce.error)}}catch(Se){q(Se)}})}).catch(q)});return f(W,j),W}function ee(T,j){var R=this,W=new c(function(X,q){R.ready().then(function(){Q(R._dbInfo,I,function(le,ve){if(le)return q(le);try{var xe=ve.objectStore(R._dbInfo.storeName),Ce=xe.openCursor(),Se=1;Ce.onsuccess=function(){var Pe=Ce.result;if(Pe){var je=Pe.value;J(je)&&(je=w(je));var Je=T(je,Pe.key,Se++);Je!==void 0?X(Je):Pe.continue()}else X()},Ce.onerror=function(){q(Ce.error)}}catch(Pe){q(Pe)}})}).catch(q)});return f(W,j),W}function Ie(T,j,R){var W=this;T=b(T);var X=new c(function(q,le){var ve;W.ready().then(function(){return ve=W._dbInfo,P.call(j)==="[object Blob]"?$(ve.db).then(function(xe){return xe?j:x(j)}):j}).then(function(xe){Q(W._dbInfo,A,function(Ce,Se){if(Ce)return le(Ce);try{var Pe=Se.objectStore(W._dbInfo.storeName);xe===null&&(xe=void 0);var je=Pe.put(xe,T);Se.oncomplete=function(){xe===void 0&&(xe=null),q(xe)},Se.onabort=Se.onerror=function(){var Je=je.error?je.error:je.transaction.error;le(Je)}}catch(Je){le(Je)}})}).catch(le)});return f(X,R),X}function te(T,j){var R=this;T=b(T);var W=new c(function(X,q){R.ready().then(function(){Q(R._dbInfo,A,function(le,ve){if(le)return q(le);try{var xe=ve.objectStore(R._dbInfo.storeName),Ce=xe.delete(T);ve.oncomplete=function(){X()},ve.onerror=function(){q(Ce.error)},ve.onabort=function(){var Se=Ce.error?Ce.error:Ce.transaction.error;q(Se)}}catch(Se){q(Se)}})}).catch(q)});return f(W,j),W}function pe(T){var j=this,R=new c(function(W,X){j.ready().then(function(){Q(j._dbInfo,A,function(q,le){if(q)return X(q);try{var ve=le.objectStore(j._dbInfo.storeName),xe=ve.clear();le.oncomplete=function(){W()},le.onabort=le.onerror=function(){var Ce=xe.error?xe.error:xe.transaction.error;X(Ce)}}catch(Ce){X(Ce)}})}).catch(X)});return f(R,T),R}function ue(T){var j=this,R=new c(function(W,X){j.ready().then(function(){Q(j._dbInfo,I,function(q,le){if(q)return X(q);try{var ve=le.objectStore(j._dbInfo.storeName),xe=ve.count();xe.onsuccess=function(){W(xe.result)},xe.onerror=function(){X(xe.error)}}catch(Ce){X(Ce)}})}).catch(X)});return f(R,T),R}function _e(T,j){var R=this,W=new c(function(X,q){if(T<0){X(null);return}R.ready().then(function(){Q(R._dbInfo,I,function(le,ve){if(le)return q(le);try{var xe=ve.objectStore(R._dbInfo.storeName),Ce=!1,Se=xe.openKeyCursor();Se.onsuccess=function(){var Pe=Se.result;if(!Pe){X(null);return}T===0||Ce?X(Pe.key):(Ce=!0,Pe.advance(T))},Se.onerror=function(){q(Se.error)}}catch(Pe){q(Pe)}})}).catch(q)});return f(W,j),W}function Oe(T){var j=this,R=new c(function(W,X){j.ready().then(function(){Q(j._dbInfo,I,function(q,le){if(q)return X(q);try{var ve=le.objectStore(j._dbInfo.storeName),xe=ve.openKeyCursor(),Ce=[];xe.onsuccess=function(){var Se=xe.result;if(!Se){W(Ce);return}Ce.push(Se.key),Se.continue()},xe.onerror=function(){X(xe.error)}}catch(Se){X(Se)}})}).catch(X)});return f(R,T),R}function B(T,j){j=y.apply(this,arguments);var R=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||R.name,T.storeName=T.storeName||R.storeName);var W=this,X;if(!T.name)X=c.reject("Invalid arguments");else{var q=T.name===R.name&&W._dbInfo.db,le=q?c.resolve(W._dbInfo.db):S(T).then(function(ve){var xe=N[T.name],Ce=xe.forages;xe.db=ve;for(var Se=0;Se<Ce.length;Se++)Ce[Se]._dbInfo.db=ve;return ve});T.storeName?X=le.then(function(ve){if(ve.objectStoreNames.contains(T.storeName)){var xe=ve.version+1;E(T);var Ce=N[T.name],Se=Ce.forages;ve.close();for(var Pe=0;Pe<Se.length;Pe++){var je=Se[Pe];je._dbInfo.db=null,je._dbInfo.version=xe}var Je=new c(function(tt,yt){var vt=d.open(T.name,xe);vt.onerror=function(sn){var gr=vt.result;gr.close(),yt(sn)},vt.onupgradeneeded=function(){var sn=vt.result;sn.deleteObjectStore(T.storeName)},vt.onsuccess=function(){var sn=vt.result;sn.close(),tt(sn)}});return Je.then(function(tt){Ce.db=tt;for(var yt=0;yt<Se.length;yt++){var vt=Se[yt];vt._dbInfo.db=tt,M(vt._dbInfo)}}).catch(function(tt){throw(C(T,tt)||c.resolve()).catch(function(){}),tt})}}):X=le.then(function(ve){E(T);var xe=N[T.name],Ce=xe.forages;ve.close();for(var Se=0;Se<Ce.length;Se++){var Pe=Ce[Se];Pe._dbInfo.db=null}var je=new c(function(Je,tt){var yt=d.deleteDatabase(T.name);yt.onerror=function(){var vt=yt.result;vt&&vt.close(),tt(yt.error)},yt.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},yt.onsuccess=function(){var vt=yt.result;vt&&vt.close(),Je(vt)}});return je.then(function(Je){xe.db=Je;for(var tt=0;tt<Ce.length;tt++){var yt=Ce[tt];M(yt._dbInfo)}}).catch(function(Je){throw(C(T,Je)||c.resolve()).catch(function(){}),Je})})}return f(X,j),X}var F={_driver:"asyncStorage",_initStorage:ce,_support:p(),iterate:ee,getItem:de,setItem:Ie,removeItem:te,clear:pe,length:ue,key:_e,keys:Oe,dropInstance:B};function K(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",se="~~local_forage_type~",ne=/^~~local_forage_type~([^~]+)~/,fe="__lfsc__:",me=fe.length,he="arbf",ae="blob",De="si08",be="ui08",z="uic8",h="si16",O="si32",we="ur16",He="ui32",nt="fl32",Ke="fl64",ct=me+he.length,st=Object.prototype.toString;function St(T){var j=T.length*.75,R=T.length,W,X=0,q,le,ve,xe;T[T.length-1]==="="&&(j--,T[T.length-2]==="="&&j--);var Ce=new ArrayBuffer(j),Se=new Uint8Array(Ce);for(W=0;W<R;W+=4)q=Z.indexOf(T[W]),le=Z.indexOf(T[W+1]),ve=Z.indexOf(T[W+2]),xe=Z.indexOf(T[W+3]),Se[X++]=q<<2|le>>4,Se[X++]=(le&15)<<4|ve>>2,Se[X++]=(ve&3)<<6|xe&63;return Ce}function Et(T){var j=new Uint8Array(T),R="",W;for(W=0;W<j.length;W+=3)R+=Z[j[W]>>2],R+=Z[(j[W]&3)<<4|j[W+1]>>4],R+=Z[(j[W+1]&15)<<2|j[W+2]>>6],R+=Z[j[W+2]&63];return j.length%3===2?R=R.substring(0,R.length-1)+"=":j.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function ft(T,j){var R="";if(T&&(R=st.call(T)),T&&(R==="[object ArrayBuffer]"||T.buffer&&st.call(T.buffer)==="[object ArrayBuffer]")){var W,X=fe;T instanceof ArrayBuffer?(W=T,X+=he):(W=T.buffer,R==="[object Int8Array]"?X+=De:R==="[object Uint8Array]"?X+=be:R==="[object Uint8ClampedArray]"?X+=z:R==="[object Int16Array]"?X+=h:R==="[object Uint16Array]"?X+=we:R==="[object Int32Array]"?X+=O:R==="[object Uint32Array]"?X+=He:R==="[object Float32Array]"?X+=nt:R==="[object Float64Array]"?X+=Ke:j(new Error("Failed to get type for BinaryArray"))),j(X+Et(W))}else if(R==="[object Blob]"){var q=new FileReader;q.onload=function(){var le=se+T.type+"~"+Et(this.result);j(fe+ae+le)},q.readAsArrayBuffer(T)}else try{j(JSON.stringify(T))}catch(le){console.error("Couldn't convert value into a JSON string: ",T),j(null,le)}}function Dt(T){if(T.substring(0,me)!==fe)return JSON.parse(T);var j=T.substring(ct),R=T.substring(me,ct),W;if(R===ae&&ne.test(j)){var X=j.match(ne);W=X[1],j=j.substring(X[0].length)}var q=St(j);switch(R){case he:return q;case ae:return u([q],{type:W});case De:return new Int8Array(q);case be:return new Uint8Array(q);case z:return new Uint8ClampedArray(q);case h:return new Int16Array(q);case we:return new Uint16Array(q);case O:return new Int32Array(q);case He:return new Uint32Array(q);case nt:return new Float32Array(q);case Ke:return new Float64Array(q);default:throw new Error("Unkown type: "+R)}}var Gn={serialize:ft,deserialize:Dt,stringToBuffer:St,bufferToString:Et};function Lo(T,j,R,W){T.executeSql("CREATE TABLE IF NOT EXISTS "+j.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,W)}function as(T){var j=this,R={db:null};if(T)for(var W in T)R[W]=typeof T[W]!="string"?T[W].toString():T[W];var X=new c(function(q,le){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(ve){return le(ve)}R.db.transaction(function(ve){Lo(ve,R,function(){j._dbInfo=R,q()},function(xe,Ce){le(Ce)})},le)});return R.serializer=Gn,X}function qt(T,j,R,W,X,q){T.executeSql(R,W,X,function(le,ve){ve.code===ve.SYNTAX_ERR?le.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[j.storeName],function(xe,Ce){Ce.rows.length?q(xe,ve):Lo(xe,j,function(){xe.executeSql(R,W,X,q)},q)},q):q(le,ve)},q)}function Ai(T,j){var R=this;T=b(T);var W=new c(function(X,q){R.ready().then(function(){var le=R._dbInfo;le.db.transaction(function(ve){qt(ve,le,"SELECT * FROM "+le.storeName+" WHERE key = ? LIMIT 1",[T],function(xe,Ce){var Se=Ce.rows.length?Ce.rows.item(0).value:null;Se&&(Se=le.serializer.deserialize(Se)),X(Se)},function(xe,Ce){q(Ce)})})}).catch(q)});return f(W,j),W}function xn(T,j){var R=this,W=new c(function(X,q){R.ready().then(function(){var le=R._dbInfo;le.db.transaction(function(ve){qt(ve,le,"SELECT * FROM "+le.storeName,[],function(xe,Ce){for(var Se=Ce.rows,Pe=Se.length,je=0;je<Pe;je++){var Je=Se.item(je),tt=Je.value;if(tt&&(tt=le.serializer.deserialize(tt)),tt=T(tt,Je.key,je+1),tt!==void 0){X(tt);return}}X()},function(xe,Ce){q(Ce)})})}).catch(q)});return f(W,j),W}function pn(T,j,R,W){var X=this;T=b(T);var q=new c(function(le,ve){X.ready().then(function(){j===void 0&&(j=null);var xe=j,Ce=X._dbInfo;Ce.serializer.serialize(j,function(Se,Pe){Pe?ve(Pe):Ce.db.transaction(function(je){qt(je,Ce,"INSERT OR REPLACE INTO "+Ce.storeName+" (key, value) VALUES (?, ?)",[T,Se],function(){le(xe)},function(Je,tt){ve(tt)})},function(je){if(je.code===je.QUOTA_ERR){if(W>0){le(pn.apply(X,[T,xe,R,W-1]));return}ve(je)}})})}).catch(ve)});return f(q,R),q}function Jn(T,j,R){return pn.apply(this,[T,j,R,1])}function bo(T,j){var R=this;T=b(T);var W=new c(function(X,q){R.ready().then(function(){var le=R._dbInfo;le.db.transaction(function(ve){qt(ve,le,"DELETE FROM "+le.storeName+" WHERE key = ?",[T],function(){X()},function(xe,Ce){q(Ce)})})}).catch(q)});return f(W,j),W}function ls(T){var j=this,R=new c(function(W,X){j.ready().then(function(){var q=j._dbInfo;q.db.transaction(function(le){qt(le,q,"DELETE FROM "+q.storeName,[],function(){W()},function(ve,xe){X(xe)})})}).catch(X)});return f(R,T),R}function On(T){var j=this,R=new c(function(W,X){j.ready().then(function(){var q=j._dbInfo;q.db.transaction(function(le){qt(le,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(ve,xe){var Ce=xe.rows.item(0).c;W(Ce)},function(ve,xe){X(xe)})})}).catch(X)});return f(R,T),R}function Mn(T,j){var R=this,W=new c(function(X,q){R.ready().then(function(){var le=R._dbInfo;le.db.transaction(function(ve){qt(ve,le,"SELECT key FROM "+le.storeName+" WHERE id = ? LIMIT 1",[T+1],function(xe,Ce){var Se=Ce.rows.length?Ce.rows.item(0).key:null;X(Se)},function(xe,Ce){q(Ce)})})}).catch(q)});return f(W,j),W}function zf(T){var j=this,R=new c(function(W,X){j.ready().then(function(){var q=j._dbInfo;q.db.transaction(function(le){qt(le,q,"SELECT key FROM "+q.storeName,[],function(ve,xe){for(var Ce=[],Se=0;Se<xe.rows.length;Se++)Ce.push(xe.rows.item(Se).key);W(Ce)},function(ve,xe){X(xe)})})}).catch(X)});return f(R,T),R}function qf(T){return new c(function(j,R){T.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(X,q){for(var le=[],ve=0;ve<q.rows.length;ve++)le.push(q.rows.item(ve).name);j({db:T,storeNames:le})},function(X,q){R(q)})},function(W){R(W)})})}function Wf(T,j){j=y.apply(this,arguments);var R=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||R.name,T.storeName=T.storeName||R.storeName);var W=this,X;return T.name?X=new c(function(q){var le;T.name===R.name?le=W._dbInfo.db:le=openDatabase(T.name,"","",0),T.storeName?q({db:le,storeNames:[T.storeName]}):q(qf(le))}).then(function(q){return new c(function(le,ve){q.db.transaction(function(xe){function Ce(Je){return new c(function(tt,yt){xe.executeSql("DROP TABLE IF EXISTS "+Je,[],function(){tt()},function(vt,sn){yt(sn)})})}for(var Se=[],Pe=0,je=q.storeNames.length;Pe<je;Pe++)Se.push(Ce(q.storeNames[Pe]));c.all(Se).then(function(){le()}).catch(function(Je){ve(Je)})},function(xe){ve(xe)})})}):X=c.reject("Invalid arguments"),f(X,j),X}var Kf={_driver:"webSQLStorage",_initStorage:as,_support:K(),iterate:xn,getItem:Ai,setItem:Jn,removeItem:bo,clear:ls,length:On,key:Mn,keys:zf,dropInstance:Wf};function Yf(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function wl(T,j){var R=T.name+"/";return T.storeName!==j.storeName&&(R+=T.storeName+"/"),R}function Xf(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function Gf(){return!Xf()||localStorage.length>0}function Jf(T){var j=this,R={};if(T)for(var W in T)R[W]=T[W];return R.keyPrefix=wl(T,j._defaultConfig),Gf()?(j._dbInfo=R,R.serializer=Gn,c.resolve()):c.reject()}function Qf(T){var j=this,R=j.ready().then(function(){for(var W=j._dbInfo.keyPrefix,X=localStorage.length-1;X>=0;X--){var q=localStorage.key(X);q.indexOf(W)===0&&localStorage.removeItem(q)}});return f(R,T),R}function Zf(T,j){var R=this;T=b(T);var W=R.ready().then(function(){var X=R._dbInfo,q=localStorage.getItem(X.keyPrefix+T);return q&&(q=X.serializer.deserialize(q)),q});return f(W,j),W}function ep(T,j){var R=this,W=R.ready().then(function(){for(var X=R._dbInfo,q=X.keyPrefix,le=q.length,ve=localStorage.length,xe=1,Ce=0;Ce<ve;Ce++){var Se=localStorage.key(Ce);if(Se.indexOf(q)===0){var Pe=localStorage.getItem(Se);if(Pe&&(Pe=X.serializer.deserialize(Pe)),Pe=T(Pe,Se.substring(le),xe++),Pe!==void 0)return Pe}}});return f(W,j),W}function tp(T,j){var R=this,W=R.ready().then(function(){var X=R._dbInfo,q;try{q=localStorage.key(T)}catch{q=null}return q&&(q=q.substring(X.keyPrefix.length)),q});return f(W,j),W}function np(T){var j=this,R=j.ready().then(function(){for(var W=j._dbInfo,X=localStorage.length,q=[],le=0;le<X;le++){var ve=localStorage.key(le);ve.indexOf(W.keyPrefix)===0&&q.push(ve.substring(W.keyPrefix.length))}return q});return f(R,T),R}function op(T){var j=this,R=j.keys().then(function(W){return W.length});return f(R,T),R}function rp(T,j){var R=this;T=b(T);var W=R.ready().then(function(){var X=R._dbInfo;localStorage.removeItem(X.keyPrefix+T)});return f(W,j),W}function sp(T,j,R){var W=this;T=b(T);var X=W.ready().then(function(){j===void 0&&(j=null);var q=j;return new c(function(le,ve){var xe=W._dbInfo;xe.serializer.serialize(j,function(Ce,Se){if(Se)ve(Se);else try{localStorage.setItem(xe.keyPrefix+T,Ce),le(q)}catch(Pe){(Pe.name==="QuotaExceededError"||Pe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ve(Pe),ve(Pe)}})})});return f(X,R),X}function ip(T,j){if(j=y.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var R=this.config();T.name=T.name||R.name,T.storeName=T.storeName||R.storeName}var W=this,X;return T.name?X=new c(function(q){T.storeName?q(wl(T,W._defaultConfig)):q(T.name+"/")}).then(function(q){for(var le=localStorage.length-1;le>=0;le--){var ve=localStorage.key(le);ve.indexOf(q)===0&&localStorage.removeItem(ve)}}):X=c.reject("Invalid arguments"),f(X,j),X}var ap={_driver:"localStorageWrapper",_initStorage:Jf,_support:Yf(),iterate:ep,getItem:Zf,setItem:sp,removeItem:rp,clear:Qf,length:op,key:tp,keys:np,dropInstance:ip},lp=function(j,R){return j===R||typeof j=="number"&&typeof R=="number"&&isNaN(j)&&isNaN(R)},cp=function(j,R){for(var W=j.length,X=0;X<W;){if(lp(j[X],R))return!0;X++}return!1},yl=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},hr={},xl={},No={INDEXEDDB:F,WEBSQL:Kf,LOCALSTORAGE:ap},up=[No.INDEXEDDB._driver,No.WEBSQL._driver,No.LOCALSTORAGE._driver],cs=["dropInstance"],Ti=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(cs),dp={description:"",driver:up.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fp(T,j){T[j]=function(){var R=arguments;return T.ready().then(function(){return T[j].apply(T,R)})}}function Di(){for(var T=1;T<arguments.length;T++){var j=arguments[T];if(j)for(var R in j)j.hasOwnProperty(R)&&(yl(j[R])?arguments[0][R]=j[R].slice():arguments[0][R]=j[R])}return arguments[0]}var pp=function(){function T(j){a(this,T);for(var R in No)if(No.hasOwnProperty(R)){var W=No[R],X=W._driver;this[R]=X,hr[X]||this.defineDriver(W)}this._defaultConfig=Di({},dp),this._config=Di({},this._defaultConfig,j),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(R){if((typeof R>"u"?"undefined":s(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in R){if(W==="storeName"&&(R[W]=R[W].replace(/\W/g,"_")),W==="version"&&typeof R[W]!="number")return new Error("Database version must be a number.");this._config[W]=R[W]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},T.prototype.defineDriver=function(R,W,X){var q=new c(function(le,ve){try{var xe=R._driver,Ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){ve(Ce);return}for(var Se=Ti.concat("_initStorage"),Pe=0,je=Se.length;Pe<je;Pe++){var Je=Se[Pe],tt=!cp(cs,Je);if((tt||R[Je])&&typeof R[Je]!="function"){ve(Ce);return}}var yt=function(){for(var gr=function(gp){return function(){var vp=new Error("Method "+gp+" is not implemented by the current driver"),Cl=c.reject(vp);return f(Cl,arguments[arguments.length-1]),Cl}},Hi=0,hp=cs.length;Hi<hp;Hi++){var Ii=cs[Hi];R[Ii]||(R[Ii]=gr(Ii))}};yt();var vt=function(gr){hr[xe]&&console.info("Redefining LocalForage driver: "+xe),hr[xe]=R,xl[xe]=gr,le()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(vt,ve):vt(!!R._support):vt(!0)}catch(sn){ve(sn)}});return m(q,W,X),q},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(R,W,X){var q=hr[R]?c.resolve(hr[R]):c.reject(new Error("Driver not found."));return m(q,W,X),q},T.prototype.getSerializer=function(R){var W=c.resolve(Gn);return m(W,R),W},T.prototype.ready=function(R){var W=this,X=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return m(X,R,R),X},T.prototype.setDriver=function(R,W,X){var q=this;yl(R)||(R=[R]);var le=this._getSupportedDrivers(R);function ve(){q._config.driver=q.driver()}function xe(Pe){return q._extend(Pe),ve(),q._ready=q._initStorage(q._config),q._ready}function Ce(Pe){return function(){var je=0;function Je(){for(;je<Pe.length;){var tt=Pe[je];return je++,q._dbInfo=null,q._ready=null,q.getDriver(tt).then(xe).catch(Je)}ve();var yt=new Error("No available storage method found.");return q._driverSet=c.reject(yt),q._driverSet}return Je()}}var Se=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=Se.then(function(){var Pe=le[0];return q._dbInfo=null,q._ready=null,q.getDriver(Pe).then(function(je){q._driver=je._driver,ve(),q._wrapLibraryMethodsWithReady(),q._initDriver=Ce(le)})}).catch(function(){ve();var Pe=new Error("No available storage method found.");return q._driverSet=c.reject(Pe),q._driverSet}),m(this._driverSet,W,X),this._driverSet},T.prototype.supports=function(R){return!!xl[R]},T.prototype._extend=function(R){Di(this,R)},T.prototype._getSupportedDrivers=function(R){for(var W=[],X=0,q=R.length;X<q;X++){var le=R[X];this.supports(le)&&W.push(le)}return W},T.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,W=Ti.length;R<W;R++)fp(this,Ti[R])},T.prototype.createInstance=function(R){return new T(R)},T}(),mp=new pp;o.exports=mp},{3:3}]},{},[4])(4)})}(Ji)),Ji.exports}var e0=Z1();const eo=Q1(e0);eo.config({name:"DyDCharacterStates",storeName:"character_states",description:"Storage for character states and images"});function t0(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(o){if(o!=="default"&&!(o in e)){var r=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(e,o,r.get?r:{enumerable:!0,get:function(){return n[o]}})}})}),Object.freeze(e)}function mf(e,t){return new Promise(function(n,o){let r;return n0(e).then(function(s){try{return r=s,n(new Blob([t.slice(0,2),r,t.slice(2)],{type:"image/jpeg"}))}catch(a){return o(a)}},o)})}const n0=e=>new Promise((t,n)=>{const o=new FileReader;o.addEventListener("load",({target:{result:r}})=>{const s=new DataView(r);let a=0;if(s.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const l=s.getUint16(a);if(l===65498)break;const d=s.getUint16(a+2);if(l===65505&&s.getUint32(a+4)===1165519206){const p=a+10;let u;switch(s.getUint16(p)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(p+2,u)!==42)return n("TIFF header contains invalid version");const c=s.getUint32(p+4,u),f=p+c+2+12*s.getUint16(p+c,u);for(let m=p+c+2;m<f;m+=12)if(s.getUint16(m,u)==274){if(s.getUint16(m+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(m+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(m+8,1,u);break}return t(r.slice(a,a+2+d))}a+=2+d}return t(new Blob)}),o.readAsArrayBuffer(e)});var Gs={},o0={get exports(){return Gs},set exports(e){Gs=e}};(function(e){var t,n,o={};o0.exports=o,o.parse=function(r,s){for(var a=o.bin.readUshort,l=o.bin.readUint,d=0,p={},u=new Uint8Array(r),c=u.length-4;l(u,c)!=101010256;)c--;d=c,d+=4;var f=a(u,d+=4);a(u,d+=2);var m=l(u,d+=2),b=l(u,d+=4);d+=4,d=b;for(var y=0;y<f;y++){l(u,d),d+=4,d+=4,d+=4,l(u,d+=4),m=l(u,d+=4);var v=l(u,d+=4),_=a(u,d+=4),N=a(u,d+2),P=a(u,d+4);d+=6;var I=l(u,d+=8);d+=4,d+=_+N+P,o._readLocal(u,I,p,m,v,s)}return p},o._readLocal=function(r,s,a,l,d,p){var u=o.bin.readUshort,c=o.bin.readUint;c(r,s),u(r,s+=4),u(r,s+=2);var f=u(r,s+=2);c(r,s+=2),c(r,s+=4),s+=4;var m=u(r,s+=8),b=u(r,s+=2);s+=2;var y=o.bin.readUTF8(r,s,m);if(s+=m,s+=b,p)a[y]={size:d,csize:l};else{var v=new Uint8Array(r.buffer,s);if(f==0)a[y]=new Uint8Array(v.buffer.slice(s,s+l));else{if(f!=8)throw"unknown compression method: "+f;var _=new Uint8Array(d);o.inflateRaw(v,_),a[y]=_}}},o.inflateRaw=function(r,s){return o.F.inflate(r,s)},o.inflate=function(r,s){return r[0],r[1],o.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),s)},o.deflate=function(r,s){s==null&&(s={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*r.length));l[a]=120,l[a+1]=156,a+=2,a=o.F.deflateRaw(r,l,a,s.level);var d=o.adler(r,0,r.length);return l[a+0]=d>>>24&255,l[a+1]=d>>>16&255,l[a+2]=d>>>8&255,l[a+3]=d>>>0&255,new Uint8Array(l.buffer,0,a+4)},o.deflateRaw=function(r,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*r.length)),l=o.F.deflateRaw(r,a,l,s.level);return new Uint8Array(a.buffer,0,l)},o.encode=function(r,s){s==null&&(s=!1);var a=0,l=o.bin.writeUint,d=o.bin.writeUshort,p={};for(var u in r){var c=!o._noNeed(u)&&!s,f=r[u],m=o.crc.crc(f,0,f.length);p[u]={cpr:c,usize:f.length,crc:m,file:c?o.deflateRaw(f):f}}for(var u in p)a+=p[u].file.length+30+46+2*o.bin.sizeUTF8(u);a+=22;var b=new Uint8Array(a),y=0,v=[];for(var u in p){var _=p[u];v.push(y),y=o._writeHeader(b,y,u,_,0)}var N=0,P=y;for(var u in p)_=p[u],v.push(y),y=o._writeHeader(b,y,u,_,1,v[N++]);var I=y-P;return l(b,y,101010256),y+=4,d(b,y+=4,N),d(b,y+=2,N),l(b,y+=2,I),l(b,y+=4,P),y+=4,y+=2,b.buffer},o._noNeed=function(r){var s=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},o._writeHeader=function(r,s,a,l,d,p){var u=o.bin.writeUint,c=o.bin.writeUshort,f=l.file;return u(r,s,d==0?67324752:33639248),s+=4,d==1&&(s+=2),c(r,s,20),c(r,s+=2,0),c(r,s+=2,l.cpr?8:0),u(r,s+=2,0),u(r,s+=4,l.crc),u(r,s+=4,f.length),u(r,s+=4,l.usize),c(r,s+=4,o.bin.sizeUTF8(a)),c(r,s+=2,0),s+=2,d==1&&(s+=2,s+=2,u(r,s+=6,p),s+=4),s+=o.bin.writeUTF8(r,s,a),d==0&&(r.set(f,s),s+=f.length),s},o.crc={table:function(){for(var r=new Uint32Array(256),s=0;s<256;s++){for(var a=s,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;r[s]=a}return r}(),update:function(r,s,a,l){for(var d=0;d<l;d++)r=o.crc.table[255&(r^s[a+d])]^r>>>8;return r},crc:function(r,s,a){return 4294967295^o.crc.update(4294967295,r,s,a)}},o.adler=function(r,s,a){for(var l=1,d=0,p=s,u=s+a;p<u;){for(var c=Math.min(p+5552,u);p<c;)d+=l+=r[p++];l%=65521,d%=65521}return d<<16|l},o.bin={readUshort:function(r,s){return r[s]|r[s+1]<<8},writeUshort:function(r,s,a){r[s]=255&a,r[s+1]=a>>8&255},readUint:function(r,s){return 16777216*r[s+3]+(r[s+2]<<16|r[s+1]<<8|r[s])},writeUint:function(r,s,a){r[s]=255&a,r[s+1]=a>>8&255,r[s+2]=a>>16&255,r[s+3]=a>>24&255},readASCII:function(r,s,a){for(var l="",d=0;d<a;d++)l+=String.fromCharCode(r[s+d]);return l},writeASCII:function(r,s,a){for(var l=0;l<a.length;l++)r[s+l]=a.charCodeAt(l)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,s,a){for(var l,d="",p=0;p<a;p++)d+="%"+o.bin.pad(r[s+p].toString(16));try{l=decodeURIComponent(d)}catch{return o.bin.readASCII(r,s,a)}return l},writeUTF8:function(r,s,a){for(var l=a.length,d=0,p=0;p<l;p++){var u=a.charCodeAt(p);if((4294967168&u)==0)r[s+d]=u,d++;else if((4294965248&u)==0)r[s+d]=192|u>>6,r[s+d+1]=128|u>>0&63,d+=2;else if((4294901760&u)==0)r[s+d]=224|u>>12,r[s+d+1]=128|u>>6&63,r[s+d+2]=128|u>>0&63,d+=3;else{if((4292870144&u)!=0)throw"e";r[s+d]=240|u>>18,r[s+d+1]=128|u>>12&63,r[s+d+2]=128|u>>6&63,r[s+d+3]=128|u>>0&63,d+=4}}return d},sizeUTF8:function(r){for(var s=r.length,a=0,l=0;l<s;l++){var d=r.charCodeAt(l);if((4294967168&d)==0)a++;else if((4294965248&d)==0)a+=2;else if((4294901760&d)==0)a+=3;else{if((4292870144&d)!=0)throw"e";a+=4}}return a}},o.F={},o.F.deflateRaw=function(r,s,a,l){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],p=o.F.U,u=o.F._goodIndex;o.F._hash;var c=o.F._putsE,f=0,m=a<<3,b=0,y=r.length;if(l==0){for(;f<y;)c(s,m,f+(C=Math.min(65535,y-f))==y?1:0),m=o.F._copyExact(r,f,C,s,m+8),f+=C;return m>>>3}var v=p.lits,_=p.strt,N=p.prev,P=0,I=0,A=0,k=0,V=0,$=0;for(y>2&&(_[$=o.F._hash(r,0)]=0),f=0;f<y;f++){if(V=$,f+1<y-2){$=o.F._hash(r,f+1);var E=f+1&32767;N[E]=_[$],_[$]=E}if(b<=f){(P>14e3||I>26697)&&y-f>100&&(b<f&&(v[P]=f-b,P+=2,b=f),m=o.F._writeBlock(f==y-1||b==y?1:0,v,P,k,r,A,f-A,s,m),P=I=k=0,A=f);var M=0;f<y-2&&(M=o.F._bestMatch(r,f,N,V,Math.min(d[2],y-f),d[3]));var C=M>>>16,g=65535&M;if(M!=0){g=65535&M;var S=u(C=M>>>16,p.of0);p.lhst[257+S]++;var D=u(g,p.df0);p.dhst[D]++,k+=p.exb[S]+p.dxb[D],v[P]=C<<23|f-b,v[P+1]=g<<16|S<<8|D,P+=2,b=f+C}else p.lhst[r[f]]++;I++}}for(A==f&&r.length!=0||(b<f&&(v[P]=f-b,P+=2,b=f),m=o.F._writeBlock(1,v,P,k,r,A,f-A,s,m),P=0,I=0,P=I=k=0,A=f);(7&m)!=0;)m++;return m>>>3},o.F._bestMatch=function(r,s,a,l,d,p){var u=32767&s,c=a[u],f=u-c+32768&32767;if(c==u||l!=o.F._hash(r,s-f))return 0;for(var m=0,b=0,y=Math.min(32767,s);f<=y&&--p!=0&&c!=u;){if(m==0||r[s+m]==r[s+m-f]){var v=o.F._howLong(r,s,f);if(v>m){if(b=f,(m=v)>=d)break;f+2<v&&(v=f+2);for(var _=0,N=0;N<v-2;N++){var P=s-f+N+32768&32767,I=P-a[P]+32768&32767;I>_&&(_=I,c=P)}}}f+=(u=c)-(c=a[u])+32768&32767}return m<<16|b},o.F._howLong=function(r,s,a){if(r[s]!=r[s-a]||r[s+1]!=r[s+1-a]||r[s+2]!=r[s+2-a])return 0;var l=s,d=Math.min(r.length,s+258);for(s+=3;s<d&&r[s]==r[s-a];)s++;return s-l},o.F._hash=function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(r,s,a,l,d,p,u,c,f){var m,b,y,v,_,N,P,I,A,k=o.F.U,V=o.F._putsF,$=o.F._putsE;k.lhst[256]++,b=(m=o.F.getTrees())[0],y=m[1],v=m[2],_=m[3],N=m[4],P=m[5],I=m[6],A=m[7];var E=32+((f+3&7)==0?0:8-(f+3&7))+(u<<3),M=l+o.F.contSize(k.fltree,k.lhst)+o.F.contSize(k.fdtree,k.dhst),C=l+o.F.contSize(k.ltree,k.lhst)+o.F.contSize(k.dtree,k.dhst);C+=14+3*P+o.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var g=0;g<286;g++)k.lhst[g]=0;for(g=0;g<30;g++)k.dhst[g]=0;for(g=0;g<19;g++)k.ihst[g]=0;var S=E<M&&E<C?0:M<C?1:2;if(V(c,f,r),V(c,f+1,S),f+=3,S==0){for(;(7&f)!=0;)f++;f=o.F._copyExact(d,p,u,c,f)}else{var D,U;if(S==1&&(D=k.fltree,U=k.fdtree),S==2){o.F.makeCodes(k.ltree,b),o.F.revCodes(k.ltree,b),o.F.makeCodes(k.dtree,y),o.F.revCodes(k.dtree,y),o.F.makeCodes(k.itree,v),o.F.revCodes(k.itree,v),D=k.ltree,U=k.dtree,$(c,f,_-257),$(c,f+=5,N-1),$(c,f+=5,P-4),f+=4;for(var x=0;x<P;x++)$(c,f+3*x,k.itree[1+(k.ordr[x]<<1)]);f+=3*P,f=o.F._codeTiny(I,k.itree,c,f),f=o.F._codeTiny(A,k.itree,c,f)}for(var w=p,J=0;J<a;J+=2){for(var L=s[J],H=L>>>23,Q=w+(8388607&L);w<Q;)f=o.F._writeLit(d[w++],D,c,f);if(H!=0){var re=s[J+1],ce=re>>16,de=re>>8&255,ee=255&re;$(c,f=o.F._writeLit(257+de,D,c,f),H-k.of0[de]),f+=k.exb[de],V(c,f=o.F._writeLit(ee,U,c,f),ce-k.df0[ee]),f+=k.dxb[ee],w+=H}}f=o.F._writeLit(256,D,c,f)}return f},o.F._copyExact=function(r,s,a,l,d){var p=d>>>3;return l[p]=a,l[p+1]=a>>>8,l[p+2]=255-l[p],l[p+3]=255-l[p+1],p+=4,l.set(new Uint8Array(r.buffer,s,a),p),d+(a+4<<3)},o.F.getTrees=function(){for(var r=o.F.U,s=o.F._hufTree(r.lhst,r.ltree,15),a=o.F._hufTree(r.dhst,r.dtree,15),l=[],d=o.F._lenCodes(r.ltree,l),p=[],u=o.F._lenCodes(r.dtree,p),c=0;c<l.length;c+=2)r.ihst[l[c]]++;for(c=0;c<p.length;c+=2)r.ihst[p[c]]++;for(var f=o.F._hufTree(r.ihst,r.itree,7),m=19;m>4&&r.itree[1+(r.ordr[m-1]<<1)]==0;)m--;return[s,a,f,d,u,m,l,p]},o.F.getSecond=function(r){for(var s=[],a=0;a<r.length;a+=2)s.push(r[a+1]);return s},o.F.nonZero=function(r){for(var s="",a=0;a<r.length;a+=2)r[a+1]!=0&&(s+=(a>>1)+",");return s},o.F.contSize=function(r,s){for(var a=0,l=0;l<s.length;l++)a+=s[l]*r[1+(l<<1)];return a},o.F._codeTiny=function(r,s,a,l){for(var d=0;d<r.length;d+=2){var p=r[d],u=r[d+1];l=o.F._writeLit(p,s,a,l);var c=p==16?2:p==17?3:7;p>15&&(o.F._putsE(a,l,u,c),l+=c)}return l},o.F._lenCodes=function(r,s){for(var a=r.length;a!=2&&r[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var d=r[l+1],p=l+3<a?r[l+3]:-1,u=l+5<a?r[l+5]:-1,c=l==0?-1:r[l-1];if(d==0&&p==d&&u==d){for(var f=l+5;f+2<a&&r[f+2]==d;)f+=2;(m=Math.min(f+1-l>>>1,138))<11?s.push(17,m-3):s.push(18,m-11),l+=2*m-2}else if(d==c&&p==d&&u==d){for(f=l+5;f+2<a&&r[f+2]==d;)f+=2;var m=Math.min(f+1-l>>>1,6);s.push(16,m-3),l+=2*m-2}else s.push(d,0)}return a>>>1},o.F._hufTree=function(r,s,a){var l=[],d=r.length,p=s.length,u=0;for(u=0;u<p;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<d;u++)r[u]!=0&&l.push({lit:u,f:r[u]});var c=l.length,f=l.slice(0);if(c==0)return 0;if(c==1){var m=l[0].lit;return f=m==0?1:0,s[1+(m<<1)]=1,s[1+(f<<1)]=1,1}l.sort(function(I,A){return I.f-A.f});var b=l[0],y=l[1],v=0,_=1,N=2;for(l[0]={lit:-1,f:b.f+y.f,l:b,r:y,d:0};_!=c-1;)b=v!=_&&(N==c||l[v].f<l[N].f)?l[v++]:l[N++],y=v!=_&&(N==c||l[v].f<l[N].f)?l[v++]:l[N++],l[_++]={lit:-1,f:b.f+y.f,l:b,r:y};var P=o.F.setDepth(l[_-1],0);for(P>a&&(o.F.restrictDepth(f,a,P),P=a),u=0;u<c;u++)s[1+(f[u].lit<<1)]=f[u].d;return P},o.F.setDepth=function(r,s){return r.lit!=-1?(r.d=s,s):Math.max(o.F.setDepth(r.l,s+1),o.F.setDepth(r.r,s+1))},o.F.restrictDepth=function(r,s,a){var l=0,d=1<<a-s,p=0;for(r.sort(function(c,f){return f.d==c.d?c.f-f.f:f.d-c.d}),l=0;l<r.length&&r[l].d>s;l++){var u=r[l].d;r[l].d=s,p+=d-(1<<a-u)}for(p>>>=a-s;p>0;)(u=r[l].d)<s?(r[l].d++,p-=1<<s-u-1):l++;for(;l>=0;l--)r[l].d==s&&p<0&&(r[l].d--,p++);p!=0&&console.log("debt left")},o.F._goodIndex=function(r,s){var a=0;return s[16|a]<=r&&(a|=16),s[8|a]<=r&&(a|=8),s[4|a]<=r&&(a|=4),s[2|a]<=r&&(a|=2),s[1|a]<=r&&(a|=1),a},o.F._writeLit=function(r,s,a,l){return o.F._putsF(a,l,s[r<<1]),l+s[1+(r<<1)]},o.F.inflate=function(r,s){var a=Uint8Array;if(r[0]==3&&r[1]==0)return s||new a(0);var l=o.F,d=l._bitsF,p=l._bitsE,u=l._decodeTiny,c=l.makeCodes,f=l.codes2map,m=l._get17,b=l.U,y=s==null;y&&(s=new a(r.length>>>2<<3));for(var v,_,N=0,P=0,I=0,A=0,k=0,V=0,$=0,E=0,M=0;N==0;)if(N=d(r,M,1),P=d(r,M+1,2),M+=3,P!=0){if(y&&(s=o.F._check(s,E+(1<<17))),P==1&&(v=b.flmap,_=b.fdmap,V=511,$=31),P==2){I=p(r,M,5)+257,A=p(r,M+5,5)+1,k=p(r,M+10,4)+4,M+=14;for(var C=0;C<38;C+=2)b.itree[C]=0,b.itree[C+1]=0;var g=1;for(C=0;C<k;C++){var S=p(r,M+3*C,3);b.itree[1+(b.ordr[C]<<1)]=S,S>g&&(g=S)}M+=3*k,c(b.itree,g),f(b.itree,g,b.imap),v=b.lmap,_=b.dmap,M=u(b.imap,(1<<g)-1,I+A,r,M,b.ttree);var D=l._copyOut(b.ttree,0,I,b.ltree);V=(1<<D)-1;var U=l._copyOut(b.ttree,I,A,b.dtree);$=(1<<U)-1,c(b.ltree,D),f(b.ltree,D,v),c(b.dtree,U),f(b.dtree,U,_)}for(;;){var x=v[m(r,M)&V];M+=15&x;var w=x>>>4;if(!(w>>>8))s[E++]=w;else{if(w==256)break;var J=E+w-254;if(w>264){var L=b.ldef[w-257];J=E+(L>>>3)+p(r,M,7&L),M+=7&L}var H=_[m(r,M)&$];M+=15&H;var Q=H>>>4,re=b.ddef[Q],ce=(re>>>4)+d(r,M,15&re);for(M+=15&re,y&&(s=o.F._check(s,E+(1<<17)));E<J;)s[E]=s[E++-ce],s[E]=s[E++-ce],s[E]=s[E++-ce],s[E]=s[E++-ce];E=J}}}else{(7&M)!=0&&(M+=8-(7&M));var de=4+(M>>>3),ee=r[de-4]|r[de-3]<<8;y&&(s=o.F._check(s,E+ee)),s.set(new a(r.buffer,r.byteOffset+de,ee),E),M=de+ee<<3,E+=ee}return s.length==E?s:s.slice(0,E)},o.F._check=function(r,s){var a=r.length;if(s<=a)return r;var l=new Uint8Array(Math.max(a<<1,s));return l.set(r,0),l},o.F._decodeTiny=function(r,s,a,l,d,p){for(var u=o.F._bitsE,c=o.F._get17,f=0;f<a;){var m=r[c(l,d)&s];d+=15&m;var b=m>>>4;if(b<=15)p[f]=b,f++;else{var y=0,v=0;b==16?(v=3+u(l,d,2),d+=2,y=p[f-1]):b==17?(v=3+u(l,d,3),d+=3):b==18&&(v=11+u(l,d,7),d+=7);for(var _=f+v;f<_;)p[f]=y,f++}}return d},o.F._copyOut=function(r,s,a,l){for(var d=0,p=0,u=l.length>>>1;p<a;){var c=r[p+s];l[p<<1]=0,l[1+(p<<1)]=c,c>d&&(d=c),p++}for(;p<u;)l[p<<1]=0,l[1+(p<<1)]=0,p++;return d},o.F.makeCodes=function(r,s){for(var a,l,d,p,u=o.F.U,c=r.length,f=u.bl_count,m=0;m<=s;m++)f[m]=0;for(m=1;m<c;m+=2)f[r[m]]++;var b=u.next_code;for(a=0,f[0]=0,l=1;l<=s;l++)a=a+f[l-1]<<1,b[l]=a;for(d=0;d<c;d+=2)(p=r[d+1])!=0&&(r[d]=b[p],b[p]++)},o.F.codes2map=function(r,s,a){for(var l=r.length,d=o.F.U.rev15,p=0;p<l;p+=2)if(r[p+1]!=0)for(var u=p>>1,c=r[p+1],f=u<<4|c,m=s-c,b=r[p]<<m,y=b+(1<<m);b!=y;)a[d[b]>>>15-s]=f,b++},o.F.revCodes=function(r,s){for(var a=o.F.U.rev15,l=15-s,d=0;d<r.length;d+=2){var p=r[d]<<s-r[d+1];r[d]=a[p]>>>l}},o.F._putsE=function(r,s,a){a<<=7&s;var l=s>>>3;r[l]|=a,r[l+1]|=a>>>8},o.F._putsF=function(r,s,a){a<<=7&s;var l=s>>>3;r[l]|=a,r[l+1]|=a>>>8,r[l+2]|=a>>>16},o.F._bitsE=function(r,s,a){return(r[s>>>3]|r[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},o.F._bitsF=function(r,s,a){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},o.F._get17=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)},o.F._get25=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16|r[3+(s>>>3)]<<24)>>>(7&s)},o.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var r=o.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,r.rev15[s]=(a>>>16|a<<16)>>>17}function l(d,p,u){for(;p--!=0;)d.push(0,u)}for(s=0;s<32;s++)r.ldef[s]=r.of0[s]<<3|r.exb[s],r.ddef[s]=r.df0[s]<<4|r.dxb[s];l(r.fltree,144,8),l(r.fltree,112,9),l(r.fltree,24,7),l(r.fltree,8,8),o.F.makeCodes(r.fltree,9),o.F.codes2map(r.fltree,9,r.flmap),o.F.revCodes(r.fltree,9),l(r.fdtree,32,5),o.F.makeCodes(r.fdtree,5),o.F.codes2map(r.fdtree,5,r.fdmap),o.F.revCodes(r.fdtree,5),l(r.itree,19,0),l(r.ltree,286,0),l(r.dtree,30,0),l(r.ttree,320,0)}()})();var r0=t0({__proto__:null,default:Gs},[Gs]);const hn=function(){var e={nextZero(u,c){for(;u[c]!=0;)c++;return c},readUshort:(u,c)=>u[c]<<8|u[c+1],writeUshort(u,c,f){u[c]=f>>8&255,u[c+1]=255&f},readUint:(u,c)=>16777216*u[c]+(u[c+1]<<16|u[c+2]<<8|u[c+3]),writeUint(u,c,f){u[c]=f>>24&255,u[c+1]=f>>16&255,u[c+2]=f>>8&255,u[c+3]=255&f},readASCII(u,c,f){let m="";for(let b=0;b<f;b++)m+=String.fromCharCode(u[c+b]);return m},writeASCII(u,c,f){for(let m=0;m<f.length;m++)u[c+m]=f.charCodeAt(m)},readBytes(u,c,f){const m=[];for(let b=0;b<f;b++)m.push(u[c+b]);return m},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,c,f){let m,b="";for(let y=0;y<f;y++)b+=`%${e.pad(u[c+y].toString(16))}`;try{m=decodeURIComponent(b)}catch{return e.readASCII(u,c,f)}return m}};function t(u,c,f,m){const b=c*f,y=s(m),v=Math.ceil(c*y/8),_=new Uint8Array(4*b),N=new Uint32Array(_.buffer),{ctype:P}=m,{depth:I}=m,A=e.readUshort;if(P==6){const L=b<<2;if(I==8)for(var k=0;k<L;k+=4)_[k]=u[k],_[k+1]=u[k+1],_[k+2]=u[k+2],_[k+3]=u[k+3];if(I==16)for(k=0;k<L;k++)_[k]=u[k<<1]}else if(P==2){const L=m.tabs.tRNS;if(L==null){if(I==8)for(k=0;k<b;k++){var V=3*k;N[k]=255<<24|u[V+2]<<16|u[V+1]<<8|u[V]}if(I==16)for(k=0;k<b;k++)V=6*k,N[k]=255<<24|u[V+4]<<16|u[V+2]<<8|u[V]}else{var $=L[0];const H=L[1],Q=L[2];if(I==8)for(k=0;k<b;k++){var E=k<<2;V=3*k,N[k]=255<<24|u[V+2]<<16|u[V+1]<<8|u[V],u[V]==$&&u[V+1]==H&&u[V+2]==Q&&(_[E+3]=0)}if(I==16)for(k=0;k<b;k++)E=k<<2,V=6*k,N[k]=255<<24|u[V+4]<<16|u[V+2]<<8|u[V],A(u,V)==$&&A(u,V+2)==H&&A(u,V+4)==Q&&(_[E+3]=0)}}else if(P==3){const L=m.tabs.PLTE,H=m.tabs.tRNS,Q=H?H.length:0;if(I==1)for(var M=0;M<f;M++){var C=M*v,g=M*c;for(k=0;k<c;k++){E=g+k<<2;var S=3*(D=u[C+(k>>3)]>>7-((7&k)<<0)&1);_[E]=L[S],_[E+1]=L[S+1],_[E+2]=L[S+2],_[E+3]=D<Q?H[D]:255}}if(I==2)for(M=0;M<f;M++)for(C=M*v,g=M*c,k=0;k<c;k++)E=g+k<<2,S=3*(D=u[C+(k>>2)]>>6-((3&k)<<1)&3),_[E]=L[S],_[E+1]=L[S+1],_[E+2]=L[S+2],_[E+3]=D<Q?H[D]:255;if(I==4)for(M=0;M<f;M++)for(C=M*v,g=M*c,k=0;k<c;k++)E=g+k<<2,S=3*(D=u[C+(k>>1)]>>4-((1&k)<<2)&15),_[E]=L[S],_[E+1]=L[S+1],_[E+2]=L[S+2],_[E+3]=D<Q?H[D]:255;if(I==8)for(k=0;k<b;k++){var D;E=k<<2,S=3*(D=u[k]),_[E]=L[S],_[E+1]=L[S+1],_[E+2]=L[S+2],_[E+3]=D<Q?H[D]:255}}else if(P==4){if(I==8)for(k=0;k<b;k++){E=k<<2;var U=u[x=k<<1];_[E]=U,_[E+1]=U,_[E+2]=U,_[E+3]=u[x+1]}if(I==16)for(k=0;k<b;k++){var x;E=k<<2,U=u[x=k<<2],_[E]=U,_[E+1]=U,_[E+2]=U,_[E+3]=u[x+2]}}else if(P==0)for($=m.tabs.tRNS?m.tabs.tRNS:-1,M=0;M<f;M++){const L=M*v,H=M*c;if(I==1)for(var w=0;w<c;w++){var J=(U=255*(u[L+(w>>>3)]>>>7-(7&w)&1))==255*$?0:255;N[H+w]=J<<24|U<<16|U<<8|U}else if(I==2)for(w=0;w<c;w++)J=(U=85*(u[L+(w>>>2)]>>>6-((3&w)<<1)&3))==85*$?0:255,N[H+w]=J<<24|U<<16|U<<8|U;else if(I==4)for(w=0;w<c;w++)J=(U=17*(u[L+(w>>>1)]>>>4-((1&w)<<2)&15))==17*$?0:255,N[H+w]=J<<24|U<<16|U<<8|U;else if(I==8)for(w=0;w<c;w++)J=(U=u[L+w])==$?0:255,N[H+w]=J<<24|U<<16|U<<8|U;else if(I==16)for(w=0;w<c;w++)U=u[L+(w<<1)],J=A(u,L+(w<<1))==$?0:255,N[H+w]=J<<24|U<<16|U<<8|U}return _}function n(u,c,f,m){const b=s(u),y=Math.ceil(f*b/8),v=new Uint8Array((y+1+u.interlace)*m);return c=u.tabs.CgBI?r(c,v):o(c,v),u.interlace==0?c=a(c,u,0,f,m):u.interlace==1&&(c=function(N,P){const I=P.width,A=P.height,k=s(P),V=k>>3,$=Math.ceil(I*k/8),E=new Uint8Array(A*$);let M=0;const C=[0,0,4,0,2,0,1],g=[0,4,0,2,0,1,0],S=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const w=S[U],J=D[U];let L=0,H=0,Q=C[U];for(;Q<A;)Q+=w,H++;let re=g[U];for(;re<I;)re+=J,L++;const ce=Math.ceil(L*k/8);a(N,P,M,L,H);let de=0,ee=C[U];for(;ee<A;){let Ie=g[U],te=M+de*ce<<3;for(;Ie<I;){var x;if(k==1&&(x=(x=N[te>>3])>>7-(7&te)&1,E[ee*$+(Ie>>3)]|=x<<7-((7&Ie)<<0)),k==2&&(x=(x=N[te>>3])>>6-(7&te)&3,E[ee*$+(Ie>>2)]|=x<<6-((3&Ie)<<1)),k==4&&(x=(x=N[te>>3])>>4-(7&te)&15,E[ee*$+(Ie>>1)]|=x<<4-((1&Ie)<<2)),k>=8){const pe=ee*$+Ie*V;for(let ue=0;ue<V;ue++)E[pe+ue]=N[(te>>3)+ue]}te+=k,Ie+=J}de++,ee+=w}L*H!=0&&(M+=H*(1+ce)),U+=1}return E}(c,u)),c}function o(u,c){return r(new Uint8Array(u.buffer,2,u.length-6),c)}var r=function(){const u={H:{}};return u.H.N=function(c,f){const m=Uint8Array;let b,y,v=0,_=0,N=0,P=0,I=0,A=0,k=0,V=0,$=0;if(c[0]==3&&c[1]==0)return f||new m(0);const E=u.H,M=E.b,C=E.e,g=E.R,S=E.n,D=E.A,U=E.Z,x=E.m,w=f==null;for(w&&(f=new m(c.length>>>2<<5));v==0;)if(v=M(c,$,1),_=M(c,$+1,2),$+=3,_!=0){if(w&&(f=u.H.W(f,V+(1<<17))),_==1&&(b=x.J,y=x.h,A=511,k=31),_==2){N=C(c,$,5)+257,P=C(c,$+5,5)+1,I=C(c,$+10,4)+4,$+=14;let L=1;for(var J=0;J<38;J+=2)x.Q[J]=0,x.Q[J+1]=0;for(J=0;J<I;J++){const re=C(c,$+3*J,3);x.Q[1+(x.X[J]<<1)]=re,re>L&&(L=re)}$+=3*I,S(x.Q,L),D(x.Q,L,x.u),b=x.w,y=x.d,$=g(x.u,(1<<L)-1,N+P,c,$,x.v);const H=E.V(x.v,0,N,x.C);A=(1<<H)-1;const Q=E.V(x.v,N,P,x.D);k=(1<<Q)-1,S(x.C,H),D(x.C,H,b),S(x.D,Q),D(x.D,Q,y)}for(;;){const L=b[U(c,$)&A];$+=15&L;const H=L>>>4;if(!(H>>>8))f[V++]=H;else{if(H==256)break;{let Q=V+H-254;if(H>264){const Ie=x.q[H-257];Q=V+(Ie>>>3)+C(c,$,7&Ie),$+=7&Ie}const re=y[U(c,$)&k];$+=15&re;const ce=re>>>4,de=x.c[ce],ee=(de>>>4)+M(c,$,15&de);for($+=15&de;V<Q;)f[V]=f[V++-ee],f[V]=f[V++-ee],f[V]=f[V++-ee],f[V]=f[V++-ee];V=Q}}}}else{(7&$)!=0&&($+=8-(7&$));const L=4+($>>>3),H=c[L-4]|c[L-3]<<8;w&&(f=u.H.W(f,V+H)),f.set(new m(c.buffer,c.byteOffset+L,H),V),$=L+H<<3,V+=H}return f.length==V?f:f.slice(0,V)},u.H.W=function(c,f){const m=c.length;if(f<=m)return c;const b=new Uint8Array(m<<1);return b.set(c,0),b},u.H.R=function(c,f,m,b,y,v){const _=u.H.e,N=u.H.Z;let P=0;for(;P<m;){const I=c[N(b,y)&f];y+=15&I;const A=I>>>4;if(A<=15)v[P]=A,P++;else{let k=0,V=0;A==16?(V=3+_(b,y,2),y+=2,k=v[P-1]):A==17?(V=3+_(b,y,3),y+=3):A==18&&(V=11+_(b,y,7),y+=7);const $=P+V;for(;P<$;)v[P]=k,P++}}return y},u.H.V=function(c,f,m,b){let y=0,v=0;const _=b.length>>>1;for(;v<m;){const N=c[v+f];b[v<<1]=0,b[1+(v<<1)]=N,N>y&&(y=N),v++}for(;v<_;)b[v<<1]=0,b[1+(v<<1)]=0,v++;return y},u.H.n=function(c,f){const m=u.H.m,b=c.length;let y,v,_,N;const P=m.j;for(var I=0;I<=f;I++)P[I]=0;for(I=1;I<b;I+=2)P[c[I]]++;const A=m.K;for(y=0,P[0]=0,v=1;v<=f;v++)y=y+P[v-1]<<1,A[v]=y;for(_=0;_<b;_+=2)N=c[_+1],N!=0&&(c[_]=A[N],A[N]++)},u.H.A=function(c,f,m){const b=c.length,y=u.H.m.r;for(let v=0;v<b;v+=2)if(c[v+1]!=0){const _=v>>1,N=c[v+1],P=_<<4|N,I=f-N;let A=c[v]<<I;const k=A+(1<<I);for(;A!=k;)m[y[A]>>>15-f]=P,A++}},u.H.l=function(c,f){const m=u.H.m.r,b=15-f;for(let y=0;y<c.length;y+=2){const v=c[y]<<f-c[y+1];c[y]=m[v]>>>b}},u.H.M=function(c,f,m){m<<=7&f;const b=f>>>3;c[b]|=m,c[b+1]|=m>>>8},u.H.I=function(c,f,m){m<<=7&f;const b=f>>>3;c[b]|=m,c[b+1]|=m>>>8,c[b+2]|=m>>>16},u.H.e=function(c,f,m){return(c[f>>>3]|c[1+(f>>>3)]<<8)>>>(7&f)&(1<<m)-1},u.H.b=function(c,f,m){return(c[f>>>3]|c[1+(f>>>3)]<<8|c[2+(f>>>3)]<<16)>>>(7&f)&(1<<m)-1},u.H.Z=function(c,f){return(c[f>>>3]|c[1+(f>>>3)]<<8|c[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(c,f){return(c[f>>>3]|c[1+(f>>>3)]<<8|c[2+(f>>>3)]<<16|c[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const c=Uint16Array,f=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=u.H.m;for(var f=0;f<32768;f++){let b=f;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,c.r[f]=(b>>>16|b<<16)>>>17}function m(b,y,v){for(;y--!=0;)b.push(0,v)}for(f=0;f<32;f++)c.q[f]=c.S[f]<<3|c.T[f],c.c[f]=c.p[f]<<4|c.z[f];m(c._,144,8),m(c._,112,9),m(c._,24,7),m(c._,8,8),u.H.n(c._,9),u.H.A(c._,9,c.J),u.H.l(c._,9),m(c.$,32,5),u.H.n(c.$,5),u.H.A(c.$,5,c.h),u.H.l(c.$,5),m(c.Q,19,0),m(c.C,286,0),m(c.D,30,0),m(c.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,c,f,m,b){let y=s(c);const v=Math.ceil(m*y/8);let _,N;y=Math.ceil(y/8);let P=u[f],I=0;if(P>1&&(u[f]=[0,0,1][P-2]),P==3)for(I=y;I<v;I++)u[I+1]=u[I+1]+(u[I+1-y]>>>1)&255;for(let A=0;A<b;A++)if(_=f+A*v,N=_+A+1,P=u[N-1],I=0,P==0)for(;I<v;I++)u[_+I]=u[N+I];else if(P==1){for(;I<y;I++)u[_+I]=u[N+I];for(;I<v;I++)u[_+I]=u[N+I]+u[_+I-y]}else if(P==2)for(;I<v;I++)u[_+I]=u[N+I]+u[_+I-v];else if(P==3){for(;I<y;I++)u[_+I]=u[N+I]+(u[_+I-v]>>>1);for(;I<v;I++)u[_+I]=u[N+I]+(u[_+I-v]+u[_+I-y]>>>1)}else{for(;I<y;I++)u[_+I]=u[N+I]+l(0,u[_+I-v],0);for(;I<v;I++)u[_+I]=u[N+I]+l(u[_+I-y],u[_+I-v],u[_+I-y-v])}return u}function l(u,c,f){const m=u+c-f,b=m-u,y=m-c,v=m-f;return b*b<=y*y&&b*b<=v*v?u:y*y<=v*v?c:f}function d(u,c,f){f.width=e.readUint(u,c),c+=4,f.height=e.readUint(u,c),c+=4,f.depth=u[c],c++,f.ctype=u[c],c++,f.compress=u[c],c++,f.filter=u[c],c++,f.interlace=u[c],c++}function p(u,c,f,m,b,y,v,_,N){const P=Math.min(c,b),I=Math.min(f,y);let A=0,k=0;for(let U=0;U<I;U++)for(let x=0;x<P;x++)if(v>=0&&_>=0?(A=U*c+x<<2,k=(_+U)*b+v+x<<2):(A=(-_+U)*c-v+x<<2,k=U*b+x<<2),N==0)m[k]=u[A],m[k+1]=u[A+1],m[k+2]=u[A+2],m[k+3]=u[A+3];else if(N==1){var V=u[A+3]*.00392156862745098,$=u[A]*V,E=u[A+1]*V,M=u[A+2]*V,C=m[k+3]*(1/255),g=m[k]*C,S=m[k+1]*C,D=m[k+2]*C;const w=1-V,J=V+C*w,L=J==0?0:1/J;m[k+3]=255*J,m[k+0]=($+g*w)*L,m[k+1]=(E+S*w)*L,m[k+2]=(M+D*w)*L}else if(N==2)V=u[A+3],$=u[A],E=u[A+1],M=u[A+2],C=m[k+3],g=m[k],S=m[k+1],D=m[k+2],V==C&&$==g&&E==S&&M==D?(m[k]=0,m[k+1]=0,m[k+2]=0,m[k+3]=0):(m[k]=$,m[k+1]=E,m[k+2]=M,m[k+3]=V);else if(N==3){if(V=u[A+3],$=u[A],E=u[A+1],M=u[A+2],C=m[k+3],g=m[k],S=m[k+1],D=m[k+2],V==C&&$==g&&E==S&&M==D)continue;if(V<220&&C>20)return!1}return!0}return{decode:function(c){const f=new Uint8Array(c);let m=8;const b=e,y=b.readUshort,v=b.readUint,_={tabs:{},frames:[]},N=new Uint8Array(f.length);let P,I=0,A=0;const k=[137,80,78,71,13,10,26,10];for(var V=0;V<8;V++)if(f[V]!=k[V])throw"The input is not a PNG file!";for(;m<f.length;){const U=b.readUint(f,m);m+=4;const x=b.readASCII(f,m,4);if(m+=4,x=="IHDR")d(f,m,_);else if(x=="iCCP"){for(var $=m;f[$]!=0;)$++;b.readASCII(f,m,$-m),f[$+1];const w=f.slice($+2,m+U);let J=null;try{J=o(w)}catch{J=r(w)}_.tabs[x]=J}else if(x=="CgBI")_.tabs[x]=f.slice(m,m+4);else if(x=="IDAT"){for(V=0;V<U;V++)N[I+V]=f[m+V];I+=U}else if(x=="acTL")_.tabs[x]={num_frames:v(f,m),num_plays:v(f,m+4)},P=new Uint8Array(f.length);else if(x=="fcTL"){A!=0&&((D=_.frames[_.frames.length-1]).data=n(_,P.slice(0,A),D.rect.width,D.rect.height),A=0);const w={x:v(f,m+12),y:v(f,m+16),width:v(f,m+4),height:v(f,m+8)};let J=y(f,m+22);J=y(f,m+20)/(J==0?100:J);const L={rect:w,delay:Math.round(1e3*J),dispose:f[m+24],blend:f[m+25]};_.frames.push(L)}else if(x=="fdAT"){for(V=0;V<U-4;V++)P[A+V]=f[m+V+4];A+=U-4}else if(x=="pHYs")_.tabs[x]=[b.readUint(f,m),b.readUint(f,m+4),f[m+8]];else if(x=="cHRM")for(_.tabs[x]=[],V=0;V<8;V++)_.tabs[x].push(b.readUint(f,m+4*V));else if(x=="tEXt"||x=="zTXt"){_.tabs[x]==null&&(_.tabs[x]={});var E=b.nextZero(f,m),M=b.readASCII(f,m,E-m),C=m+U-E-1;if(x=="tEXt")S=b.readASCII(f,E+1,C);else{var g=o(f.slice(E+2,E+2+C));S=b.readUTF8(g,0,g.length)}_.tabs[x][M]=S}else if(x=="iTXt"){_.tabs[x]==null&&(_.tabs[x]={}),E=0,$=m,E=b.nextZero(f,$),M=b.readASCII(f,$,E-$);const w=f[$=E+1];var S;f[$+1],$+=2,E=b.nextZero(f,$),b.readASCII(f,$,E-$),$=E+1,E=b.nextZero(f,$),b.readUTF8(f,$,E-$),C=U-(($=E+1)-m),w==0?S=b.readUTF8(f,$,C):(g=o(f.slice($,$+C)),S=b.readUTF8(g,0,g.length)),_.tabs[x][M]=S}else if(x=="PLTE")_.tabs[x]=b.readBytes(f,m,U);else if(x=="hIST"){const w=_.tabs.PLTE.length/3;for(_.tabs[x]=[],V=0;V<w;V++)_.tabs[x].push(y(f,m+2*V))}else if(x=="tRNS")_.ctype==3?_.tabs[x]=b.readBytes(f,m,U):_.ctype==0?_.tabs[x]=y(f,m):_.ctype==2&&(_.tabs[x]=[y(f,m),y(f,m+2),y(f,m+4)]);else if(x=="gAMA")_.tabs[x]=b.readUint(f,m)/1e5;else if(x=="sRGB")_.tabs[x]=f[m];else if(x=="bKGD")_.ctype==0||_.ctype==4?_.tabs[x]=[y(f,m)]:_.ctype==2||_.ctype==6?_.tabs[x]=[y(f,m),y(f,m+2),y(f,m+4)]:_.ctype==3&&(_.tabs[x]=f[m]);else if(x=="IEND")break;m+=U,b.readUint(f,m),m+=4}var D;return A!=0&&((D=_.frames[_.frames.length-1]).data=n(_,P.slice(0,A),D.rect.width,D.rect.height)),_.data=n(_,N,_.width,_.height),delete _.compress,delete _.interlace,delete _.filter,_},toRGBA8:function(c){const f=c.width,m=c.height;if(c.tabs.acTL==null)return[t(c.data,f,m,c).buffer];const b=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const y=f*m*4,v=new Uint8Array(y),_=new Uint8Array(y),N=new Uint8Array(y);for(let I=0;I<c.frames.length;I++){const A=c.frames[I],k=A.rect.x,V=A.rect.y,$=A.rect.width,E=A.rect.height,M=t(A.data,$,E,c);if(I!=0)for(var P=0;P<y;P++)N[P]=v[P];if(A.blend==0?p(M,$,E,v,f,m,k,V,0):A.blend==1&&p(M,$,E,v,f,m,k,V,1),b.push(v.buffer.slice(0)),A.dispose!=0){if(A.dispose==1)p(_,$,E,v,f,m,k,V,0);else if(A.dispose==2)for(P=0;P<y;P++)v[P]=N[P]}}return b},_paeth:l,_copyTile:p,_bin:e}}();(function(){const{_copyTile:e}=hn,{_bin:t}=hn,n=hn._paeth;var o={table:function(){const $=new Uint32Array(256);for(let E=0;E<256;E++){let M=E;for(let C=0;C<8;C++)1&M?M=3988292384^M>>>1:M>>>=1;$[E]=M}return $}(),update($,E,M,C){for(let g=0;g<C;g++)$=o.table[255&($^E[M+g])]^$>>>8;return $},crc:($,E,M)=>4294967295^o.update(4294967295,$,E,M)};function r($,E,M,C){E[M]+=$[0]*C>>4,E[M+1]+=$[1]*C>>4,E[M+2]+=$[2]*C>>4,E[M+3]+=$[3]*C>>4}function s($){return Math.max(0,Math.min(255,$))}function a($,E){const M=$[0]-E[0],C=$[1]-E[1],g=$[2]-E[2],S=$[3]-E[3];return M*M+C*C+g*g+S*S}function l($,E,M,C,g,S,D){D==null&&(D=1);const U=C.length,x=[];for(var w=0;w<U;w++){const ee=C[w];x.push([ee>>>0&255,ee>>>8&255,ee>>>16&255,ee>>>24&255])}for(w=0;w<U;w++){let ee=4294967295;for(var J=0,L=0;L<U;L++){var H=a(x[w],x[L]);L!=w&&H<ee&&(ee=H,J=L)}}const Q=new Uint32Array(g.buffer),re=new Int16Array(E*M*4),ce=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(w=0;w<ce.length;w++)ce[w]=255*((ce[w]+.5)/16-.5);for(let ee=0;ee<M;ee++)for(let Ie=0;Ie<E;Ie++){var de;w=4*(ee*E+Ie),D!=2?de=[s($[w]+re[w]),s($[w+1]+re[w+1]),s($[w+2]+re[w+2]),s($[w+3]+re[w+3])]:(H=ce[4*(3&ee)+(3&Ie)],de=[s($[w]+H),s($[w+1]+H),s($[w+2]+H),s($[w+3]+H)]),J=0;let te=16777215;for(L=0;L<U;L++){const _e=a(de,x[L]);_e<te&&(te=_e,J=L)}const pe=x[J],ue=[de[0]-pe[0],de[1]-pe[1],de[2]-pe[2],de[3]-pe[3]];D==1&&(Ie!=E-1&&r(ue,re,w+4,7),ee!=M-1&&(Ie!=0&&r(ue,re,w+4*E-4,3),r(ue,re,w+4*E,5),Ie!=E-1&&r(ue,re,w+4*E+4,1))),S[w>>2]=J,Q[w>>2]=C[J]}}function d($,E,M,C,g){g==null&&(g={});const{crc:S}=o,D=t.writeUint,U=t.writeUshort,x=t.writeASCII;let w=8;const J=$.frames.length>1;let L,H=!1,Q=33+(J?20:0);if(g.sRGB!=null&&(Q+=13),g.pHYs!=null&&(Q+=21),g.iCCP!=null&&(L=pako.deflate(g.iCCP),Q+=21+L.length+4),$.ctype==3){for(var re=$.plte.length,ce=0;ce<re;ce++)$.plte[ce]>>>24!=255&&(H=!0);Q+=8+3*re+4+(H?8+1*re+4:0)}for(var de=0;de<$.frames.length;de++)J&&(Q+=38),Q+=(pe=$.frames[de]).cimg.length+12,de!=0&&(Q+=4);Q+=12;const ee=new Uint8Array(Q),Ie=[137,80,78,71,13,10,26,10];for(ce=0;ce<8;ce++)ee[ce]=Ie[ce];if(D(ee,w,13),w+=4,x(ee,w,"IHDR"),w+=4,D(ee,w,E),w+=4,D(ee,w,M),w+=4,ee[w]=$.depth,w++,ee[w]=$.ctype,w++,ee[w]=0,w++,ee[w]=0,w++,ee[w]=0,w++,D(ee,w,S(ee,w-17,17)),w+=4,g.sRGB!=null&&(D(ee,w,1),w+=4,x(ee,w,"sRGB"),w+=4,ee[w]=g.sRGB,w++,D(ee,w,S(ee,w-5,5)),w+=4),g.iCCP!=null){const ue=13+L.length;D(ee,w,ue),w+=4,x(ee,w,"iCCP"),w+=4,x(ee,w,"ICC profile"),w+=11,w+=2,ee.set(L,w),w+=L.length,D(ee,w,S(ee,w-(ue+4),ue+4)),w+=4}if(g.pHYs!=null&&(D(ee,w,9),w+=4,x(ee,w,"pHYs"),w+=4,D(ee,w,g.pHYs[0]),w+=4,D(ee,w,g.pHYs[1]),w+=4,ee[w]=g.pHYs[2],w++,D(ee,w,S(ee,w-13,13)),w+=4),J&&(D(ee,w,8),w+=4,x(ee,w,"acTL"),w+=4,D(ee,w,$.frames.length),w+=4,D(ee,w,g.loop!=null?g.loop:0),w+=4,D(ee,w,S(ee,w-12,12)),w+=4),$.ctype==3){for(D(ee,w,3*(re=$.plte.length)),w+=4,x(ee,w,"PLTE"),w+=4,ce=0;ce<re;ce++){const ue=3*ce,_e=$.plte[ce],Oe=255&_e,B=_e>>>8&255,F=_e>>>16&255;ee[w+ue+0]=Oe,ee[w+ue+1]=B,ee[w+ue+2]=F}if(w+=3*re,D(ee,w,S(ee,w-3*re-4,3*re+4)),w+=4,H){for(D(ee,w,re),w+=4,x(ee,w,"tRNS"),w+=4,ce=0;ce<re;ce++)ee[w+ce]=$.plte[ce]>>>24&255;w+=re,D(ee,w,S(ee,w-re-4,re+4)),w+=4}}let te=0;for(de=0;de<$.frames.length;de++){var pe=$.frames[de];J&&(D(ee,w,26),w+=4,x(ee,w,"fcTL"),w+=4,D(ee,w,te++),w+=4,D(ee,w,pe.rect.width),w+=4,D(ee,w,pe.rect.height),w+=4,D(ee,w,pe.rect.x),w+=4,D(ee,w,pe.rect.y),w+=4,U(ee,w,C[de]),w+=2,U(ee,w,1e3),w+=2,ee[w]=pe.dispose,w++,ee[w]=pe.blend,w++,D(ee,w,S(ee,w-30,30)),w+=4);const ue=pe.cimg;D(ee,w,(re=ue.length)+(de==0?0:4)),w+=4;const _e=w;x(ee,w,de==0?"IDAT":"fdAT"),w+=4,de!=0&&(D(ee,w,te++),w+=4),ee.set(ue,w),w+=re,D(ee,w,S(ee,_e,w-_e)),w+=4}return D(ee,w,0),w+=4,x(ee,w,"IEND"),w+=4,D(ee,w,S(ee,w-4,4)),w+=4,ee.buffer}function p($,E,M){for(let C=0;C<$.frames.length;C++){const g=$.frames[C];g.rect.width;const S=g.rect.height,D=new Uint8Array(S*g.bpl+S);g.cimg=m(g.img,S,g.bpp,g.bpl,D,E,M)}}function u($,E,M,C,g){const S=g[0],D=g[1],U=g[2],x=g[3],w=g[4],J=g[5];let L=6,H=8,Q=255;for(var re=0;re<$.length;re++){const se=new Uint8Array($[re]);for(var ce=se.length,de=0;de<ce;de+=4)Q&=se[de+3]}const ee=Q!=255,Ie=function(ne,fe,me,he,ae,De){const be=[];for(var z=0;z<ne.length;z++){const Ke=new Uint8Array(ne[z]),ct=new Uint32Array(Ke.buffer);var h;let st=0,St=0,Et=fe,ft=me,Dt=he?1:0;if(z!=0){const Gn=De||he||z==1||be[z-2].dispose!=0?1:2;let Lo=0,as=1e9;for(let qt=0;qt<Gn;qt++){var O=new Uint8Array(ne[z-1-qt]);const Ai=new Uint32Array(ne[z-1-qt]);let xn=fe,pn=me,Jn=-1,bo=-1;for(let On=0;On<me;On++)for(let Mn=0;Mn<fe;Mn++)ct[He=On*fe+Mn]!=Ai[He]&&(Mn<xn&&(xn=Mn),Mn>Jn&&(Jn=Mn),On<pn&&(pn=On),On>bo&&(bo=On));Jn==-1&&(xn=pn=Jn=bo=0),ae&&((1&xn)==1&&xn--,(1&pn)==1&&pn--);const ls=(Jn-xn+1)*(bo-pn+1);ls<as&&(as=ls,Lo=qt,st=xn,St=pn,Et=Jn-xn+1,ft=bo-pn+1)}O=new Uint8Array(ne[z-1-Lo]),Lo==1&&(be[z-1].dispose=2),h=new Uint8Array(Et*ft*4),e(O,fe,me,h,Et,ft,-st,-St,0),Dt=e(Ke,fe,me,h,Et,ft,-st,-St,3)?1:0,Dt==1?f(Ke,fe,me,h,{x:st,y:St,width:Et,height:ft}):e(Ke,fe,me,h,Et,ft,-st,-St,0)}else h=Ke.slice(0);be.push({rect:{x:st,y:St,width:Et,height:ft},img:h,blend:Dt,dispose:0})}if(he)for(z=0;z<be.length;z++){if((nt=be[z]).blend==1)continue;const Ke=nt.rect,ct=be[z-1].rect,st=Math.min(Ke.x,ct.x),St=Math.min(Ke.y,ct.y),Et={x:st,y:St,width:Math.max(Ke.x+Ke.width,ct.x+ct.width)-st,height:Math.max(Ke.y+Ke.height,ct.y+ct.height)-St};be[z-1].dispose=1,z-1!=0&&c(ne,fe,me,be,z-1,Et,ae),c(ne,fe,me,be,z,Et,ae)}let we=0;if(ne.length!=1)for(var He=0;He<be.length;He++){var nt;we+=(nt=be[He]).rect.width*nt.rect.height}return be}($,E,M,S,D,U),te={},pe=[],ue=[];if(C!=0){const se=[];for(de=0;de<Ie.length;de++)se.push(Ie[de].img.buffer);const ne=function(ae){let De=0;for(var be=0;be<ae.length;be++)De+=ae[be].byteLength;const z=new Uint8Array(De);let h=0;for(be=0;be<ae.length;be++){const O=new Uint8Array(ae[be]),we=O.length;for(let He=0;He<we;He+=4){let nt=O[He],Ke=O[He+1],ct=O[He+2];const st=O[He+3];st==0&&(nt=Ke=ct=0),z[h+He]=nt,z[h+He+1]=Ke,z[h+He+2]=ct,z[h+He+3]=st}h+=we}return z.buffer}(se),fe=y(ne,C);for(de=0;de<fe.plte.length;de++)pe.push(fe.plte[de].est.rgba);let me=0;for(de=0;de<Ie.length;de++){const he=(Oe=Ie[de]).img.length;var _e=new Uint8Array(fe.inds.buffer,me>>2,he>>2);ue.push(_e);const ae=new Uint8Array(fe.abuf,me,he);J&&l(Oe.img,Oe.rect.width,Oe.rect.height,pe,ae,_e),Oe.img.set(ae),me+=he}}else for(re=0;re<Ie.length;re++){var Oe=Ie[re];const se=new Uint32Array(Oe.img.buffer);var B=Oe.rect.width;for(ce=se.length,_e=new Uint8Array(ce),ue.push(_e),de=0;de<ce;de++){const ne=se[de];if(de!=0&&ne==se[de-1])_e[de]=_e[de-1];else if(de>B&&ne==se[de-B])_e[de]=_e[de-B];else{let fe=te[ne];if(fe==null&&(te[ne]=fe=pe.length,pe.push(ne),pe.length>=300))break;_e[de]=fe}}}const F=pe.length;for(F<=256&&w==0&&(H=F<=2?1:F<=4?2:F<=16?4:8,H=Math.max(H,x)),re=0;re<Ie.length;re++){(Oe=Ie[re]).rect.x,Oe.rect.y,B=Oe.rect.width;const se=Oe.rect.height;let ne=Oe.img;new Uint32Array(ne.buffer);let fe=4*B,me=4;if(F<=256&&w==0){fe=Math.ceil(H*B/8);var K=new Uint8Array(fe*se);const he=ue[re];for(let ae=0;ae<se;ae++){de=ae*fe;const De=ae*B;if(H==8)for(var Z=0;Z<B;Z++)K[de+Z]=he[De+Z];else if(H==4)for(Z=0;Z<B;Z++)K[de+(Z>>1)]|=he[De+Z]<<4-4*(1&Z);else if(H==2)for(Z=0;Z<B;Z++)K[de+(Z>>2)]|=he[De+Z]<<6-2*(3&Z);else if(H==1)for(Z=0;Z<B;Z++)K[de+(Z>>3)]|=he[De+Z]<<7-1*(7&Z)}ne=K,L=3,me=1}else if(ee==0&&Ie.length==1){K=new Uint8Array(B*se*3);const he=B*se;for(de=0;de<he;de++){const ae=3*de,De=4*de;K[ae]=ne[De],K[ae+1]=ne[De+1],K[ae+2]=ne[De+2]}ne=K,L=2,me=3,fe=3*B}Oe.img=ne,Oe.bpl=fe,Oe.bpp=me}return{ctype:L,depth:H,plte:pe,frames:Ie}}function c($,E,M,C,g,S,D){const U=Uint8Array,x=Uint32Array,w=new U($[g-1]),J=new x($[g-1]),L=g+1<$.length?new U($[g+1]):null,H=new U($[g]),Q=new x(H.buffer);let re=E,ce=M,de=-1,ee=-1;for(let te=0;te<S.height;te++)for(let pe=0;pe<S.width;pe++){const ue=S.x+pe,_e=S.y+te,Oe=_e*E+ue,B=Q[Oe];B==0||C[g-1].dispose==0&&J[Oe]==B&&(L==null||L[4*Oe+3]!=0)||(ue<re&&(re=ue),ue>de&&(de=ue),_e<ce&&(ce=_e),_e>ee&&(ee=_e))}de==-1&&(re=ce=de=ee=0),D&&((1&re)==1&&re--,(1&ce)==1&&ce--),S={x:re,y:ce,width:de-re+1,height:ee-ce+1};const Ie=C[g];Ie.rect=S,Ie.blend=1,Ie.img=new Uint8Array(S.width*S.height*4),C[g-1].dispose==0?(e(w,E,M,Ie.img,S.width,S.height,-S.x,-S.y,0),f(H,E,M,Ie.img,S)):e(H,E,M,Ie.img,S.width,S.height,-S.x,-S.y,0)}function f($,E,M,C,g){e($,E,M,C,g.width,g.height,-g.x,-g.y,2)}function m($,E,M,C,g,S,D){const U=[];let x,w=[0,1,2,3,4];S!=-1?w=[S]:(E*C>5e5||M==1)&&(w=[0]),D&&(x={level:0});const J=r0;for(var L=0;L<w.length;L++){for(let re=0;re<E;re++)b(g,$,re,C,M,w[L]);U.push(J.deflate(g,x))}let H,Q=1e9;for(L=0;L<U.length;L++)U[L].length<Q&&(H=L,Q=U[L].length);return U[H]}function b($,E,M,C,g,S){const D=M*C;let U=D+M;if($[U]=S,U++,S==0)if(C<500)for(var x=0;x<C;x++)$[U+x]=E[D+x];else $.set(new Uint8Array(E.buffer,D,C),U);else if(S==1){for(x=0;x<g;x++)$[U+x]=E[D+x];for(x=g;x<C;x++)$[U+x]=E[D+x]-E[D+x-g]+256&255}else if(M==0){for(x=0;x<g;x++)$[U+x]=E[D+x];if(S==2)for(x=g;x<C;x++)$[U+x]=E[D+x];if(S==3)for(x=g;x<C;x++)$[U+x]=E[D+x]-(E[D+x-g]>>1)+256&255;if(S==4)for(x=g;x<C;x++)$[U+x]=E[D+x]-n(E[D+x-g],0,0)+256&255}else{if(S==2)for(x=0;x<C;x++)$[U+x]=E[D+x]+256-E[D+x-C]&255;if(S==3){for(x=0;x<g;x++)$[U+x]=E[D+x]+256-(E[D+x-C]>>1)&255;for(x=g;x<C;x++)$[U+x]=E[D+x]+256-(E[D+x-C]+E[D+x-g]>>1)&255}if(S==4){for(x=0;x<g;x++)$[U+x]=E[D+x]+256-n(0,E[D+x-C],0)&255;for(x=g;x<C;x++)$[U+x]=E[D+x]+256-n(E[D+x-g],E[D+x-C],E[D+x-g-C])&255}}}function y($,E){const M=new Uint8Array($),C=M.slice(0),g=new Uint32Array(C.buffer),S=v(C,E),D=S[0],U=S[1],x=M.length,w=new Uint8Array(x>>2);let J;if(M.length<2e7)for(var L=0;L<x;L+=4)J=_(D,H=M[L]*(1/255),Q=M[L+1]*(1/255),re=M[L+2]*(1/255),ce=M[L+3]*(1/255)),w[L>>2]=J.ind,g[L>>2]=J.est.rgba;else for(L=0;L<x;L+=4){var H=M[L]*.00392156862745098,Q=M[L+1]*(1/255),re=M[L+2]*(1/255),ce=M[L+3]*(1/255);for(J=D;J.left;)J=N(J.est,H,Q,re,ce)<=0?J.left:J.right;w[L>>2]=J.ind,g[L>>2]=J.est.rgba}return{abuf:C.buffer,inds:w,plte:U}}function v($,E,M){M==null&&(M=1e-4);const C=new Uint32Array($.buffer),g={i0:0,i1:$.length,bst:null,est:null,tdst:0,left:null,right:null};g.bst=A($,g.i0,g.i1),g.est=k(g.bst);const S=[g];for(;S.length<E;){let U=0,x=0;for(var D=0;D<S.length;D++)S[D].est.L>U&&(U=S[D].est.L,x=D);if(U<M)break;const w=S[x],J=P($,C,w.i0,w.i1,w.est.e,w.est.eMq255);if(w.i0>=J||w.i1<=J){w.est.L=0;continue}const L={i0:w.i0,i1:J,bst:null,est:null,tdst:0,left:null,right:null};L.bst=A($,L.i0,L.i1),L.est=k(L.bst);const H={i0:J,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};for(H.bst={R:[],m:[],N:w.bst.N-L.bst.N},D=0;D<16;D++)H.bst.R[D]=w.bst.R[D]-L.bst.R[D];for(D=0;D<4;D++)H.bst.m[D]=w.bst.m[D]-L.bst.m[D];H.est=k(H.bst),w.left=L,w.right=H,S[x]=L,S.push(H)}for(S.sort((U,x)=>x.bst.N-U.bst.N),D=0;D<S.length;D++)S[D].ind=D;return[g,S]}function _($,E,M,C,g){if($.left==null)return $.tdst=function(L,H,Q,re,ce){const de=H-L[0],ee=Q-L[1],Ie=re-L[2],te=ce-L[3];return de*de+ee*ee+Ie*Ie+te*te}($.est.q,E,M,C,g),$;const S=N($.est,E,M,C,g);let D=$.left,U=$.right;S>0&&(D=$.right,U=$.left);const x=_(D,E,M,C,g);if(x.tdst<=S*S)return x;const w=_(U,E,M,C,g);return w.tdst<x.tdst?w:x}function N($,E,M,C,g){const{e:S}=$;return S[0]*E+S[1]*M+S[2]*C+S[3]*g-$.eMq}function P($,E,M,C,g,S){for(C-=4;M<C;){for(;I($,M,g)<=S;)M+=4;for(;I($,C,g)>S;)C-=4;if(M>=C)break;const D=E[M>>2];E[M>>2]=E[C>>2],E[C>>2]=D,M+=4,C-=4}for(;I($,M,g)>S;)M-=4;return M+4}function I($,E,M){return $[E]*M[0]+$[E+1]*M[1]+$[E+2]*M[2]+$[E+3]*M[3]}function A($,E,M){const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,0,0,0],S=M-E>>2;for(let D=E;D<M;D+=4){const U=$[D]*.00392156862745098,x=$[D+1]*(1/255),w=$[D+2]*(1/255),J=$[D+3]*(1/255);g[0]+=U,g[1]+=x,g[2]+=w,g[3]+=J,C[0]+=U*U,C[1]+=U*x,C[2]+=U*w,C[3]+=U*J,C[5]+=x*x,C[6]+=x*w,C[7]+=x*J,C[10]+=w*w,C[11]+=w*J,C[15]+=J*J}return C[4]=C[1],C[8]=C[2],C[9]=C[6],C[12]=C[3],C[13]=C[7],C[14]=C[11],{R:C,m:g,N:S}}function k($){const{R:E}=$,{m:M}=$,{N:C}=$,g=M[0],S=M[1],D=M[2],U=M[3],x=C==0?0:1/C,w=[E[0]-g*g*x,E[1]-g*S*x,E[2]-g*D*x,E[3]-g*U*x,E[4]-S*g*x,E[5]-S*S*x,E[6]-S*D*x,E[7]-S*U*x,E[8]-D*g*x,E[9]-D*S*x,E[10]-D*D*x,E[11]-D*U*x,E[12]-U*g*x,E[13]-U*S*x,E[14]-U*D*x,E[15]-U*U*x],J=w,L=V;let H=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,re=0;if(C!=0)for(let de=0;de<16&&(H=L.multVec(J,H),re=Math.sqrt(L.dot(H,H)),H=L.sml(1/re,H),!(de!=0&&Math.abs(re-Q)<1e-9));de++)Q=re;const ce=[g*x,S*x,D*x,U*x];return{Cov:w,q:ce,e:H,L:Q,eMq255:L.dot(L.sml(255,ce),H),eMq:L.dot(H,ce),rgba:(Math.round(255*ce[3])<<24|Math.round(255*ce[2])<<16|Math.round(255*ce[1])<<8|Math.round(255*ce[0])<<0)>>>0}}var V={multVec:($,E)=>[$[0]*E[0]+$[1]*E[1]+$[2]*E[2]+$[3]*E[3],$[4]*E[0]+$[5]*E[1]+$[6]*E[2]+$[7]*E[3],$[8]*E[0]+$[9]*E[1]+$[10]*E[2]+$[11]*E[3],$[12]*E[0]+$[13]*E[1]+$[14]*E[2]+$[15]*E[3]],dot:($,E)=>$[0]*E[0]+$[1]*E[1]+$[2]*E[2]+$[3]*E[3],sml:($,E)=>[$*E[0],$*E[1],$*E[2],$*E[3]]};hn.encode=function(E,M,C,g,S,D,U){g==null&&(g=0),U==null&&(U=!1);const x=u(E,M,C,g,[!1,!1,!1,0,U,!1]);return p(x,-1),d(x,M,C,S,D)},hn.encodeLL=function(E,M,C,g,S,D,U,x){const w={ctype:0+(g==1?0:2)+(S==0?0:4),depth:D,frames:[]},J=(g+S)*D,L=J*M;for(let H=0;H<E.length;H++)w.frames.push({rect:{x:0,y:0,width:M,height:C},img:new Uint8Array(E[H]),blend:0,dispose:1,bpp:Math.ceil(J/8),bpl:Math.ceil(L/8)});return p(w,0,!0),d(w,M,C,U,x)},hn.encode.compress=u,hn.encode.dither=l,hn.quantize=y,hn.quantize.getKDtree=v,hn.quantize.getNearest=_})();const hf={toArrayBuffer(e,t){const n=e.width,o=e.height,r=n<<2,s=e.getContext("2d").getImageData(0,0,n,o),a=new Uint32Array(s.data.buffer),l=(32*n+31)/32<<2,d=l*o,p=122+d,u=new ArrayBuffer(p),c=new DataView(u),f=1<<20;let m,b,y,v,_=f,N=0,P=0,I=0;function A($){c.setUint16(P,$,!0),P+=2}function k($){c.setUint32(P,$,!0),P+=4}function V($){P+=$}A(19778),k(p),V(4),k(122),k(108),k(n),k(-o>>>0),A(1),A(32),k(3),k(d),k(2835),k(2835),V(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function $(){for(;N<o&&_>0;){for(v=122+N*l,m=0;m<r;)_--,b=a[I++],y=b>>>24,c.setUint32(v+m,b<<8|y),m+=4;N++}I<a.length?(_=f,setTimeout($,hf._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,n=>{t(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Kt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},s0={[Kt.CHROME]:16384,[Kt.FIREFOX]:11180,[Kt.DESKTOP_SAFARI]:16384,[Kt.IE]:8192,[Kt.IOS]:4096,[Kt.ETC]:8192};const ul=typeof window<"u",gf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Js=ul&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),i0=(ul||gf)&&(Js&&Js.getOriginalSymbol(window,"File")||typeof File<"u"&&File),vf=(ul||gf)&&(Js&&Js.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function dl(e,t,n=Date.now()){return new Promise(o=>{const r=e.split(","),s=r[0].match(/:(.*?);/)[1],a=globalThis.atob(r[1]);let l=a.length;const d=new Uint8Array(l);for(;l--;)d[l]=a.charCodeAt(l);const p=new Blob([d],{type:s});p.name=t,p.lastModified=n,o(p)})}function bf(e){return new Promise((t,n)=>{const o=new vf;o.onload=()=>t(o.result),o.onerror=r=>n(r),o.readAsDataURL(e)})}function wf(e){return new Promise((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=r=>n(r),o.src=e})}function $o(){if($o.cachedResult!==void 0)return $o.cachedResult;let e=Kt.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Kt.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Kt.IOS:/Safari/i.test(t)?e=Kt.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Kt.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Kt.IE),$o.cachedResult=e,$o.cachedResult}function yf(e,t){const n=$o(),o=s0[n];let r=e,s=t,a=r*s;const l=r>s?s/r:r/s;for(;a>o*o;){const d=(o+r)/2,p=(o+s)/2;d<p?(s=p,r=p*l):(s=d*l,r=d),a=r*s}return{width:r,height:s}}function Ei(e,t){let n,o;try{if(n=new OffscreenCanvas(e,t),o=n.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),o=n.getContext("2d")}return n.width=e,n.height=t,[n,o]}function xf(e,t){const{width:n,height:o}=yf(e.width,e.height),[r,s]=Ei(n,o);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,r.width,r.height)),s.drawImage(e,0,0,r.width,r.height),r}function ks(){return ks.cachedResult!==void 0||(ks.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ks.cachedResult}function Qs(e,t={}){return new Promise(function(n,o){let r,s;var a=function(){try{return s=xf(r,t.fileType||e.type),n([r,s])}catch(d){return o(d)}},l=function(d){try{var p=function(u){try{throw u}catch(c){return o(c)}};try{let u;return bf(e).then(function(c){try{return u=c,wf(u).then(function(f){try{return r=f,function(){try{return a()}catch(m){return o(m)}}()}catch(m){return p(m)}},p)}catch(f){return p(f)}},p)}catch(u){p(u)}}catch(u){return o(u)}};try{if(ks()||[Kt.DESKTOP_SAFARI,Kt.MOBILE_SAFARI].includes($o()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(d){try{return r=d,a()}catch{return l()}},l)}catch{l()}})}function Zs(e,t,n,o,r=1){return new Promise(function(s,a){let l;if(t==="image/png"){let c,f,m;return c=e.getContext("2d"),{data:f}=c.getImageData(0,0,e.width,e.height),m=hn.encode([f.buffer],e.width,e.height,4096*r),l=new Blob([m],{type:t}),l.name=n,l.lastModified=o,d.call(this)}{let c=function(){return d.call(this)};var p=c;if(t==="image/bmp")return new Promise(f=>hf.toBlob(e,f)).then((function(f){try{return l=f,l.name=n,l.lastModified=o,c.call(this)}catch(m){return a(m)}}).bind(this),a);{let f=function(){return c.call(this)};var u=f;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:r}).then((function(m){try{return l=m,l.name=n,l.lastModified=o,f.call(this)}catch(b){return a(b)}}).bind(this),a);{let m;return m=e.toDataURL(t,r),dl(m,n,o).then((function(b){try{return l=b,f.call(this)}catch(y){return a(y)}}).bind(this),a)}}}function d(){return s(l)}})}function $n(e){e.width=0,e.height=0}function Ko(){return new Promise(function(e,t){let n,o,r,s;return Ko.cachedResult!==void 0?e(Ko.cachedResult):dl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,Qs(n).then(function(l){try{return o=l[1],Zs(o,n.type,n.name,n.lastModified).then(function(d){try{return r=d,$n(o),Qs(r).then(function(p){try{return s=p[0],Ko.cachedResult=s.width===1&&s.height===2,e(Ko.cachedResult)}catch(u){return t(u)}},t)}catch(p){return t(p)}},t)}catch(d){return t(d)}},t)}catch(l){return t(l)}},t)})}function Cf(e){return new Promise((t,n)=>{const o=new vf;o.onload=r=>{const s=new DataView(r.target.result);if(s.getUint16(0,!1)!=65496)return t(-2);const a=s.byteLength;let l=2;for(;l<a;){if(s.getUint16(l+2,!1)<=8)return t(-1);const d=s.getUint16(l,!1);if(l+=2,d==65505){if(s.getUint32(l+=2,!1)!=1165519206)return t(-1);const p=s.getUint16(l+=6,!1)==18761;l+=s.getUint32(l+4,p);const u=s.getUint16(l,p);l+=2;for(let c=0;c<u;c++)if(s.getUint16(l+12*c,p)==274)return t(s.getUint16(l+12*c+8,p))}else{if((65280&d)!=65280)break;l+=s.getUint16(l,!1)}}return t(-1)},o.onerror=r=>n(r),o.readAsArrayBuffer(e)})}function _f(e,t){const{width:n}=e,{height:o}=e,{maxWidthOrHeight:r}=t;let s,a=e;return isFinite(r)&&(n>r||o>r)&&([a,s]=Ei(n,o),n>o?(a.width=r,a.height=o/n*r):(a.width=n/o*r,a.height=r),s.drawImage(e,0,0,a.width,a.height),$n(e)),a}function Sf(e,t){const{width:n}=e,{height:o}=e,[r,s]=Ei(n,o);switch(t>4&&t<9?(r.width=o,r.height=n):(r.width=n,r.height=o),t){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,o);break;case 4:s.transform(1,0,0,-1,0,o);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,o,0);break;case 7:s.transform(0,-1,-1,0,o,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(e,0,0,n,o),$n(e),r}function Ic(e,t,n=0){return new Promise(function(o,r){let s,a,l,d,p,u,c,f,m,b,y,v,_,N,P,I,A,k,V,$;function E(C=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=C,t.onProgress(Math.min(s,100))}function M(C){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(C,s),100),t.onProgress(s)}return s=n,a=t.maxIteration||10,l=1024*t.maxSizeMB*1024,E(),Qs(e,t).then((function(C){try{return[,d]=C,E(),p=_f(d,t),E(),new Promise(function(g,S){var D;if(!(D=t.exifOrientation))return Cf(e).then((function(x){try{return D=x,U.call(this)}catch(w){return S(w)}}).bind(this),S);function U(){return g(D)}return U.call(this)}).then((function(g){try{return u=g,E(),Ko().then((function(S){try{return c=S?p:Sf(p,u),E(),f=t.initialQuality||1,m=t.fileType||e.type,Zs(c,m,e.name,e.lastModified,f).then((function(D){try{{let J=function(){if(a--&&(P>l||P>_)){let H,Q;return H=$?.95*V.width:V.width,Q=$?.95*V.height:V.height,[A,k]=Ei(H,Q),k.drawImage(V,0,0,H,Q),f*=m==="image/png"?.85:.95,Zs(A,m,e.name,e.lastModified,f).then(function(re){try{return I=re,$n(V),V=A,P=I.size,M(Math.min(99,Math.floor((N-P)/(N-l)*100))),J}catch(ce){return r(ce)}},r)}return[1]},L=function(){return $n(V),$n(A),$n(p),$n(c),$n(d),M(100),o(I)};var x=J,w=L;if(b=D,E(),y=b.size>l,v=b.size>e.size,!y&&!v)return M(100),o(b);var U;return _=e.size,N=b.size,P=N,V=c,$=!t.alwaysKeepResolution&&y,(U=(function(H){for(;H;){if(H.then)return void H.then(U,r);try{if(H.pop){if(H.length)return H.pop()?L.call(this):H;H=J}else H=H.call(this)}catch(Q){return r(Q)}}}).bind(this))(J)}}catch(J){return r(J)}}).bind(this),r)}catch(D){return r(D)}}).bind(this),r)}catch(S){return r(S)}}).bind(this),r)}catch(g){return r(g)}}).bind(this),r)})}const a0=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Qi;function l0(e,t){return new Promise((n,o)=>{Qi||(Qi=function(a){const l=[];return l.push(a),URL.createObjectURL(new Blob(l))}(a0));const r=new Worker(Qi);r.addEventListener("message",function(a){if(t.signal&&t.signal.aborted)r.terminate();else if(a.data.progress===void 0){if(a.data.error)return o(new Error(a.data.error)),void r.terminate();n(a.data.file),r.terminate()}else t.onProgress(a.data.progress)}),r.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",()=>{o(t.signal.reason),r.terminate()}),r.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function It(e,t){return new Promise(function(n,o){let r,s,a,l,d,p;if(r={...t},a=0,{onProgress:l}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=m=>{a=m,typeof l=="function"&&l(a)},!(e instanceof Blob||e instanceof i0))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||p)return Ic(e,r).then((function(m){try{return s=m,f.call(this)}catch(b){return o(b)}}).bind(this),o);var u=(function(){try{return f.call(this)}catch(m){return o(m)}}).bind(this),c=function(m){try{return Ic(e,r).then(function(b){try{return s=b,u()}catch(y){return o(y)}},o)}catch(b){return o(b)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",l0(e,r).then(function(m){try{return s=m,u()}catch{return c()}},c)}catch{c()}function f(){try{s.name=e.name,s.lastModified=e.lastModified}catch{}try{r.preserveExif&&e.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===e.type)&&(s=mf(e,s))}catch{}return n(s)}})}It.getDataUrlFromFile=bf,It.getFilefromDataUrl=dl,It.loadImage=wf,It.drawImageInCanvas=xf,It.drawFileInCanvas=Qs,It.canvasToFile=Zs,It.getExifOrientation=Cf,It.handleMaxWidthOrHeight=_f,It.followExifOrientation=Sf,It.cleanupCanvasMemory=$n,It.isAutoOrientationInBrowser=Ko,It.approximateBelowMaximumCanvasSizeOfBrowser=yf,It.copyExifWithoutOrientation=mf,It.getBrowserName=$o,It.version="2.0.2";const kf=vo("characterState",()=>{const e=$e([]),t=$e(null),n=$e(!1),o=ut(()=>e.value.find(p=>p.id===t.value)||null);async function r(){n.value=!0;try{const p=await eo.getItem("characterStates"),u=await eo.getItem("selectedCharacterStateId");p&&Array.isArray(p)&&(e.value=p),u?t.value=u:e.value.length>0&&a(e.value[0].id)}catch(p){console.error("Error loading character states:",p)}finally{n.value=!1}}async function s(p,u){n.value=!0;try{const f=await It(u,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),m={id:cn(),title:p,image:f};e.value.push(m);const b=e.value.map(y=>({id:y.id,title:y.title,image:We(y.image)}));await eo.setItem("characterStates",b),e.value.length===1&&a(m.id)}catch(c){console.error("Error adding character state:",c)}finally{n.value=!1}}async function a(p){t.value=p,await eo.setItem("selectedCharacterStateId",p)}async function l(p){const u=e.value.filter(f=>f.id!==p);if(e.value=u,t.value===p){const f=u.length>0?u[0].id:null;a(f)}const c=u.map(f=>({id:f.id,title:f.title,image:We(f.image)}));await eo.setItem("characterStates",c)}async function d(){try{const p=await eo.keys();let u=0;for(const c of p){const f=await eo.getItem(c);if(typeof f=="string")u+=new Blob([f]).size;else if(f instanceof Blob)u+=f.size;else if(Array.isArray(f))for(const m of f)m.image&&(u+=m.image.size),u+=new Blob([JSON.stringify(m)]).size}return u}catch(p){return console.error("Error calculating storage usage:",p),0}}return{states:e,selectedStateId:t,isLoading:n,selectedState:o,loadStates:r,addState:s,setSelectedState:a,deleteState:l,getStorageUsage:d}}),c0={class:"character-state-manager"},u0={class:"form-group"},d0={class:"form-group"},f0=["disabled"],p0={class:"storage-usage"},m0=["value","max"],h0={class:"storage-text"},g0={class:"state-list"},v0={key:0,class:"empty-list"},b0={key:1,class:"states-grid"},w0=["onClick"],y0=["src","alt"],x0={class:"state-title"},C0=["onClick"],_0={__name:"CharacterStateManager",setup(e){const t=kf(),{states:n,selectedStateId:o,isLoading:r}=Qr(t),s=$e(""),a=$e(null),l=$e(0),d=$e(50*1024*1024),p=async()=>{l.value=await t.getStorageUsage()};Jt(async()=>{await t.loadStates(),await p()});const u=y=>{const v=y.target.files[0];v&&(a.value=v)},c=async()=>{if(!s.value.trim()||!a.value){Re.fire("Error","Por favor, completa todos los campos.","error");return}await t.addState(s.value,a.value),s.value="",a.value=null,document.getElementById("stateImage").value="",await p(),Re.fire("xito!","Nuevo estado aadido correctamente.","success")},f=async y=>{await t.setSelectedState(y)},m=async y=>{(await Re.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(await t.deleteState(y),await p(),Re.fire("Eliminado","El estado ha sido eliminado.","success"))},b=y=>y instanceof Blob?URL.createObjectURL(y):"";return(y,v)=>(Y(),G("div",c0,[v[5]||(v[5]=i("h2",{class:"section-title"},"Estados del Personaje",-1)),i("form",{onSubmit:et(c,["prevent"]),class:"state-form"},[i("div",u0,[v[1]||(v[1]=i("label",{for:"stateTitle",class:"form-label"},"Ttulo del Estado",-1)),ge(i("input",{id:"stateTitle","onUpdate:modelValue":v[0]||(v[0]=_=>s.value=_),type:"text",class:"form-control",placeholder:"Ej: Herido, Furioso...",required:""},null,512),[[Ae,s.value]])]),i("div",d0,[v[2]||(v[2]=i("label",{for:"stateImage",class:"form-label"},"Imagen del Estado",-1)),i("input",{id:"stateImage",onChange:u,type:"file",class:"form-control",accept:"image/*",required:""},null,32)]),i("button",{type:"submit",class:"btn btn-primary",disabled:ye(r)},ie(ye(r)?"Guardando...":"Aadir Estado"),9,f0)],32),i("div",p0,[v[3]||(v[3]=i("h3",{class:"storage-title"},"Uso del Almacenamiento",-1)),i("progress",{value:l.value,max:d.value,class:"storage-bar"},null,8,m0),i("p",h0,ie((l.value/1024/1024).toFixed(2))+" MB / "+ie((d.value/1024/1024).toFixed(2))+" MB ",1)]),i("div",g0,[v[4]||(v[4]=i("h3",{class:"list-title"},"Estados Guardados",-1)),ye(n).length===0?(Y(),G("div",v0," No hay estados guardados. ")):(Y(),G("div",b0,[(Y(!0),G(Ve,null,Xe(ye(n),_=>(Y(),G("div",{key:_.id,class:at(["state-card",{selected:_.id===ye(o)}]),onClick:N=>f(_.id)},[i("img",{src:b(_.image),alt:_.title,class:"state-image"},null,8,y0),i("p",x0,ie(_.title),1),i("button",{onClick:et(N=>m(_.id),["stop"]),class:"btn-delete"}," Eliminar ",8,C0)],10,w0))),128))]))])]))}},S0=jt(_0,[["__scopeId","data-v-7a56c4da"]]),k0={class:"character-config-container fade-in"},E0={class:"config-card"},$0={class:"form-group"},A0={class:"form-group"},T0={class:"form-group"},D0={key:0,class:"existing-data"},H0={__name:"CharacterConfigView",setup(e){const t=yi(),n=Oo(),o=$e(""),r=$e(50),s=$e(0),a=$e(!1);Jt(()=>{n.loadFromLocalStorage(),n.character.isConfigured&&(a.value=!0,o.value=n.character.name,r.value=n.character.maxHp,s.value=n.character.regeneration)});const l=()=>{if(!o.value.trim()||r.value<=0){Re.fire({icon:"error",title:"Error",text:"Por favor completa todos los campos correctamente"});return}try{n.configureCharacter(o.value.trim(),r.value,s.value),Re.fire({icon:"success",title:"Configuracin Guardada!",text:`${o.value} est listo para la aventura`,showConfirmButton:!0}).then(()=>{t.push("/character")})}catch{Re.fire({icon:"error",title:"Error",text:"No se pudo guardar la configuracin"})}},d=()=>{t.push("/character")},p=()=>{Re.fire({title:"Ests seguro?",text:"Esto eliminar todos los datos del personaje actual",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(u=>{u.isConfirmed&&(n.clearData(),a.value=!1,o.value="",r.value=50,s.value=0,Re.fire({icon:"success",title:"Datos Eliminados",text:"Puedes crear un nuevo personaje"}))})};return(u,c)=>(Y(),G("div",k0,[i("div",E0,[c[10]||(c[10]=i("h1",{class:"config-title"},"Configuracin del Personaje",-1)),i("form",{onSubmit:et(l,["prevent"]),class:"config-form"},[i("div",$0,[c[3]||(c[3]=i("label",{for:"characterName",class:"form-label"},"Nombre del Personaje",-1)),ge(i("input",{id:"characterName","onUpdate:modelValue":c[0]||(c[0]=f=>o.value=f),type:"text",class:"form-control",placeholder:"Ej: Gandalf, Aragorn...",required:""},null,512),[[Ae,o.value]])]),i("div",A0,[c[4]||(c[4]=i("label",{for:"maxHp",class:"form-label"},"Puntos de Vida Mximos",-1)),ge(i("input",{id:"maxHp","onUpdate:modelValue":c[1]||(c[1]=f=>r.value=f),type:"number",class:"form-control",min:"1",max:"999",placeholder:"Ej: 50",required:""},null,512),[[Ae,r.value,void 0,{number:!0}]])]),i("div",T0,[c[5]||(c[5]=i("label",{for:"regeneration",class:"form-label"},"Regeneracin Pasiva por Turno",-1)),ge(i("input",{id:"regeneration","onUpdate:modelValue":c[2]||(c[2]=f=>s.value=f),type:"number",class:"form-control",min:"0",max:"50",placeholder:"Ej: 5 (opcional)"},null,512),[[Ae,s.value,void 0,{number:!0}]]),c[6]||(c[6]=i("small",{class:"form-text"},"Deja en 0 si no hay regeneracin",-1))]),c[7]||(c[7]=i("button",{type:"submit",class:"btn btn-primary btn-save"}," Guardar Configuracin ",-1))],32),mt(S0),a.value?(Y(),G("div",D0,[c[8]||(c[8]=i("h3",null,"Datos Existentes",-1)),c[9]||(c[9]=i("p",null,"Ya tienes un personaje configurado. Quieres cargarlo o crear uno nuevo?",-1)),i("div",{class:"btn-group"},[i("button",{onClick:d,class:"btn btn-secondary"}," Cargar Existente "),i("button",{onClick:p,class:"btn btn-danger"}," Crear Nuevo ")])])):Te("",!0)])]))}},I0=jt(H0,[["__scopeId","data-v-e2e623a8"]]);let Rc=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const fl=vo("counter",()=>{const e=$e([]),t=$e([]);try{const c=JSON.parse(localStorage.getItem("dnd-counters"));Array.isArray(c)&&(e.value=c.map(f=>({...f})))}catch{}try{const c=JSON.parse(localStorage.getItem("dnd-states"));Array.isArray(c)&&(t.value=c.map(f=>({active:!1,...f,active:typeof f.active=="boolean"?f.active:!1})))}catch{}wn(e,c=>{localStorage.setItem("dnd-counters",JSON.stringify(c))},{deep:!0}),wn(t,c=>{localStorage.setItem("dnd-states",JSON.stringify(c))},{deep:!0});function n({name:c,initial:f,min:m,max:b,buttons:y,shortRest:v=0,longRest:_=0}){e.value.push({id:Rc()+"-"+Date.now()+"-"+Math.random().toString(36).slice(2),name:c,value:f,min:m,max:b,shortRest:v,shortRestReset:arguments[0].shortRestReset||!1,longRest:_,longRestReset:arguments[0].longRestReset||!1,buttons:y||[{label:"+1",increment:1},{label:"-1",increment:-1}]})}function o(c,f){const m=e.value.find(y=>y.id===c);if(!m)return;let b=m.value+f;b>m.max&&(b=m.max),b<m.min&&(b=m.min),m.value=b}function r(c){const f=e.value.find(m=>m.id===c);f&&(f.value=f.max)}function s(c){const f=e.value.filter(m=>m.id!==c);e.value.splice(0,e.value.length,...f)}function a({name:c,shortRest:f,longRest:m,linkedCounterId:b,discountOnActivate:y,discountType:v}){t.value.push({id:Rc(),name:c,linkedCounterId:b||null,discountOnActivate:y||0,discountType:v||"resta",active:!1})}function l(c){const f=t.value.find(m=>m.id===c);if(f&&(f.active=!f.active,f.active&&f.linkedCounterId)){const m=Math.abs(f.discountOnActivate||1),b=f.discountType==="suma"?m:-m;o(f.linkedCounterId,b)}}function d(c="short"){e.value.forEach(f=>{if(c==="short")if(f.shortRestReset)f.value=f.shortRest;else{const m=f.shortRest;m&&typeof m=="number"&&(f.value=Math.min(f.max,f.value+m))}else if(c==="long")if(f.longRestReset)f.value=f.longRest;else{const m=f.longRest;m&&typeof m=="number"&&(f.value=Math.min(f.max,f.value+m))}}),t.value.forEach(f=>{f.active=!1})}function p(c){const f=t.value.find(m=>m.id===c);f&&f.linkedCounterId&&f.discountOnActivate&&o(f.linkedCounterId,-f.discountOnActivate)}function u(c){t.value=t.value.filter(f=>f.id!==c)}return{counters:e,states:t,addCounter:n,updateCounterValue:o,setCounterToMax:r,removeCounter:s,addState:a,activateState:p,removeState:u,toggleStateActive:l,regenerateCountersByRest:d}}),R0={class:"counter-grid"},P0={class:"counter-card-header"},O0={class:"counter-name"},M0=["onClick"],B0=["onClick"],L0={class:"counter-btns"},N0=["onClick"],U0=["onClick"],F0={class:"counter-values"},V0={class:"counter-minmax"},j0={class:"counter-card counter-add-card"},z0={class:"counter-modal"},q0={class:"counter-modal-title"},W0={class:"counter-modal-label"},K0={class:"counter-modal-label"},Y0={class:"counter-modal-label"},X0={class:"counter-modal-label"},G0={class:"counter-modal-label"},J0={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},Q0={class:"counter-modal-label"},Z0={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},ew={type:"submit",class:"counter-modal-btn"},tw={__name:"CounterManager",setup(e){const t=fl(),n=bu(t,"counters"),{addCounter:o,updateCounterValue:r,setCounterToMax:s,removeCounter:a}=t,l=$e({name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}),d=$e(!1);function p(){o({name:l.value.name,initial:l.value.initial,min:l.value.min,max:l.value.max,shortRest:l.value.shortRest,shortRestReset:l.value.shortRestReset,longRest:l.value.longRest,longRestReset:l.value.longRestReset}),l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1},d.value=!1}const u=$e(!1);let c=null;function f(y){u.value=!0,c=y.id,l.value={name:y.name,initial:y.value,min:y.min,max:y.max,shortRest:y.shortRest,shortRestReset:y.shortRestReset||!1,longRest:y.longRest,longRestReset:y.longRestReset||!1},d.value=!0}function m(){const y=n.value.findIndex(v=>v.id===c);y!==-1&&(n.value[y].name=l.value.name,n.value[y].min=l.value.min,n.value[y].max=l.value.max,n.value[y].shortRest=l.value.shortRest,n.value[y].shortRestReset=l.value.shortRestReset,n.value[y].longRest=l.value.longRest,n.value[y].longRestReset=l.value.longRestReset,n.value[y].value=l.value.initial),b()}function b(){d.value=!1,u.value=!1,c=null,l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}}return(y,v)=>(Y(),G("div",null,[v[23]||(v[23]=i("h2",{class:"text-lg font-bold mb-2 title-conter"},"Contadores",-1)),i("div",R0,[(Y(!0),G(Ve,null,Xe(n.value,_=>(Y(),G("div",{key:_.id,class:"counter-card"},[i("div",P0,[i("span",O0,ie(_.name),1),i("div",null,[i("button",{onClick:N=>f(_),class:"counter-edit",title:"Editar contador"},v[10]||(v[10]=[i("span",{"aria-label":"Editar"},"",-1)]),8,M0),i("button",{onClick:N=>ye(a)(_.id),class:"counter-remove",title:"Eliminar contador"},v[11]||(v[11]=[i("span",{"aria-label":"Eliminar"},"",-1)]),8,B0)])]),i("div",L0,[(Y(!0),G(Ve,null,Xe(_.buttons,N=>(Y(),G("button",{key:N.label,onClick:P=>ye(r)(_.id,N.increment),class:"counter-action-btn"},ie(N.label),9,N0))),128)),i("button",{onClick:N=>ye(s)(_.id),class:"counter-action-btn counter-max-btn"},"Mx",8,U0)]),i("div",F0,[i("span",null,[v[12]||(v[12]=Ee("Valor: ")),i("b",null,ie(_.value),1),v[13]||(v[13]=Ee()),i("span",V0,"(min: "+ie(_.min)+", mx: "+ie(_.max)+")",1)])])]))),128)),i("div",j0,[i("button",{onClick:v[0]||(v[0]=_=>d.value=!0),class:"counter-add-btn",title:"Agregar contador"},v[14]||(v[14]=[i("span",{class:"counter-fab-plus"},"",-1),i("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),d.value?(Y(),G("div",{key:0,class:"counter-modal-overlay",onClick:et(b,["self"])},[i("div",z0,[i("button",{onClick:b,class:"counter-modal-close"},""),i("form",{onSubmit:v[9]||(v[9]=et(_=>u.value?m():p(),["prevent"]))},[i("h3",q0,ie(u.value?"Editar contador":"Nuevo contador"),1),i("label",W0,[v[15]||(v[15]=Ee(" Nombre ")),ge(i("input",{"onUpdate:modelValue":v[1]||(v[1]=_=>l.value.name=_),placeholder:"Ej: Furias",class:"counter-modal-input",required:""},null,512),[[Ae,l.value.name]])]),i("label",K0,[v[16]||(v[16]=Ee(" Valor inicial ")),ge(i("input",{"onUpdate:modelValue":v[2]||(v[2]=_=>l.value.initial=_),type:"number",placeholder:"Ej: 3",class:"counter-modal-input",required:""},null,512),[[Ae,l.value.initial,void 0,{number:!0}]])]),i("label",Y0,[v[17]||(v[17]=Ee(" Valor mnimo ")),ge(i("input",{"onUpdate:modelValue":v[3]||(v[3]=_=>l.value.min=_),type:"number",placeholder:"Ej: 0",class:"counter-modal-input",required:""},null,512),[[Ae,l.value.min,void 0,{number:!0}]])]),i("label",X0,[v[18]||(v[18]=Ee(" Valor mximo ")),ge(i("input",{"onUpdate:modelValue":v[4]||(v[4]=_=>l.value.max=_),type:"number",placeholder:"Ej: 5",class:"counter-modal-input",required:""},null,512),[[Ae,l.value.max,void 0,{number:!0}]])]),i("label",G0,[v[20]||(v[20]=Ee(" Recarga por descanso corto ")),ge(i("input",{"onUpdate:modelValue":v[5]||(v[5]=_=>l.value.shortRest=_),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[Ae,l.value.shortRest,void 0,{number:!0}]]),i("label",J0,[ge(i("input",{type:"checkbox","onUpdate:modelValue":v[6]||(v[6]=_=>l.value.shortRestReset=_),style:{"margin-right":"6px"}},null,512),[[Hr,l.value.shortRestReset]]),v[19]||(v[19]=Ee(" Reset al valor introducido "))])]),i("label",Q0,[v[22]||(v[22]=Ee(" Recarga por descanso largo ")),ge(i("input",{"onUpdate:modelValue":v[7]||(v[7]=_=>l.value.longRest=_),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[Ae,l.value.longRest,void 0,{number:!0}]]),i("label",Z0,[ge(i("input",{type:"checkbox","onUpdate:modelValue":v[8]||(v[8]=_=>l.value.longRestReset=_),style:{"margin-right":"6px"}},null,512),[[Hr,l.value.longRestReset]]),v[21]||(v[21]=Ee(" Reset al valor introducido "))])]),i("button",ew,ie(u.value?"Guardar cambios":"Agregar"),1)],32)])])):Te("",!0)]))}},nw=jt(tw,[["__scopeId","data-v-92676822"]]),ow={class:"state-grid"},rw={class:"state-card-header"},sw={class:"state-name"},iw=["onClick"],aw=["onClick"],lw={key:0,class:"state-link"},cw=["onClick","disabled","title"],uw={class:"state-card state-add-card"},dw={class:"dnd-modal"},fw={class:"dnd-modal-title"},pw={class:"dnd-modal-label"},mw={class:"dnd-modal-label"},hw=["value"],gw={class:"dnd-modal-label"},vw={class:"dnd-modal-label"},bw={type:"submit",class:"dnd-modal-btn"},ww={__name:"StateManager",setup(e){const t=fl(),{states:n,addState:o,activateState:r,removeState:s,counters:a,updateCounterValue:l}=t,d=$e(!1),p=$e({name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"});function u(P){t.toggleStateActive(P.id)}function c(){o({name:p.value.name,linkedCounterId:p.value.linkedCounterId||null,discountOnActivate:p.value.discountOnActivate,discountType:p.value.discountType}),p.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"},d.value=!1}function f(P){if(!P.linkedCounterId)return!0;const I=a.find(k=>k.id===P.linkedCounterId);if(!I)return!1;const A=Math.abs(P.discountOnActivate||1);return!(P.discountType==="resta"&&I.value-A<I.min)}function m(P){const I=a.find(A=>A.id===P);return I?I.name:"Desconocido"}const b=$e(!1);let y=null;function v(P){b.value=!0,y=P.id,p.value={name:P.name,linkedCounterId:P.linkedCounterId||"",discountOnActivate:P.discountOnActivate,discountType:P.discountType||"resta"},d.value=!0}function _(){const P=n.findIndex(I=>I.id===y);P!==-1&&(n[P].name=p.value.name,n[P].linkedCounterId=p.value.linkedCounterId||null,n[P].discountOnActivate=p.value.discountOnActivate,n[P].discountType=p.value.discountType),N()}function N(){d.value=!1,b.value=!1,y=null,p.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"}}return(P,I)=>(Y(),G("div",null,[I[16]||(I[16]=i("h2",{class:"title-state"},"Estados",-1)),i("div",ow,[(Y(!0),G(Ve,null,Xe(ye(n),A=>(Y(),G("div",{key:A.id,class:at(["state-card","dnd-theme-card",A.active?"active-state":""])},[i("div",rw,[i("span",sw,ie(A.name),1),i("div",null,[i("button",{onClick:k=>v(A),class:"state-edit",title:"Editar estado"},I[6]||(I[6]=[i("span",{"aria-label":"Editar"},"",-1)]),8,iw),i("button",{onClick:k=>ye(s)(A.id),class:"state-remove",title:"Eliminar estado"},I[7]||(I[7]=[i("span",{"aria-label":"Eliminar"},"",-1)]),8,aw)])]),A.linkedCounterId?(Y(),G("div",lw,[i("span",null,[I[8]||(I[8]=Ee("Vinculado a: ")),i("b",null,ie(m(A.linkedCounterId)),1),Ee(" (desc. "+ie(A.discountOnActivate)+")",1)])])):Te("",!0),i("button",{onClick:k=>u(A),class:at(["state-activate","dnd-theme-btn",A.active?"active-btn":""]),disabled:!A.active&&A.linkedCounterId&&!f(A),title:!A.active&&A.linkedCounterId&&!f(A)?"No quedan usos en el contador vinculado":""},ie(A.active?"Desactivar":"Activar"),11,cw)],2))),128)),i("div",uw,[i("button",{onClick:I[0]||(I[0]=A=>d.value=!0),class:"state-add-btn",title:"Agregar estado"},I[9]||(I[9]=[i("span",{class:"state-fab-plus"},"",-1),i("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),d.value?(Y(),G("div",{key:0,class:"dnd-modal-overlay",onClick:et(N,["self"])},[i("div",dw,[i("button",{onClick:N,class:"dnd-modal-close"},""),i("form",{onSubmit:I[5]||(I[5]=et(A=>b.value?_():c(),["prevent"]))},[i("h3",fw,ie(b.value?"Editar Estado":"Nuevo Estado"),1),i("label",pw,[I[10]||(I[10]=Ee(" Nombre del estado ")),ge(i("input",{"onUpdate:modelValue":I[1]||(I[1]=A=>p.value.name=A),placeholder:"Ej: Furia",class:"dnd-modal-input",required:""},null,512),[[Ae,p.value.name]])]),i("label",mw,[I[12]||(I[12]=Ee(" Vincular a contador ")),ge(i("select",{"onUpdate:modelValue":I[2]||(I[2]=A=>p.value.linkedCounterId=A),class:"dnd-modal-input"},[I[11]||(I[11]=i("option",{value:""},"Sin vincular",-1)),(Y(!0),G(Ve,null,Xe(ye(a),A=>(Y(),G("option",{key:A.id,value:A.id},ie(A.name),9,hw))),128))],512),[[Ot,p.value.linkedCounterId]])]),i("label",gw,[I[13]||(I[13]=Ee(" Descuento al activar ")),ge(i("input",{"onUpdate:modelValue":I[3]||(I[3]=A=>p.value.discountOnActivate=A),type:"number",placeholder:"Ej: 1",class:"dnd-modal-input"},null,512),[[Ae,p.value.discountOnActivate,void 0,{number:!0}]])]),i("label",vw,[I[15]||(I[15]=Ee(" Tipo de descuento ")),ge(i("select",{"onUpdate:modelValue":I[4]||(I[4]=A=>p.value.discountType=A),class:"dnd-modal-input"},I[14]||(I[14]=[i("option",{value:"resta"},"Resta",-1),i("option",{value:"suma"},"Suma",-1)]),512),[[Ot,p.value.discountType]])]),i("button",bw,ie(b.value?"Guardar cambios":"Crear Estado"),1)],32)])])):Te("",!0)]))}},yw=jt(ww,[["__scopeId","data-v-32ddfeee"]]);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pc(Object(n),!0).forEach(function(o){xw(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Es(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function xw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(){return Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Kn.apply(this,arguments)}function Cw(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function _w(e,t){if(e==null)return{};var n=Cw(e,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var Sw="1.15.6";function Wn(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Xn=Wn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ss=Wn(/Edge/i),Oc=Wn(/firefox/i),Or=Wn(/safari/i)&&!Wn(/chrome/i)&&!Wn(/android/i),pl=Wn(/iP(ad|od|hone)/i),Ef=Wn(/chrome/i)&&Wn(/android/i),$f={capture:!1,passive:!1};function qe(e,t,n){e.addEventListener(t,n,!Xn&&$f)}function ze(e,t,n){e.removeEventListener(t,n,!Xn&&$f)}function ei(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Af(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function gn(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ei(e,t):ei(e,t))||o&&e===n)return e;if(e===n)break}while(e=Af(e))}return null}var Mc=/\s+/g;function Qt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Mc," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Mc," ")}}function Ne(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function er(e,t){var n="";if(typeof e=="string")n=e;else do{var o=Ne(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Tf(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,s=o.length;if(n)for(;r<s;r++)n(o[r],r);return o}return[]}function Dn(){var e=document.scrollingElement;return e||document.documentElement}function Ct(e,t,n,o,r){if(!(!e.getBoundingClientRect&&e!==window)){var s,a,l,d,p,u,c;if(e!==window&&e.parentNode&&e!==Dn()?(s=e.getBoundingClientRect(),a=s.top,l=s.left,d=s.bottom,p=s.right,u=s.height,c=s.width):(a=0,l=0,d=window.innerHeight,p=window.innerWidth,u=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!Xn))do if(r&&r.getBoundingClientRect&&(Ne(r,"transform")!=="none"||n&&Ne(r,"position")!=="static")){var f=r.getBoundingClientRect();a-=f.top+parseInt(Ne(r,"border-top-width")),l-=f.left+parseInt(Ne(r,"border-left-width")),d=a+s.height,p=l+s.width;break}while(r=r.parentNode);if(o&&e!==window){var m=er(r||e),b=m&&m.a,y=m&&m.d;m&&(a/=y,l/=b,c/=b,u/=y,d=a+u,p=l+c)}return{top:a,left:l,bottom:d,right:p,width:c,height:u}}}function Bc(e,t,n){for(var o=co(e,!0),r=Ct(e)[t];o;){var s=Ct(o)[n],a=void 0;if(a=r>=s,!a)return o;if(o===Dn())break;o=co(o,!1)}return!1}function lr(e,t,n,o){for(var r=0,s=0,a=e.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==Le.ghost&&(o||a[s]!==Le.dragged)&&gn(a[s],n.draggable,e,!1)){if(r===t)return a[s];r++}s++}return null}function ml(e,t){for(var n=e.lastElementChild;n&&(n===Le.ghost||Ne(n,"display")==="none"||t&&!ei(n,t));)n=n.previousElementSibling;return n||null}function an(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Le.clone&&(!t||ei(e,t))&&n++;return n}function Lc(e){var t=0,n=0,o=Dn();if(e)do{var r=er(e),s=r.a,a=r.d;t+=e.scrollLeft*s,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function kw(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function co(e,t){if(!e||!e.getBoundingClientRect)return Dn();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Ne(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Dn();if(o||t)return n;o=!0}}while(n=n.parentNode);return Dn()}function Ew(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Zi(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Mr;function Df(e,t){return function(){if(!Mr){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Mr=setTimeout(function(){Mr=void 0},t)}}}function $w(){clearTimeout(Mr),Mr=void 0}function Hf(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function If(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Rf(e,t,n){var o={};return Array.from(e.children).forEach(function(r){var s,a,l,d;if(!(!gn(r,t.draggable,e,!1)||r.animated||r===n)){var p=Ct(r);o.left=Math.min((s=o.left)!==null&&s!==void 0?s:1/0,p.left),o.top=Math.min((a=o.top)!==null&&a!==void 0?a:1/0,p.top),o.right=Math.max((l=o.right)!==null&&l!==void 0?l:-1/0,p.right),o.bottom=Math.max((d=o.bottom)!==null&&d!==void 0?d:-1/0,p.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var Yt="Sortable"+new Date().getTime();function Aw(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(Ne(r,"display")==="none"||r===Le.ghost)){e.push({target:r,rect:Ct(r)});var s=Pn({},e[e.length-1].rect);if(r.thisAnimationDuration){var a=er(r,!0);a&&(s.top-=a.f,s.left-=a.e)}r.fromRect=s}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(kw(e,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var s=!1,a=0;e.forEach(function(l){var d=0,p=l.target,u=p.fromRect,c=Ct(p),f=p.prevFromRect,m=p.prevToRect,b=l.rect,y=er(p,!0);y&&(c.top-=y.f,c.left-=y.e),p.toRect=c,p.thisAnimationDuration&&Zi(f,c)&&!Zi(u,c)&&(b.top-c.top)/(b.left-c.left)===(u.top-c.top)/(u.left-c.left)&&(d=Dw(b,f,m,r.options)),Zi(c,u)||(p.prevFromRect=u,p.prevToRect=c,d||(d=r.options.animation),r.animate(p,b,c,d)),d&&(s=!0,a=Math.max(a,d),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},d),p.thisAnimationDuration=d)}),clearTimeout(t),s?t=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),e=[]},animate:function(o,r,s,a){if(a){Ne(o,"transition",""),Ne(o,"transform","");var l=er(this.el),d=l&&l.a,p=l&&l.d,u=(r.left-s.left)/(d||1),c=(r.top-s.top)/(p||1);o.animatingX=!!u,o.animatingY=!!c,Ne(o,"transform","translate3d("+u+"px,"+c+"px,0)"),this.forRepaintDummy=Tw(o),Ne(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Ne(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Ne(o,"transition",""),Ne(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function Tw(e){return e.offsetWidth}function Dw(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Vo=[],ea={initializeByDefault:!0},is={mount:function(t){for(var n in ea)ea.hasOwnProperty(n)&&!(n in t)&&(t[n]=ea[n]);Vo.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Vo.push(t)},pluginEvent:function(t,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var s=t+"Global";Vo.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][s]&&n[a.pluginName][s](Pn({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](Pn({sortable:n},o)))})},initializePlugins:function(t,n,o,r){Vo.forEach(function(l){var d=l.pluginName;if(!(!t.options[d]&&!l.initializeByDefault)){var p=new l(t,n,t.options);p.sortable=t,p.options=t.options,t[d]=p,Kn(o,p.defaults)}});for(var s in t.options)if(t.options.hasOwnProperty(s)){var a=this.modifyOption(t,s,t.options[s]);typeof a<"u"&&(t.options[s]=a)}},getEventProperties:function(t,n){var o={};return Vo.forEach(function(r){typeof r.eventProperties=="function"&&Kn(o,r.eventProperties.call(n[r.pluginName],t))}),o},modifyOption:function(t,n,o){var r;return Vo.forEach(function(s){t[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(r=s.optionListeners[n].call(t[s.pluginName],o))}),r}};function Hw(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,d=e.oldIndex,p=e.newIndex,u=e.oldDraggableIndex,c=e.newDraggableIndex,f=e.originalEvent,m=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[Yt],!!t){var y,v=t.options,_="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Xn&&!ss?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=a||n,y.from=l||n,y.item=r||n,y.clone=s,y.oldIndex=d,y.newIndex=p,y.oldDraggableIndex=u,y.newDraggableIndex=c,y.originalEvent=f,y.pullMode=m?m.lastPutMode:void 0;var N=Pn(Pn({},b),is.getEventProperties(o,t));for(var P in N)y[P]=N[P];n&&n.dispatchEvent(y),v[_]&&v[_].call(t,y)}}var Iw=["evt"],Wt=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,s=_w(o,Iw);is.pluginEvent.bind(Le)(t,n,Pn({dragEl:ke,parentEl:gt,ghostEl:Ue,rootEl:dt,nextEl:Eo,lastDownEl:$s,cloneEl:pt,cloneHidden:io,dragStarted:Cr,putSortable:At,activeSortable:Le.active,originalEvent:r,oldIndex:Yo,oldDraggableIndex:Br,newIndex:en,newDraggableIndex:ro,hideGhostForTarget:Bf,unhideGhostForTarget:Lf,cloneNowHidden:function(){io=!0},cloneNowShown:function(){io=!1},dispatchSortableEvent:function(l){Nt({sortable:n,name:l,originalEvent:r})}},s))};function Nt(e){Hw(Pn({putSortable:At,cloneEl:pt,targetEl:ke,rootEl:dt,oldIndex:Yo,oldDraggableIndex:Br,newIndex:en,newDraggableIndex:ro},e))}var ke,gt,Ue,dt,Eo,$s,pt,io,Yo,en,Br,ro,gs,At,Wo=!1,ti=!1,ni=[],Co,mn,ta,na,Nc,Uc,Cr,jo,Lr,Nr=!1,vs=!1,As,Ht,oa=[],$a=!1,oi=[],$i=typeof document<"u",bs=pl,Fc=ss||Xn?"cssFloat":"float",Rw=$i&&!Ef&&!pl&&"draggable"in document.createElement("div"),Pf=function(){if($i){if(Xn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Of=function(t,n){var o=Ne(t),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=lr(t,0,n),a=lr(t,1,n),l=s&&Ne(s),d=a&&Ne(a),p=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ct(s).width,u=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Ct(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return a&&(d.clear==="both"||d.clear===c)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||p>=r&&o[Fc]==="none"||a&&o[Fc]==="none"&&p+u>r)?"vertical":"horizontal"},Pw=function(t,n,o){var r=o?t.left:t.top,s=o?t.right:t.bottom,a=o?t.width:t.height,l=o?n.left:n.top,d=o?n.right:n.bottom,p=o?n.width:n.height;return r===l||s===d||r+a/2===l+p/2},Ow=function(t,n){var o;return ni.some(function(r){var s=r[Yt].options.emptyInsertThreshold;if(!(!s||ml(r))){var a=Ct(r),l=t>=a.left-s&&t<=a.right+s,d=n>=a.top-s&&n<=a.bottom+s;if(l&&d)return o=r}}),o},Mf=function(t){function n(s,a){return function(l,d,p,u){var c=l.options.group.name&&d.options.group.name&&l.options.group.name===d.options.group.name;if(s==null&&(a||c))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(l,d,p,u),a)(l,d,p,u);var f=(a?l:d).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var o={},r=t.group;(!r||Es(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,t.group=o},Bf=function(){!Pf&&Ue&&Ne(Ue,"display","none")},Lf=function(){!Pf&&Ue&&Ne(Ue,"display","")};$i&&!Ef&&document.addEventListener("click",function(e){if(ti)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ti=!1,!1},!0);var _o=function(t){if(ke){t=t.touches?t.touches[0]:t;var n=Ow(t.clientX,t.clientY);if(n){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Yt]._onDragOver(o)}}},Mw=function(t){ke&&ke.parentNode[Yt]._isOutsideThisEl(t.target)};function Le(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Kn({},t),e[Yt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Of(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Le.supportPointer!==!1&&"PointerEvent"in window&&(!Or||pl),emptyInsertThreshold:5};is.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Mf(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:Rw,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?qe(e,"pointerdown",this._onTapStart):(qe(e,"mousedown",this._onTapStart),qe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(qe(e,"dragover",this),qe(e,"dragenter",this)),ni.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Kn(this,Aw())}Le.prototype={constructor:Le,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(jo=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,ke):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,r=this.options,s=r.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,d=(l||t).target,p=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,u=r.filter;if(zw(o),!ke&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||r.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&Or&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=gn(d,r.draggable,o,!1),!(d&&d.animated)&&$s!==d)){if(Yo=an(d),Br=an(d,r.draggable),typeof u=="function"){if(u.call(this,t,d,this)){Nt({sortable:n,rootEl:p,name:"filter",targetEl:d,toEl:o,fromEl:o}),Wt("filter",n,{evt:t}),s&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(c){if(c=gn(p,c.trim(),o,!1),c)return Nt({sortable:n,rootEl:c,name:"filter",targetEl:d,fromEl:o,toEl:o}),Wt("filter",n,{evt:t}),!0}),u)){s&&t.preventDefault();return}r.handle&&!gn(p,r.handle,o,!1)||this._prepareDragStart(t,l,d)}}},_prepareDragStart:function(t,n,o){var r=this,s=r.el,a=r.options,l=s.ownerDocument,d;if(o&&!ke&&o.parentNode===s){var p=Ct(o);if(dt=s,ke=o,gt=ke.parentNode,Eo=ke.nextSibling,$s=o,gs=a.group,Le.dragged=ke,Co={target:ke,clientX:(n||t).clientX,clientY:(n||t).clientY},Nc=Co.clientX-p.left,Uc=Co.clientY-p.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,ke.style["will-change"]="all",d=function(){if(Wt("delayEnded",r,{evt:t}),Le.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Oc&&r.nativeDraggable&&(ke.draggable=!0),r._triggerDragStart(t,n),Nt({sortable:r,name:"choose",originalEvent:t}),Qt(ke,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){Tf(ke,u.trim(),ra)}),qe(l,"dragover",_o),qe(l,"mousemove",_o),qe(l,"touchmove",_o),a.supportPointer?(qe(l,"pointerup",r._onDrop),!this.nativeDraggable&&qe(l,"pointercancel",r._onDrop)):(qe(l,"mouseup",r._onDrop),qe(l,"touchend",r._onDrop),qe(l,"touchcancel",r._onDrop)),Oc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ke.draggable=!0),Wt("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(ss||Xn))){if(Le.eventCanceled){this._onDrop();return}a.supportPointer?(qe(l,"pointerup",r._disableDelayedDrag),qe(l,"pointercancel",r._disableDelayedDrag)):(qe(l,"mouseup",r._disableDelayedDrag),qe(l,"touchend",r._disableDelayedDrag),qe(l,"touchcancel",r._disableDelayedDrag)),qe(l,"mousemove",r._delayedDragTouchMoveHandler),qe(l,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&qe(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(d,a.delay)}else d()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ke&&ra(ke),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ze(t,"mouseup",this._disableDelayedDrag),ze(t,"touchend",this._disableDelayedDrag),ze(t,"touchcancel",this._disableDelayedDrag),ze(t,"pointerup",this._disableDelayedDrag),ze(t,"pointercancel",this._disableDelayedDrag),ze(t,"mousemove",this._delayedDragTouchMoveHandler),ze(t,"touchmove",this._delayedDragTouchMoveHandler),ze(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?qe(document,"pointermove",this._onTouchMove):n?qe(document,"touchmove",this._onTouchMove):qe(document,"mousemove",this._onTouchMove):(qe(ke,"dragend",this),qe(dt,"dragstart",this._onDragStart));try{document.selection?Ts(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Wo=!1,dt&&ke){Wt("dragStarted",this,{evt:n}),this.nativeDraggable&&qe(document,"dragover",Mw);var o=this.options;!t&&Qt(ke,o.dragClass,!1),Qt(ke,o.ghostClass,!0),Le.active=this,t&&this._appendGhost(),Nt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(mn){this._lastX=mn.clientX,this._lastY=mn.clientY,Bf();for(var t=document.elementFromPoint(mn.clientX,mn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(mn.clientX,mn.clientY),t!==n);)n=t;if(ke.parentNode[Yt]._isOutsideThisEl(t),n)do{if(n[Yt]){var o=void 0;if(o=n[Yt]._onDragOver({clientX:mn.clientX,clientY:mn.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=Af(n));Lf()}},_onTouchMove:function(t){if(Co){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,s=t.touches?t.touches[0]:t,a=Ue&&er(Ue,!0),l=Ue&&a&&a.a,d=Ue&&a&&a.d,p=bs&&Ht&&Lc(Ht),u=(s.clientX-Co.clientX+r.x)/(l||1)+(p?p[0]-oa[0]:0)/(l||1),c=(s.clientY-Co.clientY+r.y)/(d||1)+(p?p[1]-oa[1]:0)/(d||1);if(!Le.active&&!Wo){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(Ue){a?(a.e+=u-(ta||0),a.f+=c-(na||0)):a={a:1,b:0,c:0,d:1,e:u,f:c};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Ne(Ue,"webkitTransform",f),Ne(Ue,"mozTransform",f),Ne(Ue,"msTransform",f),Ne(Ue,"transform",f),ta=u,na=c,mn=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ue){var t=this.options.fallbackOnBody?document.body:dt,n=Ct(ke,!0,bs,!0,t),o=this.options;if(bs){for(Ht=t;Ne(Ht,"position")==="static"&&Ne(Ht,"transform")==="none"&&Ht!==document;)Ht=Ht.parentNode;Ht!==document.body&&Ht!==document.documentElement?(Ht===document&&(Ht=Dn()),n.top+=Ht.scrollTop,n.left+=Ht.scrollLeft):Ht=Dn(),oa=Lc(Ht)}Ue=ke.cloneNode(!0),Qt(Ue,o.ghostClass,!1),Qt(Ue,o.fallbackClass,!0),Qt(Ue,o.dragClass,!0),Ne(Ue,"transition",""),Ne(Ue,"transform",""),Ne(Ue,"box-sizing","border-box"),Ne(Ue,"margin",0),Ne(Ue,"top",n.top),Ne(Ue,"left",n.left),Ne(Ue,"width",n.width),Ne(Ue,"height",n.height),Ne(Ue,"opacity","0.8"),Ne(Ue,"position",bs?"absolute":"fixed"),Ne(Ue,"zIndex","100000"),Ne(Ue,"pointerEvents","none"),Le.ghost=Ue,t.appendChild(Ue),Ne(Ue,"transform-origin",Nc/parseInt(Ue.style.width)*100+"% "+Uc/parseInt(Ue.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,r=t.dataTransfer,s=o.options;if(Wt("dragStart",this,{evt:t}),Le.eventCanceled){this._onDrop();return}Wt("setupClone",this),Le.eventCanceled||(pt=If(ke),pt.removeAttribute("id"),pt.draggable=!1,pt.style["will-change"]="",this._hideClone(),Qt(pt,this.options.chosenClass,!1),Le.clone=pt),o.cloneId=Ts(function(){Wt("clone",o),!Le.eventCanceled&&(o.options.removeCloneOnHide||dt.insertBefore(pt,ke),o._hideClone(),Nt({sortable:o,name:"clone"}))}),!n&&Qt(ke,s.dragClass,!0),n?(ti=!0,o._loopId=setInterval(o._emulateDragOver,50)):(ze(document,"mouseup",o._onDrop),ze(document,"touchend",o._onDrop),ze(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(o,r,ke)),qe(document,"drop",o),Ne(ke,"transform","translateZ(0)")),Wo=!0,o._dragStartId=Ts(o._dragStarted.bind(o,n,t)),qe(document,"selectstart",o),Cr=!0,window.getSelection().removeAllRanges(),Or&&Ne(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,r,s,a,l=this.options,d=l.group,p=Le.active,u=gs===d,c=l.sort,f=At||p,m,b=this,y=!1;if($a)return;function v(J,L){Wt(J,b,Pn({evt:t,isOwner:u,axis:m?"vertical":"horizontal",revert:a,dragRect:r,targetRect:s,canSort:c,fromSortable:f,target:o,completed:N,onMove:function(Q,re){return ws(dt,n,ke,r,Q,Ct(Q),t,re)},changed:P},L))}function _(){v("dragOverAnimationCapture"),b.captureAnimationState(),b!==f&&f.captureAnimationState()}function N(J){return v("dragOverCompleted",{insertion:J}),J&&(u?p._hideClone():p._showClone(b),b!==f&&(Qt(ke,At?At.options.ghostClass:p.options.ghostClass,!1),Qt(ke,l.ghostClass,!0)),At!==b&&b!==Le.active?At=b:b===Le.active&&At&&(At=null),f===b&&(b._ignoreWhileAnimating=o),b.animateAll(function(){v("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===ke&&!ke.animated||o===n&&!o.animated)&&(jo=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(ke.parentNode[Yt]._isOutsideThisEl(t.target),!J&&_o(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function P(){en=an(ke),ro=an(ke,l.draggable),Nt({sortable:b,name:"change",toEl:n,newIndex:en,newDraggableIndex:ro,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=gn(o,l.draggable,n,!0),v("dragOver"),Le.eventCanceled)return y;if(ke.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||b._ignoreWhileAnimating===o)return N(!1);if(ti=!1,p&&!l.disabled&&(u?c||(a=gt!==dt):At===this||(this.lastPutMode=gs.checkPull(this,p,ke,t))&&d.checkPut(this,p,ke,t))){if(m=this._getDirection(t,o)==="vertical",r=Ct(ke),v("dragOverValid"),Le.eventCanceled)return y;if(a)return gt=dt,_(),this._hideClone(),v("revert"),Le.eventCanceled||(Eo?dt.insertBefore(ke,Eo):dt.appendChild(ke)),N(!0);var I=ml(n,l.draggable);if(!I||Uw(t,m,this)&&!I.animated){if(I===ke)return N(!1);if(I&&n===t.target&&(o=I),o&&(s=Ct(o)),ws(dt,n,ke,r,o,s,t,!!o)!==!1)return _(),I&&I.nextSibling?n.insertBefore(ke,I.nextSibling):n.appendChild(ke),gt=n,P(),N(!0)}else if(I&&Nw(t,m,this)){var A=lr(n,0,l,!0);if(A===ke)return N(!1);if(o=A,s=Ct(o),ws(dt,n,ke,r,o,s,t,!1)!==!1)return _(),n.insertBefore(ke,A),gt=n,P(),N(!0)}else if(o.parentNode===n){s=Ct(o);var k=0,V,$=ke.parentNode!==n,E=!Pw(ke.animated&&ke.toRect||r,o.animated&&o.toRect||s,m),M=m?"top":"left",C=Bc(o,"top","top")||Bc(ke,"top","top"),g=C?C.scrollTop:void 0;jo!==o&&(V=s[M],Nr=!1,vs=!E&&l.invertSwap||$),k=Fw(t,o,s,m,E?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,vs,jo===o);var S;if(k!==0){var D=an(ke);do D-=k,S=gt.children[D];while(S&&(Ne(S,"display")==="none"||S===Ue))}if(k===0||S===o)return N(!1);jo=o,Lr=k;var U=o.nextElementSibling,x=!1;x=k===1;var w=ws(dt,n,ke,r,o,s,t,x);if(w!==!1)return(w===1||w===-1)&&(x=w===1),$a=!0,setTimeout(Lw,30),_(),x&&!U?n.appendChild(ke):o.parentNode.insertBefore(ke,x?U:o),C&&Hf(C,0,g-C.scrollTop),gt=ke.parentNode,V!==void 0&&!vs&&(As=Math.abs(V-Ct(o)[M])),P(),N(!0)}if(n.contains(ke))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ze(document,"mousemove",this._onTouchMove),ze(document,"touchmove",this._onTouchMove),ze(document,"pointermove",this._onTouchMove),ze(document,"dragover",_o),ze(document,"mousemove",_o),ze(document,"touchmove",_o)},_offUpEvents:function(){var t=this.el.ownerDocument;ze(t,"mouseup",this._onDrop),ze(t,"touchend",this._onDrop),ze(t,"pointerup",this._onDrop),ze(t,"pointercancel",this._onDrop),ze(t,"touchcancel",this._onDrop),ze(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(en=an(ke),ro=an(ke,o.draggable),Wt("drop",this,{evt:t}),gt=ke&&ke.parentNode,en=an(ke),ro=an(ke,o.draggable),Le.eventCanceled){this._nulling();return}Wo=!1,vs=!1,Nr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Aa(this.cloneId),Aa(this._dragStartId),this.nativeDraggable&&(ze(document,"drop",this),ze(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Or&&Ne(document.body,"user-select",""),Ne(ke,"transform",""),t&&(Cr&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),Ue&&Ue.parentNode&&Ue.parentNode.removeChild(Ue),(dt===gt||At&&At.lastPutMode!=="clone")&&pt&&pt.parentNode&&pt.parentNode.removeChild(pt),ke&&(this.nativeDraggable&&ze(ke,"dragend",this),ra(ke),ke.style["will-change"]="",Cr&&!Wo&&Qt(ke,At?At.options.ghostClass:this.options.ghostClass,!1),Qt(ke,this.options.chosenClass,!1),Nt({sortable:this,name:"unchoose",toEl:gt,newIndex:null,newDraggableIndex:null,originalEvent:t}),dt!==gt?(en>=0&&(Nt({rootEl:gt,name:"add",toEl:gt,fromEl:dt,originalEvent:t}),Nt({sortable:this,name:"remove",toEl:gt,originalEvent:t}),Nt({rootEl:gt,name:"sort",toEl:gt,fromEl:dt,originalEvent:t}),Nt({sortable:this,name:"sort",toEl:gt,originalEvent:t})),At&&At.save()):en!==Yo&&en>=0&&(Nt({sortable:this,name:"update",toEl:gt,originalEvent:t}),Nt({sortable:this,name:"sort",toEl:gt,originalEvent:t})),Le.active&&((en==null||en===-1)&&(en=Yo,ro=Br),Nt({sortable:this,name:"end",toEl:gt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Wt("nulling",this),dt=ke=gt=Ue=Eo=pt=$s=io=Co=mn=Cr=en=ro=Yo=Br=jo=Lr=At=gs=Le.dragged=Le.ghost=Le.clone=Le.active=null,oi.forEach(function(t){t.checked=!0}),oi.length=ta=na=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ke&&(this._onDragOver(t),Bw(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,r=0,s=o.length,a=this.options;r<s;r++)n=o[r],gn(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||jw(n));return t},sort:function(t,n){var o={},r=this.el;this.toArray().forEach(function(s,a){var l=r.children[a];gn(l,this.options.draggable,r,!1)&&(o[s]=l)},this),n&&this.captureAnimationState(),t.forEach(function(s){o[s]&&(r.removeChild(o[s]),r.appendChild(o[s]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return gn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var r=is.modifyOption(this,t,n);typeof r<"u"?o[t]=r:o[t]=n,t==="group"&&Mf(o)},destroy:function(){Wt("destroy",this);var t=this.el;t[Yt]=null,ze(t,"mousedown",this._onTapStart),ze(t,"touchstart",this._onTapStart),ze(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ze(t,"dragover",this),ze(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ni.splice(ni.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!io){if(Wt("hideClone",this),Le.eventCanceled)return;Ne(pt,"display","none"),this.options.removeCloneOnHide&&pt.parentNode&&pt.parentNode.removeChild(pt),io=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(io){if(Wt("showClone",this),Le.eventCanceled)return;ke.parentNode==dt&&!this.options.group.revertClone?dt.insertBefore(pt,ke):Eo?dt.insertBefore(pt,Eo):dt.appendChild(pt),this.options.group.revertClone&&this.animate(ke,pt),Ne(pt,"display",""),io=!1}}};function Bw(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ws(e,t,n,o,r,s,a,l){var d,p=e[Yt],u=p.options.onMove,c;return window.CustomEvent&&!Xn&&!ss?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=t,d.from=e,d.dragged=n,d.draggedRect=o,d.related=r||t,d.relatedRect=s||Ct(t),d.willInsertAfter=l,d.originalEvent=a,e.dispatchEvent(d),u&&(c=u.call(p,d,a)),c}function ra(e){e.draggable=!1}function Lw(){$a=!1}function Nw(e,t,n){var o=Ct(lr(n.el,0,n.options,!0)),r=Rf(n.el,n.options,Ue),s=10;return t?e.clientX<r.left-s||e.clientY<o.top&&e.clientX<o.right:e.clientY<r.top-s||e.clientY<o.bottom&&e.clientX<o.left}function Uw(e,t,n){var o=Ct(ml(n.el,n.options.draggable)),r=Rf(n.el,n.options,Ue),s=10;return t?e.clientX>r.right+s||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>r.bottom+s||e.clientX>o.right&&e.clientY>o.top}function Fw(e,t,n,o,r,s,a,l){var d=o?e.clientY:e.clientX,p=o?n.height:n.width,u=o?n.top:n.left,c=o?n.bottom:n.right,f=!1;if(!a){if(l&&As<p*r){if(!Nr&&(Lr===1?d>u+p*s/2:d<c-p*s/2)&&(Nr=!0),Nr)f=!0;else if(Lr===1?d<u+As:d>c-As)return-Lr}else if(d>u+p*(1-r)/2&&d<c-p*(1-r)/2)return Vw(t)}return f=f||a,f&&(d<u+p*s/2||d>c-p*s/2)?d>u+p/2?1:-1:0}function Vw(e){return an(ke)<an(e)?1:-1}function jw(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function zw(e){oi.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&oi.push(o)}}function Ts(e){return setTimeout(e,0)}function Aa(e){return clearTimeout(e)}$i&&qe(document,"touchmove",function(e){(Le.active||Wo)&&e.cancelable&&e.preventDefault()});Le.utils={on:qe,off:ze,css:Ne,find:Tf,is:function(t,n){return!!gn(t,n,t,!1)},extend:Ew,throttle:Df,closest:gn,toggleClass:Qt,clone:If,index:an,nextTick:Ts,cancelNextTick:Aa,detectDirection:Of,getChild:lr,expando:Yt};Le.get=function(e){return e[Yt]};Le.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(Le.utils=Pn(Pn({},Le.utils),o.utils)),is.mount(o)})};Le.create=function(e,t){return new Le(e,t)};Le.version=Sw;var xt=[],_r,Ta,Da=!1,sa,ia,ri,Sr;function qw(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?qe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?qe(document,"pointermove",this._handleFallbackAutoScroll):o.touches?qe(document,"touchmove",this._handleFallbackAutoScroll):qe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?ze(document,"dragover",this._handleAutoScroll):(ze(document,"pointermove",this._handleFallbackAutoScroll),ze(document,"touchmove",this._handleFallbackAutoScroll),ze(document,"mousemove",this._handleFallbackAutoScroll)),Vc(),Ds(),$w()},nulling:function(){ri=Ta=_r=Da=Sr=sa=ia=null,xt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(s,a);if(ri=n,o||this.options.forceAutoScrollFallback||ss||Xn||Or){aa(n,this.options,l,o);var d=co(l,!0);Da&&(!Sr||s!==sa||a!==ia)&&(Sr&&Vc(),Sr=setInterval(function(){var p=co(document.elementFromPoint(s,a),!0);p!==d&&(d=p,Ds()),aa(n,r.options,p,o)},10),sa=s,ia=a)}else{if(!this.options.bubbleScroll||co(l,!0)===Dn()){Ds();return}aa(n,this.options,co(l,!1),!1)}}},Kn(e,{pluginName:"scroll",initializeByDefault:!0})}function Ds(){xt.forEach(function(e){clearInterval(e.pid)}),xt=[]}function Vc(){clearInterval(Sr)}var aa=Df(function(e,t,n,o){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,d=Dn(),p=!1,u;Ta!==n&&(Ta=n,Ds(),_r=t.scroll,u=t.scrollFn,_r===!0&&(_r=co(n,!0)));var c=0,f=_r;do{var m=f,b=Ct(m),y=b.top,v=b.bottom,_=b.left,N=b.right,P=b.width,I=b.height,A=void 0,k=void 0,V=m.scrollWidth,$=m.scrollHeight,E=Ne(m),M=m.scrollLeft,C=m.scrollTop;m===d?(A=P<V&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),k=I<$&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(A=P<V&&(E.overflowX==="auto"||E.overflowX==="scroll"),k=I<$&&(E.overflowY==="auto"||E.overflowY==="scroll"));var g=A&&(Math.abs(N-r)<=a&&M+P<V)-(Math.abs(_-r)<=a&&!!M),S=k&&(Math.abs(v-s)<=a&&C+I<$)-(Math.abs(y-s)<=a&&!!C);if(!xt[c])for(var D=0;D<=c;D++)xt[D]||(xt[D]={});(xt[c].vx!=g||xt[c].vy!=S||xt[c].el!==m)&&(xt[c].el=m,xt[c].vx=g,xt[c].vy=S,clearInterval(xt[c].pid),(g!=0||S!=0)&&(p=!0,xt[c].pid=setInterval((function(){o&&this.layer===0&&Le.active._onTouchMove(ri);var U=xt[this.layer].vy?xt[this.layer].vy*l:0,x=xt[this.layer].vx?xt[this.layer].vx*l:0;typeof u=="function"&&u.call(Le.dragged.parentNode[Yt],x,U,e,ri,xt[this.layer].el)!=="continue"||Hf(xt[this.layer].el,x,U)}).bind({layer:c}),24))),c++}while(t.bubbleScroll&&f!==d&&(f=co(f,!1)));Da=p}},30),Nf=function(t){var n=t.originalEvent,o=t.putSortable,r=t.dragEl,s=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,d=t.unhideGhostForTarget;if(n){var p=o||s;l();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(u.clientX,u.clientY);d(),p&&!p.el.contains(c)&&(a("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function hl(){}hl.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=lr(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Nf};Kn(hl,{pluginName:"revertOnSpill"});function gl(){}gl.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:Nf};Kn(gl,{pluginName:"removeOnSpill"});Le.mount(new qw);Le.mount(gl,hl);const Ww=vo("attack",{state:()=>({attacks:[],criticalHit:{rule:"default",characterLevel:1}}),actions:{loadCriticalHitConfig(){const e=localStorage.getItem("dnd-critical-hit-config");if(e)try{const t=JSON.parse(e);t&&typeof t=="object"&&(this.criticalHit.rule=t.rule||"default",this.criticalHit.characterLevel=t.characterLevel||1)}catch(t){console.error("Error loading critical hit config from localStorage:",t)}},saveCriticalHitConfig(){localStorage.setItem("dnd-critical-hit-config",JSON.stringify(this.criticalHit))},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveCriticalHitConfig()},loadAttacks(){this.loadCriticalHitConfig();const e=localStorage.getItem("dnd-attacks-data");if(e)try{const t=JSON.parse(e),n=t.map(o=>{let r=!1;return o.lifeSteal&&o.lifeSteal.percentage>0&&(o.damageRolls.forEach(s=>{s.lifeSteal||(s.lifeSteal={percentage:o.lifeSteal.percentage})}),delete o.lifeSteal,r=!0),o.damageRolls.forEach(s=>{s.lifeSteal||(s.lifeSteal={percentage:0},r=!0)}),o.rerollDice||(o.rerollDice=[],r=!0),o.id||(o.id=cn(),r=!0),o});this.attacks=n,n.some(o=>!t.includes(o))&&this.saveAttacks()}catch(t){console.error("Error loading or migrating attacks from localStorage:",t),this.attacks=[]}},saveAttacks(){localStorage.setItem("dnd-attacks-data",JSON.stringify(this.attacks))},addAttack(e){const t={...e,id:cn()};this.attacks.push(t),this.saveAttacks()},updateAttack(e){const t=this.attacks.findIndex(n=>n.id===e.id);t!==-1&&(this.attacks[t]=e,this.saveAttacks())},duplicateAttack(e){const t=this.attacks.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=cn(),n.name=`${t.name} (Copia)`;const o=this.attacks.findIndex(r=>r.id===e);this.attacks.splice(o+1,0,n),this.saveAttacks()}},deleteAttack(e){const t=this.attacks.findIndex(n=>n.id===e);t!==-1&&(this.attacks.splice(t,1),this.saveAttacks())},getAttackById(e){return this.attacks.find(t=>t.id===e)},updateAttackOrder(e){const t=e.map(n=>this.attacks.find(o=>o.id===n));this.attacks=t.filter(n=>n),this.saveAttacks()}}});function vl(e){if(e<=0)return 0;if(e>=1&&e<=4)return 10;if(e>=5&&e<=10)return 20;if(e>=11&&e<=16)return 30;if(e>=17&&e<=20)return 40;const t=21,n=50;if(e>=t){const o=Math.floor((e-t)/4);return n+o*10}return 0}function Uf(e){const[t,n]=e.toLowerCase().split("d").map(Number),o=[];for(let r=0;r<t;r++)o.push(Math.floor(Math.random()*n)+1);return o}function si(e){const t={};let n=0,o=0;e.damageRolls.forEach(r=>{let{dice:s,min:a=1,bonus:l=0,type:d,lifeSteal:p={percentage:0}}=r;a=Number(a)||1,l=Number(l)||0;const u=Number(p.percentage)||0,c=`d${s.split("d")[1]}`,m=Uf(s).map(v=>({value:Math.max(v,a),diceType:c,originalValue:v,isReplaced:!1})),y=m.reduce((v,_)=>v+_.value,0)+l;if(n+=y,t[d]||(t[d]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),t[d].rolls.push(...m),t[d].bonus+=l,t[d].total+=y,u>0){const v=Math.floor(y*(u/100));o+=v,t[d].lifeSteal.healed+=v,t[d].lifeSteal.percentages.push(u)}});for(const r in t)if(t[r].lifeSteal.healed===0)t[r].lifeSteal=null;else{const s=[...new Set(t[r].lifeSteal.percentages)];t[r].lifeSteal.percentage_display=s.join("% / ")+"%",delete t[r].lifeSteal.percentages}return{name:e.name,results:t,grandTotal:n,totalHealed:o}}function Ff(e,t){const{rule:n,characterLevel:o}=t;if(n==="default"){const r=JSON.parse(JSON.stringify(e));return r.name=`${e.name} (Crtico)`,r.damageRolls.forEach(s=>{const[a,l]=s.dice.split("d");s.dice=`${Number(a)*2}d${l}`}),si(r)}if(n==="dad"){const r={};let s=0,a=0;const l=vl(o);if(e.damageRolls.forEach(d=>{let{dice:p,min:u=1,bonus:c=0,type:f,lifeSteal:m={percentage:0}}=d;const[b,y]=p.split("d").map(Number);u=Number(u)||1,c=Number(c)||0;const v=Number(m.percentage)||0;let _=0;const N=[];for(let I=0;I<b;I++){const A=Math.max(Math.floor(Math.random()*y)+1,u),k=y;_+=k+A,N.push({value:k,originalValue:`${y} (Mx)`}),N.push({value:A,originalValue:`${A} (Aleatorio)`})}const P=_+c;if(s+=P,r[f]||(r[f]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),r[f].rolls.push(...N),r[f].bonus+=c,r[f].total+=P,v>0){const I=Math.floor(P*(v/100));a+=I,r[f].lifeSteal.healed+=I,r[f].lifeSteal.percentages.push(v)}}),l>0){const d="force";r[d]?(r[d].total+=l,r[d].rolls.push({value:l,originalValue:l})):r[d]={rolls:[{value:l,originalValue:l}],bonus:0,total:l,lifeSteal:{healed:0,percentages:[]}},s+=l}for(const d in r)if(r[d].lifeSteal.healed===0)r[d].lifeSteal=null;else{const p=[...new Set(r[d].lifeSteal.percentages)];r[d].lifeSteal.percentage_display=p.join("% / ")+"%",delete r[d].lifeSteal.percentages}return{name:`${e.name} (Crtico DAD)`,results:r,grandTotal:s,totalHealed:a}}return si(e)}function tr(e){const t={};if(!e)return t;e.forEach(n=>{const o=`d${n.dice.split("d")[1]}`,r=Number(n.min)||1,a=Uf(n.dice).map(l=>Math.max(l,r));t[o]||(t[o]=[]),t[o].push(...a)});for(const n in t)t[n].sort((o,r)=>r-o);return t}function ii(e,t){const n=JSON.parse(JSON.stringify(e));for(const s in t){const a=t[s];let l=[];for(const p in n.results)n.results[p].rolls.forEach((u,c)=>{u.diceType===s&&!u.isReplaced&&l.push({roll:u,damageType:p,index:c})});l.sort((p,u)=>p.roll.value-u.roll.value);const d=Math.min(l.length,a.length);for(let p=0;p<d;p++){const u=l[p],c=a[p];c>u.roll.value&&(u.roll.originalValue=u.roll.value,u.roll.value=c,u.roll.isReplaced=!0)}}let o=0,r=0;for(const s in n.results){const a=n.results[s],l=a.rolls.reduce((d,p)=>d+p.value,0);if(a.total=l+a.bonus,o+=a.total,a.lifeSteal){const d=a.lifeSteal.percentage_display,p=parseFloat(d);if(!isNaN(p)){const u=Math.floor(a.total*(p/100));a.lifeSteal.healed=u,r+=u}}}return n.grandTotal=o,n.totalHealed=r,n}const cr=[{id:"bludgeoning",name:"Contundente",color:"#a1887f"},{id:"piercing",name:"Perforante",color:"#757575"},{id:"slashing",name:"Cortante",color:"#bdbdbd"},{id:"acid",name:"cido",color:"#8bc34a"},{id:"cold",name:"Fro",color:"#26c6da"},{id:"fire",name:"Fuego",color:"#ff7043"},{id:"force",name:"Fuerza",color:"#ab47bc"},{id:"lightning",name:"Elctrico",color:"#ffca28"},{id:"necrotic",name:"Necrtico",color:"#546e7a"},{id:"poison",name:"Veneno",color:"#66bb6a"},{id:"psychic",name:"Psquico",color:"#ec407a"},{id:"radiant",name:"Radiante",color:"#ffee58"},{id:"thunder",name:"Trueno",color:"#7e57c2"}],Vf=e=>{const t=cr.find(n=>n.id===e);return t?t.color:"#ffffff"},Kw={class:"attack-manager-container"},Yw={class:"header"},Xw={class:"header-actions"},Gw={class:"content"},Jw={class:"attacks-list"},Qw={key:0,class:"no-attacks"},Zw=["data-id"],ey={class:"header-attack"},ty={class:"attack-info"},ny={class:"attack-name"},oy={class:"attack-summary"},ry={class:"attack-actions"},sy=["onClick"],iy=["onClick"],ay=["onClick"],ly=["onClick"],cy=["onClick"],uy={class:"new-attack-area"},dy={class:"attack-form"},fy={class:"attack-form-header"},py={class:"attack-form-content"},my={class:"form-group"},hy={class:"damage-rolls-section"},gy={class:"damage-roll-header"},vy={class:"damage-roll-title"},by=["onClick","disabled"],wy={class:"damage-roll-inputs"},yy={class:"form-group-inline"},xy=["for"],Cy=["id","onUpdate:modelValue"],_y={class:"form-group-inline"},Sy=["for"],ky=["id","onUpdate:modelValue"],Ey={class:"form-group-inline"},$y=["for"],Ay=["id","onUpdate:modelValue"],Ty=["value"],Dy={class:"form-group-inline"},Hy=["for"],Iy=["id","onUpdate:modelValue"],Ry={class:"form-group-inline"},Py=["for"],Oy=["id","onUpdate:modelValue"],My={class:"form-group-inline"},By=["for"],Ly=["id","onUpdate:modelValue"],Ny={class:"damage-rolls-section"},Uy={key:0,class:"empty-state"},Fy={class:"damage-roll-header"},Vy={class:"damage-roll-title"},jy=["onClick"],zy={class:"damage-roll-inputs reroll-inputs"},qy={class:"form-group-inline"},Wy=["for"],Ky=["id","onUpdate:modelValue"],Yy={class:"form-group-inline"},Xy=["for"],Gy=["id","onUpdate:modelValue"],Jy={class:"form-group-inline"},Qy=["for"],Zy=["id","onUpdate:modelValue"],e2={class:"form-actions"},t2={class:"attack-form settings-form"},n2={class:"attack-form-content"},o2={class:"form-group"},r2={key:0,class:"form-group"},s2={key:0,class:"dad-bonus-display"},i2={__name:"AttackManager",emits:["close"],setup(e,{emit:t}){const n=Ww(),o=Oo(),{criticalHit:r}=Qr(n),s=$e(!1),a=$e(!1),l=$e(!1),d=dn({rule:"default",characterLevel:1}),p=ut(()=>d.rule!=="dad"?0:vl(d.characterLevel)),u=dn({id:null,name:"",damageRolls:[],rerollDice:[]});Jt(()=>{document.body.style.overflow="hidden",n.loadAttacks(),Po(()=>{const C=document.querySelector(".attacks-list");C&&new Le(C,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:D=>{const U=Array.from(D.target.children).map(x=>x.dataset.id).filter(x=>x);n.updateAttackOrder(U)}});const g=document.querySelector(".attack-manager-overlay"),S=document.querySelector(".content");if(g&&S){const D=U=>{U.target.closest(".attack-form-overlay")||(U.preventDefault(),S.scrollTop+=U.deltaY)};g.addEventListener("wheel",D,{passive:!1}),g._wheelHandler=D}})}),go(()=>{document.body.style.overflow="";const C=document.querySelector(".attack-manager-overlay");C&&C._wheelHandler&&C.removeEventListener("wheel",C._wheelHandler)});const c=C=>{if(!C||!C.includes("d"))return{numDice:1,diceType:6};const[g,S]=C.split("d");return{numDice:Number(g)||1,diceType:Number(S)||6}},f=C=>{const g=JSON.parse(JSON.stringify(C));g.damageRolls.forEach(S=>{const{numDice:D,diceType:U}=c(S.dice);S.numDice=D,S.diceType=U,S.lifeSteal||(S.lifeSteal={percentage:0})}),g.rerollDice?g.rerollDice.forEach(S=>{const{numDice:D,diceType:U}=c(S.dice);S.numDice=D,S.diceType=U}):g.rerollDice=[],u.id=g.id,u.name=g.name,u.damageRolls.splice(0,u.damageRolls.length,...g.damageRolls),u.rerollDice.splice(0,u.rerollDice.length,...g.rerollDice),s.value=!0},m=()=>{d.rule=n.criticalHit.rule,d.characterLevel=n.criticalHit.characterLevel,l.value=!0},b=()=>{l.value=!1},y=()=>{n.updateCriticalHitConfig({rule:d.rule,characterLevel:d.characterLevel}),b(),Re.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},v=()=>{a.value=!1,f({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},_=C=>{a.value=!0,f(C)},N=C=>{n.duplicateAttack(C.id)},P=()=>{s.value=!1},I=()=>{u.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},A=C=>{u.damageRolls.splice(C,1)},k=()=>{u.rerollDice||(u.rerollDice=[]),u.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},V=C=>{u.rerollDice.splice(C,1)},$=()=>{if(!u.name){Re.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const C=JSON.parse(JSON.stringify(u));C.damageRolls.forEach(g=>{g.dice=`${g.numDice||1}d${g.diceType||6}`,delete g.numDice,delete g.diceType}),C.rerollDice&&C.rerollDice.forEach(g=>{g.dice=`${g.numDice||1}d${g.diceType||6}`,delete g.numDice,delete g.diceType}),a.value?n.updateAttack(C):n.addAttack(C),P()},E=C=>{Re.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(g=>{g.isConfirmed&&(n.deleteAttack(C),Re.fire("Eliminado","El ataque ha sido eliminado.","success"))})},M=(C,g=!1)=>{let S;g?S=Ff(C,n.criticalHit):S=si(C);const D=Q=>Q.map(re=>`<span class="roll-value ${re.isReplaced?"replaced":""}">${re.value}</span>`).join(", "),U=Q=>{if(!Q)return"";let re='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const ce in Q)re+=`<div class="reroll-type"><strong>${ce}:</strong> [${Q[ce].join(", ")}]</div>`;return re+="</div>",re},x=(Q,re=null)=>{let ce='<div class="attack-result-modal">';ce+=`<h3 class="dnd-title-modern">${Q.name}</h3>`;for(const de in Q.results){const ee=Q.results[de],Ie=Vf(de),pe=(cr.find(ue=>ue.id===de)||{name:de}).name.toUpperCase();ce+=`
        <div class="damage-type-block-modern" style="border-left-color: ${Ie};">
          <div class="damage-header">
            <span class="damage-type-modern" style="color: ${Ie};">${pe}</span>
            <span class="damage-total-modern">${ee.total}</span>
          </div>
          <div class="damage-details">
            <span><strong>Tiradas:</strong> [${D(ee.rolls)}]</span>
            <span><strong>Bonus:</strong> ${ee.bonus>0?"+":""}${ee.bonus}</span>
          </div>
      `,ee.lifeSteal&&(ce+=`
          <div class="lifesteal-details">
            <i class="bi bi-heart-fill"></i>
            <span><strong>Curado:</strong> ${ee.lifeSteal.healed} (${ee.lifeSteal.percentage_display})</span>
          </div>
        `),ce+="</div>"}return ce+=U(re),ce+=`<div class="grand-total-modern">Dao Total: ${Q.grandTotal}</div>`,Q.totalHealed>0&&(ce+=`<div class="total-healed-modern">Curacin Total: ${Q.totalHealed}</div>`),ce+="</div>",ce},w="dnd-modern-modal-styles",J=`
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Teko:wght@700&display=swap');
        .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .dnd-modern-swal-container { padding: 0 !important; }
        .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.5rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; }
        .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
        .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 15px; padding: 15px; border-radius: 4px; }
        .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.5rem; }
        .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.8rem; color: #ff4d4d; }
        .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 20px; padding: 10px; border-radius: 5px; }
        .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
        .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
        .dnd-modern-swal-popup .lifesteal-details { color: #4dff7e; }`,L=`
    .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
    .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
    .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
    .reroll-type { margin-bottom: 5px; padding-left: 10px; }
    .swal2-actions { gap: 15px !important; }
    .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
    .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`;let H=null;Re.fire({width:600,html:x(S),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:C.rerollDice&&C.rerollDice.length>0,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{if(document.getElementById(w))return;const Q=document.createElement("style");Q.id=w,Q.innerHTML=J+L,document.head.appendChild(Q)},didClose:()=>{S.totalHealed>0&&o.heal(S.totalHealed),o.addLog(`Ataque: ${C.name}`,`Dao total: ${S.grandTotal}. Curacin por robo de vida: ${S.totalHealed}.`)},preDeny:()=>(H=tr(C.rerollDice),Re.update({html:x(S,H),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const Q=document.getElementById("swal-replace-btn");Q&&(Q.onclick=()=>{H||(H=tr(C.rerollDice)),S=ii(S,H),Re.update({html:x(S,H),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1),preCancel:()=>(H||(H=tr(C.rerollDice)),S=ii(S,H),Re.update({html:x(S,H),showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Cerrar"}),!1)})};return(C,g)=>(Y(),G("div",{class:"attack-manager-overlay",onClick:g[5]||(g[5]=et(S=>C.$emit("close"),["self"]))},[i("div",Kw,[i("div",Yw,[g[7]||(g[7]=i("h2",null,[i("i",{class:"bi bi-hammer"}),Ee(" Gestor de Ataques")],-1)),i("div",Xw,[i("button",{onClick:m,class:"settings-btn"},g[6]||(g[6]=[i("i",{class:"bi bi-gear-fill"},null,-1)])),i("button",{onClick:g[0]||(g[0]=S=>C.$emit("close")),class:"close-btn"},"")])]),i("div",Gw,[i("div",Jw,[ye(n).attacks.length===0?(Y(),G("div",Qw," No hay ataques guardados. Crea uno nuevo! ")):Te("",!0),(Y(!0),G(Ve,null,Xe(ye(n).attacks,S=>(Y(),G("div",{key:S.id,class:"attack-item","data-id":S.id},[i("div",ey,[g[8]||(g[8]=i("div",{class:"drag-handle"},[i("i",{class:"bi bi-grip-vertical"})],-1)),i("div",ty,[i("span",ny,ie(S.name),1),i("div",oy,[(Y(!0),G(Ve,null,Xe(S.damageRolls,(D,U)=>(Y(),G("span",{key:U,class:"damage-tag"},ie(D.dice)+" "+ie(D.type),1))),128))])])]),i("div",ry,[i("button",{onClick:D=>M(S,!1),class:"action-btn btn-execute"},"Atacar",8,sy),i("button",{onClick:D=>M(S,!0),class:"action-btn btn-critical"},"Crtico",8,iy),i("button",{onClick:D=>_(S),class:"action-btn btn-edit"},"Editar",8,ay),i("button",{onClick:D=>N(S),class:"action-btn btn-duplicate"},"Duplicar",8,ly),i("button",{onClick:D=>E(S.id),class:"action-btn btn-delete"},"Eliminar",8,cy)])],8,Zw))),128))]),i("div",uy,[i("button",{onClick:g[1]||(g[1]=S=>v()),class:"btn-new-attack"},g[9]||(g[9]=[i("i",{class:"bi bi-plus-circle-fill"},null,-1),Ee(" Crear Nuevo Ataque ")]))]),s.value?(Y(),G("div",{key:0,class:"attack-form-overlay",onClick:et(P,["self"])},[i("div",dy,[i("div",fy,[i("h3",null,ie(a.value?"Editar Ataque":"Nuevo Ataque"),1),i("button",{onClick:P,class:"form-close-btn","aria-label":"Cerrar formulario"},g[10]||(g[10]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",py,[i("div",my,[g[11]||(g[11]=i("label",{for:"attack-name"},"Nombre del Ataque",-1)),ge(i("input",{id:"attack-name",type:"text","onUpdate:modelValue":g[2]||(g[2]=S=>u.name=S),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[Ae,u.name]])]),i("div",hy,[g[15]||(g[15]=i("h4",null,[i("i",{class:"bi bi-dice-6-fill"}),Ee(" Tiradas de Dao")],-1)),(Y(!0),G(Ve,null,Xe(u.damageRolls,(S,D)=>(Y(),G("div",{key:D,class:"damage-roll-item"},[i("div",gy,[i("span",vy,"Dao #"+ie(D+1),1),i("button",{onClick:U=>A(D),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:u.damageRolls.length===1},g[12]||(g[12]=[i("i",{class:"bi bi-trash-fill"},null,-1)]),8,by)]),i("div",wy,[i("div",yy,[i("label",{for:`dice-num-${D}`},"Cantidad",8,xy),ge(i("input",{id:`dice-num-${D}`,type:"number","onUpdate:modelValue":U=>S.numDice=U,min:"1",max:"20",class:"input-narrow"},null,8,Cy),[[Ae,S.numDice,void 0,{number:!0}]])]),i("div",_y,[i("label",{for:`dice-type-${D}`},"Tipo de Dado",8,Sy),ge(i("select",{id:`dice-type-${D}`,"onUpdate:modelValue":U=>S.diceType=U},g[13]||(g[13]=[fo('<option value="4" data-v-b7c329bd>d4</option><option value="6" data-v-b7c329bd>d6</option><option value="8" data-v-b7c329bd>d8</option><option value="10" data-v-b7c329bd>d10</option><option value="12" data-v-b7c329bd>d12</option><option value="20" data-v-b7c329bd>d20</option><option value="100" data-v-b7c329bd>d100</option>',7)]),8,ky),[[Ot,S.diceType,void 0,{number:!0}]])]),i("div",Ey,[i("label",{for:`type-${D}`},"Tipo de Dao",8,$y),ge(i("select",{id:`type-${D}`,"onUpdate:modelValue":U=>S.type=U},[(Y(!0),G(Ve,null,Xe(ye(cr),U=>(Y(),G("option",{key:U.id,value:U.id},ie(U.name),9,Ty))),128))],8,Ay),[[Ot,S.type]])]),i("div",Dy,[i("label",{for:`bonus-${D}`},"Bonus",8,Hy),ge(i("input",{id:`bonus-${D}`,type:"number","onUpdate:modelValue":U=>S.bonus=U,placeholder:"+3"},null,8,Iy),[[Ae,S.bonus,void 0,{number:!0}]])]),i("div",Ry,[i("label",{for:`min-${D}`},"Mnimo",8,Py),ge(i("input",{id:`min-${D}`,type:"number","onUpdate:modelValue":U=>S.min=U,placeholder:"1",min:"1"},null,8,Oy),[[Ae,S.min,void 0,{number:!0}]])]),i("div",My,[i("label",{for:`lifesteal-${D}`},"Robo de Vida (%)",8,By),ge(i("input",{id:`lifesteal-${D}`,type:"number","onUpdate:modelValue":U=>S.lifeSteal.percentage=U,placeholder:"0",min:"0",max:"100"},null,8,Ly),[[Ae,S.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),i("button",{onClick:I,class:"btn-add-roll"},g[14]||(g[14]=[i("i",{class:"bi bi-plus-circle"},null,-1),Ee(" Aadir Tipo de Dao ")]))]),i("div",Ny,[g[20]||(g[20]=i("h4",null,[i("i",{class:"bi bi-arrow-repeat"}),Ee(" Dados de Reroll (Opcional)")],-1)),u.rerollDice.length===0?(Y(),G("div",Uy,g[16]||(g[16]=[i("p",null,"No hay dados de reroll configurados",-1)]))):Te("",!0),(Y(!0),G(Ve,null,Xe(u.rerollDice,(S,D)=>(Y(),G("div",{key:D,class:"damage-roll-item"},[i("div",Fy,[i("span",Vy,"Reroll #"+ie(D+1),1),i("button",{onClick:U=>V(D),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},g[17]||(g[17]=[i("i",{class:"bi bi-trash-fill"},null,-1)]),8,jy)]),i("div",zy,[i("div",qy,[i("label",{for:`reroll-dice-num-${D}`},"Cantidad",8,Wy),ge(i("input",{id:`reroll-dice-num-${D}`,type:"number","onUpdate:modelValue":U=>S.numDice=U,min:"1",max:"20",class:"input-narrow"},null,8,Ky),[[Ae,S.numDice,void 0,{number:!0}]])]),i("div",Yy,[i("label",{for:`reroll-dice-type-${D}`},"Tipo de Dado",8,Xy),ge(i("select",{id:`reroll-dice-type-${D}`,"onUpdate:modelValue":U=>S.diceType=U},g[18]||(g[18]=[fo('<option value="4" data-v-b7c329bd>d4</option><option value="6" data-v-b7c329bd>d6</option><option value="8" data-v-b7c329bd>d8</option><option value="10" data-v-b7c329bd>d10</option><option value="12" data-v-b7c329bd>d12</option><option value="20" data-v-b7c329bd>d20</option><option value="100" data-v-b7c329bd>d100</option>',7)]),8,Gy),[[Ot,S.diceType,void 0,{number:!0}]])]),i("div",Jy,[i("label",{for:`reroll-min-${D}`},"Mnimo",8,Qy),ge(i("input",{id:`reroll-min-${D}`,type:"number","onUpdate:modelValue":U=>S.min=U,placeholder:"1",min:"1"},null,8,Zy),[[Ae,S.min,void 0,{number:!0}]])])])]))),128)),i("button",{onClick:k,class:"btn-add-roll"},g[19]||(g[19]=[i("i",{class:"bi bi-plus-circle"},null,-1),Ee(" Aadir Dado de Reroll ")]))]),i("div",e2,[i("button",{onClick:$,class:"btn-save"},[g[21]||(g[21]=i("i",{class:"bi bi-check-circle-fill"},null,-1)),Ee(" "+ie(a.value?"Guardar Cambios":"Crear Ataque"),1)]),i("button",{onClick:P,class:"btn-cancel"},g[22]||(g[22]=[i("i",{class:"bi bi-x-circle-fill"},null,-1),Ee(" Cancelar ")]))])])])])):Te("",!0),l.value?(Y(),G("div",{key:1,class:"attack-form-overlay",onClick:et(b,["self"])},[i("div",t2,[i("div",{class:"attack-form-header"},[g[24]||(g[24]=i("h3",null,[i("i",{class:"bi bi-gear-fill"}),Ee(" Configuracin de Dao Crtico")],-1)),i("button",{onClick:b,class:"form-close-btn","aria-label":"Cerrar configuracin"},g[23]||(g[23]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",n2,[i("div",o2,[g[26]||(g[26]=i("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),ge(i("select",{id:"critical-rule","onUpdate:modelValue":g[3]||(g[3]=S=>d.rule=S),class:"settings-select"},g[25]||(g[25]=[i("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),i("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[Ot,d.rule]])]),d.rule==="dad"?(Y(),G("div",r2,[g[29]||(g[29]=i("label",{for:"character-level"},"Nivel del Personaje",-1)),ge(i("input",{type:"number",id:"character-level","onUpdate:modelValue":g[4]||(g[4]=S=>d.characterLevel=S),min:"1",max:"20",class:"settings-input"},null,512),[[Ae,d.characterLevel,void 0,{number:!0}]]),p.value>0?(Y(),G("div",s2,[g[28]||(g[28]=i("i",{class:"bi bi-lightning-charge-fill"},null,-1)),i("p",null,[g[27]||(g[27]=Ee("Bonus de dao por crtico: ")),i("strong",null,"+"+ie(p.value),1)])])):Te("",!0)])):Te("",!0),i("div",{class:"form-actions"},[i("button",{onClick:y,class:"btn-save"},g[30]||(g[30]=[i("i",{class:"bi bi-check-circle-fill"},null,-1),Ee(" Guardar ")])),i("button",{onClick:b,class:"btn-cancel"},g[31]||(g[31]=[i("i",{class:"bi bi-x-circle-fill"},null,-1),Ee(" Cancelar ")]))])])])])):Te("",!0)])])]))}},a2=jt(i2,[["__scopeId","data-v-b7c329bd"]]),l2={class:"passive-damage-manager-container"},c2={class:"header"},u2={class:"content"},d2={class:"passive-damages-list"},f2={key:0,class:"no-damages"},p2={class:"damage-info"},m2={class:"damage-name"},h2={key:0,class:"duration-tag"},g2={class:"damage-summary"},v2={class:"damage-actions"},b2=["onClick"],w2=["onClick"],y2=["onClick"],x2={class:"new-damage-area"},C2={class:"damage-form"},_2={class:"damage-form-header"},S2={class:"form-group"},k2={class:"form-group"},E2={class:"damage-rolls-section"},$2={class:"damage-roll-inputs"},A2={class:"form-group-inline"},T2=["onUpdate:modelValue"],D2={class:"form-group-inline"},H2=["onUpdate:modelValue"],I2={class:"form-group-inline"},R2=["onUpdate:modelValue"],P2={class:"form-group-inline"},O2=["onUpdate:modelValue"],M2=["value"],B2=["onClick","title"],L2={class:"form-actions"},N2={__name:"PassiveDamageManager",emits:["close"],setup(e,{emit:t}){const n=_a(),o=$e(!1),r=$e(!1),s=dn({id:null,name:"",duration:0,damageRolls:[]});Jt(()=>{document.body.style.overflow="hidden",n.loadPassiveDamages()}),go(()=>{document.body.style.overflow=""});const a=y=>{s.id=y.id,s.name=y.name,s.duration=y.duration||0,s.damageRolls.splice(0,s.damageRolls.length,...JSON.parse(JSON.stringify(y.damageRolls||[]))),o.value=!0},l=()=>{r.value=!1,a({id:null,name:"",duration:0,damageRolls:[{numDice:1,diceType:6,bonus:0,type:"bludgeoning"}]})},d=y=>{r.value=!0,a(y)},p=()=>{o.value=!1},u=()=>{s.damageRolls.push({numDice:1,diceType:6,bonus:0,type:"bludgeoning"})},c=y=>{s.damageRolls.splice(y,1)},f=()=>{if(!s.name||s.damageRolls.length===0){Re.fire("Error","El nombre y al menos una tirada de dao son requeridos.","error");return}const y=JSON.parse(JSON.stringify(s));r.value?n.updatePassiveDamage(y):n.addPassiveDamage(y),p()},m=y=>{n.duplicatePassiveDamage(y)},b=y=>{Re.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(v=>{v.isConfirmed&&(n.deletePassiveDamage(y),Re.fire("Eliminado","El dao pasivo ha sido eliminado.","success"))})};return(y,v)=>(Y(),G("div",{class:"passive-damage-manager-overlay",onClick:v[4]||(v[4]=et(_=>y.$emit("close"),["self"]))},[i("div",l2,[i("div",c2,[v[5]||(v[5]=i("h2",null,[i("i",{class:"bi bi-shield-fill-exclamation"}),Ee(" Gestor de Dao Pasivo")],-1)),i("button",{onClick:v[0]||(v[0]=_=>y.$emit("close")),class:"close-btn"},"")]),i("div",u2,[i("div",d2,[ye(n).passiveDamages.length===0?(Y(),G("div",f2," No hay daos pasivos configurados. ")):Te("",!0),(Y(!0),G(Ve,null,Xe(ye(n).passiveDamages,_=>(Y(),G("div",{key:_.id,class:"damage-item"},[i("div",p2,[i("span",m2,ie(_.name),1),_.duration>0?(Y(),G("span",h2,[v[6]||(v[6]=i("i",{class:"bi bi-hourglass-split"},null,-1)),Ee(" "+ie(_.duration)+" turnos restantes ",1)])):Te("",!0),i("div",g2,[(Y(!0),G(Ve,null,Xe(_.damageRolls,(N,P)=>(Y(),G("span",{key:P,class:"damage-tag"},ie(N.numDice)+"d"+ie(N.diceType)+ie(N.bonus>0?"+"+N.bonus:"")+" "+ie(N.type),1))),128))])]),i("div",v2,[i("button",{onClick:N=>d(_),class:"action-btn btn-edit"},"Editar",8,b2),i("button",{onClick:N=>m(_.id),class:"action-btn btn-duplicate"},"Duplicar",8,w2),i("button",{onClick:N=>b(_.id),class:"action-btn btn-delete"},"Eliminar",8,y2)])]))),128))]),i("div",x2,[i("button",{onClick:v[1]||(v[1]=_=>l()),class:"btn-new-damage"},v[7]||(v[7]=[i("i",{class:"bi bi-plus-circle-fill"},null,-1),Ee(" Aadir Dao Pasivo ")]))]),o.value?(Y(),G("div",{key:0,class:"damage-form-overlay",onClick:et(p,["self"])},[i("div",C2,[i("div",_2,[i("h3",null,ie(r.value?"Editar Dao Pasivo":"Nuevo Dao Pasivo"),1),i("button",{onClick:p,class:"form-close-btn",title:"Cerrar"},"")]),i("div",S2,[v[8]||(v[8]=i("label",{class:"form-label"},[i("i",{class:"bi bi-tag-fill"}),Ee(" Nombre ")],-1)),ge(i("input",{type:"text","onUpdate:modelValue":v[2]||(v[2]=_=>s.name=_),placeholder:"Ej: Aura venenosa"},null,512),[[Ae,s.name]])]),i("div",k2,[v[9]||(v[9]=i("label",{class:"form-label"},[i("i",{class:"bi bi-hourglass-split"}),Ee(" Duracin en Turnos "),i("span",{class:"label-hint"},"(0 para infinito)")],-1)),ge(i("input",{type:"number","onUpdate:modelValue":v[3]||(v[3]=_=>s.duration=_),min:"0",placeholder:"0"},null,512),[[Ae,s.duration,void 0,{number:!0}]])]),i("div",E2,[v[17]||(v[17]=i("h4",null,[i("i",{class:"bi bi-dice-5-fill"}),Ee(" Tiradas de Dao")],-1)),(Y(!0),G(Ve,null,Xe(s.damageRolls,(_,N)=>(Y(),G("div",{key:N,class:"damage-roll-item"},[i("div",$2,[i("div",A2,[v[10]||(v[10]=i("label",{class:"form-label-inline"},[i("i",{class:"bi bi-hash"}),Ee(" Cantidad ")],-1)),ge(i("input",{type:"number","onUpdate:modelValue":P=>_.numDice=P,min:"1",class:"input-narrow",placeholder:"1"},null,8,T2),[[Ae,_.numDice,void 0,{number:!0}]])]),i("div",D2,[v[12]||(v[12]=i("label",{class:"form-label-inline"},[i("i",{class:"bi bi-dice-6"}),Ee(" Dado ")],-1)),ge(i("select",{"onUpdate:modelValue":P=>_.diceType=P},v[11]||(v[11]=[fo('<option value="4" data-v-31b5d63c>d4</option><option value="6" data-v-31b5d63c>d6</option><option value="8" data-v-31b5d63c>d8</option><option value="10" data-v-31b5d63c>d10</option><option value="12" data-v-31b5d63c>d12</option><option value="20" data-v-31b5d63c>d20</option><option value="100" data-v-31b5d63c>d100</option>',7)]),8,H2),[[Ot,_.diceType,void 0,{number:!0}]])]),i("div",I2,[v[13]||(v[13]=i("label",{class:"form-label-inline"},[i("i",{class:"bi bi-plus-slash-minus"}),Ee(" Bonus ")],-1)),ge(i("input",{type:"number","onUpdate:modelValue":P=>_.bonus=P,placeholder:"0"},null,8,R2),[[Ae,_.bonus,void 0,{number:!0}]])]),i("div",P2,[v[14]||(v[14]=i("label",{class:"form-label-inline"},[i("i",{class:"bi bi-fire"}),Ee(" Tipo ")],-1)),ge(i("select",{"onUpdate:modelValue":P=>_.type=P},[(Y(!0),G(Ve,null,Xe(ye(cr),P=>(Y(),G("option",{key:P.id,value:P.id},ie(P.name),9,M2))),128))],8,O2),[[Ot,_.type]])])]),i("button",{onClick:P=>c(N),class:"btn-remove-roll",title:"Eliminar tirada "+(N+1)},v[15]||(v[15]=[i("i",{class:"bi bi-trash-fill"},null,-1)]),8,B2)]))),128)),i("button",{onClick:u,class:"btn-add-roll"},v[16]||(v[16]=[i("i",{class:"bi bi-plus-circle"},null,-1),Ee(" Aadir tipo de dao ")]))]),i("div",L2,[i("button",{onClick:f,class:"btn-save"},[v[18]||(v[18]=i("i",{class:"bi bi-check-circle-fill"},null,-1)),Ee(" "+ie(r.value?"Guardar Cambios":"Crear"),1)]),i("button",{onClick:p,class:"btn-cancel"},v[19]||(v[19]=[i("i",{class:"bi bi-x-circle-fill"},null,-1),Ee(" Cancelar ")]))])])])):Te("",!0)])])]))}},U2=jt(N2,[["__scopeId","data-v-31b5d63c"]]),F2={class:"character-view-container fade-in"},V2={class:"character-header"},j2={key:0,class:"character-state-display"},z2=["src"],q2={class:"character-name"},W2={class:"state-title-display"},K2={key:1,class:"character-name"},Y2={class:"turn-info"},X2={class:"turn-number"},G2={class:"health-section"},J2={class:"health-header"},Q2={class:"health-stats"},Z2={class:"current-hp"},ex={class:"max-hp"},tx={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},nx={class:"health-bar-container"},ox={class:"health-bar"},rx={class:"health-percentage"},sx={key:0,class:"necro-info"},ix={class:"necro-text"},ax={key:0,class:"temp-health-section"},lx={class:"temp-health-header"},cx={class:"temp-hp-value"},ux={class:"temp-health-bar-container"},dx={class:"temp-health-bar"},fx={key:1,class:"regeneration-info"},px={class:"regeneration-text"},mx={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8 mb-2 custom-fold-row"},hx={key:0},gx={key:1},vx={key:0},bx={key:1},wx={class:"action-buttons"},yx=["disabled"],xx=["disabled"],Cx=["disabled"],_x=["disabled"],Sx=["disabled"],kx=["disabled"],Ex={class:"secondary-actions"},$x={key:0,class:"state-selector-wrapper"},Ax={key:0},Tx={key:1},Dx={class:"state-selector-navigation"},Hx=["disabled"],Ix={class:"state-indicators"},Rx=["onClick"],Px={class:"state-preview"},Ox=["src","alt"],Mx={key:1,class:"state-preview-placeholder"},Bx={class:"state-preview-title"},Lx=["disabled"],Nx={__name:"CharacterView",setup(e){const t=yi(),n=Oo(),o=fl(),r=kf(),s=ut(()=>r.selectedState&&r.selectedState.image?URL.createObjectURL(r.selectedState.image):null),a=L=>L&&L.image?URL.createObjectURL(L.image):null,l=L=>{r.setSelectedState(L)},d=()=>{const L=r.states.findIndex(H=>H.id===r.selectedStateId);L>0?r.setSelectedState(r.states[L-1].id):r.setSelectedState(r.states[r.states.length-1].id)},p=()=>{const L=r.states.findIndex(H=>H.id===r.selectedStateId);L<r.states.length-1?r.setSelectedState(r.states[L+1].id):r.setSelectedState(r.states[0].id)},u=$e(!1),c=$e(!1),f=$e(!1),m=$e(!1),b=$e(!0);function y(){try{const L=localStorage.getItem("dnd-character-folds");if(L){const H=JSON.parse(L);f.value=!!H.countersFolded,m.value=!!H.statesFolded,b.value=H.stateSelectorFolded!==void 0?!!H.stateSelectorFolded:!0}}catch{}}function v(){localStorage.setItem("dnd-character-folds",JSON.stringify({countersFolded:f.value,statesFolded:m.value,stateSelectorFolded:b.value}))}function _(){f.value=!f.value,v()}function N(){m.value=!m.value,v()}function P(){b.value=!b.value,v()}Jt(async()=>{n.loadFromLocalStorage(),await r.loadStates(),y(),n.character.isConfigured||t.push("/config")});const I=()=>{const L=n.startTurn();if(L){const{totalDamage:H,damageDetails:Q}=L,re=Q.map(ce=>`<li style="margin-bottom: 8px; color: #ecf0f1; font-size: 1rem;">
        <strong style="color: #f39c12;">${ce.name}:</strong> ${ce.damage} de dao (${ce.details})
      </li>`).join("");Re.fire({title:'<span style="color: #e74c3c;">Dao Pasivo Recibido</span>',html:`
        <div style="text-align: left; padding: 10px;">
          <p style="font-size: 1.2rem; margin-bottom: 15px; color: #ecf0f1;">
            Dao total: <strong style="color: #e74c3c; font-size: 1.5rem;">${H}</strong>
          </p>
          <ul style="list-style-type: none; padding-left: 0;">
            ${re}
          </ul>
        </div>
      `,icon:"warning",confirmButtonText:"Aceptar",customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn"},background:"#1a1a1a",color:"#ffffff"}).then(()=>{n.applyPassiveDamage(H,Q)})}},A=()=>{n.endTurn()},k=()=>{Re.fire({title:"Curar Personaje",input:"number",inputLabel:"Cantidad de HP a curar",inputPlaceholder:"Ej: 10",inputAttributes:{min:"1",max:n.character.maxHp-n.character.currentHp},showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",inputValidator:L=>{if(!L||L<=0)return"Debes ingresar un nmero vlido";if(L>n.character.maxHp-n.character.currentHp)return`No puedes curar ms all del mximo (${n.character.maxHp-n.character.currentHp} HP)`}}).then(L=>{if(L.isConfirmed){const H=parseInt(L.value);n.heal(H)}})},V=()=>{Re.fire({title:"Agregar Vida Temporal",input:"number",inputLabel:"Cantidad de HP temporal",inputPlaceholder:"Ej: 15",inputAttributes:{min:"1",max:"999"},showCancelButton:!0,confirmButtonText:"Agregar",cancelButtonText:"Cancelar",inputValidator:L=>{if(!L||L<=0)return"Debes ingresar un nmero vlido"}}).then(L=>{if(L.isConfirmed){const H=parseInt(L.value);n.addTempHp(H)}})},$=()=>{Re.fire({title:"Recibir Dao",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="damage-amount" type="number" placeholder="Ej: 25" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Recibir Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const L=document.getElementById("damage-amount").value,H=document.getElementById("necro-damage").checked;return!L||L<=0?(Re.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(L),isNecroDamage:H}}}).then(L=>{if(L.isConfirmed){const{amount:H,isNecroDamage:Q}=L.value;n.takeDamage(H,Q)}})},E=()=>{Re.fire({title:"Dao Resistente",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="resistant-damage-amount" type="number" placeholder="Ej: 20" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-resistant-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Aplicar Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const L=document.getElementById("resistant-damage-amount").value,H=document.getElementById("necro-resistant-damage").checked;return!L||L<=0?(Re.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(L),isNecroDamage:H}}}).then(L=>{if(L.isConfirmed){const{amount:H,isNecroDamage:Q}=L.value,re=Math.floor(H/2);n.takeDamage(re,Q)}})},M=()=>{Re.fire({title:"Resetear HP?",text:"Quieres restaurar la vida al mximo y eliminar la vida temporal?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&n.resetToMaxHp()})},C=async()=>{if(n.character.maxHp<n.character.originalMaxHp){const H=n.character.maxHp;n.character.maxHp=n.character.originalMaxHp,n.addLog("Restaurar HP Mximo",`HP mximo restaurado de ${H} a ${n.character.originalMaxHp} (dao necro revertido)`),n.saveToLocalStorage()}const{value:L}=await Re.fire({title:`
      <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:8px;">
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
        <span>Ritual de Resurreccin</span>
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
      </div>
    `,html:`
      <div style="background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%); 
                  border: 2px solid #d4af37; 
                  border-radius: 12px; 
                  padding: 20px; 
                  margin: 10px 0;
                  box-shadow: inset 0 0 20px rgba(212, 175, 55, 0.1);">
        <div style="text-align: center; margin-bottom: 16px;">
          <div style="color: #f39c12; font-size: 1.2em; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">
            ${n.character.name}
          </div>
          <div style="color: #bbb; font-size: 0.9em; margin-top: 4px;">
            Elige el mtodo de resurreccin
          </div>
        </div>
        <div style="text-align: left; font-size: 1.05em;">
          <!-- Opcin 1: 1 HP -->
          <label style="display: block; background: linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%); border: 1px solid rgba(39, 174, 96, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease; position: relative;"
                 onmouseover="this.style.borderColor='rgba(39, 174, 96, 0.6)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.25) 0%, rgba(39, 174, 96, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(39, 174, 96, 0.3)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="1" checked style="accent-color: #27ae60; transform: scale(1.2);">
              <i class="bi bi-heart" style="color: #27ae60; font-size: 1.1em;"></i>
              <div>
                <div style="color: #27ae60; font-weight: 700; font-size: 1.05em;">Resurreccin Bsica</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con 1 punto de vida</div>
              </div>
            </div>
          </label>
          <!-- Opcin 2: Media vida -->
          <label style="display: block; background: linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%); border: 1px solid rgba(243, 156, 18, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(243, 156, 18, 0.6)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.25) 0%, rgba(243, 156, 18, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(243, 156, 18, 0.3)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="half" style="accent-color: #f39c12; transform: scale(1.2);">
              <i class="bi bi-heart-half" style="color: #f39c12; font-size: 1.1em;"></i>
              <div>
                <div style="color: #f39c12; font-weight: 700; font-size: 1.05em;">Resurreccin Mejorada</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con ${Math.floor(n.character.maxHp/2)} HP (50% vida mxima)</div>
              </div>
            </div>
          </label>
          <!-- Opcin 3: Personalizada -->
          <label style="display: block; background: linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%); border: 1px solid rgba(155, 89, 182, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 16px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(155, 89, 182, 0.6)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.25) 0%, rgba(155, 89, 182, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(155, 89, 182, 0.3)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%)'">
            <div style="display: flex; align-items: flex-start; gap: 10px;">
              <input type="radio" name="reviveOption" value="custom" style="accent-color: #9b59b6; transform: scale(1.2); margin-top: 2px;">
              <i class="bi bi-gear-fill" style="color: #9b59b6; font-size: 1.1em; margin-top: 2px;"></i>
              <div style="flex: 1;">
                <div style="color: #9b59b6; font-weight: 700; font-size: 1.05em; margin-bottom: 8px;">Resurreccin Personalizada</div>
                <input id="customHpInput" type="number" min="1" max="${n.character.maxHp}" placeholder="Cantidad de HP" disabled style="width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(155, 89, 182, 0.4); border-radius: 6px; padding: 8px 12px; color: #fff; font-size: 0.95em; transition: all 0.3s ease;" onfocus="this.style.borderColor='#9b59b6'; this.style.boxShadow='0 0 8px rgba(155, 89, 182, 0.3)'" onblur="this.style.borderColor='rgba(155, 89, 182, 0.4)'; this.style.boxShadow='none'">
                <div style="color: #aaa; font-size: 0.85em; margin-top: 4px;">Especifica la cantidad exacta de HP</div>
              </div>
            </div>
          </label>
        </div>
        <div style="background: rgba(52, 152, 219, 0.1); border: 1px solid rgba(52, 152, 219, 0.3); border-radius: 6px; padding: 12px; text-align: center;">
          <i class="bi bi-info-circle-fill" style="color: #3498db; margin-right: 8px;"></i>
          <span style="color: #bbb; font-size: 0.9em;">Vida mxima actual: <strong style="color: #3498db;">${n.character.maxHp} HP</strong></span>
        </div>
      </div>
    `,customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn",cancelButton:"dnd-cancel-btn"},showCancelButton:!0,confirmButtonText:`
      <i class="bi bi-magic" style="margin-right: 8px; color: #d4af37;"></i>
      Realizar Ritual
    `,cancelButtonText:`
      <i class="bi bi-x-circle" style="margin-right: 6px;"></i>
      Cancelar
    `,background:"#1a1a1a",color:"#ffffff",preConfirm:()=>{const H=document.querySelector('input[name="reviveOption"]:checked').value;if(H==="custom"){const Q=parseInt(document.getElementById("customHpInput").value);return isNaN(Q)||Q<1||Q>n.character.maxHp?(Re.showValidationMessage(`Introduce un valor entre 1 y ${n.character.maxHp}`),!1):Q}return H==="half"?Math.floor(n.character.maxHp/2):1},didOpen:()=>{const H=document.createElement("style");H.textContent=`
        .dnd-modal-popup {
          background: linear-gradient(145deg, #2c2c2c 0%, #1a1a1a 100%) !important;
          border: 2px solid #d4af37 !important;
          border-radius: 16px !important;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7), 0 0 30px rgba(212, 175, 55, 0.2) !important;
        }
        .dnd-modal-title {
          color: #d4af37 !important;
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8) !important;
          font-weight: 700 !important;
          font-size: 1.4em !important;
        }
        .dnd-confirm-btn {
          background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%) !important;
          color: #1a1a1a !important;
          border: none !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 600 !important;
          font-size: 1.05em !important;
          transition: all 0.3s ease !important;
          box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3) !important;
        }
        .dnd-confirm-btn:hover {
          background: linear-gradient(135deg, #e6c451 0%, #d4af37 100%) !important;
          transform: translateY(-2px) !important;
          box-shadow: 0 6px 16px rgba(212, 175, 55, 0.4) !important;
        }
        .dnd-cancel-btn {
          background: linear-gradient(135deg, #555 0%, #333 100%) !important;
          color: #fff !important;
          border: 1px solid #666 !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 500 !important;
          transition: all 0.3s ease !important;
        }
        .dnd-cancel-btn:hover {
          background: linear-gradient(135deg, #666 0%, #444 100%) !important;
          border-color: #777 !important;
          transform: translateY(-1px) !important;
        }
        .swal2-actions {
          gap: 16px !important;
          margin-top: 24px !important;
        }
      `,document.head.appendChild(H);const Q=Re.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),re=Re.getHtmlContainer().querySelector("#customHpInput");Q.forEach(ce=>{ce.addEventListener("change",()=>{ce.value==="custom"?(re.disabled=!1,re.focus()):re.disabled=!0})})}});L&&L>0&&n.revive(L)},g=()=>{Re.fire({title:"Resetear Turno?",text:"Quieres volver al turno 0?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&n.resetTurn()})},S=()=>{t.push("/config")},D=()=>{t.push("/logs")},U=()=>{Re.fire({title:"Descanso Largo",text:"Quieres restaurar la vida al mximo, reiniciar el turno y recargar contadores?",icon:"question",showCancelButton:!0,confirmButtonText:"S, descansar",cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&(n.resetToMaxHp(),n.resetTurn(),o.regenerateCountersByRest("long"))})},x=()=>{Re.fire({title:"Descanso Corto",text:"Quieres reiniciar el contador de turnos y recargar contadores? (La vida no se restaura)",icon:"question",showCancelButton:!0,confirmButtonText:"S, reiniciar turnos",cancelButtonText:"Cancelar"}).then(L=>{L.isConfirmed&&(n.resetTurn(),o.regenerateCountersByRest("short"))})},w=()=>{const L=n.character.originalMaxHp-n.character.maxHp;Re.fire({title:"Curar Dao Necro",html:`
      <div style="margin-bottom: 20px;">
        <p style="margin-bottom: 15px; color: #ecf0f1;">Dao necro acumulado: <strong style="color: #e74c3c;">${L} HP</strong></p>
        <input id="heal-necro-amount" type="number" placeholder="Cantidad a curar" min="1" max="${L}" value="1" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left; background: rgba(231, 76, 60, 0.2); padding: 12px; border-radius: 8px; border: 1px solid rgba(231, 76, 60, 0.3);">
          <p style="margin: 0; color: #e74c3c; font-size: 0.9rem;">
            <strong>Qu hace esta accin?</strong><br>
            - Aumenta tu HP mximo en la cantidad especificada<br>
            - Cura tu HP actual en la misma cantidad
          </p>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",preConfirm:()=>{const H=document.getElementById("heal-necro-amount").value;if(!H||H<=0)return Re.showValidationMessage("Debes ingresar un nmero vlido"),!1;const Q=parseInt(H);return Q>L?(Re.showValidationMessage(`No puedes curar ms dao necro del acumulado (${L} HP)`),!1):{amount:Q}}}).then(H=>{if(H.isConfirmed){const{amount:Q}=H.value;J(Q)}})},J=L=>{const H=n.character.maxHp,Q=n.character.currentHp;n.character.maxHp=Math.min(n.character.originalMaxHp,n.character.maxHp+L),n.character.currentHp=Math.min(n.character.maxHp,n.character.currentHp+L),n.addLog("Curar Dao Necro",`HP mximo restaurado: +${n.character.maxHp-H} (${H}  ${n.character.maxHp}) | HP actual curado: +${n.character.currentHp-Q} (${Q}  ${n.character.currentHp})`),n.saveToLocalStorage(),Re.fire({icon:"success",title:"Dao Necro Curado",text:`Has curado ${L} puntos de dao necro`,timer:2e3,showConfirmButton:!1})};return(L,H)=>(Y(),G("div",F2,[i("div",V2,[ye(r).selectedState?(Y(),G("div",j2,[s.value?(Y(),G("img",{key:0,src:s.value,alt:"Estado del personaje",class:"state-image-display"},null,8,z2)):Te("",!0),i("h1",q2,ie(ye(n).character.name),1),i("span",W2,ie(ye(r).selectedState.title),1)])):(Y(),G("h1",K2,ie(ye(n).character.name),1)),i("div",Y2,[H[4]||(H[4]=i("span",{class:"turn-label"},"Turno:",-1)),i("span",X2,ie(ye(n).turn.current),1)])]),i("div",G2,[i("div",J2,[H[6]||(H[6]=i("h2",null,"Puntos de Vida",-1)),i("div",Q2,[i("span",Z2,ie(ye(n).character.currentHp),1),H[5]||(H[5]=i("span",{class:"separator"},"/",-1)),i("span",ex,ie(ye(n).character.maxHp),1),ye(n).character.maxHp<ye(n).character.originalMaxHp?(Y(),G("span",tx,"  ")):Te("",!0)])]),i("div",nx,[i("div",ox,[i("div",{class:at(["health-fill",ye(n).hasTempHp?"temp-hp":ye(n).hpBarColor]),style:Tn({width:`${ye(n).hpPercentage}%`})},null,6),ye(n).character.maxHp<ye(n).character.originalMaxHp?(Y(),G("div",{key:0,class:"necro-bar-indicator",style:Tn({left:`${ye(n).character.maxHp/ye(n).character.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):Te("",!0)]),i("div",rx,ie(Math.round(ye(n).hpPercentage))+"%",1)]),ye(n).character.maxHp<ye(n).character.originalMaxHp?(Y(),G("div",sx,[H[7]||(H[7]=i("span",{class:"necro-icon"},"",-1)),i("span",ix,"HP mximo reducido por dao necro: "+ie(ye(n).character.maxHp)+" / "+ie(ye(n).character.originalMaxHp),1)])):Te("",!0)]),ye(n).hasTempHp?(Y(),G("div",ax,[i("div",lx,[H[8]||(H[8]=i("h3",null,"Vida Temporal",-1)),i("span",cx,ie(ye(n).character.tempHp),1)]),i("div",ux,[i("div",dx,[i("div",{class:"temp-health-fill",style:Tn({width:`${ye(n).tempHpPercentage}%`})},null,4)])])])):Te("",!0),ye(n).character.regeneration>0?(Y(),G("div",fx,[H[9]||(H[9]=i("span",{class:"regeneration-icon"},"",-1)),i("span",px,"Regeneracin: +"+ie(ye(n).character.regeneration)+" HP/turno",1)])):Te("",!0),i("div",mx,[i("div",null,[i("button",{onClick:_,class:"fold-btn"},[f.value?(Y(),G("span",hx," Mostrar Contadores")):(Y(),G("span",gx," Ocultar Contadores"))]),ge(i("div",null,[mt(nw)],512),[[Ui,!f.value]])]),i("div",null,[i("button",{onClick:N,class:"fold-btn"},[m.value?(Y(),G("span",vx," Mostrar Estados")):(Y(),G("span",bx," Ocultar Estados"))]),ge(i("div",null,[mt(yw)],512),[[Ui,!m.value]])])]),i("div",wx,[ye(n).turn.isActive?(Y(),G("button",{key:1,onClick:A,class:"action-btn btn-end-turn"},H[11]||(H[11]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Finalizar Turno",-1)]))):(Y(),G("button",{key:0,onClick:I,class:"action-btn btn-start-turn"},H[10]||(H[10]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Iniciar Turno",-1)]))),i("button",{onClick:k,class:"action-btn btn-heal",disabled:!ye(n).isAlive||ye(n).character.currentHp>=ye(n).character.maxHp},H[12]||(H[12]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Curar",-1)]),8,yx),i("button",{onClick:V,class:"action-btn btn-temp-hp",disabled:!ye(n).isAlive},H[13]||(H[13]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Vida Temporal",-1)]),8,xx),i("button",{onClick:$,class:"action-btn btn-damage",disabled:!ye(n).isAlive},H[14]||(H[14]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Recibir Dao",-1)]),8,Cx),i("button",{onClick:E,class:"action-btn btn-resistant-damage",disabled:!ye(n).isAlive},H[15]||(H[15]=[i("span",{class:"btn-icon"},[i("i",{"data-v-6dd7d5c6":"",class:"bi bi-shield-slash"})],-1),i("span",{class:"btn-text"},"Dao Resistente",-1)]),8,_x),ye(n).character.maxHp<ye(n).character.originalMaxHp?(Y(),G("button",{key:2,onClick:w,class:"action-btn btn-restore-max",title:"Curar una cantidad especfica de dao necro"},H[16]||(H[16]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Curar Dao Necro",-1)]))):Te("",!0),i("button",{onClick:H[0]||(H[0]=Q=>u.value=!0),class:"action-btn btn-attack-manager",disabled:!ye(n).isAlive},H[17]||(H[17]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Gestor de Ataques",-1)]),8,Sx),i("button",{onClick:H[1]||(H[1]=Q=>c.value=!0),class:"action-btn btn-passive-damage-manager",disabled:!ye(n).isAlive},H[18]||(H[18]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Dao Pasivo",-1)]),8,kx)]),u.value?(Y(),Vn(a2,{key:2,onClose:H[2]||(H[2]=Q=>u.value=!1)})):Te("",!0),c.value?(Y(),Vn(U2,{key:3,onClose:H[3]||(H[3]=Q=>c.value=!1)})):Te("",!0),i("div",Ex,[i("button",{onClick:U,class:"secondary-btn btn-long-rest"},H[19]||(H[19]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Descanso Largo",-1)])),i("button",{onClick:x,class:"secondary-btn btn-short-rest"},H[20]||(H[20]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Descanso Corto",-1)])),ye(r).selectedState?(Y(),G("div",$x,[i("button",{onClick:P,class:"state-selector-fold-btn"},[b.value?(Y(),G("span",Ax," Mostrar Selector de Estados")):(Y(),G("span",Tx," Ocultar Selector de Estados"))]),ge(i("div",Dx,[i("button",{onClick:d,class:"state-nav-btn state-nav-prev",disabled:ye(r).states.length<=1,title:"Estado anterior"},H[21]||(H[21]=[i("span",null,"",-1)]),8,Hx),i("div",Ix,[(Y(!0),G(Ve,null,Xe(ye(r).states,Q=>(Y(),G("button",{key:Q.id,onClick:re=>l(Q.id),class:at(["state-indicator",{active:Q.id===ye(r).selectedStateId}])},[i("div",Px,[Q.image?(Y(),G("img",{key:0,src:a(Q),alt:Q.title,class:"state-preview-image"},null,8,Ox)):(Y(),G("div",Mx,H[22]||(H[22]=[i("span",null,"",-1)])))]),i("span",Bx,ie(Q.title),1)],10,Rx))),128))]),i("button",{onClick:p,class:"state-nav-btn state-nav-next",disabled:ye(r).states.length<=1,title:"Estado siguiente"},H[23]||(H[23]=[i("span",null,"",-1)]),8,Lx)],512),[[Ui,!b.value]])])):Te("",!0),i("button",{onClick:M,class:"secondary-btn btn-reset"},H[24]||(H[24]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Resetear HP",-1)])),ye(n).isAlive?Te("",!0):(Y(),G("button",{key:1,onClick:C,class:"secondary-btn btn-revive"},H[25]||(H[25]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Revivir",-1)]))),i("button",{onClick:g,class:"secondary-btn btn-reset-turn"},H[26]||(H[26]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Resetear Turno",-1)])),i("button",{onClick:D,class:"secondary-btn btn-logs"},H[27]||(H[27]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Ver Historial",-1)])),i("button",{onClick:S,class:"secondary-btn btn-config"},H[28]||(H[28]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Configuracin",-1)]))])]))}},Ux=jt(Nx,[["__scopeId","data-v-9b72f0e3"]]),Fx={class:"logs-view-container fade-in"},Vx={class:"logs-header"},jx={class:"logs-stats"},zx={class:"stats-item"},qx={class:"stats-value"},Wx={class:"stats-item"},Kx={class:"stats-value"},Yx={class:"logs-filters"},Xx={class:"filter-group"},Gx={class:"filter-group"},Jx=["value"],Qx={class:"logs-content"},Zx={key:0,class:"no-logs"},eC={key:1,class:"logs-list"},tC={class:"turn-header"},nC={class:"turn-title"},oC={class:"turn-count"},rC={class:"turn-logs"},sC={class:"log-header"},iC={class:"log-action"},aC={class:"action-icon"},lC={class:"action-name"},cC={class:"log-time"},uC={class:"log-details"},dC={class:"log-description"},fC={key:0,class:"hp-changes"},pC={key:0,class:"hp-change"},mC={key:1,class:"hp-change"},hC={__name:"LogsView",setup(e){const t=yi(),n=Oo(),o=$e(""),r=$e("");Jt(()=>{n.loadFromLocalStorage(),n.character.isConfigured||t.push("/config")});const s=ut(()=>Object.keys(n.logsByTurn).map(Number).sort((v,_)=>_-v)),a=ut(()=>{let y=n.logs;return o.value&&(y=y.filter(v=>v.action===o.value)),r.value!==""&&(y=y.filter(v=>v.turn===r.value)),y}),l=ut(()=>{const y={};return a.value.forEach(v=>{y[v.turn]||(y[v.turn]=[]),y[v.turn].push(v)}),Object.fromEntries(Object.entries(y).sort(([v],[_])=>Number(_)-Number(v)))}),d=()=>{o.value="",r.value=""},p=y=>({"Inicio de Turno":"log-turn-start","Fin de Turno":"log-turn-end",Curacin:"log-heal","Regeneracin Automtica":"log-regen","Vida Temporal":"log-temp","Dao Recibido":"log-damage","Reset HP":"log-reset","Reset Turno":"log-reset-turn",Configuracin:"log-config"})[y]||"log-default",u=y=>({"Inicio de Turno":"","Fin de Turno":"",Curacin:"","Regeneracin Automtica":"","Vida Temporal":"","Dao Recibido":"","Reset HP":"","Reset Turno":"",Configuracin:""})[y]||"",c=(y,v)=>v>y?"hp-increase":v<y?"hp-decrease":"hp-no-change",f=()=>{const y=n.logs.map(P=>`[${P.timestamp}] Turno ${P.turn} - ${P.action}: ${P.details}`).join(`
`),v=new Blob([y],{type:"text/plain"}),_=URL.createObjectURL(v),N=document.createElement("a");N.href=_,N.download=`dnd-logs-${n.character.name}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(_),Re.fire({icon:"success",title:"Logs Exportados",text:"Los logs se han descargado correctamente",timer:2e3,showConfirmButton:!1})},m=()=>{t.push("/character")},b=()=>{Re.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(y=>{y.isConfirmed&&(n.clearAllLogs(),Re.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})};return(y,v)=>(Y(),G("div",Fx,[i("div",Vx,[v[4]||(v[4]=i("h1",{class:"logs-title"}," Historial de Acciones",-1)),i("div",jx,[i("span",zx,[v[2]||(v[2]=i("span",{class:"stats-label"},"Total de Acciones:",-1)),i("span",qx,ie(ye(n).logs.length),1)]),i("span",Wx,[v[3]||(v[3]=i("span",{class:"stats-label"},"Turnos Registrados:",-1)),i("span",Kx,ie(Object.keys(ye(n).logsByTurn).length),1)])])]),i("div",Yx,[i("div",Xx,[v[6]||(v[6]=i("label",{for:"actionFilter",class:"filter-label"},"Filtrar por Accin:",-1)),ge(i("select",{id:"actionFilter","onUpdate:modelValue":v[0]||(v[0]=_=>o.value=_),class:"filter-select"},v[5]||(v[5]=[fo('<option value="" data-v-44969c75>Todas las acciones</option><option value="Inicio de Turno" data-v-44969c75>Inicio de Turno</option><option value="Fin de Turno" data-v-44969c75>Fin de Turno</option><option value="Curacin" data-v-44969c75>Curacin</option><option value="Regeneracin Automtica" data-v-44969c75>Regeneracin Automtica</option><option value="Vida Temporal" data-v-44969c75>Vida Temporal</option><option value="Dao Recibido" data-v-44969c75>Dao Recibido</option><option value="Reset HP" data-v-44969c75>Reset HP</option><option value="Reset Turno" data-v-44969c75>Reset Turno</option><option value="Configuracin" data-v-44969c75>Configuracin</option>',10)]),512),[[Ot,o.value]])]),i("div",Gx,[v[8]||(v[8]=i("label",{for:"turnFilter",class:"filter-label"},"Filtrar por Turno:",-1)),ge(i("select",{id:"turnFilter","onUpdate:modelValue":v[1]||(v[1]=_=>r.value=_),class:"filter-select"},[v[7]||(v[7]=i("option",{value:""},"Todos los turnos",-1)),(Y(!0),G(Ve,null,Xe(s.value,_=>(Y(),G("option",{key:_,value:_}," Turno "+ie(_),9,Jx))),128))],512),[[Ot,r.value]])]),i("button",{onClick:d,class:"clear-filters-btn"},v[9]||(v[9]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Limpiar Filtros",-1)]))]),i("div",Qx,[a.value.length===0?(Y(),G("div",Zx,v[10]||(v[10]=[i("div",{class:"no-logs-icon"},"",-1),i("h3",null,"No hay logs para mostrar",-1),i("p",null,"Los logs aparecern aqu cuando realices acciones con tu personaje",-1)]))):(Y(),G("div",eC,[(Y(!0),G(Ve,null,Xe(l.value,(_,N)=>(Y(),G("div",{key:N,class:"turn-group"},[i("div",tC,[i("h2",nC,[v[11]||(v[11]=i("span",{class:"turn-icon"},"",-1)),Ee(" Turno "+ie(N),1)]),i("span",oC,ie(_.length)+" acciones",1)]),i("div",rC,[(Y(!0),G(Ve,null,Xe(_,P=>(Y(),G("div",{key:P.id,class:at(["log-entry",p(P.action)])},[i("div",sC,[i("div",iC,[i("span",aC,ie(u(P.action)),1),i("span",lC,ie(P.action),1)]),i("div",cC,ie(P.timestamp),1)]),i("div",uC,[i("p",dC,ie(P.details),1),P.hpBefore!==P.hpAfter||P.tempHpBefore!==P.tempHpAfter?(Y(),G("div",fC,[P.hpBefore!==P.hpAfter?(Y(),G("div",pC,[v[12]||(v[12]=i("span",{class:"change-label"},"HP:",-1)),i("span",{class:at(["change-value",c(P.hpBefore,P.hpAfter)])},ie(P.hpBefore)+"  "+ie(P.hpAfter),3)])):Te("",!0),P.tempHpBefore!==P.tempHpAfter?(Y(),G("div",mC,[v[13]||(v[13]=i("span",{class:"change-label"},"HP Temporal:",-1)),i("span",{class:at(["change-value",c(P.tempHpBefore,P.tempHpAfter)])},ie(P.tempHpBefore)+"  "+ie(P.tempHpAfter),3)])):Te("",!0)])):Te("",!0)])],2))),128))])]))),128))]))]),i("div",{class:"logs-actions"},[i("button",{onClick:b,class:"action-btn btn-clear"},v[14]||(v[14]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Limpiar Logs",-1)])),i("button",{onClick:f,class:"action-btn btn-export"},v[15]||(v[15]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Exportar Logs",-1)])),i("button",{onClick:m,class:"action-btn btn-character"},v[16]||(v[16]=[i("span",{class:"btn-icon"},"",-1),i("span",{class:"btn-text"},"Volver al Personaje",-1)]))])]))}},gC=jt(hC,[["__scopeId","data-v-44969c75"]]),vC=vo("dm",{state:()=>({characters:[],currentTurn:0,isTurnActive:!1}),getters:{aliveCharacters:e=>e.characters.filter(t=>t.currentHp>0),deadCharacters:e=>e.characters.filter(t=>t.currentHp<=0),aliveCount:e=>e.aliveCharacters.length,deadCount:e=>e.deadCharacters.length,getCharacterById:e=>t=>e.characters.find(n=>n.id===t),getCharacterByName:e=>t=>e.characters.find(n=>n.name===t),charactersByHp:e=>[...e.characters].sort((t,n)=>{const o=t.currentHp+t.tempHp,r=n.currentHp+n.tempHp;return o-r}),charactersByName:e=>[...e.characters].sort((t,n)=>t.name.localeCompare(n.name))},actions:{createCharacter(e,t,n=0,o="",r="",s="",a="",l="",d="",p="",u="",c="",f="",m=""){const b={id:Date.now()+Math.random(),name:e.trim(),maxHp:parseInt(t),originalMaxHp:parseInt(t),currentHp:parseInt(t),tempHp:0,regeneration:parseInt(n)||0,xp:o,resistencias:r,inmunidades:s,fuerza:a,destreza:l,constitucion:d,inteligencia:p,sabiduria:u,carisma:c,notas:f,ca:m,isConfigured:!0,createdAt:new Date().toISOString(),logs:[],defeatedBy:null};return this.characters.push(b),this.saveToLocalStorage(),this.addLogToCharacter(b.id,"Creacin",`${e} creado con ${t} HP mximo${n>0?` y regeneracin de ${n} HP/turno`:""}`),b},deleteCharacter(e){const t=this.characters.findIndex(n=>n.id===e);return t!==-1?(this.characters.splice(t,1),this.saveToLocalStorage(),!0):!1},editCharacter(e,t){const n=this.getCharacterById(e);if(n){if(Object.assign(n,t),t.maxHp!==void 0){const o=parseInt(t.maxHp);n.maxHp,n.maxHp=o,n.currentHp>n.maxHp&&(n.currentHp=n.maxHp),o>n.originalMaxHp&&(n.originalMaxHp=o)}return t.currentHp!==void 0&&(n.currentHp=Math.min(parseInt(t.currentHp),n.maxHp)),t.regeneration!==void 0&&(n.regeneration=parseInt(t.regeneration)||0),t.xp!==void 0&&(n.xp=t.xp),t.resistencias!==void 0&&(n.resistencias=t.resistencias),t.inmunidades!==void 0&&(n.inmunidades=t.inmunidades),t.bonoTiradasSalvacion!==void 0&&(n.bonoTiradasSalvacion=t.bonoTiradasSalvacion),t.notas!==void 0&&(n.notas=t.notas),t.fuerza!==void 0&&(n.fuerza=t.fuerza),t.destreza!==void 0&&(n.destreza=t.destreza),t.constitucion!==void 0&&(n.constitucion=t.constitucion),t.inteligencia!==void 0&&(n.inteligencia=t.inteligencia),t.sabiduria!==void 0&&(n.sabiduria=t.sabiduria),t.carisma!==void 0&&(n.carisma=t.carisma),t.ca!==void 0&&(n.ca=t.ca),this.saveToLocalStorage(),this.addLogToCharacter(e,"Edicin","Personaje editado"),!0}return!1},addLogToCharacter(e,t,n){const o=this.getCharacterById(e);if(o){const r={id:Date.now()+Math.random(),timestamp:new Date().toLocaleTimeString(),turn:this.currentTurn,action:t,details:n,hpBefore:o.currentHp,hpAfter:o.currentHp,tempHpBefore:o.tempHp,tempHpAfter:o.tempHp};o.logs.unshift(r),o.logs.length>50&&(o.logs=o.logs.slice(0,50)),this.saveToLocalStorage()}},healCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.currentHp;n.currentHp=Math.min(n.maxHp,n.currentHp+parseInt(t));const r=n.currentHp-o;return r>0&&this.addLogToCharacter(e,"Curacin",`+${r} HP (${o}  ${n.currentHp})`),this.saveToLocalStorage(),r}return 0},addTempHpToCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.tempHp;return n.tempHp+=parseInt(t),this.addLogToCharacter(e,"Vida Temporal",`+${t} HP temporal (${o}  ${n.tempHp})`),this.saveToLocalStorage(),n.tempHp}return 0},damageCharacter(e,t,n=!1){const o=this.getCharacterById(e);if(o){let r=parseInt(t);const s=o.currentHp,a=o.tempHp,l=o.maxHp;o.tempHp>0&&(o.tempHp>=r?(o.tempHp-=r,r=0):(r-=o.tempHp,o.tempHp=0)),r>0&&(o.currentHp=Math.max(0,o.currentHp-r),n&&(o.maxHp=Math.max(1,o.maxHp-r)));let d=`-${t} HP`;return n&&(d+=" (Necro)"),a>0&&(d+=` | Vida temporal: ${a}  ${o.tempHp}`),d+=` | HP actual: ${s}  ${o.currentHp}`,n&&l!==o.maxHp&&(d+=` | HP mximo: ${l}  ${o.maxHp}`),this.addLogToCharacter(e,"Dao Recibido",d),this.saveToLocalStorage(),{damageDealt:t,remainingHp:o.currentHp,remainingTempHp:o.tempHp,maxHpReduced:n?l-o.maxHp:0}}return null},setDefeatedBy(e,t){const n=this.getCharacterById(e);return n?(n.defeatedBy=t,this.saveToLocalStorage(),!0):!1},resetCharacterToMaxHp(e){const t=this.getCharacterById(e);if(t){const n=t.currentHp,o=t.tempHp,r=t.maxHp,s=t.defeatedBy;return t.currentHp=t.originalMaxHp,t.maxHp=t.originalMaxHp,t.tempHp=0,t.defeatedBy=null,this.addLogToCharacter(e,"Reset HP",`HP restaurado al mximo original (${n}  ${t.originalMaxHp}) | HP mximo restaurado (${r}  ${t.originalMaxHp}) | Vida temporal eliminada (${o}  0)${s?` | Hroe eliminado: ${s}`:""}`),this.saveToLocalStorage(),!0}return!1},reviveCharacter(e,t=1){const n=this.getCharacterById(e);if(n&&n.currentHp<=0){const o=n.currentHp,r=n.defeatedBy,s=Math.min(parseInt(t)||1,n.maxHp);return n.currentHp=s,n.tempHp=0,n.defeatedBy=null,this.addLogToCharacter(e,"Revivir",`Personaje revivido de la muerte (${o}  ${s} HP)${r?` | Hroe anterior: ${r}`:""}`),this.saveToLocalStorage(),!0}return!1},startTurn(){this.currentTurn++,this.isTurnActive=!0,this.characters.forEach(e=>{if(e.regeneration>0&&e.currentHp>0){const t=e.currentHp,n=e.maxHp;let o=0;if(e.maxHp<e.originalMaxHp){const a=e.originalMaxHp-e.maxHp,l=Math.min(e.regeneration,a);l>0&&(e.maxHp=Math.min(e.originalMaxHp,e.maxHp+l),o=e.maxHp-n)}e.currentHp=Math.min(e.maxHp,e.currentHp+e.regeneration);const r=e.currentHp-t;let s="";o>0&&r>0?s=`+${r} HP (${t}  ${e.currentHp}) | HP mximo restaurado: +${o} (${n}  ${e.maxHp})`:o>0?s=`HP mximo restaurado: +${o} (${n}  ${e.maxHp})`:r>0&&(s=`+${r} HP (${t}  ${e.currentHp})`),s&&this.addLogToCharacter(e.id,"Regeneracin Automtica",s)}this.addLogToCharacter(e.id,"Inicio de Turno",`Turno ${this.currentTurn} iniciado`)}),this.saveToLocalStorage()},endTurn(){this.isTurnActive=!1,this.characters.forEach(e=>{this.addLogToCharacter(e.id,"Fin de Turno",`Turno ${this.currentTurn} finalizado`)}),this.saveToLocalStorage()},resetAllTurns(){const e=this.currentTurn;this.currentTurn=0,this.isTurnActive=!1,this.characters.forEach(t=>{this.addLogToCharacter(t.id,"Reset Turno",`Contador de turnos reiniciado (${e}  0)`)}),this.saveToLocalStorage()},resetAllCharacters(){this.characters.forEach(e=>{this.resetCharacterToMaxHp(e.id)})},clearAllLogs(){this.characters.forEach(e=>{e.logs=[]}),this.saveToLocalStorage()},importCharacters(e){try{const t=JSON.parse(e);return Array.isArray(t.characters)?(this.characters=t.characters,this.currentTurn=t.currentTurn||0,this.isTurnActive=t.isTurnActive||!1,this.saveToLocalStorage(),!0):!1}catch(t){return console.error("Error importing characters:",t),!1}},exportCharacters(){const e={characters:this.characters,currentTurn:this.currentTurn,isTurnActive:this.isTurnActive,exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)},saveToLocalStorage(){const e={characters:this.characters,currentTurn:this.currentTurn,isTurnActive:this.isTurnActive};localStorage.setItem("dnd-dm-data",JSON.stringify(e))},loadFromLocalStorage(){const e=localStorage.getItem("dnd-dm-data");if(e)try{const t=JSON.parse(e);this.characters=t.characters||[],this.currentTurn=t.currentTurn||0,this.isTurnActive=t.isTurnActive||!1}catch(t){console.error("Error loading DM data from localStorage:",t)}},clearAllData(){this.characters=[],this.currentTurn=0,this.isTurnActive=!1,localStorage.removeItem("dnd-dm-data")}}}),jf=vo("player",{state:()=>({players:[]}),getters:{mostUsedXpValues:e=>{const t=e.players.flatMap(n=>n.xpHistory||[]).reduce((n,o)=>(n[o.amount]=(n[o.amount]||0)+1,n),{});return Object.entries(t).sort(([,n],[,o])=>o-n).slice(0,3).map(([n])=>parseInt(n))}},actions:{loadFromLocalStorage(){const e=localStorage.getItem("dnd-player-data");if(e)try{this.players=JSON.parse(e)}catch(t){console.error("Error loading player data from localStorage:",t),this.players=[]}},saveToLocalStorage(){localStorage.setItem("dnd-player-data",JSON.stringify(this.players))},addPlayer(e){if(!e||!e.trim())return;const t={id:cn(),name:e.trim(),sessionXp:0,xpHistory:[],notes:""};this.players.push(t),this.saveToLocalStorage()},deletePlayer(e){this.players=this.players.filter(t=>t.id!==e),this.saveToLocalStorage()},addXpToPlayer(e,t){const n=this.players.find(o=>o.id===e);if(n&&t>0){const o=parseInt(t);n.sessionXp+=o,n.xpHistory.push({amount:o,timestamp:new Date().toISOString()}),this.saveToLocalStorage()}},addXpToAllPlayers(e){e>0&&this.players.forEach(t=>{this.addXpToPlayer(t.id,e)})},startNewSession(){this.players.forEach(e=>{e.sessionXp=0,e.xpHistory=[]}),this.saveToLocalStorage()},removeXpFromPlayer(e,t){const n=this.players.find(o=>o.id===e);if(n&&t>0){const o=parseInt(t);n.sessionXp-=o,n.xpHistory.push({amount:-o,timestamp:new Date().toISOString()}),this.saveToLocalStorage()}},editPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&(Object.assign(n,t),this.saveToLocalStorage())}}}),bC={key:0,class:"content"},wC={class:"turn-controls"},yC=["disabled"],xC=["disabled"],CC={key:0,class:"initiative-list"},_C=["draggable","onDragstart","onDrop","onTouchstart","onClick"],SC={class:"turn-indicator"},kC={class:"turn-number"},EC={class:"item-name"},$C={key:0,class:"mobile-reorder-buttons"},AC=["onClick","disabled"],TC=["onClick","disabled"],DC=["onClick"],HC={key:1,class:"empty-list"},IC={class:"add-character-section"},RC=["disabled"],PC={__name:"DraggableList",props:{characters:{type:Array,required:!0},players:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,r=dn({x:100,y:100}),s=$e(!1),a=$e([]),l=$e(null),d=$e(""),p=$e(null),u=$e(window.innerWidth<=768);let c=!1,f=null,m=null;const b=ut(()=>window.innerWidth<=768?{}:{top:r.y+"px",left:r.x+"px"}),y=()=>{o("close")},v=()=>{window.innerWidth<=768&&o("close")},_=ut(()=>{const x=n.characters.map(J=>({...J,type:"character"}));return[...n.players.map(J=>({...J,type:"player"})),...x]});wn(_,x=>{const w=[],J=new Set(x.map(H=>H.id));a.value.forEach(H=>{J.has(H.id)&&w.push(H)});const L=new Set(w.map(H=>H.id));x.forEach(H=>{L.has(H.id)||w.push(H)}),a.value=w},{immediate:!0,deep:!0}),Jt(()=>{const x=()=>{u.value=window.innerWidth<=768};window.addEventListener("resize",x),go(()=>{window.removeEventListener("resize",x)})});const N=x=>{if(window.innerWidth<=768)return;c=!0;const w=x.clientX-r.x,J=x.clientY-r.y,L=Q=>{c&&(r.x=Q.clientX-w,r.y=Q.clientY-J)},H=()=>{c=!1,window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",H)};window.addEventListener("mousemove",L),window.addEventListener("mouseup",H)},P=()=>{s.value=!s.value},I=x=>{f=x},A=x=>{if(f===null||f===x)return;const w=a.value.splice(f,1)[0];a.value.splice(x,0,w),l.value!==null&&(f===l.value?l.value=x:f<l.value&&x>=l.value?l.value--:f>l.value&&x<=l.value&&l.value++),f=null,p.value=null},k=(x,w)=>{if(w.target.closest("button"))return;const J=w.touches[0];m={startIndex:x,startY:J.clientY,currentIndex:x,moving:!1},p.value=x,w.preventDefault()},V=x=>{if(!m)return;const w=x.touches[0],J=w.clientY-m.startY;if(Math.abs(J)>10&&(m.moving=!0),!m.moving)return;const L=document.querySelectorAll(".initiative-list li");let H=m.startIndex;if(L.forEach((Q,re)=>{const ce=Q.getBoundingClientRect();ce.top+ce.height/2,w.clientY>ce.top&&w.clientY<ce.bottom&&(H=re)}),H!==m.currentIndex){const Q=a.value.splice(m.currentIndex,1)[0];a.value.splice(H,0,Q),l.value!==null&&(m.currentIndex===l.value?l.value=H:m.currentIndex<l.value&&H>=l.value?l.value--:m.currentIndex>l.value&&H<=l.value&&l.value++),m.currentIndex=H}x.preventDefault()},$=()=>{m=null,p.value=null},E=x=>{if(x===0)return;const w=a.value.splice(x,1)[0];a.value.splice(x-1,0,w),l.value!==null&&(l.value===x?l.value=x-1:l.value===x-1&&(l.value=x))},M=x=>{if(x===a.value.length-1)return;const w=a.value.splice(x,1)[0];a.value.splice(x+1,0,w),l.value!==null&&(l.value===x?l.value=x+1:l.value===x+1&&(l.value=x))},C=x=>{l.value=x},g=()=>{a.value.length!==0&&(l.value===null?l.value=0:l.value=(l.value+1)%a.value.length)},S=()=>{a.value.length>0?l.value=0:l.value=null},D=()=>{if(!d.value.trim())return;const x={id:cn(),name:d.value.trim(),type:"custom"};a.value.push(x),d.value=""},U=x=>{a.value.splice(x,1),l.value!==null&&(x===l.value?a.value.length>0?l.value=Math.min(l.value,a.value.length-1):l.value=null:x<l.value&&l.value--)};return(x,w)=>(Y(),G("div",{class:"draggable-list-overlay",onClick:et(v,["self"])},[i("div",{class:"draggable-list",style:Tn(b.value)},[i("div",{class:"header",onMousedown:N},[w[4]||(w[4]=i("span",null," Orden de Iniciativa",-1)),i("button",{onClick:P,class:"minimize-btn"},ie(s.value?"":""),1),i("button",{onClick:y,class:"close-btn"},"")],32),s.value?Te("",!0):(Y(),G("div",bC,[i("div",wC,[i("button",{onClick:g,class:"btn-next-turn",disabled:a.value.length===0},w[5]||(w[5]=[i("i",{class:"bi bi-arrow-right-circle-fill"},null,-1),Ee(" Siguiente Turno ")]),8,yC),i("button",{onClick:S,class:"btn-reset-turn",disabled:a.value.length===0},w[6]||(w[6]=[i("i",{class:"bi bi-arrow-counterclockwise"},null,-1),Ee(" Resetear ")]),8,xC)]),a.value.length>0?(Y(),G("ul",CC,[(Y(!0),G(Ve,null,Xe(a.value,(J,L)=>(Y(),G("li",{key:J.id,class:at([J.type,{active:l.value===L,dragging:p.value===L}]),draggable:!u.value,onDragstart:H=>I(L),onDragover:w[0]||(w[0]=et(()=>{},["prevent"])),onDrop:H=>A(L),onTouchstart:H=>u.value?null:k(L,H),onTouchmove:w[1]||(w[1]=H=>u.value?null:V(H)),onTouchend:w[2]||(w[2]=H=>u.value?null:$),onClick:H=>C(L)},[i("div",SC,[i("span",kC,ie(L+1),1)]),i("i",{class:at(["bi item-icon",J.type==="player"?"bi-person-fill":"bi-shield-fill"])},null,2),i("span",EC,ie(J.name),1),u.value&&a.value.length>1?(Y(),G("div",$C,[i("button",{onClick:et(H=>E(L),["stop"]),class:"btn-reorder btn-up",disabled:L===0,title:"Mover arriba"},w[7]||(w[7]=[i("i",{class:"bi bi-chevron-up"},null,-1)]),8,AC),i("button",{onClick:et(H=>M(L),["stop"]),class:"btn-reorder btn-down",disabled:L===a.value.length-1,title:"Mover abajo"},w[8]||(w[8]=[i("i",{class:"bi bi-chevron-down"},null,-1)]),8,TC)])):Te("",!0),i("button",{onClick:et(H=>U(L),["stop"]),class:"btn-remove",title:"Quitar de iniciativa"},w[9]||(w[9]=[i("i",{class:"bi bi-x"},null,-1)]),8,DC)],42,_C))),128))])):(Y(),G("div",HC,w[10]||(w[10]=[i("p",null,"No hay personajes en la iniciativa",-1),i("small",null,"Aade jugadores desde el gestor o personajes manualmente",-1)]))),i("div",IC,[ge(i("input",{"onUpdate:modelValue":w[3]||(w[3]=J=>d.value=J),onKeyup:En(D,["enter"]),type:"text",placeholder:"Aadir personaje/enemigo...",class:"input-add-character"},null,544),[[Ae,d.value]]),i("button",{onClick:D,disabled:!d.value.trim(),class:"btn-add-character"},w[11]||(w[11]=[i("i",{class:"bi bi-plus-circle-fill"},null,-1)]),8,RC)])]))],4)]))}},OC=jt(PC,[["__scopeId","data-v-3f89493c"]]),MC={class:"header-actions"},BC={key:0,class:"content"},LC={class:"dice-config"},NC={class:"config-row"},UC={class:"config-row"},FC={class:"config-row"},VC=["disabled"],jC={key:0,class:"bi bi-dice-1"},zC={key:1,class:"bi bi-arrow-clockwise rotating"},qC={key:0,class:"result-section"},WC={class:"current-result"},KC={class:"result-formula"},YC={class:"result-total"},XC={class:"dice-breakdown"},GC={class:"dice-values"},JC={key:0,class:"modifier-display"},QC={class:"history-section"},ZC={class:"history-list"},e_={class:"history-formula"},t_={class:"history-result"},n_={class:"history-time"},o_={key:0,class:"no-history"},jc="diceRollerHistory",r_={__name:"DiceRoller",props:{characters:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=t,o=dn({x:200,y:150}),r=$e(!1),s=$e(1),a=$e(20),l=$e(0),d=$e(null),p=$e([]),u=$e(!1);let c=!1;const f=ut(()=>window.innerWidth<=768?{}:{top:o.y+"px",left:o.x+"px"}),m=()=>{n("close")},b=()=>{window.innerWidth<=768&&n("close")};Jt(()=>{const A=localStorage.getItem(jc);if(A)try{p.value=JSON.parse(A)}catch(k){console.error("Error loading dice history:",k),p.value=[]}window.innerWidth>768&&(o.x=Math.random()*300+200,o.y=Math.random()*200+100)}),wn(p,A=>{localStorage.setItem(jc,JSON.stringify(A))},{deep:!0});const y=A=>{if(window.innerWidth<=768)return;c=!0;const k=A.clientX-o.x,V=A.clientY-o.y,$=M=>{c&&(o.x=Math.max(0,Math.min(window.innerWidth-320,M.clientX-k)),o.y=Math.max(0,Math.min(window.innerHeight-100,M.clientY-V)))},E=()=>{c=!1,window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",E)};window.addEventListener("mousemove",$),window.addEventListener("mouseup",E)},v=()=>{r.value=!r.value},_=A=>Math.floor(Math.random()*A)+1,N=async()=>{u.value=!0,await new Promise(E=>setTimeout(E,500));const A=[];for(let E=0;E<s.value;E++)A.push(_(a.value));const V=A.reduce((E,M)=>E+M,0)+l.value,$={id:Date.now(),rolls:A,modifier:l.value,total:V,formula:`${s.value}d${a.value}${l.value>0?"+"+l.value:l.value<0?l.value:""}`,time:new Date().toLocaleTimeString()};d.value=$,p.value.push($),p.value.length>50&&(p.value=p.value.slice(-50)),u.value=!1},P=A=>{if(a.value===20){if(A===20)return"crit-success";if(A===1)return"crit-fail"}const k=A/a.value;return k>=.8?"high-roll":k<=.2?"low-roll":"normal-roll"},I=()=>{confirm("Ests seguro de que quieres limpiar el historial?")&&(p.value=[],d.value=null)};return(A,k)=>(Y(),G("div",{class:"dice-roller-overlay",onClick:et(b,["self"])},[i("div",{class:"dice-roller",style:Tn(f.value)},[i("div",{class:"header",onMousedown:y},[k[3]||(k[3]=i("span",null,[i("i",{class:"bi bi-dice-6"}),Ee(" Lanzar Dados")],-1)),i("div",MC,[i("button",{onClick:v,class:"minimize-btn"},ie(r.value?"+":"-"),1),i("button",{onClick:m,class:"close-btn"},"")])],32),r.value?Te("",!0):(Y(),G("div",BC,[i("div",LC,[i("div",NC,[k[4]||(k[4]=i("label",null,"Cantidad:",-1)),ge(i("input",{type:"number","onUpdate:modelValue":k[0]||(k[0]=V=>s.value=V),class:"dice-count-input"},null,512),[[Ae,s.value]])]),i("div",UC,[k[6]||(k[6]=i("label",null,"Tipo:",-1)),ge(i("select",{"onUpdate:modelValue":k[1]||(k[1]=V=>a.value=V)},k[5]||(k[5]=[fo('<option value="4" data-v-bd6e18a1>d4</option><option value="6" data-v-bd6e18a1>d6</option><option value="8" data-v-bd6e18a1>d8</option><option value="10" data-v-bd6e18a1>d10</option><option value="12" data-v-bd6e18a1>d12</option><option value="20" data-v-bd6e18a1>d20</option><option value="100" data-v-bd6e18a1>d100</option>',7)]),512),[[Ot,a.value]])]),i("div",FC,[k[7]||(k[7]=i("label",null,"Modificador:",-1)),ge(i("input",{"onUpdate:modelValue":k[2]||(k[2]=V=>l.value=V),type:"number",class:"modifier-input",placeholder:"+0"},null,512),[[Ae,l.value,void 0,{number:!0}]])])]),i("button",{onClick:N,class:"roll-button",disabled:u.value},[u.value?(Y(),G("i",zC)):(Y(),G("i",jC)),Ee(" "+ie(u.value?"Lanzando...":"Lanzar Dados"),1)],8,VC),d.value?(Y(),G("div",qC,[i("div",WC,[i("div",KC,ie(s.value)+"d"+ie(a.value)+ie(l.value>0?"+"+l.value:l.value<0?l.value:""),1),i("div",YC,ie(d.value.total),1)]),i("div",XC,[i("div",GC,[(Y(!0),G(Ve,null,Xe(d.value.rolls,(V,$)=>(Y(),G("span",{key:$,class:at(["dice-value",P(V)])},ie(V),3))),128))]),l.value!==0?(Y(),G("div",JC,ie(l.value>0?"+":"")+ie(l.value),1)):Te("",!0)])])):Te("",!0),i("div",QC,[i("div",{class:"history-header"},[k[8]||(k[8]=i("span",null,"Historial",-1)),i("button",{onClick:I,class:"clear-btn"},"Limpiar")]),i("div",ZC,[(Y(!0),G(Ve,null,Xe(p.value.slice().reverse(),V=>(Y(),G("div",{key:V.id,class:"history-item"},[i("div",e_,ie(V.formula),1),i("div",t_,ie(V.total),1),i("div",n_,ie(V.time),1)]))),128)),p.value.length===0?(Y(),G("div",o_," Sin tiradas an ")):Te("",!0)])])]))],4)]))}},s_=jt(r_,[["__scopeId","data-v-bd6e18a1"]]),i_=vo("dm-attack",{state:()=>({attacks:[],criticalHit:{rule:"default",characterLevel:1}}),actions:{loadCriticalHitConfig(){const e=localStorage.getItem("dnd-dm-critical-hit-config");if(e)try{const t=JSON.parse(e);t&&typeof t=="object"&&(this.criticalHit.rule=t.rule||"default",this.criticalHit.characterLevel=t.characterLevel||1)}catch(t){console.error("Error loading critical hit config from localStorage:",t)}},saveCriticalHitConfig(){localStorage.setItem("dnd-dm-critical-hit-config",JSON.stringify(this.criticalHit))},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveCriticalHitConfig()},loadAttacks(){this.loadCriticalHitConfig();const e=localStorage.getItem("dnd-dm-attacks-data");if(e)try{const t=JSON.parse(e),n=t.map(o=>{let r=!1;return o.lifeSteal&&o.lifeSteal.percentage>0&&(o.damageRolls.forEach(s=>{s.lifeSteal||(s.lifeSteal={percentage:o.lifeSteal.percentage})}),delete o.lifeSteal,r=!0),o.damageRolls.forEach(s=>{s.lifeSteal||(s.lifeSteal={percentage:0},r=!0)}),o.rerollDice||(o.rerollDice=[],r=!0),o.id||(o.id=cn(),r=!0),o});this.attacks=n,n.some(o=>!t.includes(o))&&this.saveAttacks()}catch(t){console.error("Error loading or migrating attacks from localStorage:",t),this.attacks=[]}},saveAttacks(){localStorage.setItem("dnd-dm-attacks-data",JSON.stringify(this.attacks))},addAttack(e){const t={...e,id:cn()};this.attacks.push(t),this.saveAttacks()},updateAttack(e){const t=this.attacks.findIndex(n=>n.id===e.id);t!==-1&&(this.attacks[t]=e,this.saveAttacks())},duplicateAttack(e){const t=this.attacks.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=cn(),n.name=`${t.name} (Copia)`;const o=this.attacks.findIndex(r=>r.id===e);this.attacks.splice(o+1,0,n),this.saveAttacks()}},deleteAttack(e){const t=this.attacks.findIndex(n=>n.id===e);t!==-1&&(this.attacks.splice(t,1),this.saveAttacks())},getAttackById(e){return this.attacks.find(t=>t.id===e)},updateAttackOrder(e){const t=e.map(n=>this.attacks.find(o=>o.id===n));this.attacks=t.filter(n=>n),this.saveAttacks()}}}),a_={class:"attack-manager-container"},l_={class:"header"},c_={class:"header-actions"},u_={class:"content"},d_={class:"attacks-list"},f_={key:0,class:"no-attacks"},p_=["data-id"],m_={class:"header-attack"},h_={class:"attack-info"},g_={class:"attack-name"},v_={class:"attack-summary"},b_={class:"attack-actions"},w_=["onClick"],y_=["onClick"],x_=["onClick"],C_=["onClick"],__=["onClick"],S_={class:"new-attack-area"},k_={class:"attack-form"},E_={class:"attack-form-header"},$_={class:"attack-form-content"},A_={class:"form-group"},T_={class:"damage-rolls-section"},D_={class:"damage-roll-header"},H_={class:"damage-roll-title"},I_=["onClick","disabled"],R_={class:"damage-roll-inputs"},P_={class:"form-group-inline"},O_=["for"],M_=["id","onUpdate:modelValue"],B_={class:"form-group-inline"},L_=["for"],N_=["id","onUpdate:modelValue"],U_={class:"form-group-inline"},F_=["for"],V_=["id","onUpdate:modelValue"],j_=["value"],z_={class:"form-group-inline"},q_=["for"],W_=["id","onUpdate:modelValue"],K_={class:"form-group-inline"},Y_=["for"],X_=["id","onUpdate:modelValue"],G_={class:"form-group-inline"},J_=["for"],Q_=["id","onUpdate:modelValue"],Z_={class:"damage-rolls-section"},e5={key:0,class:"empty-state"},t5={class:"damage-roll-header"},n5={class:"damage-roll-title"},o5=["onClick"],r5={class:"damage-roll-inputs reroll-inputs"},s5={class:"form-group-inline"},i5=["for"],a5=["id","onUpdate:modelValue"],l5={class:"form-group-inline"},c5=["for"],u5=["id","onUpdate:modelValue"],d5={class:"form-group-inline"},f5=["for"],p5=["id","onUpdate:modelValue"],m5={class:"form-actions"},h5={class:"attack-form settings-form"},g5={class:"attack-form-content"},v5={class:"form-group"},b5={key:0,class:"form-group"},w5={key:0,class:"dad-bonus-display"},y5={__name:"DMAttackManager",emits:["close"],setup(e,{emit:t}){const n=i_(),o=Oo(),{criticalHit:r}=Qr(n),s=$e(!1),a=$e(!1),l=$e(!1),d=dn({rule:"default",characterLevel:1}),p=ut(()=>d.rule!=="dad"?0:vl(d.characterLevel)),u=dn({id:null,name:"",damageRolls:[],rerollDice:[]});Jt(()=>{document.body.style.overflow="hidden",n.loadAttacks(),Po(()=>{const C=document.querySelector(".attacks-list");C&&new Le(C,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:D=>{const U=Array.from(D.target.children).map(x=>x.dataset.id).filter(x=>x);n.updateAttackOrder(U)}});const g=document.querySelector(".attack-manager-overlay"),S=document.querySelector(".content");if(g&&S){const D=U=>{U.target.closest(".attack-form-overlay")||(U.preventDefault(),S.scrollTop+=U.deltaY)};g.addEventListener("wheel",D,{passive:!1}),g._wheelHandler=D}})}),go(()=>{document.body.style.overflow="";const C=document.querySelector(".attack-manager-overlay");C&&C._wheelHandler&&C.removeEventListener("wheel",C._wheelHandler)});const c=C=>{if(!C||!C.includes("d"))return{numDice:1,diceType:6};const[g,S]=C.split("d");return{numDice:Number(g)||1,diceType:Number(S)||6}},f=C=>{const g=JSON.parse(JSON.stringify(C));g.damageRolls.forEach(S=>{const{numDice:D,diceType:U}=c(S.dice);S.numDice=D,S.diceType=U,S.lifeSteal||(S.lifeSteal={percentage:0})}),g.rerollDice?g.rerollDice.forEach(S=>{const{numDice:D,diceType:U}=c(S.dice);S.numDice=D,S.diceType=U}):g.rerollDice=[],u.id=g.id,u.name=g.name,u.damageRolls.splice(0,u.damageRolls.length,...g.damageRolls),u.rerollDice.splice(0,u.rerollDice.length,...g.rerollDice),s.value=!0},m=()=>{d.rule=n.criticalHit.rule,d.characterLevel=n.criticalHit.characterLevel,l.value=!0},b=()=>{l.value=!1},y=()=>{n.updateCriticalHitConfig({rule:d.rule,characterLevel:d.characterLevel}),b(),Re.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},v=()=>{a.value=!1,f({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},_=C=>{a.value=!0,f(C)},N=C=>{n.duplicateAttack(C.id)},P=()=>{s.value=!1},I=()=>{u.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},A=C=>{u.damageRolls.splice(C,1)},k=()=>{u.rerollDice||(u.rerollDice=[]),u.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},V=C=>{u.rerollDice.splice(C,1)},$=()=>{if(!u.name){Re.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const C=JSON.parse(JSON.stringify(u));C.damageRolls.forEach(g=>{g.dice=`${g.numDice||1}d${g.diceType||6}`,delete g.numDice,delete g.diceType}),C.rerollDice&&C.rerollDice.forEach(g=>{g.dice=`${g.numDice||1}d${g.diceType||6}`,delete g.numDice,delete g.diceType}),a.value?n.updateAttack(C):n.addAttack(C),P()},E=C=>{Re.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(g=>{g.isConfirmed&&(n.deleteAttack(C),Re.fire("Eliminado","El ataque ha sido eliminado.","success"))})},M=(C,g=!1)=>{let S;g?S=Ff(C,n.criticalHit):S=si(C);const D=Q=>Q.map(re=>`<span class="roll-value ${re.isReplaced?"replaced":""}">${re.value}</span>`).join(", "),U=Q=>{if(!Q)return"";let re='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const ce in Q)re+=`<div class="reroll-type"><strong>${ce}:</strong> [${Q[ce].join(", ")}]</div>`;return re+="</div>",re},x=(Q,re=null)=>{let ce='<div class="attack-result-modal">';ce+=`<h3 class="dnd-title-modern">${Q.name}</h3>`;for(const de in Q.results){const ee=Q.results[de],Ie=Vf(de),pe=(cr.find(ue=>ue.id===de)||{name:de}).name.toUpperCase();ce+=`
        <div class="damage-type-block-modern" style="border-left-color: ${Ie};">
          <div class="damage-header">
            <span class="damage-type-modern" style="color: ${Ie};">${pe}</span>
            <span class="damage-total-modern">${ee.total}</span>
          </div>
          <div class="damage-details">
            <span><strong>Tiradas:</strong> [${D(ee.rolls)}]</span>
            <span><strong>Bonus:</strong> ${ee.bonus>0?"+":""}${ee.bonus}</span>
          </div>
      `,ee.lifeSteal&&(ce+=`
          <div class="lifesteal-details">
            <i class="bi bi-heart-fill"></i>
            <span><strong>Curado:</strong> ${ee.lifeSteal.healed} (${ee.lifeSteal.percentage_display})</span>
          </div>
        `),ce+="</div>"}return ce+=U(re),ce+=`<div class="grand-total-modern">Dao Total: ${Q.grandTotal}</div>`,Q.totalHealed>0&&(ce+=`<div class="total-healed-modern">Curacin Total: ${Q.totalHealed}</div>`),ce+="</div>",ce},w="dnd-modern-modal-styles",J=`
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Teko:wght@700&display=swap');
        .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .dnd-modern-swal-container { padding: 0 !important; }
        .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.5rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; }
        .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
        .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 15px; padding: 15px; border-radius: 4px; }
        .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.5rem; }
        .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.8rem; color: #ff4d4d; }
        .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 20px; padding: 10px; border-radius: 5px; }
        .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
        .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
        .dnd-modern-swal-popup .lifesteal-details { color: #4dff7e; }`,L=`
    .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
    .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
    .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
    .reroll-type { margin-bottom: 5px; padding-left: 10px; }
    .swal2-actions { gap: 15px !important; }
    .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
    .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`;let H=null;Re.fire({width:600,html:x(S),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:C.rerollDice&&C.rerollDice.length>0,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{if(document.getElementById(w))return;const Q=document.createElement("style");Q.id=w,Q.innerHTML=J+L,document.head.appendChild(Q)},didClose:()=>{S.totalHealed>0&&o.heal(S.totalHealed),o.addLog(`Ataque: ${C.name}`,`Dao total: ${S.grandTotal}. Curacin por robo de vida: ${S.totalHealed}.`)},preDeny:()=>(H=tr(C.rerollDice),Re.update({html:x(S,H),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const Q=document.getElementById("swal-replace-btn");Q&&(Q.onclick=()=>{H||(H=tr(C.rerollDice)),S=ii(S,H),Re.update({html:x(S,H),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1),preCancel:()=>(H||(H=tr(C.rerollDice)),S=ii(S,H),Re.update({html:x(S,H),showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Cerrar"}),!1)})};return(C,g)=>(Y(),G("div",{class:"attack-manager-overlay",onClick:g[5]||(g[5]=et(S=>C.$emit("close"),["self"]))},[i("div",a_,[i("div",l_,[g[7]||(g[7]=i("h2",null,[i("i",{class:"bi bi-shield-fill"}),Ee(" Gestor de Ataques del DM")],-1)),i("div",c_,[i("button",{onClick:m,class:"settings-btn"},g[6]||(g[6]=[i("i",{class:"bi bi-gear-fill"},null,-1)])),i("button",{onClick:g[0]||(g[0]=S=>C.$emit("close")),class:"close-btn"},"")])]),i("div",u_,[i("div",d_,[ye(n).attacks.length===0?(Y(),G("div",f_," No hay ataques guardados para el DM. Crea uno nuevo! ")):Te("",!0),(Y(!0),G(Ve,null,Xe(ye(n).attacks,S=>(Y(),G("div",{key:S.id,class:"attack-item","data-id":S.id},[i("div",m_,[g[8]||(g[8]=i("div",{class:"drag-handle"},[i("i",{class:"bi bi-grip-vertical"})],-1)),i("div",h_,[i("span",g_,ie(S.name),1),i("div",v_,[(Y(!0),G(Ve,null,Xe(S.damageRolls,(D,U)=>(Y(),G("span",{key:U,class:"damage-tag"},ie(D.dice)+" "+ie(D.type),1))),128))])])]),i("div",b_,[i("button",{onClick:D=>M(S,!1),class:"action-btn btn-execute"},"Atacar",8,w_),i("button",{onClick:D=>M(S,!0),class:"action-btn btn-critical"},"Crtico",8,y_),i("button",{onClick:D=>_(S),class:"action-btn btn-edit"},"Editar",8,x_),i("button",{onClick:D=>N(S),class:"action-btn btn-duplicate"},"Duplicar",8,C_),i("button",{onClick:D=>E(S.id),class:"action-btn btn-delete"},"Eliminar",8,__)])],8,p_))),128))]),i("div",S_,[i("button",{onClick:g[1]||(g[1]=S=>v()),class:"btn-new-attack"},g[9]||(g[9]=[i("i",{class:"bi bi-plus-circle-fill"},null,-1),Ee(" Crear Nuevo Ataque ")]))]),s.value?(Y(),G("div",{key:0,class:"attack-form-overlay",onClick:et(P,["self"])},[i("div",k_,[i("div",E_,[i("h3",null,ie(a.value?"Editar Ataque":"Nuevo Ataque"),1),i("button",{onClick:P,class:"form-close-btn","aria-label":"Cerrar formulario"},g[10]||(g[10]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",$_,[i("div",A_,[g[11]||(g[11]=i("label",{for:"attack-name"},"Nombre del Ataque",-1)),ge(i("input",{id:"attack-name",type:"text","onUpdate:modelValue":g[2]||(g[2]=S=>u.name=S),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[Ae,u.name]])]),i("div",T_,[g[15]||(g[15]=i("h4",null,[i("i",{class:"bi bi-dice-6-fill"}),Ee(" Tiradas de Dao")],-1)),(Y(!0),G(Ve,null,Xe(u.damageRolls,(S,D)=>(Y(),G("div",{key:D,class:"damage-roll-item"},[i("div",D_,[i("span",H_,"Dao #"+ie(D+1),1),i("button",{onClick:U=>A(D),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:u.damageRolls.length===1},g[12]||(g[12]=[i("i",{class:"bi bi-trash-fill"},null,-1)]),8,I_)]),i("div",R_,[i("div",P_,[i("label",{for:`dice-num-${D}`},"Cantidad",8,O_),ge(i("input",{id:`dice-num-${D}`,type:"number","onUpdate:modelValue":U=>S.numDice=U,min:"1",max:"20",class:"input-narrow"},null,8,M_),[[Ae,S.numDice,void 0,{number:!0}]])]),i("div",B_,[i("label",{for:`dice-type-${D}`},"Tipo de Dado",8,L_),ge(i("select",{id:`dice-type-${D}`,"onUpdate:modelValue":U=>S.diceType=U},g[13]||(g[13]=[fo('<option value="4" data-v-39909498>d4</option><option value="6" data-v-39909498>d6</option><option value="8" data-v-39909498>d8</option><option value="10" data-v-39909498>d10</option><option value="12" data-v-39909498>d12</option><option value="20" data-v-39909498>d20</option><option value="100" data-v-39909498>d100</option>',7)]),8,N_),[[Ot,S.diceType,void 0,{number:!0}]])]),i("div",U_,[i("label",{for:`type-${D}`},"Tipo de Dao",8,F_),ge(i("select",{id:`type-${D}`,"onUpdate:modelValue":U=>S.type=U},[(Y(!0),G(Ve,null,Xe(ye(cr),U=>(Y(),G("option",{key:U.id,value:U.id},ie(U.name),9,j_))),128))],8,V_),[[Ot,S.type]])]),i("div",z_,[i("label",{for:`bonus-${D}`},"Bonus",8,q_),ge(i("input",{id:`bonus-${D}`,type:"number","onUpdate:modelValue":U=>S.bonus=U,placeholder:"+3"},null,8,W_),[[Ae,S.bonus,void 0,{number:!0}]])]),i("div",K_,[i("label",{for:`min-${D}`},"Mnimo",8,Y_),ge(i("input",{id:`min-${D}`,type:"number","onUpdate:modelValue":U=>S.min=U,placeholder:"1",min:"1"},null,8,X_),[[Ae,S.min,void 0,{number:!0}]])]),i("div",G_,[i("label",{for:`lifesteal-${D}`},"Robo de Vida (%)",8,J_),ge(i("input",{id:`lifesteal-${D}`,type:"number","onUpdate:modelValue":U=>S.lifeSteal.percentage=U,placeholder:"0",min:"0",max:"100"},null,8,Q_),[[Ae,S.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),i("button",{onClick:I,class:"btn-add-roll"},g[14]||(g[14]=[i("i",{class:"bi bi-plus-circle"},null,-1),Ee(" Aadir Tipo de Dao ")]))]),i("div",Z_,[g[20]||(g[20]=i("h4",null,[i("i",{class:"bi bi-arrow-repeat"}),Ee(" Dados de Reroll (Opcional)")],-1)),u.rerollDice.length===0?(Y(),G("div",e5,g[16]||(g[16]=[i("p",null,"No hay dados de reroll configurados",-1)]))):Te("",!0),(Y(!0),G(Ve,null,Xe(u.rerollDice,(S,D)=>(Y(),G("div",{key:D,class:"damage-roll-item"},[i("div",t5,[i("span",n5,"Reroll #"+ie(D+1),1),i("button",{onClick:U=>V(D),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},g[17]||(g[17]=[i("i",{class:"bi bi-trash-fill"},null,-1)]),8,o5)]),i("div",r5,[i("div",s5,[i("label",{for:`reroll-dice-num-${D}`},"Cantidad",8,i5),ge(i("input",{id:`reroll-dice-num-${D}`,type:"number","onUpdate:modelValue":U=>S.numDice=U,min:"1",max:"20",class:"input-narrow"},null,8,a5),[[Ae,S.numDice,void 0,{number:!0}]])]),i("div",l5,[i("label",{for:`reroll-dice-type-${D}`},"Tipo de Dado",8,c5),ge(i("select",{id:`reroll-dice-type-${D}`,"onUpdate:modelValue":U=>S.diceType=U},g[18]||(g[18]=[fo('<option value="4" data-v-39909498>d4</option><option value="6" data-v-39909498>d6</option><option value="8" data-v-39909498>d8</option><option value="10" data-v-39909498>d10</option><option value="12" data-v-39909498>d12</option><option value="20" data-v-39909498>d20</option><option value="100" data-v-39909498>d100</option>',7)]),8,u5),[[Ot,S.diceType,void 0,{number:!0}]])]),i("div",d5,[i("label",{for:`reroll-min-${D}`},"Mnimo",8,f5),ge(i("input",{id:`reroll-min-${D}`,type:"number","onUpdate:modelValue":U=>S.min=U,placeholder:"1",min:"1"},null,8,p5),[[Ae,S.min,void 0,{number:!0}]])])])]))),128)),i("button",{onClick:k,class:"btn-add-roll"},g[19]||(g[19]=[i("i",{class:"bi bi-plus-circle"},null,-1),Ee(" Aadir Dado de Reroll ")]))]),i("div",m5,[i("button",{onClick:$,class:"btn-save"},[g[21]||(g[21]=i("i",{class:"bi bi-check-circle-fill"},null,-1)),Ee(" "+ie(a.value?"Guardar Cambios":"Crear Ataque"),1)]),i("button",{onClick:P,class:"btn-cancel"},g[22]||(g[22]=[i("i",{class:"bi bi-x-circle-fill"},null,-1),Ee(" Cancelar ")]))])])])])):Te("",!0),l.value?(Y(),G("div",{key:1,class:"attack-form-overlay",onClick:et(b,["self"])},[i("div",h5,[i("div",{class:"attack-form-header"},[g[24]||(g[24]=i("h3",null,[i("i",{class:"bi bi-gear-fill"}),Ee(" Configuracin de Dao Crtico")],-1)),i("button",{onClick:b,class:"form-close-btn","aria-label":"Cerrar configuracin"},g[23]||(g[23]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",g5,[i("div",v5,[g[26]||(g[26]=i("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),ge(i("select",{id:"critical-rule","onUpdate:modelValue":g[3]||(g[3]=S=>d.rule=S),class:"settings-select"},g[25]||(g[25]=[i("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),i("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[Ot,d.rule]])]),d.rule==="dad"?(Y(),G("div",b5,[g[29]||(g[29]=i("label",{for:"character-level"},"Nivel del Personaje",-1)),ge(i("input",{type:"number",id:"character-level","onUpdate:modelValue":g[4]||(g[4]=S=>d.characterLevel=S),min:"1",max:"20",class:"settings-input"},null,512),[[Ae,d.characterLevel,void 0,{number:!0}]]),p.value>0?(Y(),G("div",w5,[g[28]||(g[28]=i("i",{class:"bi bi-lightning-charge-fill"},null,-1)),i("p",null,[g[27]||(g[27]=Ee("Bonus de dao por crtico: ")),i("strong",null,"+"+ie(p.value),1)])])):Te("",!0)])):Te("",!0),i("div",{class:"form-actions"},[i("button",{onClick:y,class:"btn-save"},g[30]||(g[30]=[i("i",{class:"bi bi-check-circle-fill"},null,-1),Ee(" Guardar ")])),i("button",{onClick:b,class:"btn-cancel"},g[31]||(g[31]=[i("i",{class:"bi bi-x-circle-fill"},null,-1),Ee(" Cancelar ")]))])])])])):Te("",!0)])])]))}},x5=jt(y5,[["__scopeId","data-v-39909498"]]),C5={class:"player-manager-content"},_5={class:"player-manager-header"},S5={class:"player-manager-body"},k5={class:"global-controls-player"},E5={class:"add-xp-all"},$5=["disabled"],A5={class:"add-player"},T5=["disabled"],D5={class:"player-list"},H5={key:0,class:"empty-state"},I5={class:"player-info"},R5={class:"player-name"},P5={class:"player-xp-total"},O5={class:"player-actions"},M5={class:"add-xp-single"},B5=["onUpdate:modelValue","onKeyup"],L5=["onClick","disabled"],N5=["onClick","disabled"],U5={class:"quick-xp-buttons"},F5=["onClick"],V5={class:"player-footer"},j5=["onClick"],z5=["onClick"],q5=["onClick"],W5=["onClick"],K5={key:0,class:"xp-history"},Y5={class:"timestamp"},X5={key:0},G5={key:1,class:"notes-section"},J5=["onUpdate:modelValue","onBlur"],Q5={class:"player-manager-content"},Z5={class:"player-manager-header"},eS={class:"player-manager-body"},tS={key:0,class:"edit-form"},nS={class:"form-group"},oS={class:"modal-actions"},rS={__name:"PlayerManager",emits:["close"],setup(e,{emit:t}){const n=t,o=jf(),{players:r,mostUsedXpValues:s}=Qr(o),a=$e(""),l=$e(null),d=$e({}),p=$e(new Set),u=$e(new Set),c=$e(!1),f=$e(null),m=M=>{M.key==="Escape"&&(c.value?c.value=!1:n("close"))};Jt(()=>{o.loadFromLocalStorage(),document.body.classList.add("modal-open"),r.value.forEach(M=>{d.value[M.id]=null}),document.addEventListener("keydown",m)}),go(()=>{document.body.classList.remove("modal-open"),document.removeEventListener("keydown",m)});const b=()=>{a.value.trim()&&(o.addPlayer(a.value),a.value="")},y=M=>{Re.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(C=>{C.isConfirmed&&(o.deletePlayer(M),Re.fire("Eliminado!","El jugador ha sido eliminado.","success"))})},v=M=>{const C=d.value[M];C&&C>0&&(o.addXpToPlayer(M,C),d.value[M]=null)},_=M=>{const C=d.value[M];C&&C>0&&(o.removeXpFromPlayer(M,C),d.value[M]=null)},N=(M,C)=>{o.addXpToPlayer(M,C)},P=()=>{l.value&&l.value>0&&(o.addXpToAllPlayers(l.value),l.value=null)},I=()=>{Re.fire({title:"Iniciar una nueva sesin?",text:"Esto resetear la XP de la sesin actual de todos los jugadores a 0.",icon:"question",showCancelButton:!0,confirmButtonText:"S, iniciar",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(M=>{M.isConfirmed&&(o.startNewSession(),Re.fire({title:"Nueva sesin iniciada!",text:"La XP de la sesin ha sido reseteada.",icon:"success",customClass:{container:"high-z-index"}}))})},A=M=>{p.value.has(M)?p.value.delete(M):p.value.add(M)},k=M=>{f.value={...M},c.value=!0},V=()=>{f.value&&(o.editPlayer(f.value.id,{name:f.value.name}),c.value=!1,f.value=null)},$=M=>{u.value.has(M)?u.value.delete(M):u.value.add(M)},E=M=>{o.editPlayer(M.id,{notes:M.notes})};return(M,C)=>(Y(),G("div",{class:"player-manager-overlay",onClick:C[7]||(C[7]=et(g=>M.$emit("close"),["self"]))},[i("div",C5,[i("div",_5,[C[9]||(C[9]=i("h2",null,[i("i",{class:"bi bi-person-badge"}),Ee(" Gestin de Jugadores")],-1)),i("button",{onClick:C[0]||(C[0]=g=>M.$emit("close")),class:"btn-close"},C[8]||(C[8]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",S5,[i("div",k5,[i("button",{onClick:I,class:"btn btn-warning"},C[10]||(C[10]=[i("i",{class:"bi bi-play-circle"},null,-1),Ee(" Iniciar Nueva Sesin ")])),i("div",E5,[ge(i("input",{type:"number","onUpdate:modelValue":C[1]||(C[1]=g=>l.value=g),placeholder:"XP para todos",min:"1",onKeyup:En(P,["enter"])},null,544),[[Ae,l.value,void 0,{number:!0}]]),i("button",{onClick:P,disabled:!l.value||l.value<=0,class:"btn btn-info"},C[11]||(C[11]=[i("i",{class:"bi bi-people-fill"},null,-1),Ee(" Dar a Todos ")]),8,$5)])]),i("div",A5,[ge(i("input",{type:"text","onUpdate:modelValue":C[2]||(C[2]=g=>a.value=g),placeholder:"Nombre del nuevo jugador",onKeyup:En(b,["enter"])},null,544),[[Ae,a.value]]),i("button",{onClick:b,disabled:!a.value.trim(),class:"btn btn-primary"},C[12]||(C[12]=[i("i",{class:"bi bi-plus-circle"},null,-1),Ee(" Aadir Jugador ")]),8,T5)]),i("div",D5,[ye(r).length===0?(Y(),G("div",H5,C[13]||(C[13]=[i("p",null,"An no hay jugadores. Aade el primero para empezar!",-1)]))):Te("",!0),(Y(!0),G(Ve,null,Xe(ye(r),g=>(Y(),G("div",{key:g.id,class:"player-card"},[i("div",I5,[i("h3",R5,ie(g.name),1),i("div",P5,[C[14]||(C[14]=Ee(" XP Sesin: ")),i("strong",null,ie(g.sessionXp),1)])]),i("div",O5,[i("div",M5,[ge(i("input",{type:"number","onUpdate:modelValue":S=>d.value[g.id]=S,placeholder:"Aadir XP",min:"1",class:"xp-input",onKeyup:En(S=>v(g.id),["enter"])},null,40,B5),[[Ae,d.value[g.id],void 0,{number:!0}]]),i("button",{onClick:S=>v(g.id),disabled:!d.value[g.id]||d.value[g.id]<=0,class:"btn btn-success btn-sm"},C[15]||(C[15]=[i("i",{class:"bi bi-plus"},null,-1)]),8,L5),i("button",{onClick:S=>_(g.id),disabled:!d.value[g.id]||d.value[g.id]<=0,class:"btn btn-danger btn-sm"},C[16]||(C[16]=[i("i",{class:"bi bi-dash"},null,-1)]),8,N5)]),i("div",U5,[(Y(!0),G(Ve,null,Xe(ye(s),S=>(Y(),G("button",{key:S,onClick:D=>N(g.id,S),class:"btn btn-outline-primary btn-sm"}," +"+ie(S)+" XP ",9,F5))),128))])]),i("div",V5,[i("button",{onClick:S=>A(g.id),class:"btn btn-link btn-sm"},C[17]||(C[17]=[i("i",{class:"bi bi-clock-history"},null,-1),Ee(" Ver Historial ")]),8,j5),i("button",{onClick:S=>$(g.id),class:"btn btn-link btn-sm"},C[18]||(C[18]=[i("i",{class:"bi bi-journal-text"},null,-1),Ee(" Notas ")]),8,z5),i("div",null,[i("button",{onClick:S=>k(g),class:"btn btn-secondary btn-sm"},C[19]||(C[19]=[i("i",{class:"bi bi-pencil"},null,-1),Ee(" Editar ")]),8,q5),i("button",{onClick:S=>y(g.id),class:"btn btn-danger btn-sm"},C[20]||(C[20]=[i("i",{class:"bi bi-trash"},null,-1)]),8,W5)])]),p.value.has(g.id)?(Y(),G("div",K5,[C[21]||(C[21]=i("h4",null,"Historial de XP (Sesin)",-1)),i("ul",null,[(Y(!0),G(Ve,null,Xe(g.xpHistory,(S,D)=>(Y(),G("li",{key:D,class:at({"xp-gain":S.amount>0,"xp-loss":S.amount<0})},[Ee(ie(S.amount>0?"+":"")+ie(S.amount)+" XP ",1),i("span",Y5,ie(new Date(S.timestamp).toLocaleTimeString()),1)],2))),128)),g.xpHistory.length===0?(Y(),G("li",X5," No hay entradas de XP en esta sesin. ")):Te("",!0)])])):Te("",!0),u.value.has(g.id)?(Y(),G("div",G5,[ge(i("textarea",{"onUpdate:modelValue":S=>g.notes=S,onBlur:S=>E(g),placeholder:"Aade tus notas aqu...",class:"notes-textarea"},null,40,J5),[[Ae,g.notes]])])):Te("",!0)]))),128))])])]),c.value?(Y(),G("div",{key:0,class:"player-manager-overlay edit-modal",onClick:C[6]||(C[6]=et(g=>c.value=!1,["self"]))},[i("div",Q5,[i("div",Z5,[C[23]||(C[23]=i("h2",null,[i("i",{class:"bi bi-pencil-square"}),Ee(" Editar Jugador")],-1)),i("button",{onClick:C[3]||(C[3]=g=>c.value=!1),class:"btn-close"},C[22]||(C[22]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",eS,[f.value?(Y(),G("div",tS,[i("div",nS,[C[24]||(C[24]=i("label",{for:"playerName"},"Nombre del Jugador",-1)),ge(i("input",{id:"playerName",type:"text","onUpdate:modelValue":C[4]||(C[4]=g=>f.value.name=g),class:"form-control"},null,512),[[Ae,f.value.name]])]),i("div",oS,[i("button",{onClick:C[5]||(C[5]=g=>c.value=!1),class:"btn btn-secondary"}," Cancelar "),i("button",{onClick:V,class:"btn btn-primary"}," Guardar Cambios ")])])):Te("",!0)])])])):Te("",!0)]))}},sS=jt(rS,[["__scopeId","data-v-fac2dcc4"]]),iS={class:"dm-view"},aS={class:"dm-header"},lS={class:"dm-header-top"},cS={class:"turn-controls"},uS={class:"turn-label"},dS=["disabled"],fS=["disabled"],pS={class:"global-controls"},mS={class:"stats-overview"},hS={class:"stat-card"},gS={class:"stat-content"},vS={class:"stat-value"},bS={class:"stat-card alive"},wS={class:"stat-content"},yS={class:"stat-value"},xS={class:"stat-card dead"},CS={class:"stat-content"},_S={class:"stat-value"},SS={class:"stat-card"},kS={class:"stat-content"},ES={class:"stat-value"},$S={class:"create-character-section"},AS={class:"characters-section"},TS={class:"section-header"},DS={class:"sort-controls"},HS={key:0,class:"no-characters"},IS={key:1,class:"characters-grid"},RS={class:"character-header"},PS={class:"character-name"},OS={class:"character-actions"},MS=["onClick"],BS=["onClick"],LS=["onClick"],NS={class:"character-stats"},US={class:"hp-section"},FS={class:"hp-bar-container"},VS={class:"hp-bar"},jS={class:"hp-text"},zS={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},qS={key:0,class:"temp-hp"},WS={class:"temp-hp-value"},KS={key:1,class:"defeated-by"},YS={class:"defeated-by-hero"},XS={class:"character-details"},GS={class:"detail-item"},JS={class:"detail-value"},QS={class:"detail-item"},ZS={key:0,class:"detail-item"},ek={class:"detail-value"},tk={key:1,class:"detail-item"},nk={class:"detail-value"},ok={key:2,class:"detail-item"},rk={class:"detail-value"},sk={key:3,class:"detail-item"},ik={class:"detail-value"},ak={key:4,class:"detail-item"},lk={class:"detail-value"},ck={key:5,class:"attributes-display"},uk={class:"attributes-list"},dk={key:0,class:"attribute-item fuerza"},fk={class:"attribute-value"},pk={key:1,class:"attribute-item inteligencia"},mk={class:"attribute-value"},hk={key:2,class:"attribute-item destreza"},gk={class:"attribute-value"},vk={key:3,class:"attribute-item sabiduria"},bk={class:"attribute-value"},wk={key:4,class:"attribute-item constitucion"},yk={class:"attribute-value"},xk={key:5,class:"attribute-item carisma"},Ck={class:"attribute-value"},_k={key:6,class:"detail-item notas"},Sk={class:"detail-value"},kk={class:"actions-toggle"},Ek=["onClick"],$k={class:"action-group"},Ak={class:"action-inputs"},Tk=["onUpdate:modelValue","onKeyup"],Dk=["onClick","disabled"],Hk={class:"necro-checkbox"},Ik={class:"necro-label"},Rk=["onUpdate:modelValue"],Pk={class:"action-group"},Ok={class:"action-inputs"},Mk=["onUpdate:modelValue","onKeyup"],Bk=["onClick","disabled"],Lk={class:"necro-checkbox"},Nk={class:"necro-label"},Uk=["onUpdate:modelValue"],Fk={class:"action-group"},Vk={class:"action-inputs"},jk=["onUpdate:modelValue","onKeyup"],zk=["onClick","disabled"],qk={class:"action-group"},Wk={class:"action-inputs"},Kk=["onUpdate:modelValue","onKeyup"],Yk=["onClick","disabled"],Xk={class:"reset-buttons"},Gk=["onClick"],Jk=["onClick"],Qk=["onClick"],Zk={class:"modal-header"},eE={class:"modal-body"},tE={class:"form-group"},nE={class:"form-group"},oE={class:"form-group"},rE={class:"form-group"},sE={class:"form-group"},iE={class:"form-group"},aE={class:"form-group"},lE={class:"attributes-section"},cE={class:"attributes-grid",id:"tiradas-salvacion"},uE={class:"attribute-column"},dE={class:"form-group attribute-input"},fE={class:"form-group attribute-input"},pE={class:"form-group attribute-input"},mE={class:"attribute-column"},hE={class:"form-group attribute-input"},gE={class:"form-group attribute-input"},vE={class:"form-group attribute-input"},bE={class:"form-group"},wE={class:"modal-actions"},yE={class:"modal-header"},xE={class:"modal-body"},CE={class:"form-group"},_E={class:"form-group"},SE={class:"form-group"},kE=["max"],EE={class:"form-group"},$E={class:"form-group"},AE={class:"form-group"},TE={class:"form-group"},DE={class:"form-group"},HE={class:"attributes-section"},IE={class:"attributes-grid"},RE={class:"attribute-column"},PE={class:"form-group attribute-input"},OE={class:"form-group attribute-input"},ME={class:"form-group attribute-input"},BE={class:"attribute-column"},LE={class:"form-group attribute-input"},NE={class:"form-group attribute-input"},UE={class:"form-group attribute-input"},FE={class:"form-group"},VE={class:"modal-actions"},jE={class:"modal-header"},zE={class:"modal-body"},qE={class:"import-options"},WE={class:"import-option"},KE={class:"modal-actions"},YE=["disabled"],XE={class:"modal-header"},GE={class:"modal-body"},JE={class:"death-notification"},QE={class:"hp-status"},ZE={class:"hp-dead"},e3={class:"form-group"},t3={class:"modal-actions"},n3=["disabled"],o3={class:"modal-header"},r3={class:"modal-body"},s3={class:"add-todo"},i3={class:"todo-list"},a3=["onUpdate:modelValue","onChange"],l3=["onClick"],c3={__name:"DMView",setup(e){const t=vC(),n=jf(),{players:o}=Qr(n),r=$e(!1),s=$e(!1),a=$e(!1),l=$e(!1),d=$e(!1),p=$e(!1),u=$e(!1),c=$e(!1),f=$e(!1),m=$e(!1),b=$e("name"),y=$e(""),v=$e(null),_=$e(""),N=$e([]),P=$e(""),I=$e(null),A=$e(null),k=$e({name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",necroDamage:!1,necroResistantDamage:!1}),V=ut(()=>{switch(b.value){case"hp":return t.charactersByHp;case"created":return[...t.characters].sort((z,h)=>new Date(h.createdAt)-new Date(z.createdAt));default:return t.charactersByName}}),$=()=>{k.value.name&&k.value.maxHp&&(t.createCharacter(k.value.name,k.value.maxHp,k.value.regeneration,k.value.xp,k.value.resistencias,k.value.inmunidades,k.value.fuerza,k.value.destreza,k.value.constitucion,k.value.inteligencia,k.value.sabiduria,k.value.carisma,k.value.notas,k.value.ca),k.value={name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",necroDamage:!1,necroResistantDamage:!1},p.value=!1)},E=z=>{A.value={...z},u.value=!0},M=()=>{A.value&&(t.editCharacter(A.value.id,{name:A.value.name,maxHp:A.value.maxHp,currentHp:A.value.currentHp,regeneration:A.value.regeneration,xp:A.value.xp,resistencias:A.value.resistencias,inmunidades:A.value.inmunidades,fuerza:A.value.fuerza,destreza:A.value.destreza,constitucion:A.value.constitucion,inteligencia:A.value.inteligencia,sabiduria:A.value.sabiduria,carisma:A.value.carisma,notas:A.value.notas,ca:A.value.ca}),u.value=!1,A.value=null)},C=z=>{confirm("Ests seguro de que quieres eliminar este personaje?")&&t.deleteCharacter(z)},g=z=>{const h=JSON.parse(JSON.stringify(z));h.id=Date.now()+Math.random(),h.createdAt=new Date().toISOString();let we=`${z.name} (Copia)`,He=1;for(;t.getCharacterByName(we);)we=`${z.name} (Copia ${He})`,He++;h.name=we,t.characters.push(h),t.saveToLocalStorage(),t.addLogToCharacter(h.id,"Clonacin",`Personaje clonado de ${z.name}`)},S=z=>{if(z.damageInput&&z.damageInput>0){const h=z.currentHp,O=z.necroDamage||!1,we=t.damageCharacter(z.id,z.damageInput,O);z.damageInput="",h>0&&we&&we.remainingHp<=0&&(v.value=z,f.value=!0)}},D=z=>{if(z.resistantDamageInput&&z.resistantDamageInput>0){const h=Math.floor(z.resistantDamageInput/2),O=z.currentHp,we=z.necroResistantDamage||!1,He=t.damageCharacter(z.id,h,we);z.resistantDamageInput="",O>0&&He&&He.remainingHp<=0&&(v.value=z,f.value=!0)}},U=()=>{if(_.value.trim()&&v.value){const z=_.value.trim();if(z.toLowerCase()===v.value.name.toLowerCase()){alert("El nombre del hroe no puede ser el mismo que el personaje derrotado.");return}t.setDefeatedBy(v.value.id,z),t.addLogToCharacter(v.value.id,"Derrotado por",`Derrotado por ${z}`),x()}else alert("Por favor, escribe el nombre del hroe que derrot al personaje.")},x=()=>{f.value=!1,v.value=null,_.value=""},w=()=>{_.value.trim()?confirm("Ests seguro de que quieres cerrar? Se perder el nombre del hroe ingresado.")&&x():x()};wn(f,z=>{z&&Po(()=>{const h=document.getElementById("heroName");h&&h.focus()})}),Jt(()=>{const z=h=>{h.key==="Escape"&&f.value&&w()};document.addEventListener("keydown",z),go(()=>{document.removeEventListener("keydown",z)})});const J=z=>{z.healInput&&z.healInput>0&&(t.healCharacter(z.id,z.healInput),z.healInput="")},L=z=>{z.tempHpInput&&z.tempHpInput>0&&(t.addTempHpToCharacter(z.id,z.tempHpInput),z.tempHpInput="")},H=z=>{const h=t.getCharacterById(z);if(h&&h.maxHp<h.originalMaxHp){const O=h.maxHp;h.maxHp=h.originalMaxHp,t.addLogToCharacter(z,"Restaurar HP Mximo",`HP mximo restaurado de ${O} a ${h.originalMaxHp} (dao necro revertido)`),Re.fire({icon:"success",title:"HP Mximo Restaurado",text:`El HP mximo de ${h.name} ha sido restaurado de ${O} a ${h.originalMaxHp}`,timer:2e3,showConfirmButton:!1})}},Q=async z=>{const h=t.getCharacterById(z);if(!h)return;if(h.maxHp<h.originalMaxHp){const we=h.maxHp;h.maxHp=h.originalMaxHp,t.addLogToCharacter(z,"Restaurar HP Mximo",`HP mximo restaurado de ${we} a ${h.originalMaxHp} (dao necro revertido)`)}const{value:O}=await Re.fire({title:`Cmo quieres revivir a ${h.name}?`,html:`
      <div style='text-align:left;'>
        <label><input type='radio' name='reviveOption' value='1' checked> Revivir con 1 HP</label><br>
        <label><input type='radio' name='reviveOption' value='half'> Revivir con la mitad de la vida mxima (${Math.floor(h.maxHp/2)} HP)</label><br>
        <label><input type='radio' name='reviveOption' value='custom'> Revivir con cantidad personalizada:</label>
        <input id='customHpInput' type='number' min='1' max='${h.maxHp}' class='swal2-input' style='width:100%;margin:0;' placeholder='HP' disabled>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Revivir",cancelButtonText:"Cancelar",preConfirm:()=>{const we=document.querySelector('input[name="reviveOption"]:checked').value;if(we==="custom"){const He=parseInt(document.getElementById("customHpInput").value);return isNaN(He)||He<1||He>h.maxHp?(Re.showValidationMessage(`Introduce un valor entre 1 y ${h.maxHp}`),!1):He}return we==="half"?Math.floor(h.maxHp/2):1},didOpen:()=>{const we=Re.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),He=Re.getHtmlContainer().querySelector("#customHpInput");we.forEach(nt=>{nt.addEventListener("change",()=>{nt.value==="custom"?(He.disabled=!1,He.focus()):He.disabled=!0})})}});O&&O>0&&t.reviveCharacter(z,O)},re=z=>{const h=z.currentHp/z.maxHp*100;return h>75?"hp-high":h>50?"hp-medium":h>25?"hp-low":"hp-critical"},ce=z=>z.currentHp<=0?"status-dead":z.currentHp<=z.maxHp*.25?"status-critical":z.currentHp<=z.maxHp*.5?"status-wounded":"status-healthy",de=z=>z.currentHp<=0?"Muerto":z.currentHp<=z.maxHp*.25?"Crtico":z.currentHp<=z.maxHp*.5?"Herido":"Saludable",ee=z=>{const h=parseInt(z);return isNaN(h)?z:h>=0?`+${h}`:`${h}`},Ie=z=>z.fuerza||z.destreza||z.constitucion||z.inteligencia||z.sabiduria||z.carisma,te=()=>{const z=t.exportCharacters(),h=new Blob([z],{type:"application/json"}),O=URL.createObjectURL(h),we=document.createElement("a");we.href=O,we.download=`dnd-characters-${new Date().toISOString().split("T")[0]}.json`,we.click(),URL.revokeObjectURL(O)},pe=()=>{I.value&&I.value.click()},ue=z=>{const h=z.target.files[0];if(h){const O=new FileReader;O.onload=we=>{try{const He=we.target.result;t.importCharacters(He)?(alert("Personajes importados correctamente desde el archivo"),c.value=!1,z.target.value=""):alert("Error al importar los personajes. Verifica que el archivo contenga datos vlidos.")}catch(He){alert("Error al leer el archivo. Verifica que sea un archivo JSON vlido."),console.error("Error importing file:",He)}},O.onerror=()=>{alert("Error al leer el archivo. Intntalo de nuevo.")},O.readAsText(h)}},_e=()=>{y.value.trim()&&(t.importCharacters(y.value)?(alert("Personajes importados correctamente"),y.value="",c.value=!1):alert("Error al importar los personajes. Verifica el formato JSON."))},Oe=()=>{d.value=!d.value},B=()=>{Re.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs de todos los personajes. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(z=>{z.isConfirmed&&(t.clearAllLogs(),Re.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})},F=()=>{const z=[];t.characters.forEach(O=>{O.logs.forEach(we=>{z.push({...we,characterName:O.name})})}),z.sort((O,we)=>new Date(we.timestamp)-new Date(O.timestamp));let h='<div style="max-height: 400px; overflow-y: auto;">';z.length===0?h+='<p style="text-align: center; color: #666;">No hay logs para mostrar</p>':z.forEach(O=>{h+=`
        <div style="border-bottom: 1px solid #eee; padding: 10px 0; margin-bottom: 10px;">
          <div style="font-weight: bold; color: #f39c12;">${O.characterName}</div>
          <div style="color: #333;">${O.action}: ${O.details}</div>
          <div style="font-size: 0.8em; color: #666;">Turno ${O.turn} - ${O.timestamp}</div>
        </div>
      `}),h+="</div>",Re.fire({title:"Historial de Logs - Todos los Personajes",html:h,width:"800px",confirmButtonText:"Cerrar",confirmButtonColor:"#3085d6"})},K=()=>{t.characters.forEach(z=>{z.damageInput="",z.healInput="",z.tempHpInput="",z.resistantDamageInput="",z.necroDamage=!1,z.necroResistantDamage=!1})},Z=$e(new Set),se=z=>{const h=new Set(Z.value);h.has(z)?h.delete(z):h.add(z),Z.value=h},ne=()=>{r.value=!r.value},fe=z=>Z.value.has(z);wn(Z,z=>{const h=Array.from(z);localStorage.setItem("collapsedCharacters",JSON.stringify(h))},{deep:!0});const me=()=>{if(P.value.trim()==="")return;const z={id:Date.now(),text:P.value.trim(),completed:!1,createdAt:new Date().toISOString()};N.value.push(z),P.value="",De()},he=z=>{N.value=N.value.filter(h=>h.id!==z),De()},ae=z=>{N.value.find(O=>O.id===z)&&De()},De=()=>{localStorage.setItem("dnd-todo-items",JSON.stringify(N.value))},be=()=>{const z=localStorage.getItem("dnd-todo-items");if(z)try{N.value=JSON.parse(z)}catch(h){console.error("Error loading todo items:",h),N.value=[]}};return Jt(()=>{const z=localStorage.getItem("collapsedCharacters");if(z)try{const h=JSON.parse(z);Z.value=new Set(h)}catch(h){console.error("Error loading collapsed characters state:",h),Z.value=new Set}be(),t.loadFromLocalStorage(),n.loadFromLocalStorage(),K()}),(z,h)=>(Y(),G("div",iS,[i("div",aS,[i("div",lS,[h[63]||(h[63]=i("h1",{class:"dm-title"},[i("i",{class:"bi bi-shield-fill"}),Ee(" Panel del Dungeon Master ")],-1)),i("button",{onClick:Oe,class:"mobile-menu-toggle"},[i("i",{class:at(["bi",d.value?"bi-x-lg":"bi-list"])},null,2)])]),i("div",{class:at(["dm-controls",{"mobile-open":d.value}])},[i("div",cS,[i("span",uS,"Turno: "+ie(ye(t).currentTurn),1),i("button",{onClick:h[0]||(h[0]=O=>ye(t).startTurn()),class:"btn btn-success",disabled:ye(t).isTurnActive},h[64]||(h[64]=[i("i",{class:"bi bi-play-fill"},null,-1),i("span",{class:"btn-text"},"Iniciar Turno",-1)]),8,dS),i("button",{onClick:h[1]||(h[1]=O=>ye(t).endTurn()),class:"btn btn-warning",disabled:!ye(t).isTurnActive},h[65]||(h[65]=[i("i",{class:"bi bi-stop-fill"},null,-1),i("span",{class:"btn-text"},"Finalizar Turno",-1)]),8,fS),i("button",{onClick:h[2]||(h[2]=O=>ye(t).resetAllTurns()),class:"btn btn-secondary"},h[66]||(h[66]=[i("i",{class:"bi bi-arrow-clockwise"},null,-1),i("span",{class:"btn-text"},"Reset Turnos",-1)]))]),i("div",pS,[i("button",{onClick:h[3]||(h[3]=O=>ye(t).resetAllCharacters()),class:"btn btn-info"},h[67]||(h[67]=[i("i",{class:"bi bi-heart-fill"},null,-1),i("span",{class:"btn-text"},"Reset Todos",-1)])),i("button",{onClick:B,class:"btn btn-warning"},h[68]||(h[68]=[i("i",{class:"bi bi-trash"},null,-1),i("span",{class:"btn-text"},"Limpiar Logs",-1)])),i("button",{onClick:F,class:"btn btn-outline-info"},h[69]||(h[69]=[i("i",{class:"bi bi-journal-text"},null,-1),i("span",{class:"btn-text"},"Ver Logs",-1)])),i("button",{onClick:pe,class:"btn btn-outline-primary"},h[70]||(h[70]=[i("i",{class:"bi bi-upload"},null,-1),i("span",{class:"btn-text"},"Importar",-1)])),i("button",{onClick:te,class:"btn btn-outline-success"},h[71]||(h[71]=[i("i",{class:"bi bi-download"},null,-1),i("span",{class:"btn-text"},"Exportar",-1)])),i("button",{onClick:ne,class:"btn btn-outline-secondary"},h[72]||(h[72]=[i("i",{class:"bi bi-list"},null,-1),i("span",{class:"btn-text"},"Lista Iniciativa",-1)])),i("button",{onClick:h[4]||(h[4]=O=>m.value=!0),class:"btn btn-outline-primary"},h[73]||(h[73]=[i("i",{class:"bi bi-check-circle"},null,-1),i("span",{class:"btn-text"},"Todo List",-1)])),i("button",{onClick:h[5]||(h[5]=O=>s.value=!0),class:"btn btn-outline-info"},h[74]||(h[74]=[i("i",{class:"bi bi-dice-6"},null,-1),i("span",{class:"btn-text"},"Lanzar Dados",-1)])),i("button",{onClick:h[6]||(h[6]=O=>a.value=!0),class:"btn btn-outline-warning"},h[75]||(h[75]=[i("i",{class:"bi bi-hammer"},null,-1),i("span",{class:"btn-text"},"Gestor de Ataques",-1)])),i("button",{onClick:h[7]||(h[7]=O=>l.value=!0),class:"btn btn-outline-info"},h[76]||(h[76]=[i("i",{class:"bi bi-person-badge"},null,-1),i("span",{class:"btn-text"},"Gestin de Jugadores",-1)]))])],2)]),s.value?(Y(),Vn(s_,{key:0,characters:ye(t).characters,onClose:h[8]||(h[8]=O=>s.value=!1)},null,8,["characters"])):Te("",!0),a.value?(Y(),Vn(x5,{key:1,onClose:h[9]||(h[9]=O=>a.value=!1)})):Te("",!0),l.value?(Y(),Vn(sS,{key:2,onClose:h[10]||(h[10]=O=>l.value=!1)})):Te("",!0),i("div",mS,[i("div",hS,[h[78]||(h[78]=i("div",{class:"stat-icon"},"",-1)),i("div",gS,[i("div",vS,ie(ye(t).characters.length),1),h[77]||(h[77]=i("div",{class:"stat-label"},"Total Personajes",-1))])]),i("div",bS,[h[80]||(h[80]=i("div",{class:"stat-icon"},"",-1)),i("div",wS,[i("div",yS,ie(ye(t).aliveCount),1),h[79]||(h[79]=i("div",{class:"stat-label"},"Vivos",-1))])]),i("div",xS,[h[82]||(h[82]=i("div",{class:"stat-icon"},"",-1)),i("div",CS,[i("div",_S,ie(ye(t).deadCount),1),h[81]||(h[81]=i("div",{class:"stat-label"},"Muertos",-1))])]),i("div",SS,[h[84]||(h[84]=i("div",{class:"stat-icon"},"",-1)),i("div",kS,[i("div",ES,ie(ye(t).currentTurn),1),h[83]||(h[83]=i("div",{class:"stat-label"},"Turno Actual",-1))])])]),i("div",$S,[i("button",{onClick:h[11]||(h[11]=O=>p.value=!0),class:"btn btn-primary btn-lg"},h[85]||(h[85]=[i("i",{class:"bi bi-plus-circle"},null,-1),Ee(" Crear Nuevo Personaje ")]))]),i("div",AS,[i("div",TS,[i("h2",null,"Personajes ("+ie(ye(t).characters.length)+")",1),i("div",DS,[ge(i("select",{"onUpdate:modelValue":h[12]||(h[12]=O=>b.value=O),class:"form-select"},h[86]||(h[86]=[i("option",{value:"name"},"Ordenar por Nombre",-1),i("option",{value:"hp"},"Ordenar por HP",-1),i("option",{value:"created"},"Ordenar por Creacin",-1)]),512),[[Ot,b.value]])])]),ye(t).characters.length===0?(Y(),G("div",HS,h[87]||(h[87]=[i("div",{class:"no-characters-icon"},"",-1),i("h3",null,"No hay personajes creados",-1),i("p",null,"Crea tu primer personaje para comenzar a gestionar la partida",-1)]))):(Y(),G("div",IS,[(Y(!0),G(Ve,null,Xe(V.value,O=>(Y(),G("div",{key:O.id,class:at(["character-card",{dead:O.currentHp<=0,"low-hp":O.currentHp>0&&O.currentHp<=O.maxHp*.25}])},[i("div",RS,[i("h3",PS,ie(O.name),1),i("div",OS,[i("button",{onClick:we=>E(O),class:"btn btn-sm btn-outline-primary"},h[88]||(h[88]=[i("i",{class:"bi bi-pencil"},null,-1)]),8,MS),i("button",{onClick:we=>g(O),class:"btn btn-sm btn-outline-info",title:"Duplicar personaje"},h[89]||(h[89]=[i("i",{class:"bi bi-copy"},null,-1)]),8,BS),i("button",{onClick:we=>C(O.id),class:"btn btn-sm btn-outline-danger"},h[90]||(h[90]=[i("i",{class:"bi bi-trash"},null,-1)]),8,LS)])]),i("div",NS,[i("div",US,[i("div",FS,[i("div",VS,[i("div",{class:at(["hp-fill",O.tempHp>0?"temp-hp":re(O)]),style:Tn({width:`${O.currentHp/O.maxHp*100}%`})},null,6),O.maxHp<O.originalMaxHp?(Y(),G("div",{key:0,class:"necro-bar-indicator",style:Tn({left:`${O.maxHp/O.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):Te("",!0)]),i("div",jS,[Ee(ie(O.currentHp)+" / "+ie(O.maxHp)+" HP ("+ie(Math.round(O.currentHp/O.maxHp*100))+"%) ",1),O.maxHp<O.originalMaxHp?(Y(),G("span",zS,"  ")):Te("",!0)])]),O.tempHp>0?(Y(),G("div",qS,[h[91]||(h[91]=i("span",{class:"temp-hp-label"},"Temporal:",-1)),i("span",WS,"+"+ie(O.tempHp),1)])):Te("",!0),O.defeatedBy?(Y(),G("div",KS,[h[92]||(h[92]=i("span",{class:"defeated-by-label"},"Derrotado por:",-1)),i("span",YS,ie(O.defeatedBy),1)])):Te("",!0)]),i("div",XS,[i("div",GS,[h[93]||(h[93]=i("span",{class:"detail-label"},"Regeneracin:",-1)),i("span",JS,ie(O.regeneration||0)+" HP/turno",1)]),i("div",QS,[h[94]||(h[94]=i("span",{class:"detail-label"},"Estado:",-1)),i("span",{class:at(["detail-value",ce(O)])},ie(de(O)),3)]),O.xp?(Y(),G("div",ZS,[h[95]||(h[95]=i("span",{class:"detail-label"},"XP:",-1)),i("span",ek,ie(O.xp),1)])):Te("",!0),O.ca?(Y(),G("div",tk,[h[96]||(h[96]=i("span",{class:"detail-label"},"CA:",-1)),i("span",nk,ie(O.ca),1)])):Te("",!0),O.resistencias?(Y(),G("div",ok,[h[97]||(h[97]=i("span",{class:"detail-label"},"Resistencias:",-1)),i("span",rk,ie(O.resistencias),1)])):Te("",!0),O.inmunidades?(Y(),G("div",sk,[h[98]||(h[98]=i("span",{class:"detail-label"},"Inmunidades:",-1)),i("span",ik,ie(O.inmunidades),1)])):Te("",!0),O.bonoTiradasSalvacion?(Y(),G("div",ak,[h[99]||(h[99]=i("span",{class:"detail-label"},"Bono Tiradas de Salvacion:",-1)),i("span",lk,ie(O.bonoTiradasSalvacion),1)])):Te("",!0),Ie(O)?(Y(),G("div",ck,[h[106]||(h[106]=i("div",{class:"attributes-header"},"Tiradas de Salvacin",-1)),i("div",uk,[O.fuerza?(Y(),G("div",dk,[h[100]||(h[100]=i("span",{class:"attribute-label"},"FUE:",-1)),i("span",fk,ie(ee(O.fuerza)),1)])):Te("",!0),O.inteligencia?(Y(),G("div",pk,[h[101]||(h[101]=i("span",{class:"attribute-label"},"INT:",-1)),i("span",mk,ie(ee(O.inteligencia)),1)])):Te("",!0),O.destreza?(Y(),G("div",hk,[h[102]||(h[102]=i("span",{class:"attribute-label"},"DES:",-1)),i("span",gk,ie(ee(O.destreza)),1)])):Te("",!0),O.sabiduria?(Y(),G("div",vk,[h[103]||(h[103]=i("span",{class:"attribute-label"},"SAB:",-1)),i("span",bk,ie(ee(O.sabiduria)),1)])):Te("",!0),O.constitucion?(Y(),G("div",wk,[h[104]||(h[104]=i("span",{class:"attribute-label"},"CON:",-1)),i("span",yk,ie(ee(O.constitucion)),1)])):Te("",!0),O.carisma?(Y(),G("div",xk,[h[105]||(h[105]=i("span",{class:"attribute-label"},"CAR:",-1)),i("span",Ck,ie(ee(O.carisma)),1)])):Te("",!0)])])):Te("",!0),O.notas?(Y(),G("div",_k,[h[107]||(h[107]=i("span",{class:"detail-label"},"Notas:",-1)),i("span",Sk,ie(O.notas),1)])):Te("",!0)])]),i("div",kk,[i("button",{onClick:we=>se(O.id),class:at(["toggle-actions-btn",{collapsed:fe(O.id)}])},[h[108]||(h[108]=i("i",{class:"bi bi-chevron-up"},null,-1)),Ee(" "+ie(fe(O.id)?"Mostrar Acciones":"Ocultar Acciones"),1)],10,Ek)]),i("div",{class:at(["character-actions-panel",{collapsed:fe(O.id)}])},[i("div",$k,[h[112]||(h[112]=i("label",{class:"action-label"},"Dao:",-1)),i("div",Ak,[ge(i("input",{"onUpdate:modelValue":we=>O.damageInput=we,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:En(we=>S(O),["enter"])},null,40,Tk),[[Ae,O.damageInput]]),i("button",{onClick:we=>S(O),class:"btn btn-sm btn-danger",disabled:!O.damageInput||O.damageInput<=0},h[109]||(h[109]=[i("i",{class:"bi bi-lightning"},null,-1)]),8,Dk)]),i("div",Hk,[i("label",Ik,[ge(i("input",{"onUpdate:modelValue":we=>O.necroDamage=we,type:"checkbox",class:"necro-input"},null,8,Rk),[[Hr,O.necroDamage]]),h[110]||(h[110]=i("span",{class:"necro-text"},"Dao Necro",-1)),h[111]||(h[111]=i("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),i("div",Pk,[h[116]||(h[116]=i("label",{class:"action-label"},"Dao Resistente:",-1)),i("div",Ok,[ge(i("input",{"onUpdate:modelValue":we=>O.resistantDamageInput=we,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:En(we=>D(O),["enter"])},null,40,Mk),[[Ae,O.resistantDamageInput]]),i("button",{onClick:we=>D(O),class:"btn btn-sm btn-danger",disabled:!O.resistantDamageInput||O.resistantDamageInput<=0},h[113]||(h[113]=[i("i",{class:"bi bi-shield-slash"},null,-1)]),8,Bk)]),i("div",Lk,[i("label",Nk,[ge(i("input",{"onUpdate:modelValue":we=>O.necroResistantDamage=we,type:"checkbox",class:"necro-input"},null,8,Uk),[[Hr,O.necroResistantDamage]]),h[114]||(h[114]=i("span",{class:"necro-text"},"Dao Necro",-1)),h[115]||(h[115]=i("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),i("div",Fk,[h[118]||(h[118]=i("label",{class:"action-label"},"Curacin:",-1)),i("div",Vk,[ge(i("input",{"onUpdate:modelValue":we=>O.healInput=we,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:En(we=>J(O),["enter"])},null,40,jk),[[Ae,O.healInput]]),i("button",{onClick:we=>J(O),class:"btn btn-sm btn-success",disabled:!O.healInput||O.healInput<=0},h[117]||(h[117]=[i("i",{class:"bi bi-heart"},null,-1)]),8,zk)])]),i("div",qk,[h[120]||(h[120]=i("label",{class:"action-label"},"Vida Temp:",-1)),i("div",Wk,[ge(i("input",{"onUpdate:modelValue":we=>O.tempHpInput=we,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:En(we=>L(O),["enter"])},null,40,Kk),[[Ae,O.tempHpInput]]),i("button",{onClick:we=>L(O),class:"btn btn-sm btn-info",disabled:!O.tempHpInput||O.tempHpInput<=0},h[119]||(h[119]=[i("i",{class:"bi bi-shield"},null,-1)]),8,Yk)])]),i("div",Xk,[i("button",{onClick:we=>ye(t).resetCharacterToMaxHp(O.id),class:at(["btn btn-sm btn-outline-warning",{"w-100":O.maxHp>=O.originalMaxHp}])},h[121]||(h[121]=[i("i",{class:"bi bi-arrow-clockwise"},null,-1),Ee(" Reset HP ")]),10,Gk),O.maxHp<O.originalMaxHp?(Y(),G("button",{key:0,onClick:we=>H(O.id),class:"btn btn-sm btn-outline-danger",title:"Restaurar solo el HP mximo (dao necro)"},h[122]||(h[122]=[i("i",{class:"bi bi-heart-pulse"},null,-1),Ee(" Restaurar HP Mx ")]),8,Jk)):Te("",!0)]),O.currentHp<=0?(Y(),G("button",{key:0,onClick:we=>Q(O.id),class:"btn btn-sm btn-success w-100"},h[123]||(h[123]=[i("i",{class:"bi bi-heart-pulse"},null,-1),Ee(" Revivir ")]),8,Qk)):Te("",!0)],2)],2))),128))])),p.value?(Y(),G("div",{key:2,class:"modal-overlay",onClick:h[30]||(h[30]=O=>p.value=!1)},[i("div",{class:"modal-content",onClick:h[29]||(h[29]=et(()=>{},["stop"]))},[i("div",Zk,[h[125]||(h[125]=i("h3",null,"Crear Nuevo Personaje",-1)),i("button",{onClick:h[13]||(h[13]=O=>p.value=!1),class:"btn-close"},h[124]||(h[124]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",eE,[i("form",{onSubmit:et($,["prevent"])},[i("div",tE,[h[126]||(h[126]=i("label",{for:"characterName"},"Nombre del Personaje",-1)),ge(i("input",{id:"characterName","onUpdate:modelValue":h[14]||(h[14]=O=>k.value.name=O),type:"text",class:"form-control",placeholder:"Ej: Gandalf",required:""},null,512),[[Ae,k.value.name]])]),i("div",nE,[h[127]||(h[127]=i("label",{for:"characterMaxHp"},"HP Mximo",-1)),ge(i("input",{id:"characterMaxHp","onUpdate:modelValue":h[15]||(h[15]=O=>k.value.maxHp=O),type:"number",class:"form-control",placeholder:"100",min:"1",required:""},null,512),[[Ae,k.value.maxHp]])]),i("div",oE,[h[128]||(h[128]=i("label",{for:"characterRegeneration"},"Regeneracin por Turno (opcional)",-1)),ge(i("input",{id:"characterRegeneration","onUpdate:modelValue":h[16]||(h[16]=O=>k.value.regeneration=O),type:"number",class:"form-control",placeholder:"0",min:"0"},null,512),[[Ae,k.value.regeneration]])]),i("div",rE,[h[129]||(h[129]=i("label",{for:"xp"},"XP:",-1)),ge(i("input",{id:"xp","onUpdate:modelValue":h[17]||(h[17]=O=>k.value.xp=O),type:"text",class:"form-control",placeholder:""},null,512),[[Ae,k.value.xp]])]),i("div",sE,[h[130]||(h[130]=i("label",{for:"ca"},"CA (Clase de Armadura):",-1)),ge(i("input",{id:"ca","onUpdate:modelValue":h[18]||(h[18]=O=>k.value.ca=O),type:"text",class:"form-control",placeholder:""},null,512),[[Ae,k.value.ca]])]),i("div",iE,[h[131]||(h[131]=i("label",{for:"resistencias"},"Resistencias:",-1)),ge(i("input",{id:"resistencias","onUpdate:modelValue":h[19]||(h[19]=O=>k.value.resistencias=O),type:"text",class:"form-control",placeholder:""},null,512),[[Ae,k.value.resistencias]])]),i("div",aE,[h[132]||(h[132]=i("label",{for:"inmunidades"},"Inmunidades:",-1)),ge(i("input",{id:"inmunidades","onUpdate:modelValue":h[20]||(h[20]=O=>k.value.inmunidades=O),type:"text",class:"form-control",placeholder:""},null,512),[[Ae,k.value.inmunidades]])]),i("div",lE,[h[139]||(h[139]=i("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),i("div",cE,[i("div",uE,[i("div",dE,[h[133]||(h[133]=i("label",{for:"fuerza"},"Fuerza:",-1)),ge(i("input",{id:"fuerza","onUpdate:modelValue":h[21]||(h[21]=O=>k.value.fuerza=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,k.value.fuerza]])]),i("div",fE,[h[134]||(h[134]=i("label",{for:"destreza"},"Destreza:",-1)),ge(i("input",{id:"destreza","onUpdate:modelValue":h[22]||(h[22]=O=>k.value.destreza=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,k.value.destreza]])]),i("div",pE,[h[135]||(h[135]=i("label",{for:"constitucion"},"Constitucin:",-1)),ge(i("input",{id:"constitucion","onUpdate:modelValue":h[23]||(h[23]=O=>k.value.constitucion=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,k.value.constitucion]])])]),i("div",mE,[i("div",hE,[h[136]||(h[136]=i("label",{for:"inteligencia"},"Inteligencia:",-1)),ge(i("input",{id:"inteligencia","onUpdate:modelValue":h[24]||(h[24]=O=>k.value.inteligencia=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,k.value.inteligencia]])]),i("div",gE,[h[137]||(h[137]=i("label",{for:"sabiduria"},"Sabidura:",-1)),ge(i("input",{id:"sabiduria","onUpdate:modelValue":h[25]||(h[25]=O=>k.value.sabiduria=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,k.value.sabiduria]])]),i("div",vE,[h[138]||(h[138]=i("label",{for:"carisma"},"Carisma:",-1)),ge(i("input",{id:"carisma","onUpdate:modelValue":h[26]||(h[26]=O=>k.value.carisma=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,k.value.carisma]])])])])]),i("div",bE,[h[140]||(h[140]=i("label",{for:"notas"},"Notas:",-1)),ge(i("textarea",{id:"notas","onUpdate:modelValue":h[27]||(h[27]=O=>k.value.notas=O),class:"form-control",rows:"3",placeholder:""},null,512),[[Ae,k.value.notas]])]),i("div",wE,[i("button",{type:"button",onClick:h[28]||(h[28]=O=>p.value=!1),class:"btn btn-secondary"}," Cancelar "),h[141]||(h[141]=i("button",{type:"submit",class:"btn btn-primary"}," Crear Personaje ",-1))])],32)])])])):Te("",!0),u.value&&A.value?(Y(),G("div",{key:3,class:"modal-overlay",onClick:h[49]||(h[49]=O=>u.value=!1)},[i("div",{class:"modal-content",onClick:h[48]||(h[48]=et(()=>{},["stop"]))},[i("div",yE,[h[143]||(h[143]=i("h3",null,"Editar Personaje",-1)),i("button",{onClick:h[31]||(h[31]=O=>u.value=!1),class:"btn-close"},h[142]||(h[142]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",xE,[i("form",{onSubmit:et(M,["prevent"])},[i("div",CE,[h[144]||(h[144]=i("label",{for:"editCharacterName"},"Nombre del Personaje",-1)),ge(i("input",{id:"editCharacterName","onUpdate:modelValue":h[32]||(h[32]=O=>A.value.name=O),type:"text",class:"form-control",required:""},null,512),[[Ae,A.value.name]])]),i("div",_E,[h[145]||(h[145]=i("label",{for:"editCharacterMaxHp"},"HP Mximo",-1)),ge(i("input",{id:"editCharacterMaxHp","onUpdate:modelValue":h[33]||(h[33]=O=>A.value.maxHp=O),type:"number",class:"form-control",min:"1",required:""},null,512),[[Ae,A.value.maxHp]])]),i("div",SE,[h[146]||(h[146]=i("label",{for:"editCharacterCurrentHp"},"HP Actual",-1)),ge(i("input",{id:"editCharacterCurrentHp","onUpdate:modelValue":h[34]||(h[34]=O=>A.value.currentHp=O),type:"number",class:"form-control",min:"0",max:A.value.maxHp,required:""},null,8,kE),[[Ae,A.value.currentHp]])]),i("div",EE,[h[147]||(h[147]=i("label",{for:"editCharacterRegeneration"},"Regeneracin por Turno",-1)),ge(i("input",{id:"editCharacterRegeneration","onUpdate:modelValue":h[35]||(h[35]=O=>A.value.regeneration=O),type:"number",class:"form-control",min:"0"},null,512),[[Ae,A.value.regeneration]])]),i("div",$E,[h[148]||(h[148]=i("label",{for:"editXp"},"XP:",-1)),ge(i("input",{id:"editXp","onUpdate:modelValue":h[36]||(h[36]=O=>A.value.xp=O),type:"text",class:"form-control"},null,512),[[Ae,A.value.xp]])]),i("div",AE,[h[149]||(h[149]=i("label",{for:"editCa"},"CA (Clase de Armadura):",-1)),ge(i("input",{id:"editCa","onUpdate:modelValue":h[37]||(h[37]=O=>A.value.ca=O),type:"text",class:"form-control"},null,512),[[Ae,A.value.ca]])]),i("div",TE,[h[150]||(h[150]=i("label",{for:"editResistencias"},"Resistencias:",-1)),ge(i("input",{id:"editResistencias","onUpdate:modelValue":h[38]||(h[38]=O=>A.value.resistencias=O),type:"text",class:"form-control"},null,512),[[Ae,A.value.resistencias]])]),i("div",DE,[h[151]||(h[151]=i("label",{for:"editInmunidades"},"Inmunidades:",-1)),ge(i("input",{id:"editInmunidades","onUpdate:modelValue":h[39]||(h[39]=O=>A.value.inmunidades=O),type:"text",class:"form-control"},null,512),[[Ae,A.value.inmunidades]])]),i("div",HE,[h[158]||(h[158]=i("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),i("div",IE,[i("div",RE,[i("div",PE,[h[152]||(h[152]=i("label",{for:"editFuerza"},"Fuerza:",-1)),ge(i("input",{id:"editFuerza","onUpdate:modelValue":h[40]||(h[40]=O=>A.value.fuerza=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,A.value.fuerza]])]),i("div",OE,[h[153]||(h[153]=i("label",{for:"editDestreza"},"Destreza:",-1)),ge(i("input",{id:"editDestreza","onUpdate:modelValue":h[41]||(h[41]=O=>A.value.destreza=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,A.value.destreza]])]),i("div",ME,[h[154]||(h[154]=i("label",{for:"editConstitucion"},"Constitucin:",-1)),ge(i("input",{id:"editConstitucion","onUpdate:modelValue":h[42]||(h[42]=O=>A.value.constitucion=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,A.value.constitucion]])])]),i("div",BE,[i("div",LE,[h[155]||(h[155]=i("label",{for:"editInteligencia"},"Inteligencia:",-1)),ge(i("input",{id:"editInteligencia","onUpdate:modelValue":h[43]||(h[43]=O=>A.value.inteligencia=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,A.value.inteligencia]])]),i("div",NE,[h[156]||(h[156]=i("label",{for:"editSabiduria"},"Sabidura:",-1)),ge(i("input",{id:"editSabiduria","onUpdate:modelValue":h[44]||(h[44]=O=>A.value.sabiduria=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,A.value.sabiduria]])]),i("div",UE,[h[157]||(h[157]=i("label",{for:"editCarisma"},"Carisma:",-1)),ge(i("input",{id:"editCarisma","onUpdate:modelValue":h[45]||(h[45]=O=>A.value.carisma=O),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[Ae,A.value.carisma]])])])])]),i("div",FE,[h[159]||(h[159]=i("label",{for:"editNotas"},"Notas:",-1)),ge(i("textarea",{id:"editNotas","onUpdate:modelValue":h[46]||(h[46]=O=>A.value.notas=O),class:"form-control",rows:"3"},null,512),[[Ae,A.value.notas]])]),i("div",VE,[i("button",{type:"button",onClick:h[47]||(h[47]=O=>u.value=!1),class:"btn btn-secondary"}," Cancelar "),h[160]||(h[160]=i("button",{type:"submit",class:"btn btn-primary"}," Guardar Cambios ",-1))])],32)])])])):Te("",!0),i("input",{ref_key:"fileInput",ref:I,type:"file",accept:".json",onChange:ue,style:{display:"none"}},null,544),c.value?(Y(),G("div",{key:4,class:"modal-overlay",onClick:h[54]||(h[54]=O=>c.value=!1)},[i("div",{class:"modal-content",onClick:h[53]||(h[53]=et(()=>{},["stop"]))},[i("div",jE,[h[162]||(h[162]=i("h3",null,"Importar Personajes",-1)),i("button",{onClick:h[50]||(h[50]=O=>c.value=!1),class:"btn-close"},h[161]||(h[161]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",zE,[i("div",qE,[i("div",{class:"import-option"},[h[164]||(h[164]=i("h4",null,"Opcin 1: Seleccionar Archivo",-1)),h[165]||(h[165]=i("p",null,"Selecciona un archivo JSON exportado previamente",-1)),i("button",{onClick:pe,class:"btn btn-primary"},h[163]||(h[163]=[i("i",{class:"bi bi-folder2-open"},null,-1),Ee(" Seleccionar Archivo ")]))]),h[168]||(h[168]=i("div",{class:"import-divider"},[i("span",null,"o")],-1)),i("div",WE,[h[166]||(h[166]=i("h4",null,"Opcin 2: Pegar JSON",-1)),h[167]||(h[167]=i("p",null,"Pega aqu el contenido JSON exportado",-1)),ge(i("textarea",{"onUpdate:modelValue":h[51]||(h[51]=O=>y.value=O),class:"form-control",rows:"6",placeholder:"Pega aqu el JSON exportado..."},null,512),[[Ae,y.value]])])]),i("div",KE,[i("button",{type:"button",onClick:h[52]||(h[52]=O=>c.value=!1),class:"btn btn-secondary"}," Cancelar "),i("button",{onClick:_e,class:"btn btn-primary",disabled:!y.value.trim()}," Importar desde Texto ",8,YE)])])])])):Te("",!0),f.value?(Y(),G("div",{key:5,class:"modal-overlay",onClick:w},[i("div",{class:"modal-content death-modal",onClick:h[57]||(h[57]=et(()=>{},["stop"]))},[i("div",XE,[h[170]||(h[170]=i("h3",null,"Personaje Derrotado!",-1)),i("button",{onClick:h[55]||(h[55]=O=>f.value=!1),class:"btn-close"},h[169]||(h[169]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",GE,[i("div",JE,[h[174]||(h[174]=i("div",{class:"death-icon"},"",-1)),i("p",null,[h[171]||(h[171]=Ee(" El personaje ")),i("strong",null,ie(v.value.name),1),h[172]||(h[172]=Ee(" ha sido derrotado! "))]),i("p",QE,[h[173]||(h[173]=Ee(" HP: ")),i("span",ZE,ie(v.value.currentHp),1),Ee(" / "+ie(v.value.maxHp),1)]),h[175]||(h[175]=i("p",null,"Quin fue el hroe que lo derrot?",-1))]),i("div",e3,[h[176]||(h[176]=i("label",{for:"heroName"},"Nombre del Hroe:",-1)),ge(i("input",{id:"heroName","onUpdate:modelValue":h[56]||(h[56]=O=>_.value=O),type:"text",class:"form-control",placeholder:"Escribe el nombre del hroe...",onKeyup:En(U,["enter"])},null,544),[[Ae,_.value]])]),i("div",t3,[i("button",{onClick:U,class:"btn btn-primary",disabled:!_.value.trim()},h[177]||(h[177]=[i("i",{class:"bi bi-save"},null,-1),Ee(" Guardar ")]),8,n3),i("button",{onClick:x,class:"btn btn-secondary"}," Cancelar ")])])])])):Te("",!0)]),m.value?(Y(),G("div",{key:3,class:"modal-overlay",id:"todo-list",onClick:h[61]||(h[61]=O=>m.value=!1)},[i("div",{class:"modal-content",onClick:h[60]||(h[60]=et(()=>{},["stop"]))},[i("div",o3,[h[179]||(h[179]=i("h3",null,"Lista de Tareas",-1)),i("button",{onClick:h[58]||(h[58]=O=>m.value=!1),class:"btn-close"},h[178]||(h[178]=[i("i",{class:"bi bi-x-lg"},null,-1)]))]),i("div",r3,[i("div",s3,[ge(i("input",{"onUpdate:modelValue":h[59]||(h[59]=O=>P.value=O),type:"text",class:"form-control",placeholder:"Nueva tarea",onKeyup:En(me,["enter"])},null,544),[[Ae,P.value]]),i("button",{onClick:me,class:"btn btn-primary"},"Agregar")]),i("ul",i3,[(Y(!0),G(Ve,null,Xe(N.value,O=>(Y(),G("li",{key:O.id},[ge(i("input",{type:"checkbox","onUpdate:modelValue":we=>O.completed=we,onChange:we=>ae(O.id)},null,40,a3),[[Hr,O.completed]]),i("span",{class:at({completed:O.completed})},ie(O.text),3),i("button",{onClick:we=>he(O.id),class:"btn btn-danger btn-sm"},"Eliminar",8,l3)]))),128))])])])])):Te("",!0),r.value?(Y(),Vn(OC,{key:4,characters:ye(t).characters,players:ye(o),onClose:h[62]||(h[62]=O=>r.value=!1)},null,8,["characters","players"])):Te("",!0)]))}},u3=jt(c3,[["__scopeId","data-v-198aaa7d"]]),d3=[{path:"/",component:lv,name:"home"},{path:"/config",component:I0,name:"config"},{path:"/character",component:Ux,name:"character"},{path:"/logs",component:gC,name:"logs"},{path:"/dm",component:u3,name:"dm"},{path:"/:pathMatch(.*)*",redirect:"/"}],f3=Yg({history:_g("/DyD/"),routes:d3}),p3={class:"app-header"},m3={class:"navbar"},h3={class:"navbar-brand"},g3={__name:"AppHeader",setup(e){const t=Oo(),n=$e(!1),o=ut(()=>t.character.isConfigured),r=()=>{n.value=!n.value},s=()=>{n.value=!1};return(a,l)=>{const d=Tu("router-link");return Y(),G("header",p3,[l[7]||(l[7]=i("div",{class:"header-background"},[i("div",{class:"header-glow"}),i("div",{class:"header-pattern"})],-1)),i("nav",m3,[i("div",h3,[mt(d,{to:"/",class:"brand-link"},{default:ko(()=>l[0]||(l[0]=[i("div",{class:"brand-icon-container"},[i("span",{class:"brand-icon"},""),i("div",{class:"brand-icon-glow"})],-1),i("span",{class:"brand-text"},"D&D Life Tracker",-1)])),_:1})]),i("button",{onClick:r,class:at(["mobile-menu-toggle",{active:n.value}]),"aria-label":"Toggle mobile menu"},l[1]||(l[1]=[i("span",{class:"hamburger-line"},null,-1),i("span",{class:"hamburger-line"},null,-1),i("span",{class:"hamburger-line"},null,-1)]),2),i("div",{class:at(["navbar-nav",{"mobile-open":n.value}])},[mt(d,{to:"/",class:"nav-link","active-class":"active",onClick:s},{default:ko(()=>l[2]||(l[2]=[i("div",{class:"nav-icon-container"},[i("i",{class:"bi bi-house-door"})],-1),i("span",null,"Inicio",-1)])),_:1}),mt(d,{to:"/config",class:"nav-link","active-class":"active",onClick:s},{default:ko(()=>l[3]||(l[3]=[i("div",{class:"nav-icon-container"},[i("i",{class:"bi bi-gear"})],-1),i("span",null,"Configuracin",-1)])),_:1}),o.value?(Y(),Vn(d,{key:0,to:"/character",class:"nav-link","active-class":"active",onClick:s},{default:ko(()=>l[4]||(l[4]=[i("div",{class:"nav-icon-container"},[i("i",{class:"bi bi-person"})],-1),i("span",null,"Personaje",-1)])),_:1})):Te("",!0),o.value?(Y(),Vn(d,{key:1,to:"/logs",class:"nav-link","active-class":"active",onClick:s},{default:ko(()=>l[5]||(l[5]=[i("div",{class:"nav-icon-container"},[i("i",{class:"bi bi-journal-text"})],-1),i("span",null,"Historial",-1)])),_:1})):Te("",!0),mt(d,{to:"/dm",class:"nav-link","active-class":"active",onClick:s},{default:ko(()=>l[6]||(l[6]=[i("div",{class:"nav-icon-container"},[i("i",{class:"bi bi-shield-fill"})],-1),i("span",null,"DM",-1)])),_:1})],2)])])}}},v3=jt(g3,[["__scopeId","data-v-5a1ed7c4"]]),b3={class:"app-container"},w3={class:"main-content"},y3={__name:"App",setup(e){return(t,n)=>{const o=Tu("RouterView");return Y(),G("div",b3,[mt(v3),i("main",w3,[mt(o)])])}}},bl=Lh(y3);bl.use(Fh());bl.use(f3);bl.mount("#app");
