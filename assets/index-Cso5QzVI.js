(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const lt={},No=[],_n=()=>{},Xf=()=>!1,Wa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),pi=e=>e.startsWith("onUpdate:"),Lt=Object.assign,mi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Gf=Object.prototype.hasOwnProperty,ot=(e,t)=>Gf.call(e,t),Oe=Array.isArray,Vo=e=>Bs(e)==="[object Map]",Qo=e=>Bs(e)==="[object Set]",nl=e=>Bs(e)==="[object Date]",je=e=>typeof e=="function",St=e=>typeof e=="string",$n=e=>typeof e=="symbol",ct=e=>e!==null&&typeof e=="object",xc=e=>(ct(e)||je(e))&&je(e.then)&&je(e.catch),_c=Object.prototype.toString,Bs=e=>_c.call(e),Jf=e=>Bs(e).slice(8,-1),kc=e=>Bs(e)==="[object Object]",hi=e=>St(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ps=fi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ka=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Qf=/-(\w)/g,dn=Ka(e=>e.replace(Qf,(t,n)=>n?n.toUpperCase():"")),Zf=/\B([A-Z])/g,ao=Ka(e=>e.replace(Zf,"-$1").toLowerCase()),Ya=Ka(e=>e.charAt(0).toUpperCase()+e.slice(1)),hr=Ka(e=>e?`on${Ya(e)}`:""),no=(e,t)=>!Object.is(e,t),la=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Sc=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},ya=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ol;const Xa=()=>ol||(ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kn(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=St(o)?op(o):kn(o);if(a)for(const r in a)t[r]=a[r]}return t}else if(St(e)||ct(e))return e}const ep=/;(?![^(]*\))/g,tp=/:([^]+)/,np=/\/\*[^]*?\*\//g;function op(e){const t={};return e.replace(np,"").split(ep).forEach(n=>{if(n){const o=n.split(tp);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function it(e){let t="";if(St(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const o=it(e[n]);o&&(t+=o+" ")}else if(ct(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const sp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ap=fi(sp);function $c(e){return!!e||e===""}function rp(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Ms(e[o],t[o]);return n}function Ms(e,t){if(e===t)return!0;let n=nl(e),o=nl(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=$n(e),o=$n(t),n||o)return e===t;if(n=Oe(e),o=Oe(t),n||o)return n&&o?rp(e,t):!1;if(n=ct(e),o=ct(t),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,r=Object.keys(t).length;if(a!==r)return!1;for(const i in e){const l=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(l&&!c||!l&&c||!Ms(e[i],t[i]))return!1}}return String(e)===String(t)}function gi(e,t){return e.findIndex(n=>Ms(n,t))}const Ec=e=>!!(e&&e.__v_isRef===!0),K=e=>St(e)?e:e==null?"":Oe(e)||ct(e)&&(e.toString===_c||!je(e.toString))?Ec(e)?K(e.value):JSON.stringify(e,Dc,2):String(e),Dc=(e,t)=>Ec(t)?Dc(e,t.value):Vo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,a],r)=>(n[gr(o,r)+" =>"]=a,n),{})}:Qo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>gr(n))}:$n(t)?gr(t):ct(t)&&!Oe(t)&&!kc(t)?String(t):t,gr=(e,t="")=>{var n;return $n(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class Tc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ut,!t&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ut;try{return Ut=this,t()}finally{Ut=n}}}on(){Ut=this}off(){Ut=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Ac(e){return new Tc(e)}function Ic(){return Ut}function ip(e,t=!1){Ut&&Ut.cleanups.push(e)}let ut;const vr=new WeakSet;class Rc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ut&&Ut.active&&Ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vr.has(this)&&(vr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,sl(this),Oc(this);const t=ut,n=hn;ut=this,hn=!0;try{return this.fn()}finally{Bc(this),ut=t,hn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wi(t);this.deps=this.depsTail=void 0,sl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ur(this)&&this.run()}get dirty(){return Ur(this)}}let Pc=0,ms,hs;function Hc(e,t=!1){if(e.flags|=8,t){e.next=hs,hs=e;return}e.next=ms,ms=e}function vi(){Pc++}function bi(){if(--Pc>0)return;if(hs){let t=hs;for(hs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ms;){let t=ms;for(ms=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Oc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Bc(e){let t,n=e.depsTail,o=n;for(;o;){const a=o.prevDep;o.version===-1?(o===n&&(n=a),wi(o),lp(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=a}e.deps=t,e.depsTail=n}function Ur(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Mc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Mc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ds))return;e.globalVersion=Ds;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ur(e)){e.flags&=-3;return}const n=ut,o=hn;ut=e,hn=!0;try{Oc(e);const a=e.fn(e._value);(t.version===0||no(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{ut=n,hn=o,Bc(e),e.flags&=-3}}function wi(e,t=!1){const{dep:n,prevSub:o,nextSub:a}=e;if(o&&(o.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)wi(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function lp(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let hn=!0;const Lc=[];function ro(){Lc.push(hn),hn=!1}function io(){const e=Lc.pop();hn=e===void 0?!0:e}function sl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ut;ut=void 0;try{t()}finally{ut=n}}}let Ds=0;class cp{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ut||!hn||ut===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ut)n=this.activeLink=new cp(ut,this),ut.deps?(n.prevDep=ut.depsTail,ut.depsTail.nextDep=n,ut.depsTail=n):ut.deps=ut.depsTail=n,Nc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ut.depsTail,n.nextDep=void 0,ut.depsTail.nextDep=n,ut.depsTail=n,ut.deps===n&&(ut.deps=o)}return n}trigger(t){this.version++,Ds++,this.notify(t)}notify(t){vi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{bi()}}}function Nc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Nc(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ca=new WeakMap,wo=Symbol(""),zr=Symbol(""),Ts=Symbol("");function Bt(e,t,n){if(hn&&ut){let o=Ca.get(e);o||Ca.set(e,o=new Map);let a=o.get(n);a||(o.set(n,a=new yi),a.map=o,a.key=n),a.track()}}function Pn(e,t,n,o,a,r){const i=Ca.get(e);if(!i){Ds++;return}const l=c=>{c&&c.trigger()};if(vi(),t==="clear")i.forEach(l);else{const c=Oe(e),u=c&&hi(n);if(c&&n==="length"){const p=Number(o);i.forEach((d,m)=>{(m==="length"||m===Ts||!$n(m)&&m>=p)&&l(d)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),u&&l(i.get(Ts)),t){case"add":c?u&&l(i.get("length")):(l(i.get(wo)),Vo(e)&&l(i.get(zr)));break;case"delete":c||(l(i.get(wo)),Vo(e)&&l(i.get(zr)));break;case"set":Vo(e)&&l(i.get(wo));break}}bi()}function up(e,t){const n=Ca.get(e);return n&&n.get(t)}function Io(e){const t=Ge(e);return t===e?t:(Bt(t,"iterate",Ts),cn(e)?t:t.map(Mt))}function Ga(e){return Bt(e=Ge(e),"iterate",Ts),e}const dp={__proto__:null,[Symbol.iterator](){return br(this,Symbol.iterator,Mt)},concat(...e){return Io(this).concat(...e.map(t=>Oe(t)?Io(t):t))},entries(){return br(this,"entries",e=>(e[1]=Mt(e[1]),e))},every(e,t){return An(this,"every",e,t,void 0,arguments)},filter(e,t){return An(this,"filter",e,t,n=>n.map(Mt),arguments)},find(e,t){return An(this,"find",e,t,Mt,arguments)},findIndex(e,t){return An(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return An(this,"findLast",e,t,Mt,arguments)},findLastIndex(e,t){return An(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return An(this,"forEach",e,t,void 0,arguments)},includes(...e){return wr(this,"includes",e)},indexOf(...e){return wr(this,"indexOf",e)},join(e){return Io(this).join(e)},lastIndexOf(...e){return wr(this,"lastIndexOf",e)},map(e,t){return An(this,"map",e,t,void 0,arguments)},pop(){return as(this,"pop")},push(...e){return as(this,"push",e)},reduce(e,...t){return al(this,"reduce",e,t)},reduceRight(e,...t){return al(this,"reduceRight",e,t)},shift(){return as(this,"shift")},some(e,t){return An(this,"some",e,t,void 0,arguments)},splice(...e){return as(this,"splice",e)},toReversed(){return Io(this).toReversed()},toSorted(e){return Io(this).toSorted(e)},toSpliced(...e){return Io(this).toSpliced(...e)},unshift(...e){return as(this,"unshift",e)},values(){return br(this,"values",Mt)}};function br(e,t,n){const o=Ga(e),a=o[t]();return o!==e&&!cn(e)&&(a._next=a.next,a.next=()=>{const r=a._next();return r.value&&(r.value=n(r.value)),r}),a}const fp=Array.prototype;function An(e,t,n,o,a,r){const i=Ga(e),l=i!==e&&!cn(e),c=i[t];if(c!==fp[t]){const d=c.apply(e,r);return l?Mt(d):d}let u=n;i!==e&&(l?u=function(d,m){return n.call(this,Mt(d),m,e)}:n.length>2&&(u=function(d,m){return n.call(this,d,m,e)}));const p=c.call(i,u,o);return l&&a?a(p):p}function al(e,t,n,o){const a=Ga(e);let r=n;return a!==e&&(cn(e)?n.length>3&&(r=function(i,l,c){return n.call(this,i,l,c,e)}):r=function(i,l,c){return n.call(this,i,Mt(l),c,e)}),a[t](r,...o)}function wr(e,t,n){const o=Ge(e);Bt(o,"iterate",Ts);const a=o[t](...n);return(a===-1||a===!1)&&_i(n[0])?(n[0]=Ge(n[0]),o[t](...n)):a}function as(e,t,n=[]){ro(),vi();const o=Ge(e)[t].apply(e,n);return bi(),io(),o}const pp=fi("__proto__,__v_isRef,__isVue"),Vc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($n));function mp(e){$n(e)||(e=String(e));const t=Ge(this);return Bt(t,"has",e),t.hasOwnProperty(e)}class jc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(a?r?kp:qc:r?zc:Uc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=Oe(t);if(!a){let c;if(i&&(c=dp[n]))return c;if(n==="hasOwnProperty")return mp}const l=Reflect.get(t,n,gt(t)?t:o);return($n(n)?Vc.has(n):pp(n))||(a||Bt(t,"get",n),r)?l:gt(l)?i&&hi(n)?l:l.value:ct(l)?a?Kc(l):nn(l):l}}class Fc extends jc{constructor(t=!1){super(!1,t)}set(t,n,o,a){let r=t[n];if(!this._isShallow){const c=xo(r);if(!cn(o)&&!xo(o)&&(r=Ge(r),o=Ge(o)),!Oe(t)&&gt(r)&&!gt(o))return c?!1:(r.value=o,!0)}const i=Oe(t)&&hi(n)?Number(n)<t.length:ot(t,n),l=Reflect.set(t,n,o,gt(t)?t:a);return t===Ge(a)&&(i?no(o,r)&&Pn(t,"set",n,o):Pn(t,"add",n,o)),l}deleteProperty(t,n){const o=ot(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&o&&Pn(t,"delete",n,void 0),a}has(t,n){const o=Reflect.has(t,n);return(!$n(n)||!Vc.has(n))&&Bt(t,"has",n),o}ownKeys(t){return Bt(t,"iterate",Oe(t)?"length":wo),Reflect.ownKeys(t)}}class hp extends jc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const gp=new Fc,vp=new hp,bp=new Fc(!0);const qr=e=>e,Qs=e=>Reflect.getPrototypeOf(e);function wp(e,t,n){return function(...o){const a=this.__v_raw,r=Ge(a),i=Vo(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,u=a[e](...o),p=n?qr:t?Wr:Mt;return!t&&Bt(r,"iterate",c?zr:wo),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:l?[p(d[0]),p(d[1])]:p(d),done:m}},[Symbol.iterator](){return this}}}}function Zs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yp(e,t){const n={get(a){const r=this.__v_raw,i=Ge(r),l=Ge(a);e||(no(a,l)&&Bt(i,"get",a),Bt(i,"get",l));const{has:c}=Qs(i),u=t?qr:e?Wr:Mt;if(c.call(i,a))return u(r.get(a));if(c.call(i,l))return u(r.get(l));r!==i&&r.get(a)},get size(){const a=this.__v_raw;return!e&&Bt(Ge(a),"iterate",wo),Reflect.get(a,"size",a)},has(a){const r=this.__v_raw,i=Ge(r),l=Ge(a);return e||(no(a,l)&&Bt(i,"has",a),Bt(i,"has",l)),a===l?r.has(a):r.has(a)||r.has(l)},forEach(a,r){const i=this,l=i.__v_raw,c=Ge(l),u=t?qr:e?Wr:Mt;return!e&&Bt(c,"iterate",wo),l.forEach((p,d)=>a.call(r,u(p),u(d),i))}};return Lt(n,e?{add:Zs("add"),set:Zs("set"),delete:Zs("delete"),clear:Zs("clear")}:{add(a){!t&&!cn(a)&&!xo(a)&&(a=Ge(a));const r=Ge(this);return Qs(r).has.call(r,a)||(r.add(a),Pn(r,"add",a,a)),this},set(a,r){!t&&!cn(r)&&!xo(r)&&(r=Ge(r));const i=Ge(this),{has:l,get:c}=Qs(i);let u=l.call(i,a);u||(a=Ge(a),u=l.call(i,a));const p=c.call(i,a);return i.set(a,r),u?no(r,p)&&Pn(i,"set",a,r):Pn(i,"add",a,r),this},delete(a){const r=Ge(this),{has:i,get:l}=Qs(r);let c=i.call(r,a);c||(a=Ge(a),c=i.call(r,a)),l&&l.call(r,a);const u=r.delete(a);return c&&Pn(r,"delete",a,void 0),u},clear(){const a=Ge(this),r=a.size!==0,i=a.clear();return r&&Pn(a,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=wp(a,e,t)}),n}function Ci(e,t){const n=yp(e,t);return(o,a,r)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(ot(n,a)&&a in o?n:o,a,r)}const Cp={get:Ci(!1,!1)},xp={get:Ci(!1,!0)},_p={get:Ci(!0,!1)};const Uc=new WeakMap,zc=new WeakMap,qc=new WeakMap,kp=new WeakMap;function Sp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(e){return e.__v_skip||!Object.isExtensible(e)?0:Sp(Jf(e))}function nn(e){return xo(e)?e:xi(e,!1,gp,Cp,Uc)}function Wc(e){return xi(e,!1,bp,xp,zc)}function Kc(e){return xi(e,!0,vp,_p,qc)}function xi(e,t,n,o,a){if(!ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=a.get(e);if(r)return r;const i=$p(e);if(i===0)return e;const l=new Proxy(e,i===2?o:n);return a.set(e,l),l}function Bn(e){return xo(e)?Bn(e.__v_raw):!!(e&&e.__v_isReactive)}function xo(e){return!!(e&&e.__v_isReadonly)}function cn(e){return!!(e&&e.__v_isShallow)}function _i(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function ki(e){return!ot(e,"__v_skip")&&Object.isExtensible(e)&&Sc(e,"__v_skip",!0),e}const Mt=e=>ct(e)?nn(e):e,Wr=e=>ct(e)?Kc(e):e;function gt(e){return e?e.__v_isRef===!0:!1}function he(e){return Yc(e,!1)}function Ep(e){return Yc(e,!0)}function Yc(e,t){return gt(e)?e:new Dp(e,t)}class Dp{constructor(t,n){this.dep=new yi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ge(t),this._value=n?t:Mt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||cn(t)||xo(t);t=o?t:Ge(t),no(t,n)&&(this._rawValue=t,this._value=o?t:Mt(t),this.dep.trigger())}}function de(e){return gt(e)?e.value:e}const Tp={get:(e,t,n)=>t==="__v_raw"?e:de(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return gt(a)&&!gt(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function Xc(e){return Bn(e)?e:new Proxy(e,Tp)}function Ap(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=Jc(e,n);return t}class Ip{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return up(Ge(this._object),this._key)}}class Rp{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Gc(e,t,n){return gt(e)?e:je(e)?new Rp(e):ct(e)&&arguments.length>1?Jc(e,t,n):he(e)}function Jc(e,t,n){const o=e[t];return gt(o)?o:new Ip(e,t,n)}class Pp{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new yi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ds-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ut!==this)return Hc(this,!0),!0}get value(){const t=this.dep.track();return Mc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hp(e,t,n=!1){let o,a;return je(e)?o=e:(o=e.get,a=e.set),new Pp(o,a,n)}const ea={},xa=new WeakMap;let vo;function Op(e,t=!1,n=vo){if(n){let o=xa.get(n);o||xa.set(n,o=[]),o.push(e)}}function Bp(e,t,n=lt){const{immediate:o,deep:a,once:r,scheduler:i,augmentJob:l,call:c}=n,u=L=>a?L:cn(L)||a===!1||a===0?Hn(L,1):Hn(L);let p,d,m,v,x=!1,w=!1;if(gt(e)?(d=()=>e.value,x=cn(e)):Bn(e)?(d=()=>u(e),x=!0):Oe(e)?(w=!0,x=e.some(L=>Bn(L)||cn(L)),d=()=>e.map(L=>{if(gt(L))return L.value;if(Bn(L))return u(L);if(je(L))return c?c(L,2):L()})):je(e)?t?d=c?()=>c(e,2):e:d=()=>{if(m){ro();try{m()}finally{io()}}const L=vo;vo=p;try{return c?c(e,3,[v]):e(v)}finally{vo=L}}:d=_n,t&&a){const L=d,D=a===!0?1/0:a;d=()=>Hn(L(),D)}const g=Ic(),S=()=>{p.stop(),g&&g.active&&mi(g.effects,p)};if(r&&t){const L=t;t=(...D)=>{L(...D),S()}}let M=w?new Array(e.length).fill(ea):ea;const B=L=>{if(!(!(p.flags&1)||!p.dirty&&!L))if(t){const D=p.run();if(a||x||(w?D.some((se,te)=>no(se,M[te])):no(D,M))){m&&m();const se=vo;vo=p;try{const te=[D,M===ea?void 0:w&&M[0]===ea?[]:M,v];c?c(t,3,te):t(...te),M=D}finally{vo=se}}}else p.run()};return l&&l(B),p=new Rc(d),p.scheduler=i?()=>i(B,!1):B,v=L=>Op(L,!1,p),m=p.onStop=()=>{const L=xa.get(p);if(L){if(c)c(L,4);else for(const D of L)D();xa.delete(p)}},t?o?B(!0):M=p.run():i?i(B.bind(null,!0),!0):p.run(),S.pause=p.pause.bind(p),S.resume=p.resume.bind(p),S.stop=S,S}function Hn(e,t=1/0,n){if(t<=0||!ct(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,gt(e))Hn(e.value,t,n);else if(Oe(e))for(let o=0;o<e.length;o++)Hn(e[o],t,n);else if(Qo(e)||Vo(e))e.forEach(o=>{Hn(o,t,n)});else if(kc(e)){for(const o in e)Hn(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Hn(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ls(e,t,n,o){try{return o?e(...o):e()}catch(a){Ja(a,t,n)}}function En(e,t,n,o){if(je(e)){const a=Ls(e,t,n,o);return a&&xc(a)&&a.catch(r=>{Ja(r,t,n)}),a}if(Oe(e)){const a=[];for(let r=0;r<e.length;r++)a.push(En(e[r],t,n,o));return a}}function Ja(e,t,n,o=!0){const a=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||lt;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const p=l.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](e,c,u)===!1)return}l=l.parent}if(r){ro(),Ls(r,null,10,[e,c,u]),io();return}}Mp(e,n,a,o,i)}function Mp(e,t,n,o=!0,a=!1){if(a)throw e;console.error(e)}const zt=[];let wn=-1;const jo=[];let Wn=null,Oo=0;const Qc=Promise.resolve();let _a=null;function $o(e){const t=_a||Qc;return e?t.then(this?e.bind(this):e):t}function Lp(e){let t=wn+1,n=zt.length;for(;t<n;){const o=t+n>>>1,a=zt[o],r=As(a);r<e||r===e&&a.flags&2?t=o+1:n=o}return t}function Si(e){if(!(e.flags&1)){const t=As(e),n=zt[zt.length-1];!n||!(e.flags&2)&&t>=As(n)?zt.push(e):zt.splice(Lp(t),0,e),e.flags|=1,Zc()}}function Zc(){_a||(_a=Qc.then(tu))}function Np(e){Oe(e)?jo.push(...e):Wn&&e.id===-1?Wn.splice(Oo+1,0,e):e.flags&1||(jo.push(e),e.flags|=1),Zc()}function rl(e,t,n=wn+1){for(;n<zt.length;n++){const o=zt[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;zt.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function eu(e){if(jo.length){const t=[...new Set(jo)].sort((n,o)=>As(n)-As(o));if(jo.length=0,Wn){Wn.push(...t);return}for(Wn=t,Oo=0;Oo<Wn.length;Oo++){const n=Wn[Oo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wn=null,Oo=0}}const As=e=>e.id==null?e.flags&2?-1:1/0:e.id;function tu(e){try{for(wn=0;wn<zt.length;wn++){const t=zt[wn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ls(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wn<zt.length;wn++){const t=zt[wn];t&&(t.flags&=-2)}wn=-1,zt.length=0,eu(),_a=null,(zt.length||jo.length)&&tu()}}let Gt=null,nu=null;function ka(e){const t=Gt;return Gt=e,nu=e&&e.type.__scopeId||null,t}function Kn(e,t=Gt,n){if(!t||e._n)return e;const o=(...a)=>{o._d&&gl(-1);const r=ka(t);let i;try{i=e(...a)}finally{ka(r),o._d&&gl(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function oe(e,t){if(Gt===null)return e;const n=tr(Gt),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[r,i,l,c=lt]=t[a];r&&(je(r)&&(r={mounted:r,updated:r}),r.deep&&Hn(i),o.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function fo(e,t,n,o){const a=e.dirs,r=t&&t.dirs;for(let i=0;i<a.length;i++){const l=a[i];r&&(l.oldValue=r[i].value);let c=l.dir[o];c&&(ro(),En(c,n,8,[e.el,l,e,t]),io())}}const Vp=Symbol("_vte"),jp=e=>e.__isTeleport;function $i(e,t){e.shapeFlag&6&&e.component?(e.transition=t,$i(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ou(e,t){return je(e)?Lt({name:e.name},t,{setup:e}):e}function su(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Sa(e,t,n,o,a=!1){if(Oe(e)){e.forEach((x,w)=>Sa(x,t&&(Oe(t)?t[w]:t),n,o,a));return}if(gs(o)&&!a){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Sa(e,t,n,o.component.subTree);return}const r=o.shapeFlag&4?tr(o.component):o.el,i=a?null:r,{i:l,r:c}=e,u=t&&t.r,p=l.refs===lt?l.refs={}:l.refs,d=l.setupState,m=Ge(d),v=d===lt?()=>!1:x=>ot(m,x);if(u!=null&&u!==c&&(St(u)?(p[u]=null,v(u)&&(d[u]=null)):gt(u)&&(u.value=null)),je(c))Ls(c,l,12,[i,p]);else{const x=St(c),w=gt(c);if(x||w){const g=()=>{if(e.f){const S=x?v(c)?d[c]:p[c]:c.value;a?Oe(S)&&mi(S,r):Oe(S)?S.includes(r)||S.push(r):x?(p[c]=[r],v(c)&&(d[c]=p[c])):(c.value=[r],e.k&&(p[e.k]=c.value))}else x?(p[c]=i,v(c)&&(d[c]=i)):w&&(c.value=i,e.k&&(p[e.k]=i))};i?(g.id=-1,Zt(g,n)):g()}}}Xa().requestIdleCallback;Xa().cancelIdleCallback;const gs=e=>!!e.type.__asyncLoader,au=e=>e.type.__isKeepAlive;function Fp(e,t){ru(e,"a",t)}function Up(e,t){ru(e,"da",t)}function ru(e,t,n=Pt){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Qa(t,o,n),n){let a=n.parent;for(;a&&a.parent;)au(a.parent.vnode)&&zp(o,t,n,a),a=a.parent}}function zp(e,t,n,o){const a=Qa(t,e,o,!0);lo(()=>{mi(o[t],a)},n)}function Qa(e,t,n=Pt,o=!1){if(n){const a=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{ro();const l=Ns(n),c=En(t,n,e,i);return l(),io(),c});return o?a.unshift(r):a.push(r),r}}const jn=e=>(t,n=Pt)=>{(!Rs||e==="sp")&&Qa(e,(...o)=>t(...o),n)},qp=jn("bm"),qt=jn("m"),Wp=jn("bu"),Kp=jn("u"),Yp=jn("bum"),lo=jn("um"),Xp=jn("sp"),Gp=jn("rtg"),Jp=jn("rtc");function Qp(e,t=Pt){Qa("ec",e,t)}const Zp="components";function Ei(e,t){return tm(Zp,e,!0,t)||e}const em=Symbol.for("v-ndc");function tm(e,t,n=!0,o=!1){const a=Gt||Pt;if(a){const r=a.type;{const l=Fm(r,!1);if(l&&(l===t||l===dn(t)||l===Ya(dn(t))))return r}const i=il(a[e]||r[e],t)||il(a.appContext[e],t);return!i&&o?r:i}}function il(e,t){return e&&(e[t]||e[dn(t)]||e[Ya(dn(t))])}function We(e,t,n,o){let a;const r=n,i=Oe(e);if(i||St(e)){const l=i&&Bn(e);let c=!1;l&&(c=!cn(e),e=Ga(e)),a=new Array(e.length);for(let u=0,p=e.length;u<p;u++)a[u]=t(c?Mt(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,r)}else if(ct(e))if(e[Symbol.iterator])a=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);a=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const p=l[c];a[c]=t(e[p],p,c,r)}}else a=[];return a}const Kr=e=>e?Eu(e)?tr(e):Kr(e.parent):null,vs=Lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kr(e.parent),$root:e=>Kr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>lu(e),$forceUpdate:e=>e.f||(e.f=()=>{Si(e.update)}),$nextTick:e=>e.n||(e.n=$o.bind(e.proxy)),$watch:e=>_m.bind(e)}),yr=(e,t)=>e!==lt&&!e.__isScriptSetup&&ot(e,t),nm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:a,props:r,accessCache:i,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const v=i[t];if(v!==void 0)switch(v){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return r[t]}else{if(yr(o,t))return i[t]=1,o[t];if(a!==lt&&ot(a,t))return i[t]=2,a[t];if((u=e.propsOptions[0])&&ot(u,t))return i[t]=3,r[t];if(n!==lt&&ot(n,t))return i[t]=4,n[t];Yr&&(i[t]=0)}}const p=vs[t];let d,m;if(p)return t==="$attrs"&&Bt(e.attrs,"get",""),p(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==lt&&ot(n,t))return i[t]=4,n[t];if(m=c.config.globalProperties,ot(m,t))return m[t]},set({_:e},t,n){const{data:o,setupState:a,ctx:r}=e;return yr(a,t)?(a[t]=n,!0):o!==lt&&ot(o,t)?(o[t]=n,!0):ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:r}},i){let l;return!!n[i]||e!==lt&&ot(e,i)||yr(t,i)||(l=r[0])&&ot(l,i)||ot(o,i)||ot(vs,i)||ot(a.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ot(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ll(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Yr=!0;function om(e){const t=lu(e),n=e.proxy,o=e.ctx;Yr=!1,t.beforeCreate&&cl(t.beforeCreate,e,"bc");const{data:a,computed:r,methods:i,watch:l,provide:c,inject:u,created:p,beforeMount:d,mounted:m,beforeUpdate:v,updated:x,activated:w,deactivated:g,beforeDestroy:S,beforeUnmount:M,destroyed:B,unmounted:L,render:D,renderTracked:se,renderTriggered:te,errorCaptured:re,serverPrefetch:V,expose:R,inheritAttrs:ee,components:ge,directives:q,filters:W}=t;if(u&&sm(u,o,null),i)for(const H in i){const ae=i[H];je(ae)&&(o[H]=ae.bind(n))}if(a){const H=a.call(n,n);ct(H)&&(e.data=nn(H))}if(Yr=!0,r)for(const H in r){const ae=r[H],Pe=je(ae)?ae.bind(n,n):je(ae.get)?ae.get.bind(n,n):_n,Y=!je(ae)&&je(ae.set)?ae.set.bind(n):_n,N=Qe({get:Pe,set:Y});Object.defineProperty(o,H,{enumerable:!0,configurable:!0,get:()=>N.value,set:J=>N.value=J})}if(l)for(const H in l)iu(l[H],o,n,H);if(c){const H=je(c)?c.call(n):c;Reflect.ownKeys(H).forEach(ae=>{ca(ae,H[ae])})}p&&cl(p,e,"c");function O(H,ae){Oe(ae)?ae.forEach(Pe=>H(Pe.bind(n))):ae&&H(ae.bind(n))}if(O(qp,d),O(qt,m),O(Wp,v),O(Kp,x),O(Fp,w),O(Up,g),O(Qp,re),O(Jp,se),O(Gp,te),O(Yp,M),O(lo,L),O(Xp,V),Oe(R))if(R.length){const H=e.exposed||(e.exposed={});R.forEach(ae=>{Object.defineProperty(H,ae,{get:()=>n[ae],set:Pe=>n[ae]=Pe})})}else e.exposed||(e.exposed={});D&&e.render===_n&&(e.render=D),ee!=null&&(e.inheritAttrs=ee),ge&&(e.components=ge),q&&(e.directives=q),V&&su(e)}function sm(e,t,n=_n){Oe(e)&&(e=Xr(e));for(const o in e){const a=e[o];let r;ct(a)?"default"in a?r=gn(a.from||o,a.default,!0):r=gn(a.from||o):r=gn(a),gt(r)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[o]=r}}function cl(e,t,n){En(Oe(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function iu(e,t,n,o){let a=o.includes(".")?xu(n,o):()=>n[o];if(St(e)){const r=t[e];je(r)&&un(a,r)}else if(je(e))un(a,e.bind(n));else if(ct(e))if(Oe(e))e.forEach(r=>iu(r,t,n,o));else{const r=je(e.handler)?e.handler.bind(n):t[e.handler];je(r)&&un(a,r,e)}}function lu(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!a.length&&!n&&!o?c=t:(c={},a.length&&a.forEach(u=>$a(c,u,i,!0)),$a(c,t,i)),ct(t)&&r.set(t,c),c}function $a(e,t,n,o=!1){const{mixins:a,extends:r}=t;r&&$a(e,r,n,!0),a&&a.forEach(i=>$a(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const l=am[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const am={data:ul,props:dl,emits:dl,methods:cs,computed:cs,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:cs,directives:cs,watch:im,provide:ul,inject:rm};function ul(e,t){return t?e?function(){return Lt(je(e)?e.call(this,this):e,je(t)?t.call(this,this):t)}:t:e}function rm(e,t){return cs(Xr(e),Xr(t))}function Xr(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function jt(e,t){return e?[...new Set([].concat(e,t))]:t}function cs(e,t){return e?Lt(Object.create(null),e,t):t}function dl(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:Lt(Object.create(null),ll(e),ll(t??{})):t}function im(e,t){if(!e)return t;if(!t)return e;const n=Lt(Object.create(null),e);for(const o in t)n[o]=jt(e[o],t[o]);return n}function cu(){return{app:null,config:{isNativeTag:Xf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lm=0;function cm(e,t){return function(o,a=null){je(o)||(o=Lt({},o)),a!=null&&!ct(a)&&(a=null);const r=cu(),i=new WeakSet,l=[];let c=!1;const u=r.app={_uid:lm++,_component:o,_props:a,_container:null,_context:r,_instance:null,version:zm,get config(){return r.config},set config(p){},use(p,...d){return i.has(p)||(p&&je(p.install)?(i.add(p),p.install(u,...d)):je(p)&&(i.add(p),p(u,...d))),u},mixin(p){return r.mixins.includes(p)||r.mixins.push(p),u},component(p,d){return d?(r.components[p]=d,u):r.components[p]},directive(p,d){return d?(r.directives[p]=d,u):r.directives[p]},mount(p,d,m){if(!c){const v=u._ceVNode||ft(o,a);return v.appContext=r,m===!0?m="svg":m===!1&&(m=void 0),e(v,p,m),c=!0,u._container=p,p.__vue_app__=u,tr(v.component)}},onUnmount(p){l.push(p)},unmount(){c&&(En(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(p,d){return r.provides[p]=d,u},runWithContext(p){const d=yo;yo=u;try{return p()}finally{yo=d}}};return u}}let yo=null;function ca(e,t){if(Pt){let n=Pt.provides;const o=Pt.parent&&Pt.parent.provides;o===n&&(n=Pt.provides=Object.create(o)),n[e]=t}}function gn(e,t,n=!1){const o=Pt||Gt;if(o||yo){const a=yo?yo._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&je(t)?t.call(o&&o.proxy):t}}function um(){return!!(Pt||Gt||yo)}const uu={},du=()=>Object.create(uu),fu=e=>Object.getPrototypeOf(e)===uu;function dm(e,t,n,o=!1){const a={},r=du();e.propsDefaults=Object.create(null),pu(e,t,a,r);for(const i in e.propsOptions[0])i in a||(a[i]=void 0);n?e.props=o?a:Wc(a):e.type.props?e.props=a:e.props=r,e.attrs=r}function fm(e,t,n,o){const{props:a,attrs:r,vnode:{patchFlag:i}}=e,l=Ge(a),[c]=e.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const p=e.vnode.dynamicProps;for(let d=0;d<p.length;d++){let m=p[d];if(Za(e.emitsOptions,m))continue;const v=t[m];if(c)if(ot(r,m))v!==r[m]&&(r[m]=v,u=!0);else{const x=dn(m);a[x]=Gr(c,l,x,v,e,!1)}else v!==r[m]&&(r[m]=v,u=!0)}}}else{pu(e,t,a,r)&&(u=!0);let p;for(const d in l)(!t||!ot(t,d)&&((p=ao(d))===d||!ot(t,p)))&&(c?n&&(n[d]!==void 0||n[p]!==void 0)&&(a[d]=Gr(c,l,d,void 0,e,!0)):delete a[d]);if(r!==l)for(const d in r)(!t||!ot(t,d))&&(delete r[d],u=!0)}u&&Pn(e.attrs,"set","")}function pu(e,t,n,o){const[a,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(ps(c))continue;const u=t[c];let p;a&&ot(a,p=dn(c))?!r||!r.includes(p)?n[p]=u:(l||(l={}))[p]=u:Za(e.emitsOptions,c)||(!(c in o)||u!==o[c])&&(o[c]=u,i=!0)}if(r){const c=Ge(n),u=l||lt;for(let p=0;p<r.length;p++){const d=r[p];n[d]=Gr(a,c,d,u[d],e,!ot(u,d))}}return i}function Gr(e,t,n,o,a,r){const i=e[n];if(i!=null){const l=ot(i,"default");if(l&&o===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&je(c)){const{propsDefaults:u}=a;if(n in u)o=u[n];else{const p=Ns(a);o=u[n]=c.call(null,t),p()}}else o=c;a.ce&&a.ce._setProp(n,o)}i[0]&&(r&&!l?o=!1:i[1]&&(o===""||o===ao(n))&&(o=!0))}return o}const pm=new WeakMap;function mu(e,t,n=!1){const o=n?pm:t.propsCache,a=o.get(e);if(a)return a;const r=e.props,i={},l=[];let c=!1;if(!je(e)){const p=d=>{c=!0;const[m,v]=mu(d,t,!0);Lt(i,m),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!r&&!c)return ct(e)&&o.set(e,No),No;if(Oe(r))for(let p=0;p<r.length;p++){const d=dn(r[p]);fl(d)&&(i[d]=lt)}else if(r)for(const p in r){const d=dn(p);if(fl(d)){const m=r[p],v=i[d]=Oe(m)||je(m)?{type:m}:Lt({},m),x=v.type;let w=!1,g=!0;if(Oe(x))for(let S=0;S<x.length;++S){const M=x[S],B=je(M)&&M.name;if(B==="Boolean"){w=!0;break}else B==="String"&&(g=!1)}else w=je(x)&&x.name==="Boolean";v[0]=w,v[1]=g,(w||ot(v,"default"))&&l.push(d)}}const u=[i,l];return ct(e)&&o.set(e,u),u}function fl(e){return e[0]!=="$"&&!ps(e)}const hu=e=>e[0]==="_"||e==="$stable",Di=e=>Oe(e)?e.map(Cn):[Cn(e)],mm=(e,t,n)=>{if(t._n)return t;const o=Kn((...a)=>Di(t(...a)),n);return o._c=!1,o},gu=(e,t,n)=>{const o=e._ctx;for(const a in e){if(hu(a))continue;const r=e[a];if(je(r))t[a]=mm(a,r,o);else if(r!=null){const i=Di(r);t[a]=()=>i}}},vu=(e,t)=>{const n=Di(t);e.slots.default=()=>n},bu=(e,t,n)=>{for(const o in t)(n||o!=="_")&&(e[o]=t[o])},hm=(e,t,n)=>{const o=e.slots=du();if(e.vnode.shapeFlag&32){const a=t._;a?(bu(o,t,n),n&&Sc(o,"_",a,!0)):gu(t,o)}else t&&vu(e,t)},gm=(e,t,n)=>{const{vnode:o,slots:a}=e;let r=!0,i=lt;if(o.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:bu(a,t,n):(r=!t.$stable,gu(t,a)),i=t}else t&&(vu(e,t),i={default:1});if(r)for(const l in a)!hu(l)&&i[l]==null&&delete a[l]},Zt=Am;function vm(e){return bm(e)}function bm(e,t){const n=Xa();n.__VUE__=!0;const{insert:o,remove:a,patchProp:r,createElement:i,createText:l,createComment:c,setText:u,setElementText:p,parentNode:d,nextSibling:m,setScopeId:v=_n,insertStaticContent:x}=e,w=(C,_,I,G=null,ne=null,Q=null,_e=void 0,Ce=null,be=!!_.dynamicChildren)=>{if(C===_)return;C&&!rs(C,_)&&(G=j(C),J(C,ne,Q,!0),C=null),_.patchFlag===-2&&(be=!1,_.dynamicChildren=null);const{type:le,ref:Re,shapeFlag:De}=_;switch(le){case er:g(C,_,I,G);break;case _o:S(C,_,I,G);break;case ua:C==null&&M(_,I,G,_e);break;case Ne:ge(C,_,I,G,ne,Q,_e,Ce,be);break;default:De&1?D(C,_,I,G,ne,Q,_e,Ce,be):De&6?q(C,_,I,G,ne,Q,_e,Ce,be):(De&64||De&128)&&le.process(C,_,I,G,ne,Q,_e,Ce,be,we)}Re!=null&&ne&&Sa(Re,C&&C.ref,Q,_||C,!_)},g=(C,_,I,G)=>{if(C==null)o(_.el=l(_.children),I,G);else{const ne=_.el=C.el;_.children!==C.children&&u(ne,_.children)}},S=(C,_,I,G)=>{C==null?o(_.el=c(_.children||""),I,G):_.el=C.el},M=(C,_,I,G)=>{[C.el,C.anchor]=x(C.children,_,I,G,C.el,C.anchor)},B=({el:C,anchor:_},I,G)=>{let ne;for(;C&&C!==_;)ne=m(C),o(C,I,G),C=ne;o(_,I,G)},L=({el:C,anchor:_})=>{let I;for(;C&&C!==_;)I=m(C),a(C),C=I;a(_)},D=(C,_,I,G,ne,Q,_e,Ce,be)=>{_.type==="svg"?_e="svg":_.type==="math"&&(_e="mathml"),C==null?se(_,I,G,ne,Q,_e,Ce,be):V(C,_,ne,Q,_e,Ce,be)},se=(C,_,I,G,ne,Q,_e,Ce)=>{let be,le;const{props:Re,shapeFlag:De,transition:Te,dirs:Be}=C;if(be=C.el=i(C.type,Q,Re&&Re.is,Re),De&8?p(be,C.children):De&16&&re(C.children,be,null,G,ne,Cr(C,Q),_e,Ce),Be&&fo(C,null,G,"created"),te(be,C,C.scopeId,_e,G),Re){for(const Xe in Re)Xe!=="value"&&!ps(Xe)&&r(be,Xe,null,Re[Xe],Q,G);"value"in Re&&r(be,"value",null,Re.value,Q),(le=Re.onVnodeBeforeMount)&&bn(le,G,C)}Be&&fo(C,null,G,"beforeMount");const Ue=wm(ne,Te);Ue&&Te.beforeEnter(be),o(be,_,I),((le=Re&&Re.onVnodeMounted)||Ue||Be)&&Zt(()=>{le&&bn(le,G,C),Ue&&Te.enter(be),Be&&fo(C,null,G,"mounted")},ne)},te=(C,_,I,G,ne)=>{if(I&&v(C,I),G)for(let Q=0;Q<G.length;Q++)v(C,G[Q]);if(ne){let Q=ne.subTree;if(_===Q||ku(Q.type)&&(Q.ssContent===_||Q.ssFallback===_)){const _e=ne.vnode;te(C,_e,_e.scopeId,_e.slotScopeIds,ne.parent)}}},re=(C,_,I,G,ne,Q,_e,Ce,be=0)=>{for(let le=be;le<C.length;le++){const Re=C[le]=Ce?Yn(C[le]):Cn(C[le]);w(null,Re,_,I,G,ne,Q,_e,Ce)}},V=(C,_,I,G,ne,Q,_e)=>{const Ce=_.el=C.el;let{patchFlag:be,dynamicChildren:le,dirs:Re}=_;be|=C.patchFlag&16;const De=C.props||lt,Te=_.props||lt;let Be;if(I&&po(I,!1),(Be=Te.onVnodeBeforeUpdate)&&bn(Be,I,_,C),Re&&fo(_,C,I,"beforeUpdate"),I&&po(I,!0),(De.innerHTML&&Te.innerHTML==null||De.textContent&&Te.textContent==null)&&p(Ce,""),le?R(C.dynamicChildren,le,Ce,I,G,Cr(_,ne),Q):_e||ae(C,_,Ce,null,I,G,Cr(_,ne),Q,!1),be>0){if(be&16)ee(Ce,De,Te,I,ne);else if(be&2&&De.class!==Te.class&&r(Ce,"class",null,Te.class,ne),be&4&&r(Ce,"style",De.style,Te.style,ne),be&8){const Ue=_.dynamicProps;for(let Xe=0;Xe<Ue.length;Xe++){const Ke=Ue[Xe],Et=De[Ke],$t=Te[Ke];($t!==Et||Ke==="value")&&r(Ce,Ke,Et,$t,ne,I)}}be&1&&C.children!==_.children&&p(Ce,_.children)}else!_e&&le==null&&ee(Ce,De,Te,I,ne);((Be=Te.onVnodeUpdated)||Re)&&Zt(()=>{Be&&bn(Be,I,_,C),Re&&fo(_,C,I,"updated")},G)},R=(C,_,I,G,ne,Q,_e)=>{for(let Ce=0;Ce<_.length;Ce++){const be=C[Ce],le=_[Ce],Re=be.el&&(be.type===Ne||!rs(be,le)||be.shapeFlag&70)?d(be.el):I;w(be,le,Re,null,G,ne,Q,_e,!0)}},ee=(C,_,I,G,ne)=>{if(_!==I){if(_!==lt)for(const Q in _)!ps(Q)&&!(Q in I)&&r(C,Q,_[Q],null,ne,G);for(const Q in I){if(ps(Q))continue;const _e=I[Q],Ce=_[Q];_e!==Ce&&Q!=="value"&&r(C,Q,Ce,_e,ne,G)}"value"in I&&r(C,"value",_.value,I.value,ne)}},ge=(C,_,I,G,ne,Q,_e,Ce,be)=>{const le=_.el=C?C.el:l(""),Re=_.anchor=C?C.anchor:l("");let{patchFlag:De,dynamicChildren:Te,slotScopeIds:Be}=_;Be&&(Ce=Ce?Ce.concat(Be):Be),C==null?(o(le,I,G),o(Re,I,G),re(_.children||[],I,Re,ne,Q,_e,Ce,be)):De>0&&De&64&&Te&&C.dynamicChildren?(R(C.dynamicChildren,Te,I,ne,Q,_e,Ce),(_.key!=null||ne&&_===ne.subTree)&&wu(C,_,!0)):ae(C,_,I,Re,ne,Q,_e,Ce,be)},q=(C,_,I,G,ne,Q,_e,Ce,be)=>{_.slotScopeIds=Ce,C==null?_.shapeFlag&512?ne.ctx.activate(_,I,G,_e,be):W(_,I,G,ne,Q,_e,be):U(C,_,be)},W=(C,_,I,G,ne,Q,_e)=>{const Ce=C.component=Mm(C,G,ne);if(au(C)&&(Ce.ctx.renderer=we),Lm(Ce,!1,_e),Ce.asyncDep){if(ne&&ne.registerDep(Ce,O,_e),!C.el){const be=Ce.subTree=ft(_o);S(null,be,_,I)}}else O(Ce,C,_,I,ne,Q,_e)},U=(C,_,I)=>{const G=_.component=C.component;if(Dm(C,_,I))if(G.asyncDep&&!G.asyncResolved){H(G,_,I);return}else G.next=_,G.update();else _.el=C.el,G.vnode=_},O=(C,_,I,G,ne,Q,_e)=>{const Ce=()=>{if(C.isMounted){let{next:De,bu:Te,u:Be,parent:Ue,vnode:Xe}=C;{const Vt=yu(C);if(Vt){De&&(De.el=Xe.el,H(C,De,_e)),Vt.asyncDep.then(()=>{C.isUnmounted||Ce()});return}}let Ke=De,Et;po(C,!1),De?(De.el=Xe.el,H(C,De,_e)):De=Xe,Te&&la(Te),(Et=De.props&&De.props.onVnodeBeforeUpdate)&&bn(Et,Ue,De,Xe),po(C,!0);const $t=ml(C),At=C.subTree;C.subTree=$t,w(At,$t,d(At.el),j(At),C,ne,Q),De.el=$t.el,Ke===null&&Tm(C,$t.el),Be&&Zt(Be,ne),(Et=De.props&&De.props.onVnodeUpdated)&&Zt(()=>bn(Et,Ue,De,Xe),ne)}else{let De;const{el:Te,props:Be}=_,{bm:Ue,m:Xe,parent:Ke,root:Et,type:$t}=C,At=gs(_);po(C,!1),Ue&&la(Ue),!At&&(De=Be&&Be.onVnodeBeforeMount)&&bn(De,Ke,_),po(C,!0);{Et.ce&&Et.ce._injectChildStyle($t);const Vt=C.subTree=ml(C);w(null,Vt,I,G,C,ne,Q),_.el=Vt.el}if(Xe&&Zt(Xe,ne),!At&&(De=Be&&Be.onVnodeMounted)){const Vt=_;Zt(()=>bn(De,Ke,Vt),ne)}(_.shapeFlag&256||Ke&&gs(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&C.a&&Zt(C.a,ne),C.isMounted=!0,_=I=G=null}};C.scope.on();const be=C.effect=new Rc(Ce);C.scope.off();const le=C.update=be.run.bind(be),Re=C.job=be.runIfDirty.bind(be);Re.i=C,Re.id=C.uid,be.scheduler=()=>Si(Re),po(C,!0),le()},H=(C,_,I)=>{_.component=C;const G=C.vnode.props;C.vnode=_,C.next=null,fm(C,_.props,G,I),gm(C,_.children,I),ro(),rl(C),io()},ae=(C,_,I,G,ne,Q,_e,Ce,be=!1)=>{const le=C&&C.children,Re=C?C.shapeFlag:0,De=_.children,{patchFlag:Te,shapeFlag:Be}=_;if(Te>0){if(Te&128){Y(le,De,I,G,ne,Q,_e,Ce,be);return}else if(Te&256){Pe(le,De,I,G,ne,Q,_e,Ce,be);return}}Be&8?(Re&16&&st(le,ne,Q),De!==le&&p(I,De)):Re&16?Be&16?Y(le,De,I,G,ne,Q,_e,Ce,be):st(le,ne,Q,!0):(Re&8&&p(I,""),Be&16&&re(De,I,G,ne,Q,_e,Ce,be))},Pe=(C,_,I,G,ne,Q,_e,Ce,be)=>{C=C||No,_=_||No;const le=C.length,Re=_.length,De=Math.min(le,Re);let Te;for(Te=0;Te<De;Te++){const Be=_[Te]=be?Yn(_[Te]):Cn(_[Te]);w(C[Te],Be,I,null,ne,Q,_e,Ce,be)}le>Re?st(C,ne,Q,!0,!1,De):re(_,I,G,ne,Q,_e,Ce,be,De)},Y=(C,_,I,G,ne,Q,_e,Ce,be)=>{let le=0;const Re=_.length;let De=C.length-1,Te=Re-1;for(;le<=De&&le<=Te;){const Be=C[le],Ue=_[le]=be?Yn(_[le]):Cn(_[le]);if(rs(Be,Ue))w(Be,Ue,I,null,ne,Q,_e,Ce,be);else break;le++}for(;le<=De&&le<=Te;){const Be=C[De],Ue=_[Te]=be?Yn(_[Te]):Cn(_[Te]);if(rs(Be,Ue))w(Be,Ue,I,null,ne,Q,_e,Ce,be);else break;De--,Te--}if(le>De){if(le<=Te){const Be=Te+1,Ue=Be<Re?_[Be].el:G;for(;le<=Te;)w(null,_[le]=be?Yn(_[le]):Cn(_[le]),I,Ue,ne,Q,_e,Ce,be),le++}}else if(le>Te)for(;le<=De;)J(C[le],ne,Q,!0),le++;else{const Be=le,Ue=le,Xe=new Map;for(le=Ue;le<=Te;le++){const y=_[le]=be?Yn(_[le]):Cn(_[le]);y.key!=null&&Xe.set(y.key,le)}let Ke,Et=0;const $t=Te-Ue+1;let At=!1,Vt=0;const F=new Array($t);for(le=0;le<$t;le++)F[le]=0;for(le=Be;le<=De;le++){const y=C[le];if(Et>=$t){J(y,ne,Q,!0);continue}let Ee;if(y.key!=null)Ee=Xe.get(y.key);else for(Ke=Ue;Ke<=Te;Ke++)if(F[Ke-Ue]===0&&rs(y,_[Ke])){Ee=Ke;break}Ee===void 0?J(y,ne,Q,!0):(F[Ee-Ue]=le+1,Ee>=Vt?Vt=Ee:At=!0,w(y,_[Ee],I,null,ne,Q,_e,Ce,be),Et++)}const f=At?ym(F):No;for(Ke=f.length-1,le=$t-1;le>=0;le--){const y=Ue+le,Ee=_[y],rt=y+1<Re?_[y+1].el:G;F[le]===0?w(null,Ee,I,rt,ne,Q,_e,Ce,be):At&&(Ke<0||le!==f[Ke]?N(Ee,I,rt,2):Ke--)}}},N=(C,_,I,G,ne=null)=>{const{el:Q,type:_e,transition:Ce,children:be,shapeFlag:le}=C;if(le&6){N(C.component.subTree,_,I,G);return}if(le&128){C.suspense.move(_,I,G);return}if(le&64){_e.move(C,_,I,we);return}if(_e===Ne){o(Q,_,I);for(let De=0;De<be.length;De++)N(be[De],_,I,G);o(C.anchor,_,I);return}if(_e===ua){B(C,_,I);return}if(G!==2&&le&1&&Ce)if(G===0)Ce.beforeEnter(Q),o(Q,_,I),Zt(()=>Ce.enter(Q),ne);else{const{leave:De,delayLeave:Te,afterLeave:Be}=Ce,Ue=()=>o(Q,_,I),Xe=()=>{De(Q,()=>{Ue(),Be&&Be()})};Te?Te(Q,Ue,Xe):Xe()}else o(Q,_,I)},J=(C,_,I,G=!1,ne=!1)=>{const{type:Q,props:_e,ref:Ce,children:be,dynamicChildren:le,shapeFlag:Re,patchFlag:De,dirs:Te,cacheIndex:Be}=C;if(De===-2&&(ne=!1),Ce!=null&&Sa(Ce,null,I,C,!0),Be!=null&&(_.renderCache[Be]=void 0),Re&256){_.ctx.deactivate(C);return}const Ue=Re&1&&Te,Xe=!gs(C);let Ke;if(Xe&&(Ke=_e&&_e.onVnodeBeforeUnmount)&&bn(Ke,_,C),Re&6)Ae(C.component,I,G);else{if(Re&128){C.suspense.unmount(I,G);return}Ue&&fo(C,null,_,"beforeUnmount"),Re&64?C.type.remove(C,_,I,we,G):le&&!le.hasOnce&&(Q!==Ne||De>0&&De&64)?st(le,_,I,!1,!0):(Q===Ne&&De&384||!ne&&Re&16)&&st(be,_,I),G&&X(C)}(Xe&&(Ke=_e&&_e.onVnodeUnmounted)||Ue)&&Zt(()=>{Ke&&bn(Ke,_,C),Ue&&fo(C,null,_,"unmounted")},I)},X=C=>{const{type:_,el:I,anchor:G,transition:ne}=C;if(_===Ne){pe(I,G);return}if(_===ua){L(C);return}const Q=()=>{a(I),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(C.shapeFlag&1&&ne&&!ne.persisted){const{leave:_e,delayLeave:Ce}=ne,be=()=>_e(I,Q);Ce?Ce(C.el,Q,be):be()}else Q()},pe=(C,_)=>{let I;for(;C!==_;)I=m(C),a(C),C=I;a(_)},Ae=(C,_,I)=>{const{bum:G,scope:ne,job:Q,subTree:_e,um:Ce,m:be,a:le}=C;pl(be),pl(le),G&&la(G),ne.stop(),Q&&(Q.flags|=8,J(_e,C,_,I)),Ce&&Zt(Ce,_),Zt(()=>{C.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},st=(C,_,I,G=!1,ne=!1,Q=0)=>{for(let _e=Q;_e<C.length;_e++)J(C[_e],_,I,G,ne)},j=C=>{if(C.shapeFlag&6)return j(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const _=m(C.anchor||C.el),I=_&&_[Vp];return I?m(I):_};let ie=!1;const ve=(C,_,I)=>{C==null?_._vnode&&J(_._vnode,null,null,!0):w(_._vnode||null,C,_,null,null,null,I),_._vnode=C,ie||(ie=!0,rl(),eu(),ie=!1)},we={p:w,um:J,m:N,r:X,mt:W,mc:re,pc:ae,pbc:R,n:j,o:e};return{render:ve,hydrate:void 0,createApp:cm(ve)}}function Cr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function po({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function wm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wu(e,t,n=!1){const o=e.children,a=t.children;if(Oe(o)&&Oe(a))for(let r=0;r<o.length;r++){const i=o[r];let l=a[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[r]=Yn(a[r]),l.el=i.el),!n&&l.patchFlag!==-2&&wu(i,l)),l.type===er&&(l.el=i.el)}}function ym(e){const t=e.slice(),n=[0];let o,a,r,i,l;const c=e.length;for(o=0;o<c;o++){const u=e[o];if(u!==0){if(a=n[n.length-1],e[a]<u){t[o]=a,n.push(o);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<u?r=l+1:i=l;u<e[n[r]]&&(r>0&&(t[o]=n[r-1]),n[r]=o)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function yu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yu(t)}function pl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Cm=Symbol.for("v-scx"),xm=()=>gn(Cm);function un(e,t,n){return Cu(e,t,n)}function Cu(e,t,n=lt){const{immediate:o,deep:a,flush:r,once:i}=n,l=Lt({},n),c=t&&o||!t&&r!=="post";let u;if(Rs){if(r==="sync"){const v=xm();u=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=_n,v.resume=_n,v.pause=_n,v}}const p=Pt;l.call=(v,x,w)=>En(v,p,x,w);let d=!1;r==="post"?l.scheduler=v=>{Zt(v,p&&p.suspense)}:r!=="sync"&&(d=!0,l.scheduler=(v,x)=>{x?v():Si(v)}),l.augmentJob=v=>{t&&(v.flags|=4),d&&(v.flags|=2,p&&(v.id=p.uid,v.i=p))};const m=Bp(e,t,l);return Rs&&(u?u.push(m):c&&m()),m}function _m(e,t,n){const o=this.proxy,a=St(e)?e.includes(".")?xu(o,e):()=>o[e]:e.bind(o,o);let r;je(t)?r=t:(r=t.handler,n=t);const i=Ns(this),l=Cu(a,r.bind(o),n);return i(),l}function xu(e,t){const n=t.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}const km=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dn(t)}Modifiers`]||e[`${ao(t)}Modifiers`];function Sm(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||lt;let a=n;const r=t.startsWith("update:"),i=r&&km(o,t.slice(7));i&&(i.trim&&(a=n.map(p=>St(p)?p.trim():p)),i.number&&(a=n.map(ya)));let l,c=o[l=hr(t)]||o[l=hr(dn(t))];!c&&r&&(c=o[l=hr(ao(t))]),c&&En(c,e,6,a);const u=o[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,En(u,e,6,a)}}function _u(e,t,n=!1){const o=t.emitsCache,a=o.get(e);if(a!==void 0)return a;const r=e.emits;let i={},l=!1;if(!je(e)){const c=u=>{const p=_u(u,t,!0);p&&(l=!0,Lt(i,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(ct(e)&&o.set(e,null),null):(Oe(r)?r.forEach(c=>i[c]=null):Lt(i,r),ct(e)&&o.set(e,i),i)}function Za(e,t){return!e||!Wa(t)?!1:(t=t.slice(2).replace(/Once$/,""),ot(e,t[0].toLowerCase()+t.slice(1))||ot(e,ao(t))||ot(e,t))}function ml(e){const{type:t,vnode:n,proxy:o,withProxy:a,propsOptions:[r],slots:i,attrs:l,emit:c,render:u,renderCache:p,props:d,data:m,setupState:v,ctx:x,inheritAttrs:w}=e,g=ka(e);let S,M;try{if(n.shapeFlag&4){const L=a||o,D=L;S=Cn(u.call(D,L,p,d,v,m,x)),M=l}else{const L=t;S=Cn(L.length>1?L(d,{attrs:l,slots:i,emit:c}):L(d,null)),M=t.props?l:$m(l)}}catch(L){bs.length=0,Ja(L,e,1),S=ft(_o)}let B=S;if(M&&w!==!1){const L=Object.keys(M),{shapeFlag:D}=B;L.length&&D&7&&(r&&L.some(pi)&&(M=Em(M,r)),B=qo(B,M,!1,!0))}return n.dirs&&(B=qo(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&$i(B,n.transition),S=B,ka(g),S}const $m=e=>{let t;for(const n in e)(n==="class"||n==="style"||Wa(n))&&((t||(t={}))[n]=e[n]);return t},Em=(e,t)=>{const n={};for(const o in e)(!pi(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Dm(e,t,n){const{props:o,children:a,component:r}=e,{props:i,children:l,patchFlag:c}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?hl(o,i,u):!!i;if(c&8){const p=t.dynamicProps;for(let d=0;d<p.length;d++){const m=p[d];if(i[m]!==o[m]&&!Za(u,m))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:o===i?!1:o?i?hl(o,i,u):!0:!!i;return!1}function hl(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const r=o[a];if(t[r]!==e[r]&&!Za(n,r))return!0}return!1}function Tm({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const ku=e=>e.__isSuspense;function Am(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):Np(e)}const Ne=Symbol.for("v-fgt"),er=Symbol.for("v-txt"),_o=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),bs=[];let tn=null;function $(e=!1){bs.push(tn=e?null:[])}function Im(){bs.pop(),tn=bs[bs.length-1]||null}let Is=1;function gl(e,t=!1){Is+=e,e<0&&tn&&t&&(tn.hasOnce=!0)}function Su(e){return e.dynamicChildren=Is>0?tn||No:null,Im(),Is>0&&tn&&tn.push(e),e}function E(e,t,n,o,a,r){return Su(s(e,t,n,o,a,r,!0))}function On(e,t,n,o,a){return Su(ft(e,t,n,o,a,!0))}function Ea(e){return e?e.__v_isVNode===!0:!1}function rs(e,t){return e.type===t.type&&e.key===t.key}const $u=({key:e})=>e??null,da=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?St(e)||gt(e)||je(e)?{i:Gt,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,a=null,r=e===Ne?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$u(t),ref:t&&da(t),scopeId:nu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Gt};return l?(Ti(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=St(n)?8:16),Is>0&&!i&&tn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&tn.push(c),c}const ft=Rm;function Rm(e,t=null,n=null,o=0,a=null,r=!1){if((!e||e===em)&&(e=_o),Ea(e)){const l=qo(e,t,!0);return n&&Ti(l,n),Is>0&&!r&&tn&&(l.shapeFlag&6?tn[tn.indexOf(e)]=l:tn.push(l)),l.patchFlag=-2,l}if(Um(e)&&(e=e.__vccOpts),t){t=Pm(t);let{class:l,style:c}=t;l&&!St(l)&&(t.class=it(l)),ct(c)&&(_i(c)&&!Oe(c)&&(c=Lt({},c)),t.style=kn(c))}const i=St(e)?1:ku(e)?128:jp(e)?64:ct(e)?4:je(e)?2:0;return s(e,t,n,o,a,i,r,!0)}function Pm(e){return e?_i(e)||fu(e)?Lt({},e):e:null}function qo(e,t,n=!1,o=!1){const{props:a,ref:r,patchFlag:i,children:l,transition:c}=e,u=t?Hm(a||{},t):a,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&$u(u),ref:t&&t.ref?n&&r?Oe(r)?r.concat(da(t)):[r,da(t)]:da(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ne?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qo(e.ssContent),ssFallback:e.ssFallback&&qo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&$i(p,c.clone(p)),p}function ue(e=" ",t=0){return ft(er,null,e,t)}function so(e,t){const n=ft(ua,null,e);return n.staticCount=t,n}function Se(e="",t=!1){return t?($(),On(_o,null,e)):ft(_o,null,e)}function Cn(e){return e==null||typeof e=="boolean"?ft(_o):Oe(e)?ft(Ne,null,e.slice()):Ea(e)?Yn(e):ft(er,null,String(e))}function Yn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qo(e)}function Ti(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),Ti(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!fu(t)?t._ctx=Gt:a===3&&Gt&&(Gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else je(t)?(t={default:t,_ctx:Gt},n=32):(t=String(t),o&64?(n=16,t=[ue(t)]):n=8);e.children=t,e.shapeFlag|=n}function Hm(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=it([t.class,o.class]));else if(a==="style")t.style=kn([t.style,o.style]);else if(Wa(a)){const r=t[a],i=o[a];i&&r!==i&&!(Oe(r)&&r.includes(i))&&(t[a]=r?[].concat(r,i):i)}else a!==""&&(t[a]=o[a])}return t}function bn(e,t,n,o=null){En(e,t,7,[n,o])}const Om=cu();let Bm=0;function Mm(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||Om,r={uid:Bm++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Tc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mu(o,a),emitsOptions:_u(o,a),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:o.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Sm.bind(null,r),e.ce&&e.ce(r),r}let Pt=null,Da,Jr;{const e=Xa(),t=(n,o)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(o),r=>{a.length>1?a.forEach(i=>i(r)):a[0](r)}};Da=t("__VUE_INSTANCE_SETTERS__",n=>Pt=n),Jr=t("__VUE_SSR_SETTERS__",n=>Rs=n)}const Ns=e=>{const t=Pt;return Da(e),e.scope.on(),()=>{e.scope.off(),Da(t)}},vl=()=>{Pt&&Pt.scope.off(),Da(null)};function Eu(e){return e.vnode.shapeFlag&4}let Rs=!1;function Lm(e,t=!1,n=!1){t&&Jr(t);const{props:o,children:a}=e.vnode,r=Eu(e);dm(e,o,r,t),hm(e,a,n);const i=r?Nm(e,t):void 0;return t&&Jr(!1),i}function Nm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nm);const{setup:o}=n;if(o){ro();const a=e.setupContext=o.length>1?jm(e):null,r=Ns(e),i=Ls(o,e,0,[e.props,a]),l=xc(i);if(io(),r(),(l||e.sp)&&!gs(e)&&su(e),l){if(i.then(vl,vl),t)return i.then(c=>{bl(e,c)}).catch(c=>{Ja(c,e,0)});e.asyncDep=i}else bl(e,i)}else Du(e)}function bl(e,t,n){je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ct(t)&&(e.setupState=Xc(t)),Du(e)}function Du(e,t,n){const o=e.type;e.render||(e.render=o.render||_n);{const a=Ns(e);ro();try{om(e)}finally{io(),a()}}}const Vm={get(e,t){return Bt(e,"get",""),e[t]}};function jm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Vm),slots:e.slots,emit:e.emit,expose:t}}function tr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Xc(ki(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vs)return vs[n](e)},has(t,n){return n in t||n in vs}})):e.proxy}function Fm(e,t=!0){return je(e)?e.displayName||e.name:e.name||t&&e.__name}function Um(e){return je(e)&&"__vccOpts"in e}const Qe=(e,t)=>Hp(e,t,Rs);function Tu(e,t,n){const o=arguments.length;return o===2?ct(t)&&!Oe(t)?Ea(t)?ft(e,null,[t]):ft(e,t):ft(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ea(n)&&(n=[n]),ft(e,t,n))}const zm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qr;const wl=typeof window<"u"&&window.trustedTypes;if(wl)try{Qr=wl.createPolicy("vue",{createHTML:e=>e})}catch{}const Au=Qr?e=>Qr.createHTML(e):e=>e,qm="http://www.w3.org/2000/svg",Wm="http://www.w3.org/1998/Math/MathML",Rn=typeof document<"u"?document:null,yl=Rn&&Rn.createElement("template"),Km={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t==="svg"?Rn.createElementNS(qm,e):t==="mathml"?Rn.createElementNS(Wm,e):n?Rn.createElement(e,{is:n}):Rn.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>Rn.createTextNode(e),createComment:e=>Rn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,a,r){const i=n?n.previousSibling:t.lastChild;if(a&&(a===r||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===r||!(a=a.nextSibling)););else{yl.innerHTML=Au(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=yl.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ym=Symbol("_vtc");function Xm(e,t,n){const o=e[Ym];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ta=Symbol("_vod"),Iu=Symbol("_vsh"),xr={beforeMount(e,{value:t},{transition:n}){e[Ta]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):is(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),is(e,!0),o.enter(e)):o.leave(e,()=>{is(e,!1)}):is(e,t))},beforeUnmount(e,{value:t}){is(e,t)}};function is(e,t){e.style.display=t?e[Ta]:"none",e[Iu]=!t}const Gm=Symbol(""),Jm=/(^|;)\s*display\s*:/;function Qm(e,t,n){const o=e.style,a=St(n);let r=!1;if(n&&!a){if(t)if(St(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&fa(o,l,"")}else for(const i in t)n[i]==null&&fa(o,i,"");for(const i in n)i==="display"&&(r=!0),fa(o,i,n[i])}else if(a){if(t!==n){const i=o[Gm];i&&(n+=";"+i),o.cssText=n,r=Jm.test(n)}}else t&&e.removeAttribute("style");Ta in e&&(e[Ta]=r?o.display:"",e[Iu]&&(o.display="none"))}const Cl=/\s*!important$/;function fa(e,t,n){if(Oe(n))n.forEach(o=>fa(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Zm(e,t);Cl.test(n)?e.setProperty(ao(o),n.replace(Cl,""),"important"):e[o]=n}}const xl=["Webkit","Moz","ms"],_r={};function Zm(e,t){const n=_r[t];if(n)return n;let o=dn(t);if(o!=="filter"&&o in e)return _r[t]=o;o=Ya(o);for(let a=0;a<xl.length;a++){const r=xl[a]+o;if(r in e)return _r[t]=r}return t}const _l="http://www.w3.org/1999/xlink";function kl(e,t,n,o,a,r=ap(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(_l,t.slice(6,t.length)):e.setAttributeNS(_l,t,n):n==null||r&&!$c(n)?e.removeAttribute(t):e.setAttribute(t,r?"":$n(n)?String(n):n)}function Sl(e,t,n,o,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Au(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=$c(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(a||t)}function Jn(e,t,n,o){e.addEventListener(t,n,o)}function eh(e,t,n,o){e.removeEventListener(t,n,o)}const $l=Symbol("_vei");function th(e,t,n,o,a=null){const r=e[$l]||(e[$l]={}),i=r[t];if(o&&i)i.value=o;else{const[l,c]=nh(t);if(o){const u=r[t]=ah(o,a);Jn(e,l,u,c)}else i&&(eh(e,l,i,c),r[t]=void 0)}}const El=/(?:Once|Passive|Capture)$/;function nh(e){let t;if(El.test(e)){t={};let o;for(;o=e.match(El);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ao(e.slice(2)),t]}let kr=0;const oh=Promise.resolve(),sh=()=>kr||(oh.then(()=>kr=0),kr=Date.now());function ah(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;En(rh(o,n.value),t,5,[o])};return n.value=e,n.attached=sh(),n}function rh(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const Dl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ih=(e,t,n,o,a,r)=>{const i=a==="svg";t==="class"?Xm(e,o,i):t==="style"?Qm(e,n,o):Wa(t)?pi(t)||th(e,t,n,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lh(e,t,o,i))?(Sl(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&kl(e,t,o,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!St(o))?Sl(e,dn(t),o,r,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),kl(e,t,o,i))};function lh(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Dl(t)&&je(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Dl(t)&&St(n)?!1:t in e}const Wo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?n=>la(t,n):t};function ch(e){e.target.composing=!0}function Tl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mn=Symbol("_assign"),ye={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e[Mn]=Wo(a);const r=o||a.props&&a.props.type==="number";Jn(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=ya(l)),e[Mn](l)}),n&&Jn(e,"change",()=>{e.value=e.value.trim()}),t||(Jn(e,"compositionstart",ch),Jn(e,"compositionend",Tl),Jn(e,"change",Tl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:a,number:r}},i){if(e[Mn]=Wo(i),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?ya(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||a&&e.value.trim()===c)||(e.value=c))}},ws={deep:!0,created(e,t,n){e[Mn]=Wo(n),Jn(e,"change",()=>{const o=e._modelValue,a=Ps(e),r=e.checked,i=e[Mn];if(Oe(o)){const l=gi(o,a),c=l!==-1;if(r&&!c)i(o.concat(a));else if(!r&&c){const u=[...o];u.splice(l,1),i(u)}}else if(Qo(o)){const l=new Set(o);r?l.add(a):l.delete(a),i(l)}else i(Ru(e,r))})},mounted:Al,beforeUpdate(e,t,n){e[Mn]=Wo(n),Al(e,t,n)}};function Al(e,{value:t,oldValue:n},o){e._modelValue=t;let a;if(Oe(t))a=gi(t,o.props.value)>-1;else if(Qo(t))a=t.has(o.props.value);else{if(t===n)return;a=Ms(t,Ru(e,!0))}e.checked!==a&&(e.checked=a)}const Ht={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=Qo(t);Jn(e,"change",()=>{const r=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?ya(Ps(i)):Ps(i));e[Mn](e.multiple?a?new Set(r):r:r[0]),e._assigning=!0,$o(()=>{e._assigning=!1})}),e[Mn]=Wo(o)},mounted(e,{value:t}){Il(e,t)},beforeUpdate(e,t,n){e[Mn]=Wo(n)},updated(e,{value:t}){e._assigning||Il(e,t)}};function Il(e,t){const n=e.multiple,o=Oe(t);if(!(n&&!o&&!Qo(t))){for(let a=0,r=e.options.length;a<r;a++){const i=e.options[a],l=Ps(i);if(n)if(o){const c=typeof l;c==="string"||c==="number"?i.selected=t.some(u=>String(u)===String(l)):i.selected=gi(t,l)>-1}else i.selected=t.has(l);else if(Ms(Ps(i),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ps(e){return"_value"in e?e._value:e.value}function Ru(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const uh=["ctrl","shift","alt","meta"],dh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>uh.some(n=>e[`${n}Key`]&&!t.includes(n))},Je=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(a,...r)=>{for(let i=0;i<t.length;i++){const l=dh[t[i]];if(l&&l(a,t))return}return e(a,...r)})},fh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=a=>{if(!("key"in a))return;const r=ao(a.key);if(t.some(i=>i===r||fh[i]===r))return e(a)})},ph=Lt({patchProp:ih},Km);let Rl;function mh(){return Rl||(Rl=vm(ph))}const hh=(...e)=>{const t=mh().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=vh(o);if(!a)return;const r=t._component;!je(r)&&!r.render&&!r.template&&(r.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const i=n(a,!1,gh(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},t};function gh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function vh(e){return St(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Pu;const nr=e=>Pu=e,Hu=Symbol();function Zr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ys;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ys||(ys={}));function bh(){const e=Ac(!0),t=e.run(()=>he({}));let n=[],o=[];const a=ki({install(r){nr(a),a._a=r,r.provide(Hu,a),r.config.globalProperties.$pinia=a,o.forEach(i=>n.push(i)),o=[]},use(r){return this._a?n.push(r):o.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Ou=()=>{};function Pl(e,t,n,o=Ou){e.push(t);const a=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),o())};return!n&&Ic()&&ip(a),a}function Ro(e,...t){e.slice().forEach(n=>{n(...t)})}const wh=e=>e(),Hl=Symbol(),Sr=Symbol();function ei(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],a=e[n];Zr(a)&&Zr(o)&&e.hasOwnProperty(n)&&!gt(o)&&!Bn(o)?e[n]=ei(a,o):e[n]=o}return e}const yh=Symbol();function Ch(e){return!Zr(e)||!Object.prototype.hasOwnProperty.call(e,yh)}const{assign:qn}=Object;function xh(e){return!!(gt(e)&&e.effect)}function _h(e,t,n,o){const{state:a,actions:r,getters:i}=t,l=n.state.value[e];let c;function u(){l||(n.state.value[e]=a?a():{});const p=Ap(n.state.value[e]);return qn(p,r,Object.keys(i||{}).reduce((d,m)=>(d[m]=ki(Qe(()=>{nr(n);const v=n._s.get(e);return i[m].call(v,v)})),d),{}))}return c=Bu(e,u,t,n,o,!0),c}function Bu(e,t,n={},o,a,r){let i;const l=qn({actions:{}},n),c={deep:!0};let u,p,d=[],m=[],v;const x=o.state.value[e];!r&&!x&&(o.state.value[e]={}),he({});let w;function g(re){let V;u=p=!1,typeof re=="function"?(re(o.state.value[e]),V={type:ys.patchFunction,storeId:e,events:v}):(ei(o.state.value[e],re),V={type:ys.patchObject,payload:re,storeId:e,events:v});const R=w=Symbol();$o().then(()=>{w===R&&(u=!0)}),p=!0,Ro(d,V,o.state.value[e])}const S=r?function(){const{state:V}=n,R=V?V():{};this.$patch(ee=>{qn(ee,R)})}:Ou;function M(){i.stop(),d=[],m=[],o._s.delete(e)}const B=(re,V="")=>{if(Hl in re)return re[Sr]=V,re;const R=function(){nr(o);const ee=Array.from(arguments),ge=[],q=[];function W(H){ge.push(H)}function U(H){q.push(H)}Ro(m,{args:ee,name:R[Sr],store:D,after:W,onError:U});let O;try{O=re.apply(this&&this.$id===e?this:D,ee)}catch(H){throw Ro(q,H),H}return O instanceof Promise?O.then(H=>(Ro(ge,H),H)).catch(H=>(Ro(q,H),Promise.reject(H))):(Ro(ge,O),O)};return R[Hl]=!0,R[Sr]=V,R},L={_p:o,$id:e,$onAction:Pl.bind(null,m),$patch:g,$reset:S,$subscribe(re,V={}){const R=Pl(d,re,V.detached,()=>ee()),ee=i.run(()=>un(()=>o.state.value[e],ge=>{(V.flush==="sync"?p:u)&&re({storeId:e,type:ys.direct,events:v},ge)},qn({},c,V)));return R},$dispose:M},D=nn(L);o._s.set(e,D);const te=(o._a&&o._a.runWithContext||wh)(()=>o._e.run(()=>(i=Ac()).run(()=>t({action:B}))));for(const re in te){const V=te[re];if(gt(V)&&!xh(V)||Bn(V))r||(x&&Ch(V)&&(gt(V)?V.value=x[re]:ei(V,x[re])),o.state.value[e][re]=V);else if(typeof V=="function"){const R=B(V,re);te[re]=R,l.actions[re]=V}}return qn(D,te),qn(Ge(D),te),Object.defineProperty(D,"$state",{get:()=>o.state.value[e],set:re=>{g(V=>{qn(V,re)})}}),o._p.forEach(re=>{qn(D,i.run(()=>re({store:D,app:o._a,pinia:o,options:l})))}),x&&r&&n.hydrate&&n.hydrate(D.$state,x),u=!0,p=!0,D}/*! #__NO_SIDE_EFFECTS__ */function co(e,t,n){let o;const a=typeof t=="function";o=a?n:t;function r(i,l){const c=um();return i=i||(c?gn(Hu,null):null),i&&nr(i),i=Pu,i._s.has(e)||(a?Bu(e,t,o,i):_h(e,o,i)),i._s.get(e)}return r.$id=e,r}function ko(e){const t=Ge(e),n={};for(const o in t){const a=t[o];a.effect?n[o]=Qe({get:()=>e[o],set(r){e[o]=r}}):(gt(a)||Bn(a))&&(n[o]=Gc(e,o))}return n}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Bo=typeof document<"u";function Mu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function kh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Mu(e.default)}const nt=Object.assign;function $r(e,t){const n={};for(const o in t){const a=t[o];n[o]=vn(a)?a.map(e):e(a)}return n}const Cs=()=>{},vn=Array.isArray,Lu=/#/g,Sh=/&/g,$h=/\//g,Eh=/=/g,Dh=/\?/g,Nu=/\+/g,Th=/%5B/g,Ah=/%5D/g,Vu=/%5E/g,Ih=/%60/g,ju=/%7B/g,Rh=/%7C/g,Fu=/%7D/g,Ph=/%20/g;function Ai(e){return encodeURI(""+e).replace(Rh,"|").replace(Th,"[").replace(Ah,"]")}function Hh(e){return Ai(e).replace(ju,"{").replace(Fu,"}").replace(Vu,"^")}function ti(e){return Ai(e).replace(Nu,"%2B").replace(Ph,"+").replace(Lu,"%23").replace(Sh,"%26").replace(Ih,"`").replace(ju,"{").replace(Fu,"}").replace(Vu,"^")}function Oh(e){return ti(e).replace(Eh,"%3D")}function Bh(e){return Ai(e).replace(Lu,"%23").replace(Dh,"%3F")}function Mh(e){return e==null?"":Bh(e).replace($h,"%2F")}function Hs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Lh=/\/$/,Nh=e=>e.replace(Lh,"");function Er(e,t,n="/"){let o,a={},r="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(o=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),a=e(r)),l>-1&&(o=o||t.slice(0,l),i=t.slice(l,t.length)),o=Uh(o??t,n),{fullPath:o+(r&&"?")+r+i,path:o,query:a,hash:Hs(i)}}function Vh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ol(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function jh(e,t,n){const o=t.matched.length-1,a=n.matched.length-1;return o>-1&&o===a&&Ko(t.matched[o],n.matched[a])&&Uu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ko(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Uu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Fh(e[n],t[n]))return!1;return!0}function Fh(e,t){return vn(e)?Bl(e,t):vn(t)?Bl(t,e):e===t}function Bl(e,t){return vn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Uh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),a=o[o.length-1];(a===".."||a===".")&&o.push("");let r=n.length-1,i,l;for(i=0;i<o.length;i++)if(l=o[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+o.slice(i).join("/")}const zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Os;(function(e){e.pop="pop",e.push="push"})(Os||(Os={}));var xs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xs||(xs={}));function zh(e){if(!e)if(Bo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Nh(e)}const qh=/^[^#]+#/;function Wh(e,t){return e.replace(qh,"#")+t}function Kh(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const or=()=>({left:window.scrollX,top:window.scrollY});function Yh(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Kh(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ml(e,t){return(history.state?history.state.position-t:-1)+e}const ni=new Map;function Xh(e,t){ni.set(e,t)}function Gh(e){const t=ni.get(e);return ni.delete(e),t}let Jh=()=>location.protocol+"//"+location.host;function zu(e,t){const{pathname:n,search:o,hash:a}=t,r=e.indexOf("#");if(r>-1){let l=a.includes(e.slice(r))?e.slice(r).length:1,c=a.slice(l);return c[0]!=="/"&&(c="/"+c),Ol(c,"")}return Ol(n,e)+o+a}function Qh(e,t,n,o){let a=[],r=[],i=null;const l=({state:m})=>{const v=zu(e,location),x=n.value,w=t.value;let g=0;if(m){if(n.value=v,t.value=m,i&&i===x){i=null;return}g=w?m.position-w.position:0}else o(v);a.forEach(S=>{S(n.value,x,{delta:g,type:Os.pop,direction:g?g>0?xs.forward:xs.back:xs.unknown})})};function c(){i=n.value}function u(m){a.push(m);const v=()=>{const x=a.indexOf(m);x>-1&&a.splice(x,1)};return r.push(v),v}function p(){const{history:m}=window;m.state&&m.replaceState(nt({},m.state,{scroll:or()}),"")}function d(){for(const m of r)m();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:c,listen:u,destroy:d}}function Ll(e,t,n,o=!1,a=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:a?or():null}}function Zh(e){const{history:t,location:n}=window,o={value:zu(e,n)},a={value:t.state};a.value||r(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,u,p){const d=e.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:Jh()+e+c;try{t[p?"replaceState":"pushState"](u,"",m),a.value=u}catch(v){console.error(v),n[p?"replace":"assign"](m)}}function i(c,u){const p=nt({},t.state,Ll(a.value.back,c,a.value.forward,!0),u,{position:a.value.position});r(c,p,!0),o.value=c}function l(c,u){const p=nt({},a.value,t.state,{forward:c,scroll:or()});r(p.current,p,!0);const d=nt({},Ll(o.value,c,null),{position:p.position+1},u);r(c,d,!1),o.value=c}return{location:o,state:a,push:l,replace:i}}function eg(e){e=zh(e);const t=Zh(e),n=Qh(e,t.state,t.location,t.replace);function o(r,i=!0){i||n.pauseListeners(),history.go(r)}const a=nt({location:"",base:e,go:o,createHref:Wh.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function tg(e){return typeof e=="string"||e&&typeof e=="object"}function qu(e){return typeof e=="string"||typeof e=="symbol"}const Wu=Symbol("");var Nl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Nl||(Nl={}));function Yo(e,t){return nt(new Error,{type:e,[Wu]:!0},t)}function In(e,t){return e instanceof Error&&Wu in e&&(t==null||!!(e.type&t))}const Vl="[^/]+?",ng={sensitive:!1,strict:!1,start:!0,end:!0},og=/[.+*?^${}()[\]/\\]/g;function sg(e,t){const n=nt({},ng,t),o=[];let a=n.start?"^":"";const r=[];for(const u of e){const p=u.length?[]:[90];n.strict&&!u.length&&(a+="/");for(let d=0;d<u.length;d++){const m=u[d];let v=40+(n.sensitive?.25:0);if(m.type===0)d||(a+="/"),a+=m.value.replace(og,"\\$&"),v+=40;else if(m.type===1){const{value:x,repeatable:w,optional:g,regexp:S}=m;r.push({name:x,repeatable:w,optional:g});const M=S||Vl;if(M!==Vl){v+=10;try{new RegExp(`(${M})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${x}" (${M}): `+L.message)}}let B=w?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;d||(B=g&&u.length<2?`(?:/${B})`:"/"+B),g&&(B+="?"),a+=B,v+=20,g&&(v+=-8),w&&(v+=-20),M===".*"&&(v+=-50)}p.push(v)}o.push(p)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const i=new RegExp(a,n.sensitive?"":"i");function l(u){const p=u.match(i),d={};if(!p)return null;for(let m=1;m<p.length;m++){const v=p[m]||"",x=r[m-1];d[x.name]=v&&x.repeatable?v.split("/"):v}return d}function c(u){let p="",d=!1;for(const m of e){(!d||!p.endsWith("/"))&&(p+="/"),d=!1;for(const v of m)if(v.type===0)p+=v.value;else if(v.type===1){const{value:x,repeatable:w,optional:g}=v,S=x in u?u[x]:"";if(vn(S)&&!w)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const M=vn(S)?S.join("/"):S;if(!M)if(g)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):d=!0);else throw new Error(`Missing required param "${x}"`);p+=M}}return p||"/"}return{re:i,score:o,keys:r,parse:l,stringify:c}}function ag(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ku(e,t){let n=0;const o=e.score,a=t.score;for(;n<o.length&&n<a.length;){const r=ag(o[n],a[n]);if(r)return r;n++}if(Math.abs(a.length-o.length)===1){if(jl(o))return 1;if(jl(a))return-1}return a.length-o.length}function jl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const rg={type:0,value:""},ig=/[a-zA-Z0-9_]/;function lg(e){if(!e)return[[]];if(e==="/")return[[rg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${u}": ${v}`)}let n=0,o=n;const a=[];let r;function i(){r&&a.push(r),r=[]}let l=0,c,u="",p="";function d(){u&&(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function m(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:c==="/"?(u&&d(),i()):c===":"?(d(),n=1):m();break;case 4:m(),n=o;break;case 1:c==="("?n=2:ig.test(c)?m():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:n=3:p+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),i(),a}function cg(e,t,n){const o=sg(lg(e.path),n),a=nt(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function ug(e,t){const n=[],o=new Map;t=ql({strict:!1,end:!0,sensitive:!1},t);function a(d){return o.get(d)}function r(d,m,v){const x=!v,w=Ul(d);w.aliasOf=v&&v.record;const g=ql(t,d),S=[w];if("alias"in d){const L=typeof d.alias=="string"?[d.alias]:d.alias;for(const D of L)S.push(Ul(nt({},w,{components:v?v.record.components:w.components,path:D,aliasOf:v?v.record:w})))}let M,B;for(const L of S){const{path:D}=L;if(m&&D[0]!=="/"){const se=m.record.path,te=se[se.length-1]==="/"?"":"/";L.path=m.record.path+(D&&te+D)}if(M=cg(L,m,g),v?v.alias.push(M):(B=B||M,B!==M&&B.alias.push(M),x&&d.name&&!zl(M)&&i(d.name)),Yu(M)&&c(M),w.children){const se=w.children;for(let te=0;te<se.length;te++)r(se[te],M,v&&v.children[te])}v=v||M}return B?()=>{i(B)}:Cs}function i(d){if(qu(d)){const m=o.get(d);m&&(o.delete(d),n.splice(n.indexOf(m),1),m.children.forEach(i),m.alias.forEach(i))}else{const m=n.indexOf(d);m>-1&&(n.splice(m,1),d.record.name&&o.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function l(){return n}function c(d){const m=pg(d,n);n.splice(m,0,d),d.record.name&&!zl(d)&&o.set(d.record.name,d)}function u(d,m){let v,x={},w,g;if("name"in d&&d.name){if(v=o.get(d.name),!v)throw Yo(1,{location:d});g=v.record.name,x=nt(Fl(m.params,v.keys.filter(B=>!B.optional).concat(v.parent?v.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),d.params&&Fl(d.params,v.keys.map(B=>B.name))),w=v.stringify(x)}else if(d.path!=null)w=d.path,v=n.find(B=>B.re.test(w)),v&&(x=v.parse(w),g=v.record.name);else{if(v=m.name?o.get(m.name):n.find(B=>B.re.test(m.path)),!v)throw Yo(1,{location:d,currentLocation:m});g=v.record.name,x=nt({},m.params,d.params),w=v.stringify(x)}const S=[];let M=v;for(;M;)S.unshift(M.record),M=M.parent;return{name:g,path:w,params:x,matched:S,meta:fg(S)}}e.forEach(d=>r(d));function p(){n.length=0,o.clear()}return{addRoute:r,resolve:u,removeRoute:i,clearRoutes:p,getRoutes:l,getRecordMatcher:a}}function Fl(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Ul(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:dg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function dg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function zl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fg(e){return e.reduce((t,n)=>nt(t,n.meta),{})}function ql(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function pg(e,t){let n=0,o=t.length;for(;n!==o;){const r=n+o>>1;Ku(e,t[r])<0?o=r:n=r+1}const a=mg(e);return a&&(o=t.lastIndexOf(a,o-1)),o}function mg(e){let t=e;for(;t=t.parent;)if(Yu(t)&&Ku(e,t)===0)return t}function Yu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function hg(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const r=o[a].replace(Nu," "),i=r.indexOf("="),l=Hs(i<0?r:r.slice(0,i)),c=i<0?null:Hs(r.slice(i+1));if(l in t){let u=t[l];vn(u)||(u=t[l]=[u]),u.push(c)}else t[l]=c}return t}function Wl(e){let t="";for(let n in e){const o=e[n];if(n=Oh(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(vn(o)?o.map(r=>r&&ti(r)):[o&&ti(o)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function gg(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=vn(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const vg=Symbol(""),Kl=Symbol(""),sr=Symbol(""),Xu=Symbol(""),oi=Symbol("");function ls(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Xn(e,t,n,o,a,r=i=>i()){const i=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((l,c)=>{const u=m=>{m===!1?c(Yo(4,{from:n,to:t})):m instanceof Error?c(m):tg(m)?c(Yo(2,{from:t,to:m})):(i&&o.enterCallbacks[a]===i&&typeof m=="function"&&i.push(m),l())},p=r(()=>e.call(o&&o.instances[a],t,n,u));let d=Promise.resolve(p);e.length<3&&(d=d.then(u)),d.catch(m=>c(m))})}function Dr(e,t,n,o,a=r=>r()){const r=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(Mu(c)){const p=(c.__vccOpts||c)[t];p&&r.push(Xn(p,n,o,i,l,a))}else{let u=c();r.push(()=>u.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const d=kh(p)?p.default:p;i.mods[l]=p,i.components[l]=d;const v=(d.__vccOpts||d)[t];return v&&Xn(v,n,o,i,l,a)()}))}}return r}function Yl(e){const t=gn(sr),n=gn(Xu),o=Qe(()=>{const c=de(e.to);return t.resolve(c)}),a=Qe(()=>{const{matched:c}=o.value,{length:u}=c,p=c[u-1],d=n.matched;if(!p||!d.length)return-1;const m=d.findIndex(Ko.bind(null,p));if(m>-1)return m;const v=Xl(c[u-2]);return u>1&&Xl(p)===v&&d[d.length-1].path!==v?d.findIndex(Ko.bind(null,c[u-2])):m}),r=Qe(()=>a.value>-1&&xg(n.params,o.value.params)),i=Qe(()=>a.value>-1&&a.value===n.matched.length-1&&Uu(n.params,o.value.params));function l(c={}){if(Cg(c)){const u=t[de(e.replace)?"replace":"push"](de(e.to)).catch(Cs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:Qe(()=>o.value.href),isActive:r,isExactActive:i,navigate:l}}function bg(e){return e.length===1?e[0]:e}const wg=ou({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Yl,setup(e,{slots:t}){const n=nn(Yl(e)),{options:o}=gn(sr),a=Qe(()=>({[Gl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Gl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&bg(t.default(n));return e.custom?r:Tu("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}}),yg=wg;function Cg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function xg(e,t){for(const n in t){const o=t[n],a=e[n];if(typeof o=="string"){if(o!==a)return!1}else if(!vn(a)||a.length!==o.length||o.some((r,i)=>r!==a[i]))return!1}return!0}function Xl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Gl=(e,t,n)=>e??t??n,_g=ou({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=gn(oi),a=Qe(()=>e.route||o.value),r=gn(Kl,0),i=Qe(()=>{let u=de(r);const{matched:p}=a.value;let d;for(;(d=p[u])&&!d.components;)u++;return u}),l=Qe(()=>a.value.matched[i.value]);ca(Kl,Qe(()=>i.value+1)),ca(vg,l),ca(oi,a);const c=he();return un(()=>[c.value,l.value,e.name],([u,p,d],[m,v,x])=>{p&&(p.instances[d]=u,v&&v!==p&&u&&u===m&&(p.leaveGuards.size||(p.leaveGuards=v.leaveGuards),p.updateGuards.size||(p.updateGuards=v.updateGuards))),u&&p&&(!v||!Ko(p,v)||!m)&&(p.enterCallbacks[d]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=a.value,p=e.name,d=l.value,m=d&&d.components[p];if(!m)return Jl(n.default,{Component:m,route:u});const v=d.props[p],x=v?v===!0?u.params:typeof v=="function"?v(u):v:null,g=Tu(m,nt({},x,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(d.instances[p]=null)},ref:c}));return Jl(n.default,{Component:g,route:u})||g}}});function Jl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const kg=_g;function Sg(e){const t=ug(e.routes,e),n=e.parseQuery||hg,o=e.stringifyQuery||Wl,a=e.history,r=ls(),i=ls(),l=ls(),c=Ep(zn);let u=zn;Bo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=$r.bind(null,j=>""+j),d=$r.bind(null,Mh),m=$r.bind(null,Hs);function v(j,ie){let ve,we;return qu(j)?(ve=t.getRecordMatcher(j),we=ie):we=j,t.addRoute(we,ve)}function x(j){const ie=t.getRecordMatcher(j);ie&&t.removeRoute(ie)}function w(){return t.getRoutes().map(j=>j.record)}function g(j){return!!t.getRecordMatcher(j)}function S(j,ie){if(ie=nt({},ie||c.value),typeof j=="string"){const I=Er(n,j,ie.path),G=t.resolve({path:I.path},ie),ne=a.createHref(I.fullPath);return nt(I,G,{params:m(G.params),hash:Hs(I.hash),redirectedFrom:void 0,href:ne})}let ve;if(j.path!=null)ve=nt({},j,{path:Er(n,j.path,ie.path).path});else{const I=nt({},j.params);for(const G in I)I[G]==null&&delete I[G];ve=nt({},j,{params:d(I)}),ie.params=d(ie.params)}const we=t.resolve(ve,ie),Fe=j.hash||"";we.params=p(m(we.params));const C=Vh(o,nt({},j,{hash:Hh(Fe),path:we.path})),_=a.createHref(C);return nt({fullPath:C,hash:Fe,query:o===Wl?gg(j.query):j.query||{}},we,{redirectedFrom:void 0,href:_})}function M(j){return typeof j=="string"?Er(n,j,c.value.path):nt({},j)}function B(j,ie){if(u!==j)return Yo(8,{from:ie,to:j})}function L(j){return te(j)}function D(j){return L(nt(M(j),{replace:!0}))}function se(j){const ie=j.matched[j.matched.length-1];if(ie&&ie.redirect){const{redirect:ve}=ie;let we=typeof ve=="function"?ve(j):ve;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=M(we):{path:we},we.params={}),nt({query:j.query,hash:j.hash,params:we.path!=null?{}:j.params},we)}}function te(j,ie){const ve=u=S(j),we=c.value,Fe=j.state,C=j.force,_=j.replace===!0,I=se(ve);if(I)return te(nt(M(I),{state:typeof I=="object"?nt({},Fe,I.state):Fe,force:C,replace:_}),ie||ve);const G=ve;G.redirectedFrom=ie;let ne;return!C&&jh(o,we,ve)&&(ne=Yo(16,{to:G,from:we}),N(we,we,!0,!1)),(ne?Promise.resolve(ne):R(G,we)).catch(Q=>In(Q)?In(Q,2)?Q:Y(Q):ae(Q,G,we)).then(Q=>{if(Q){if(In(Q,2))return te(nt({replace:_},M(Q.to),{state:typeof Q.to=="object"?nt({},Fe,Q.to.state):Fe,force:C}),ie||G)}else Q=ge(G,we,!0,_,Fe);return ee(G,we,Q),Q})}function re(j,ie){const ve=B(j,ie);return ve?Promise.reject(ve):Promise.resolve()}function V(j){const ie=pe.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(j):j()}function R(j,ie){let ve;const[we,Fe,C]=$g(j,ie);ve=Dr(we.reverse(),"beforeRouteLeave",j,ie);for(const I of we)I.leaveGuards.forEach(G=>{ve.push(Xn(G,j,ie))});const _=re.bind(null,j,ie);return ve.push(_),st(ve).then(()=>{ve=[];for(const I of r.list())ve.push(Xn(I,j,ie));return ve.push(_),st(ve)}).then(()=>{ve=Dr(Fe,"beforeRouteUpdate",j,ie);for(const I of Fe)I.updateGuards.forEach(G=>{ve.push(Xn(G,j,ie))});return ve.push(_),st(ve)}).then(()=>{ve=[];for(const I of C)if(I.beforeEnter)if(vn(I.beforeEnter))for(const G of I.beforeEnter)ve.push(Xn(G,j,ie));else ve.push(Xn(I.beforeEnter,j,ie));return ve.push(_),st(ve)}).then(()=>(j.matched.forEach(I=>I.enterCallbacks={}),ve=Dr(C,"beforeRouteEnter",j,ie,V),ve.push(_),st(ve))).then(()=>{ve=[];for(const I of i.list())ve.push(Xn(I,j,ie));return ve.push(_),st(ve)}).catch(I=>In(I,8)?I:Promise.reject(I))}function ee(j,ie,ve){l.list().forEach(we=>V(()=>we(j,ie,ve)))}function ge(j,ie,ve,we,Fe){const C=B(j,ie);if(C)return C;const _=ie===zn,I=Bo?history.state:{};ve&&(we||_?a.replace(j.fullPath,nt({scroll:_&&I&&I.scroll},Fe)):a.push(j.fullPath,Fe)),c.value=j,N(j,ie,ve,_),Y()}let q;function W(){q||(q=a.listen((j,ie,ve)=>{if(!Ae.listening)return;const we=S(j),Fe=se(we);if(Fe){te(nt(Fe,{replace:!0,force:!0}),we).catch(Cs);return}u=we;const C=c.value;Bo&&Xh(Ml(C.fullPath,ve.delta),or()),R(we,C).catch(_=>In(_,12)?_:In(_,2)?(te(nt(M(_.to),{force:!0}),we).then(I=>{In(I,20)&&!ve.delta&&ve.type===Os.pop&&a.go(-1,!1)}).catch(Cs),Promise.reject()):(ve.delta&&a.go(-ve.delta,!1),ae(_,we,C))).then(_=>{_=_||ge(we,C,!1),_&&(ve.delta&&!In(_,8)?a.go(-ve.delta,!1):ve.type===Os.pop&&In(_,20)&&a.go(-1,!1)),ee(we,C,_)}).catch(Cs)}))}let U=ls(),O=ls(),H;function ae(j,ie,ve){Y(j);const we=O.list();return we.length?we.forEach(Fe=>Fe(j,ie,ve)):console.error(j),Promise.reject(j)}function Pe(){return H&&c.value!==zn?Promise.resolve():new Promise((j,ie)=>{U.add([j,ie])})}function Y(j){return H||(H=!j,W(),U.list().forEach(([ie,ve])=>j?ve(j):ie()),U.reset()),j}function N(j,ie,ve,we){const{scrollBehavior:Fe}=e;if(!Bo||!Fe)return Promise.resolve();const C=!ve&&Gh(Ml(j.fullPath,0))||(we||!ve)&&history.state&&history.state.scroll||null;return $o().then(()=>Fe(j,ie,C)).then(_=>_&&Yh(_)).catch(_=>ae(_,j,ie))}const J=j=>a.go(j);let X;const pe=new Set,Ae={currentRoute:c,listening:!0,addRoute:v,removeRoute:x,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:w,resolve:S,options:e,push:L,replace:D,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:O.add,isReady:Pe,install(j){const ie=this;j.component("RouterLink",yg),j.component("RouterView",kg),j.config.globalProperties.$router=ie,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>de(c)}),Bo&&!X&&c.value===zn&&(X=!0,L(a.location).catch(Fe=>{}));const ve={};for(const Fe in zn)Object.defineProperty(ve,Fe,{get:()=>c.value[Fe],enumerable:!0});j.provide(sr,ie),j.provide(Xu,Wc(ve)),j.provide(oi,c);const we=j.unmount;pe.add(j),j.unmount=function(){pe.delete(j),pe.size<1&&(u=zn,q&&q(),q=null,c.value=zn,X=!1,H=!1),we()}}};function st(j){return j.reduce((ie,ve)=>ie.then(()=>V(ve)),Promise.resolve())}return Ae}function $g(e,t){const n=[],o=[],a=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(u=>Ko(u,l))?o.push(l):n.push(l));const c=e.matched[i];c&&(t.matched.find(u=>Ko(u,c))||a.push(c))}return[n,o,a]}function Vs(){return gn(sr)}const It=[];for(let e=0;e<256;++e)It.push((e+256).toString(16).slice(1));function Eg(e,t=0){return(It[e[t+0]]+It[e[t+1]]+It[e[t+2]]+It[e[t+3]]+"-"+It[e[t+4]]+It[e[t+5]]+"-"+It[e[t+6]]+It[e[t+7]]+"-"+It[e[t+8]]+It[e[t+9]]+"-"+It[e[t+10]]+It[e[t+11]]+It[e[t+12]]+It[e[t+13]]+It[e[t+14]]+It[e[t+15]]).toLowerCase()}let Tr;const Dg=new Uint8Array(16);function Tg(){if(!Tr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tr=crypto.getRandomValues.bind(crypto)}return Tr(Dg)}const Ag=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ql={randomUUID:Ag};function Ig(e,t,n){var a;e=e||{};const o=e.random??((a=e.rng)==null?void 0:a.call(e))??Tg();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Eg(o)}function ht(e,t,n){return Ql.randomUUID?Ql.randomUUID():Ig(e)}const yt=co("account",{state:()=>({accountData:{version:2,characters:[],activeCharacterId:null,dm:null,players:null,characterFolds:null,diceHistory:null,dmTodoItems:null,dmCollapsedCharacters:null},migrationCompleted:!1,isLoading:!0}),getters:{characters:e=>e.accountData.characters,isDataLoading:e=>e.isLoading},actions:{loadInitialData(){try{const e=localStorage.getItem("dnd-account-data");let t,n=!1;if(e){t=JSON.parse(e);const o=!t.characters||t.characters.length===0,a=localStorage.getItem("dnd-character-data")!==null;o&&a&&(n=!0)}else n=!0;if(n){const o=this._migrateDataFromLegacyLocalStorage();o&&(t=o,this.clearOldLocalStorageData(),console.log("Datos antiguos de localStorage cargados para migracin."))}t&&(!t.version||t.version<2?(this.accountData=this._migrateV1toV2(t),console.log("Migracin de V1 a V2 completada."),this.saveDataToLocalStorage()):this.accountData=t)}catch(e){console.error("Error al cargar o migrar los datos. Empezando con un estado limpio.",e),localStorage.removeItem("dnd-account-data")}finally{this.migrationCompleted=!0,this.isLoading=!1}},_migrateV1toV2(e){const t={version:2,characters:[],activeCharacterId:null,dm:e.dm||null,players:e.players||null,characterFolds:e.characterFolds||null,diceHistory:e.diceHistory||null,dmTodoItems:e.dmTodoItems||null,dmCollapsedCharacters:e.dmCollapsedCharacters||null};if(e.character){const n=ht();let o=[],a={rule:"default",characterLevel:1};e.attacks&&(Array.isArray(e.attacks)?o=e.attacks:(o=e.attacks.attacks||[],e.attacks.criticalHit&&(a=e.attacks.criticalHit))),console.log(" Normalizando ataques. Total:",o.length),o=o.map((i,l)=>{var p;console.log(` Ataque ${l+1} (${i.name}):`,{tieneId:!!i.id,tieneRerollDice:!!i.rerollDice,tieneLifeStealAntiguo:!!i.lifeSteal,damageRollsCount:((p=i.damageRolls)==null?void 0:p.length)||0});const c=i.lifeSteal&&i.lifeSteal.percentage>0?i.lifeSteal.percentage:0;c>0&&console.log(`   Migrando lifeSteal antiguo (${c}%) a damageRolls`);const u={...i,id:i.id||ht(),rerollDice:i.rerollDice||[],damageRolls:(i.damageRolls||[]).map(d=>({...d,lifeSteal:d.lifeSteal||{percentage:c}}))};return delete u.lifeSteal,console.log("   Ataque normalizado:",{id:u.id,rerollDiceCount:u.rerollDice.length,damageRollsWithLifeSteal:u.damageRolls.filter(d=>{var m;return((m=d.lifeSteal)==null?void 0:m.percentage)>0}).length}),u}),console.log(" Normalizacin de ataques completada"),e.criticalHitConfig&&(!e.attacks||!e.attacks.criticalHit)&&(a=e.criticalHitConfig);const r={id:n,characterData:e.character,attacks:o,criticalHit:a,passiveDamages:e.passiveDamages||[],counters:e.counters?e.counters.counters:[],characterState:e.counters?e.counters.states:[]};t.characters.push(r),t.activeCharacterId=n}return t},_migrateDataFromLegacyLocalStorage(){const e=a=>{const r=localStorage.getItem(a);try{return r?JSON.parse(r):null}catch(i){return console.error(`Error parsing ${a} from localStorage:`,i),null}},t=e("dnd-character-data");if(!t)return null;const n=e("dnd-attacks-data");return console.log(" Migrando datos antiguos de localStorage"),console.log(" Ataques encontrados en dnd-attacks-data:",n),{version:1,character:t,dm:e("dnd-dm-data"),players:e("dnd-player-data"),attacks:n,criticalHitConfig:e("dnd-critical-hit-config"),passiveDamages:e("dnd-passive-damages-data"),counters:{counters:e("dnd-counters"),states:e("dnd-states")},characterFolds:e("dnd-character-folds"),diceHistory:e("dice-roller-history"),dmTodoItems:e("dnd-todo-items"),dmCollapsedCharacters:e("collapsedCharacters")}},clearOldLocalStorageData(){localStorage.removeItem("dnd-character-data"),localStorage.removeItem("dnd-dm-data"),localStorage.removeItem("dnd-player-data"),localStorage.removeItem("dnd-attacks-data"),localStorage.removeItem("dnd-passive-damages-data"),localStorage.removeItem("dnd-counters"),localStorage.removeItem("dnd-states"),localStorage.removeItem("a_very_long_list_of_items_that_is_used_now_in_the_new_version"),localStorage.removeItem("dnd-character-folds"),localStorage.removeItem("dice-roller-history"),localStorage.removeItem("dnd-todo-items"),localStorage.removeItem("collapsedCharacters"),localStorage.removeItem("dnd-critical-hit-config")},saveDataToLocalStorage(){localStorage.setItem("dnd-account-data",JSON.stringify(this.accountData))},updateSection(e,t){this.accountData.hasOwnProperty(e)?(this.accountData[e]=t,this.saveDataToLocalStorage()):console.warn(`La clave '${e}' no existe en accountData.`)},getSection(e){return this.accountData[e]},exportData(){return JSON.stringify(this.accountData,null,2)},importData(e){try{const t=JSON.parse(e);return t&&typeof t=="object"&&"version"in t?(this.accountData=t,this.saveDataToLocalStorage(),window.location.reload(),{success:!0}):{success:!1,error:"El archivo no tiene el formato esperado."}}catch(t){return console.error("Error importando datos:",t),{success:!1,error:"El archivo JSON no es vlido."}}},clearAllData(){this.$reset(),localStorage.removeItem("dnd-account-data"),this.clearOldLocalStorageData(),window.location.reload()}}}),Tt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},Rg={class:"home-container fade-in"},Pg={class:"welcome-card"},Hg={key:0,class:"loading-spinner"},Og={key:1,class:"welcome-content"},Bg={class:"action-buttons"},Mg={__name:"HomeView",setup(e){const t=Vs(),n=yt(),o=Qe(()=>n.characters),a=Qe(()=>n.isDataLoading),r=Qe(()=>o.value&&o.value.length>0),i=()=>{t.push("/config")},l=()=>{t.push("/character-manager")},c=()=>{t.push("/dm")};return(u,p)=>($(),E("div",Rg,[s("div",Pg,[p[5]||(p[5]=s("h1",{class:"welcome-title"}," D&D Life Tracker",-1)),p[6]||(p[6]=s("p",{class:"welcome-subtitle"},"Control de vida para personajes de Dungeons & Dragons",-1)),a.value?($(),E("div",Hg,p[0]||(p[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"Cargando...",-1)]))):($(),E("div",Og,[p[4]||(p[4]=so('<div class="feature-list" data-v-e90a96d5><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Control de vida mxima y actual</span></div><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Vida temporal que se consume primero</span></div><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Regeneracin pasiva por turno</span></div><div class="feature-item" data-v-e90a96d5><span class="feature-icon" data-v-e90a96d5></span><span class="feature-text" data-v-e90a96d5>Panel del DM para gestionar mltiples personajes</span></div></div>',1)),s("div",Bg,[s("button",{onClick:i,class:"btn btn-primary"},p[1]||(p[1]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Crear Nuevo Personaje",-1)])),r.value?($(),E("button",{key:0,onClick:l,class:"btn btn-secondary"},p[2]||(p[2]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Gestionar Personajes",-1)]))):Se("",!0),s("button",{onClick:c,class:"btn btn-success"},p[3]||(p[3]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Panel del DM",-1)]))])]))])]))}},Lg=Tt(Mg,[["__scopeId","data-v-e90a96d5"]]),pa=co("passiveDamage",{state:()=>({passiveDamages:[]}),actions:{loadData(){const e=yt(),t=e.accountData.activeCharacterId;if(!t){this.passiveDamages=[];return}const n=e.accountData.characters.find(o=>o.id===t);n&&n.passiveDamages?this.passiveDamages=n.passiveDamages.map(o=>({...o,id:o.id||ht(),duration:o.duration!==void 0?o.duration:0,damageRolls:o.damageRolls||[]})):this.passiveDamages=[]},saveData(){const e=yt(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);n!==-1&&(e.accountData.characters[n].passiveDamages=this.passiveDamages,e.saveDataToLocalStorage())},addPassiveDamage(e){const t={...e,id:ht()};this.passiveDamages.push(t),this.saveData()},updatePassiveDamage(e){const t=this.passiveDamages.findIndex(n=>n.id===e.id);t!==-1&&(this.passiveDamages[t]=e,this.saveData())},duplicatePassiveDamage(e){const t=this.passiveDamages.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=ht(),n.name=`${t.name} (Copia)`;const o=this.passiveDamages.findIndex(a=>a.id===e);this.passiveDamages.splice(o+1,0,n),this.saveData()}},deletePassiveDamage(e){this.passiveDamages=this.passiveDamages.filter(t=>t.id!==e),this.saveData()},decrementDurations(){let e=!1;this.passiveDamages.forEach(n=>{n.duration>0&&(n.duration--,e=!0)});const t=this.passiveDamages.length;this.passiveDamages=this.passiveDamages.filter(n=>n.duration!==0),(e||this.passiveDamages.length!==t)&&this.saveData()}}});function Ng(e,t,n){let o=0;for(let a=0;a<e;a++)o+=Math.floor(Math.random()*t)+1;return o+n}const oo=[{id:"bludgeoning",name:"Contundente",color:"#a1887f"},{id:"piercing",name:"Perforante",color:"#757575"},{id:"slashing",name:"Cortante",color:"#bdbdbd"},{id:"acid",name:"cido",color:"#8bc34a"},{id:"cold",name:"Fro",color:"#26c6da"},{id:"fire",name:"Fuego",color:"#ff7043"},{id:"force",name:"Fuerza",color:"#ab47bc"},{id:"lightning",name:"Elctrico",color:"#ffca28"},{id:"necrotic",name:"Necrtico",color:"#546e7a"},{id:"poison",name:"Veneno",color:"#66bb6a"},{id:"psychic",name:"Psquico",color:"#ec407a"},{id:"radiant",name:"Radiante",color:"#ffee58"},{id:"thunder",name:"Trueno",color:"#7e57c2"}],si=e=>{const t=oo.find(n=>n.id===e);return t?t.color:"#ffffff"},Gu=co("attack",{state:()=>({attacks:[],criticalHit:{rule:"default",characterLevel:1}}),actions:{loadData(){const e=yt(),t=e.accountData.activeCharacterId;if(!t){this.attacks=[],this.criticalHit={rule:"default",characterLevel:1};return}const n=e.accountData.characters.find(o=>o.id===t);n?(this.attacks=(n.attacks||[]).map(o=>({...o,id:o.id||ht(),rerollDice:o.rerollDice||[],damageRolls:(o.damageRolls||[]).map(a=>({...a,lifeSteal:a.lifeSteal||{percentage:0}}))})),this.criticalHit=n.criticalHit||{rule:"default",characterLevel:1}):(this.attacks=[],this.criticalHit={rule:"default",characterLevel:1})},saveData(){const e=yt(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);n!==-1&&(e.accountData.characters[n].attacks=this.attacks,e.accountData.characters[n].criticalHit=this.criticalHit,e.saveDataToLocalStorage())},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveData()},addAttack(e){const t={...e,id:ht()};this.attacks.push(t),this.saveData()},updateAttack(e){const t=this.attacks.findIndex(n=>n.id===e.id);t!==-1&&(this.attacks[t]=e,this.saveData())},duplicateAttack(e){const t=this.attacks.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=ht(),n.name=`${t.name} (Copia)`;const o=this.attacks.findIndex(a=>a.id===e);this.attacks.splice(o+1,0,n),this.saveData()}},deleteAttack(e){this.attacks=this.attacks.filter(t=>t.id!==e),this.saveData()},getAttackById(e){return this.attacks.find(t=>t.id===e)},updateAttackOrder(e){this.attacks=e.map(t=>this.attacks.find(n=>n.id===t)).filter(Boolean),this.saveData()}}});var ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function na(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ar={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Zl;function jg(){return Zl||(Zl=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(o,a,r){function i(u,p){if(!a[u]){if(!o[u]){var d=typeof na=="function"&&na;if(!p&&d)return d(u,!0);if(l)return l(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var v=a[u]={exports:{}};o[u][0].call(v.exports,function(x){var w=o[u][1][x];return i(w||x)},v,v.exports,n,o,a,r)}return a[u].exports}for(var l=typeof na=="function"&&na,c=0;c<r.length;c++)i(r[c]);return i}({1:[function(n,o,a){(function(r){var i=r.MutationObserver||r.WebKitMutationObserver,l;if(i){var c=0,u=new i(x),p=r.document.createTextNode("");u.observe(p,{characterData:!0}),l=function(){p.data=c=++c%2}}else if(!r.setImmediate&&typeof r.MessageChannel<"u"){var d=new r.MessageChannel;d.port1.onmessage=x,l=function(){d.port2.postMessage(0)}}else"document"in r&&"onreadystatechange"in r.document.createElement("script")?l=function(){var g=r.document.createElement("script");g.onreadystatechange=function(){x(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},r.document.documentElement.appendChild(g)}:l=function(){setTimeout(x,0)};var m,v=[];function x(){m=!0;for(var g,S,M=v.length;M;){for(S=v,v=[],g=-1;++g<M;)S[g]();M=v.length}m=!1}o.exports=w;function w(g){v.push(g)===1&&!m&&l()}}).call(this,typeof ta<"u"?ta:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,o,a){var r=n(1);function i(){}var l={},c=["REJECTED"],u=["FULFILLED"],p=["PENDING"];o.exports=d;function d(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,D!==i&&w(this,D)}d.prototype.catch=function(D){return this.then(null,D)},d.prototype.then=function(D,se){if(typeof D!="function"&&this.state===u||typeof se!="function"&&this.state===c)return this;var te=new this.constructor(i);if(this.state!==p){var re=this.state===u?D:se;v(te,re,this.outcome)}else this.queue.push(new m(te,D,se));return te};function m(D,se,te){this.promise=D,typeof se=="function"&&(this.onFulfilled=se,this.callFulfilled=this.otherCallFulfilled),typeof te=="function"&&(this.onRejected=te,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(D){l.resolve(this.promise,D)},m.prototype.otherCallFulfilled=function(D){v(this.promise,this.onFulfilled,D)},m.prototype.callRejected=function(D){l.reject(this.promise,D)},m.prototype.otherCallRejected=function(D){v(this.promise,this.onRejected,D)};function v(D,se,te){r(function(){var re;try{re=se(te)}catch(V){return l.reject(D,V)}re===D?l.reject(D,new TypeError("Cannot resolve promise with itself")):l.resolve(D,re)})}l.resolve=function(D,se){var te=g(x,se);if(te.status==="error")return l.reject(D,te.value);var re=te.value;if(re)w(D,re);else{D.state=u,D.outcome=se;for(var V=-1,R=D.queue.length;++V<R;)D.queue[V].callFulfilled(se)}return D},l.reject=function(D,se){D.state=c,D.outcome=se;for(var te=-1,re=D.queue.length;++te<re;)D.queue[te].callRejected(se);return D};function x(D){var se=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof se=="function")return function(){se.apply(D,arguments)}}function w(D,se){var te=!1;function re(ge){te||(te=!0,l.reject(D,ge))}function V(ge){te||(te=!0,l.resolve(D,ge))}function R(){se(V,re)}var ee=g(R);ee.status==="error"&&re(ee.value)}function g(D,se){var te={};try{te.value=D(se),te.status="success"}catch(re){te.status="error",te.value=re}return te}d.resolve=S;function S(D){return D instanceof this?D:l.resolve(new this(i),D)}d.reject=M;function M(D){var se=new this(i);return l.reject(se,D)}d.all=B;function B(D){var se=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var te=D.length,re=!1;if(!te)return this.resolve([]);for(var V=new Array(te),R=0,ee=-1,ge=new this(i);++ee<te;)q(D[ee],ee);return ge;function q(W,U){se.resolve(W).then(O,function(H){re||(re=!0,l.reject(ge,H))});function O(H){V[U]=H,++R===te&&!re&&(re=!0,l.resolve(ge,V))}}}d.race=L;function L(D){var se=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var te=D.length,re=!1;if(!te)return this.resolve([]);for(var V=-1,R=new this(i);++V<te;)ee(D[V]);return R;function ee(ge){se.resolve(ge).then(function(q){re||(re=!0,l.resolve(R,q))},function(q){re||(re=!0,l.reject(R,q))})}}},{1:1}],3:[function(n,o,a){(function(r){typeof r.Promise!="function"&&(r.Promise=n(2))}).call(this,typeof ta<"u"?ta:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,o,a){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function i(h,k){if(!(h instanceof k))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function u(){try{if(!c||!c.open)return!1;var h=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),k=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!h||k)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(h,k){h=h||[],k=k||{};try{return new Blob(h,k)}catch(T){if(T.name!=="TypeError")throw T;for(var b=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new b,P=0;P<h.length;P+=1)A.append(h[P]);return A.getBlob(k.type)}}typeof Promise>"u"&&n(3);var d=Promise;function m(h,k){k&&h.then(function(b){k(null,b)},function(b){k(b)})}function v(h,k,b){typeof k=="function"&&h.then(k),typeof b=="function"&&h.catch(b)}function x(h){return typeof h!="string"&&(console.warn(h+" used as a key, but it is not a string."),h=String(h)),h}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",S=void 0,M={},B=Object.prototype.toString,L="readonly",D="readwrite";function se(h){for(var k=h.length,b=new ArrayBuffer(k),A=new Uint8Array(b),P=0;P<k;P++)A[P]=h.charCodeAt(P);return b}function te(h){return new d(function(k){var b=h.transaction(g,D),A=p([""]);b.objectStore(g).put(A,"key"),b.onabort=function(P){P.preventDefault(),P.stopPropagation(),k(!1)},b.oncomplete=function(){var P=navigator.userAgent.match(/Chrome\/(\d+)/),T=navigator.userAgent.match(/Edge\//);k(T||!P||parseInt(P[1],10)>=43)}}).catch(function(){return!1})}function re(h){return typeof S=="boolean"?d.resolve(S):te(h).then(function(k){return S=k,S})}function V(h){var k=M[h.name],b={};b.promise=new d(function(A,P){b.resolve=A,b.reject=P}),k.deferredOperations.push(b),k.dbReady?k.dbReady=k.dbReady.then(function(){return b.promise}):k.dbReady=b.promise}function R(h){var k=M[h.name],b=k.deferredOperations.pop();if(b)return b.resolve(),b.promise}function ee(h,k){var b=M[h.name],A=b.deferredOperations.pop();if(A)return A.reject(k),A.promise}function ge(h,k){return new d(function(b,A){if(M[h.name]=M[h.name]||J(),h.db)if(k)V(h),h.db.close();else return b(h.db);var P=[h.name];k&&P.push(h.version);var T=c.open.apply(c,P);k&&(T.onupgradeneeded=function(Z){var ce=T.result;try{ce.createObjectStore(h.storeName),Z.oldVersion<=1&&ce.createObjectStore(g)}catch(fe){if(fe.name==="ConstraintError")console.warn('The database "'+h.name+'" has been upgraded from version '+Z.oldVersion+" to version "+Z.newVersion+', but the storage "'+h.storeName+'" already exists.');else throw fe}}),T.onerror=function(Z){Z.preventDefault(),A(T.error)},T.onsuccess=function(){var Z=T.result;Z.onversionchange=function(ce){ce.target.close()},b(Z),R(h)}})}function q(h){return ge(h,!1)}function W(h){return ge(h,!0)}function U(h,k){if(!h.db)return!0;var b=!h.db.objectStoreNames.contains(h.storeName),A=h.version<h.db.version,P=h.version>h.db.version;if(A&&(h.version!==k&&console.warn('The database "'+h.name+`" can't be downgraded from version `+h.db.version+" to version "+h.version+"."),h.version=h.db.version),P||b){if(b){var T=h.db.version+1;T>h.version&&(h.version=T)}return!0}return!1}function O(h){return new d(function(k,b){var A=new FileReader;A.onerror=b,A.onloadend=function(P){var T=btoa(P.target.result||"");k({__local_forage_encoded_blob:!0,data:T,type:h.type})},A.readAsBinaryString(h)})}function H(h){var k=se(atob(h.data));return p([k],{type:h.type})}function ae(h){return h&&h.__local_forage_encoded_blob}function Pe(h){var k=this,b=k._initReady().then(function(){var A=M[k._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return v(b,h,h),b}function Y(h){V(h);for(var k=M[h.name],b=k.forages,A=0;A<b.length;A++){var P=b[A];P._dbInfo.db&&(P._dbInfo.db.close(),P._dbInfo.db=null)}return h.db=null,q(h).then(function(T){return h.db=T,U(h)?W(h):T}).then(function(T){h.db=k.db=T;for(var Z=0;Z<b.length;Z++)b[Z]._dbInfo.db=T}).catch(function(T){throw ee(h,T),T})}function N(h,k,b,A){A===void 0&&(A=1);try{var P=h.db.transaction(h.storeName,k);b(null,P)}catch(T){if(A>0&&(!h.db||T.name==="InvalidStateError"||T.name==="NotFoundError"))return d.resolve().then(function(){if(!h.db||T.name==="NotFoundError"&&!h.db.objectStoreNames.contains(h.storeName)&&h.version<=h.db.version)return h.db&&(h.version=h.db.version+1),W(h)}).then(function(){return Y(h).then(function(){N(h,k,b,A-1)})}).catch(b);b(T)}}function J(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function X(h){var k=this,b={db:null};if(h)for(var A in h)b[A]=h[A];var P=M[b.name];P||(P=J(),M[b.name]=P),P.forages.push(k),k._initReady||(k._initReady=k.ready,k.ready=Pe);var T=[];function Z(){return d.resolve()}for(var ce=0;ce<P.forages.length;ce++){var fe=P.forages[ce];fe!==k&&T.push(fe._initReady().catch(Z))}var me=P.forages.slice(0);return d.all(T).then(function(){return b.db=P.db,q(b)}).then(function(xe){return b.db=xe,U(b,k._defaultConfig.version)?W(b):xe}).then(function(xe){b.db=P.db=xe,k._dbInfo=b;for(var Ie=0;Ie<me.length;Ie++){var ze=me[Ie];ze!==k&&(ze._dbInfo.db=b.db,ze._dbInfo.version=b.version)}})}function pe(h,k){var b=this;h=x(h);var A=new d(function(P,T){b.ready().then(function(){N(b._dbInfo,L,function(Z,ce){if(Z)return T(Z);try{var fe=ce.objectStore(b._dbInfo.storeName),me=fe.get(h);me.onsuccess=function(){var xe=me.result;xe===void 0&&(xe=null),ae(xe)&&(xe=H(xe)),P(xe)},me.onerror=function(){T(me.error)}}catch(xe){T(xe)}})}).catch(T)});return m(A,k),A}function Ae(h,k){var b=this,A=new d(function(P,T){b.ready().then(function(){N(b._dbInfo,L,function(Z,ce){if(Z)return T(Z);try{var fe=ce.objectStore(b._dbInfo.storeName),me=fe.openCursor(),xe=1;me.onsuccess=function(){var Ie=me.result;if(Ie){var ze=Ie.value;ae(ze)&&(ze=H(ze));var tt=h(ze,Ie.key,xe++);tt!==void 0?P(tt):Ie.continue()}else P()},me.onerror=function(){T(me.error)}}catch(Ie){T(Ie)}})}).catch(T)});return m(A,k),A}function st(h,k,b){var A=this;h=x(h);var P=new d(function(T,Z){var ce;A.ready().then(function(){return ce=A._dbInfo,B.call(k)==="[object Blob]"?re(ce.db).then(function(fe){return fe?k:O(k)}):k}).then(function(fe){N(A._dbInfo,D,function(me,xe){if(me)return Z(me);try{var Ie=xe.objectStore(A._dbInfo.storeName);fe===null&&(fe=void 0);var ze=Ie.put(fe,h);xe.oncomplete=function(){fe===void 0&&(fe=null),T(fe)},xe.onabort=xe.onerror=function(){var tt=ze.error?ze.error:ze.transaction.error;Z(tt)}}catch(tt){Z(tt)}})}).catch(Z)});return m(P,b),P}function j(h,k){var b=this;h=x(h);var A=new d(function(P,T){b.ready().then(function(){N(b._dbInfo,D,function(Z,ce){if(Z)return T(Z);try{var fe=ce.objectStore(b._dbInfo.storeName),me=fe.delete(h);ce.oncomplete=function(){P()},ce.onerror=function(){T(me.error)},ce.onabort=function(){var xe=me.error?me.error:me.transaction.error;T(xe)}}catch(xe){T(xe)}})}).catch(T)});return m(A,k),A}function ie(h){var k=this,b=new d(function(A,P){k.ready().then(function(){N(k._dbInfo,D,function(T,Z){if(T)return P(T);try{var ce=Z.objectStore(k._dbInfo.storeName),fe=ce.clear();Z.oncomplete=function(){A()},Z.onabort=Z.onerror=function(){var me=fe.error?fe.error:fe.transaction.error;P(me)}}catch(me){P(me)}})}).catch(P)});return m(b,h),b}function ve(h){var k=this,b=new d(function(A,P){k.ready().then(function(){N(k._dbInfo,L,function(T,Z){if(T)return P(T);try{var ce=Z.objectStore(k._dbInfo.storeName),fe=ce.count();fe.onsuccess=function(){A(fe.result)},fe.onerror=function(){P(fe.error)}}catch(me){P(me)}})}).catch(P)});return m(b,h),b}function we(h,k){var b=this,A=new d(function(P,T){if(h<0){P(null);return}b.ready().then(function(){N(b._dbInfo,L,function(Z,ce){if(Z)return T(Z);try{var fe=ce.objectStore(b._dbInfo.storeName),me=!1,xe=fe.openKeyCursor();xe.onsuccess=function(){var Ie=xe.result;if(!Ie){P(null);return}h===0||me?P(Ie.key):(me=!0,Ie.advance(h))},xe.onerror=function(){T(xe.error)}}catch(Ie){T(Ie)}})}).catch(T)});return m(A,k),A}function Fe(h){var k=this,b=new d(function(A,P){k.ready().then(function(){N(k._dbInfo,L,function(T,Z){if(T)return P(T);try{var ce=Z.objectStore(k._dbInfo.storeName),fe=ce.openKeyCursor(),me=[];fe.onsuccess=function(){var xe=fe.result;if(!xe){A(me);return}me.push(xe.key),xe.continue()},fe.onerror=function(){P(fe.error)}}catch(xe){P(xe)}})}).catch(P)});return m(b,h),b}function C(h,k){k=w.apply(this,arguments);var b=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||b.name,h.storeName=h.storeName||b.storeName);var A=this,P;if(!h.name)P=d.reject("Invalid arguments");else{var T=h.name===b.name&&A._dbInfo.db,Z=T?d.resolve(A._dbInfo.db):q(h).then(function(ce){var fe=M[h.name],me=fe.forages;fe.db=ce;for(var xe=0;xe<me.length;xe++)me[xe]._dbInfo.db=ce;return ce});h.storeName?P=Z.then(function(ce){if(ce.objectStoreNames.contains(h.storeName)){var fe=ce.version+1;V(h);var me=M[h.name],xe=me.forages;ce.close();for(var Ie=0;Ie<xe.length;Ie++){var ze=xe[Ie];ze._dbInfo.db=null,ze._dbInfo.version=fe}var tt=new d(function(at,xt){var bt=c.open(h.name,fe);bt.onerror=function(rn){var ss=bt.result;ss.close(),xt(rn)},bt.onupgradeneeded=function(){var rn=bt.result;rn.deleteObjectStore(h.storeName)},bt.onsuccess=function(){var rn=bt.result;rn.close(),at(rn)}});return tt.then(function(at){me.db=at;for(var xt=0;xt<xe.length;xt++){var bt=xe[xt];bt._dbInfo.db=at,R(bt._dbInfo)}}).catch(function(at){throw(ee(h,at)||d.resolve()).catch(function(){}),at})}}):P=Z.then(function(ce){V(h);var fe=M[h.name],me=fe.forages;ce.close();for(var xe=0;xe<me.length;xe++){var Ie=me[xe];Ie._dbInfo.db=null}var ze=new d(function(tt,at){var xt=c.deleteDatabase(h.name);xt.onerror=function(){var bt=xt.result;bt&&bt.close(),at(xt.error)},xt.onblocked=function(){console.warn('dropInstance blocked for database "'+h.name+'" until all open connections are closed')},xt.onsuccess=function(){var bt=xt.result;bt&&bt.close(),tt(bt)}});return ze.then(function(tt){fe.db=tt;for(var at=0;at<me.length;at++){var xt=me[at];R(xt._dbInfo)}}).catch(function(tt){throw(ee(h,tt)||d.resolve()).catch(function(){}),tt})})}return m(P,k),P}var _={_driver:"asyncStorage",_initStorage:X,_support:u(),iterate:Ae,getItem:pe,setItem:st,removeItem:j,clear:ie,length:ve,key:we,keys:Fe,dropInstance:C};function I(){return typeof openDatabase=="function"}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne="~~local_forage_type~",Q=/^~~local_forage_type~([^~]+)~/,_e="__lfsc__:",Ce=_e.length,be="arbf",le="blob",Re="si08",De="ui08",Te="uic8",Be="si16",Ue="si32",Xe="ur16",Ke="ui32",Et="fl32",$t="fl64",At=Ce+be.length,Vt=Object.prototype.toString;function F(h){var k=h.length*.75,b=h.length,A,P=0,T,Z,ce,fe;h[h.length-1]==="="&&(k--,h[h.length-2]==="="&&k--);var me=new ArrayBuffer(k),xe=new Uint8Array(me);for(A=0;A<b;A+=4)T=G.indexOf(h[A]),Z=G.indexOf(h[A+1]),ce=G.indexOf(h[A+2]),fe=G.indexOf(h[A+3]),xe[P++]=T<<2|Z>>4,xe[P++]=(Z&15)<<4|ce>>2,xe[P++]=(ce&3)<<6|fe&63;return me}function f(h){var k=new Uint8Array(h),b="",A;for(A=0;A<k.length;A+=3)b+=G[k[A]>>2],b+=G[(k[A]&3)<<4|k[A+1]>>4],b+=G[(k[A+1]&15)<<2|k[A+2]>>6],b+=G[k[A+2]&63];return k.length%3===2?b=b.substring(0,b.length-1)+"=":k.length%3===1&&(b=b.substring(0,b.length-2)+"=="),b}function y(h,k){var b="";if(h&&(b=Vt.call(h)),h&&(b==="[object ArrayBuffer]"||h.buffer&&Vt.call(h.buffer)==="[object ArrayBuffer]")){var A,P=_e;h instanceof ArrayBuffer?(A=h,P+=be):(A=h.buffer,b==="[object Int8Array]"?P+=Re:b==="[object Uint8Array]"?P+=De:b==="[object Uint8ClampedArray]"?P+=Te:b==="[object Int16Array]"?P+=Be:b==="[object Uint16Array]"?P+=Xe:b==="[object Int32Array]"?P+=Ue:b==="[object Uint32Array]"?P+=Ke:b==="[object Float32Array]"?P+=Et:b==="[object Float64Array]"?P+=$t:k(new Error("Failed to get type for BinaryArray"))),k(P+f(A))}else if(b==="[object Blob]"){var T=new FileReader;T.onload=function(){var Z=ne+h.type+"~"+f(this.result);k(_e+le+Z)},T.readAsArrayBuffer(h)}else try{k(JSON.stringify(h))}catch(Z){console.error("Couldn't convert value into a JSON string: ",h),k(null,Z)}}function Ee(h){if(h.substring(0,Ce)!==_e)return JSON.parse(h);var k=h.substring(At),b=h.substring(Ce,At),A;if(b===le&&Q.test(k)){var P=k.match(Q);A=P[1],k=k.substring(P[0].length)}var T=F(k);switch(b){case be:return T;case le:return p([T],{type:A});case Re:return new Int8Array(T);case De:return new Uint8Array(T);case Te:return new Uint8ClampedArray(T);case Be:return new Int16Array(T);case Xe:return new Uint16Array(T);case Ue:return new Int32Array(T);case Ke:return new Uint32Array(T);case Et:return new Float32Array(T);case $t:return new Float64Array(T);default:throw new Error("Unkown type: "+b)}}var rt={serialize:y,deserialize:Ee,stringToBuffer:F,bufferToString:f};function uo(h,k,b,A){h.executeSql("CREATE TABLE IF NOT EXISTS "+k.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],b,A)}function pf(h){var k=this,b={db:null};if(h)for(var A in h)b[A]=typeof h[A]!="string"?h[A].toString():h[A];var P=new d(function(T,Z){try{b.db=openDatabase(b.name,String(b.version),b.description,b.size)}catch(ce){return Z(ce)}b.db.transaction(function(ce){uo(ce,b,function(){k._dbInfo=b,T()},function(fe,me){Z(me)})},Z)});return b.serializer=rt,P}function Un(h,k,b,A,P,T){h.executeSql(b,A,P,function(Z,ce){ce.code===ce.SYNTAX_ERR?Z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[k.storeName],function(fe,me){me.rows.length?T(fe,ce):uo(fe,k,function(){fe.executeSql(b,A,P,T)},T)},T):T(Z,ce)},T)}function mf(h,k){var b=this;h=x(h);var A=new d(function(P,T){b.ready().then(function(){var Z=b._dbInfo;Z.db.transaction(function(ce){Un(ce,Z,"SELECT * FROM "+Z.storeName+" WHERE key = ? LIMIT 1",[h],function(fe,me){var xe=me.rows.length?me.rows.item(0).value:null;xe&&(xe=Z.serializer.deserialize(xe)),P(xe)},function(fe,me){T(me)})})}).catch(T)});return m(A,k),A}function hf(h,k){var b=this,A=new d(function(P,T){b.ready().then(function(){var Z=b._dbInfo;Z.db.transaction(function(ce){Un(ce,Z,"SELECT * FROM "+Z.storeName,[],function(fe,me){for(var xe=me.rows,Ie=xe.length,ze=0;ze<Ie;ze++){var tt=xe.item(ze),at=tt.value;if(at&&(at=Z.serializer.deserialize(at)),at=h(at,tt.key,ze+1),at!==void 0){P(at);return}}P()},function(fe,me){T(me)})})}).catch(T)});return m(A,k),A}function Ji(h,k,b,A){var P=this;h=x(h);var T=new d(function(Z,ce){P.ready().then(function(){k===void 0&&(k=null);var fe=k,me=P._dbInfo;me.serializer.serialize(k,function(xe,Ie){Ie?ce(Ie):me.db.transaction(function(ze){Un(ze,me,"INSERT OR REPLACE INTO "+me.storeName+" (key, value) VALUES (?, ?)",[h,xe],function(){Z(fe)},function(tt,at){ce(at)})},function(ze){if(ze.code===ze.QUOTA_ERR){if(A>0){Z(Ji.apply(P,[h,fe,b,A-1]));return}ce(ze)}})})}).catch(ce)});return m(T,b),T}function gf(h,k,b){return Ji.apply(this,[h,k,b,1])}function vf(h,k){var b=this;h=x(h);var A=new d(function(P,T){b.ready().then(function(){var Z=b._dbInfo;Z.db.transaction(function(ce){Un(ce,Z,"DELETE FROM "+Z.storeName+" WHERE key = ?",[h],function(){P()},function(fe,me){T(me)})})}).catch(T)});return m(A,k),A}function bf(h){var k=this,b=new d(function(A,P){k.ready().then(function(){var T=k._dbInfo;T.db.transaction(function(Z){Un(Z,T,"DELETE FROM "+T.storeName,[],function(){A()},function(ce,fe){P(fe)})})}).catch(P)});return m(b,h),b}function wf(h){var k=this,b=new d(function(A,P){k.ready().then(function(){var T=k._dbInfo;T.db.transaction(function(Z){Un(Z,T,"SELECT COUNT(key) as c FROM "+T.storeName,[],function(ce,fe){var me=fe.rows.item(0).c;A(me)},function(ce,fe){P(fe)})})}).catch(P)});return m(b,h),b}function yf(h,k){var b=this,A=new d(function(P,T){b.ready().then(function(){var Z=b._dbInfo;Z.db.transaction(function(ce){Un(ce,Z,"SELECT key FROM "+Z.storeName+" WHERE id = ? LIMIT 1",[h+1],function(fe,me){var xe=me.rows.length?me.rows.item(0).key:null;P(xe)},function(fe,me){T(me)})})}).catch(T)});return m(A,k),A}function Cf(h){var k=this,b=new d(function(A,P){k.ready().then(function(){var T=k._dbInfo;T.db.transaction(function(Z){Un(Z,T,"SELECT key FROM "+T.storeName,[],function(ce,fe){for(var me=[],xe=0;xe<fe.rows.length;xe++)me.push(fe.rows.item(xe).key);A(me)},function(ce,fe){P(fe)})})}).catch(P)});return m(b,h),b}function xf(h){return new d(function(k,b){h.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(P,T){for(var Z=[],ce=0;ce<T.rows.length;ce++)Z.push(T.rows.item(ce).name);k({db:h,storeNames:Z})},function(P,T){b(T)})},function(A){b(A)})})}function _f(h,k){k=w.apply(this,arguments);var b=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||b.name,h.storeName=h.storeName||b.storeName);var A=this,P;return h.name?P=new d(function(T){var Z;h.name===b.name?Z=A._dbInfo.db:Z=openDatabase(h.name,"","",0),h.storeName?T({db:Z,storeNames:[h.storeName]}):T(xf(Z))}).then(function(T){return new d(function(Z,ce){T.db.transaction(function(fe){function me(tt){return new d(function(at,xt){fe.executeSql("DROP TABLE IF EXISTS "+tt,[],function(){at()},function(bt,rn){xt(rn)})})}for(var xe=[],Ie=0,ze=T.storeNames.length;Ie<ze;Ie++)xe.push(me(T.storeNames[Ie]));d.all(xe).then(function(){Z()}).catch(function(tt){ce(tt)})},function(fe){ce(fe)})})}):P=d.reject("Invalid arguments"),m(P,k),P}var kf={_driver:"webSQLStorage",_initStorage:pf,_support:I(),iterate:hf,getItem:mf,setItem:gf,removeItem:vf,clear:bf,length:wf,key:yf,keys:Cf,dropInstance:_f};function Sf(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qi(h,k){var b=h.name+"/";return h.storeName!==k.storeName&&(b+=h.storeName+"/"),b}function $f(){var h="_localforage_support_test";try{return localStorage.setItem(h,!0),localStorage.removeItem(h),!1}catch{return!0}}function Ef(){return!$f()||localStorage.length>0}function Df(h){var k=this,b={};if(h)for(var A in h)b[A]=h[A];return b.keyPrefix=Qi(h,k._defaultConfig),Ef()?(k._dbInfo=b,b.serializer=rt,d.resolve()):d.reject()}function Tf(h){var k=this,b=k.ready().then(function(){for(var A=k._dbInfo.keyPrefix,P=localStorage.length-1;P>=0;P--){var T=localStorage.key(P);T.indexOf(A)===0&&localStorage.removeItem(T)}});return m(b,h),b}function Af(h,k){var b=this;h=x(h);var A=b.ready().then(function(){var P=b._dbInfo,T=localStorage.getItem(P.keyPrefix+h);return T&&(T=P.serializer.deserialize(T)),T});return m(A,k),A}function If(h,k){var b=this,A=b.ready().then(function(){for(var P=b._dbInfo,T=P.keyPrefix,Z=T.length,ce=localStorage.length,fe=1,me=0;me<ce;me++){var xe=localStorage.key(me);if(xe.indexOf(T)===0){var Ie=localStorage.getItem(xe);if(Ie&&(Ie=P.serializer.deserialize(Ie)),Ie=h(Ie,xe.substring(Z),fe++),Ie!==void 0)return Ie}}});return m(A,k),A}function Rf(h,k){var b=this,A=b.ready().then(function(){var P=b._dbInfo,T;try{T=localStorage.key(h)}catch{T=null}return T&&(T=T.substring(P.keyPrefix.length)),T});return m(A,k),A}function Pf(h){var k=this,b=k.ready().then(function(){for(var A=k._dbInfo,P=localStorage.length,T=[],Z=0;Z<P;Z++){var ce=localStorage.key(Z);ce.indexOf(A.keyPrefix)===0&&T.push(ce.substring(A.keyPrefix.length))}return T});return m(b,h),b}function Hf(h){var k=this,b=k.keys().then(function(A){return A.length});return m(b,h),b}function Of(h,k){var b=this;h=x(h);var A=b.ready().then(function(){var P=b._dbInfo;localStorage.removeItem(P.keyPrefix+h)});return m(A,k),A}function Bf(h,k,b){var A=this;h=x(h);var P=A.ready().then(function(){k===void 0&&(k=null);var T=k;return new d(function(Z,ce){var fe=A._dbInfo;fe.serializer.serialize(k,function(me,xe){if(xe)ce(xe);else try{localStorage.setItem(fe.keyPrefix+h,me),Z(T)}catch(Ie){(Ie.name==="QuotaExceededError"||Ie.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ce(Ie),ce(Ie)}})})});return m(P,b),P}function Mf(h,k){if(k=w.apply(this,arguments),h=typeof h!="function"&&h||{},!h.name){var b=this.config();h.name=h.name||b.name,h.storeName=h.storeName||b.storeName}var A=this,P;return h.name?P=new d(function(T){h.storeName?T(Qi(h,A._defaultConfig)):T(h.name+"/")}).then(function(T){for(var Z=localStorage.length-1;Z>=0;Z--){var ce=localStorage.key(Z);ce.indexOf(T)===0&&localStorage.removeItem(ce)}}):P=d.reject("Invalid arguments"),m(P,k),P}var Lf={_driver:"localStorageWrapper",_initStorage:Df,_support:Sf(),iterate:If,getItem:Af,setItem:Bf,removeItem:Of,clear:Tf,length:Hf,key:Rf,keys:Pf,dropInstance:Mf},Nf=function(k,b){return k===b||typeof k=="number"&&typeof b=="number"&&isNaN(k)&&isNaN(b)},Vf=function(k,b){for(var A=k.length,P=0;P<A;){if(Nf(k[P],b))return!0;P++}return!1},Zi=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},os={},el={},Ao={INDEXEDDB:_,WEBSQL:kf,LOCALSTORAGE:Lf},jf=[Ao.INDEXEDDB._driver,Ao.WEBSQL._driver,Ao.LOCALSTORAGE._driver],Js=["dropInstance"],dr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Js),Ff={description:"",driver:jf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Uf(h,k){h[k]=function(){var b=arguments;return h.ready().then(function(){return h[k].apply(h,b)})}}function fr(){for(var h=1;h<arguments.length;h++){var k=arguments[h];if(k)for(var b in k)k.hasOwnProperty(b)&&(Zi(k[b])?arguments[0][b]=k[b].slice():arguments[0][b]=k[b])}return arguments[0]}var zf=function(){function h(k){i(this,h);for(var b in Ao)if(Ao.hasOwnProperty(b)){var A=Ao[b],P=A._driver;this[b]=P,os[P]||this.defineDriver(A)}this._defaultConfig=fr({},Ff),this._config=fr({},this._defaultConfig,k),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return h.prototype.config=function(b){if((typeof b>"u"?"undefined":r(b))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in b){if(A==="storeName"&&(b[A]=b[A].replace(/\W/g,"_")),A==="version"&&typeof b[A]!="number")return new Error("Database version must be a number.");this._config[A]=b[A]}return"driver"in b&&b.driver?this.setDriver(this._config.driver):!0}else return typeof b=="string"?this._config[b]:this._config},h.prototype.defineDriver=function(b,A,P){var T=new d(function(Z,ce){try{var fe=b._driver,me=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!b._driver){ce(me);return}for(var xe=dr.concat("_initStorage"),Ie=0,ze=xe.length;Ie<ze;Ie++){var tt=xe[Ie],at=!Vf(Js,tt);if((at||b[tt])&&typeof b[tt]!="function"){ce(me);return}}var xt=function(){for(var ss=function(Kf){return function(){var Yf=new Error("Method "+Kf+" is not implemented by the current driver"),tl=d.reject(Yf);return m(tl,arguments[arguments.length-1]),tl}},pr=0,Wf=Js.length;pr<Wf;pr++){var mr=Js[pr];b[mr]||(b[mr]=ss(mr))}};xt();var bt=function(ss){os[fe]&&console.info("Redefining LocalForage driver: "+fe),os[fe]=b,el[fe]=ss,Z()};"_support"in b?b._support&&typeof b._support=="function"?b._support().then(bt,ce):bt(!!b._support):bt(!0)}catch(rn){ce(rn)}});return v(T,A,P),T},h.prototype.driver=function(){return this._driver||null},h.prototype.getDriver=function(b,A,P){var T=os[b]?d.resolve(os[b]):d.reject(new Error("Driver not found."));return v(T,A,P),T},h.prototype.getSerializer=function(b){var A=d.resolve(rt);return v(A,b),A},h.prototype.ready=function(b){var A=this,P=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return v(P,b,b),P},h.prototype.setDriver=function(b,A,P){var T=this;Zi(b)||(b=[b]);var Z=this._getSupportedDrivers(b);function ce(){T._config.driver=T.driver()}function fe(Ie){return T._extend(Ie),ce(),T._ready=T._initStorage(T._config),T._ready}function me(Ie){return function(){var ze=0;function tt(){for(;ze<Ie.length;){var at=Ie[ze];return ze++,T._dbInfo=null,T._ready=null,T.getDriver(at).then(fe).catch(tt)}ce();var xt=new Error("No available storage method found.");return T._driverSet=d.reject(xt),T._driverSet}return tt()}}var xe=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=xe.then(function(){var Ie=Z[0];return T._dbInfo=null,T._ready=null,T.getDriver(Ie).then(function(ze){T._driver=ze._driver,ce(),T._wrapLibraryMethodsWithReady(),T._initDriver=me(Z)})}).catch(function(){ce();var Ie=new Error("No available storage method found.");return T._driverSet=d.reject(Ie),T._driverSet}),v(this._driverSet,A,P),this._driverSet},h.prototype.supports=function(b){return!!el[b]},h.prototype._extend=function(b){fr(this,b)},h.prototype._getSupportedDrivers=function(b){for(var A=[],P=0,T=b.length;P<T;P++){var Z=b[P];this.supports(Z)&&A.push(Z)}return A},h.prototype._wrapLibraryMethodsWithReady=function(){for(var b=0,A=dr.length;b<A;b++)Uf(this,dr[b])},h.prototype.createInstance=function(b){return new h(b)},h}(),qf=new zf;o.exports=qf},{3:3}]},{},[4])(4)})}(Ar)),Ar.exports}var Fg=jg();const ma=Vg(Fg);ma.config({name:"DyDCharacterStates",storeName:"character_states",description:"Storage for character states and images"});const js=co("characterState",()=>{const e=he([]),t=he(null),n=he(!1),o=Fs(),a=Qe(()=>e.value.find(x=>x.id===t.value)||null);function r(){const x=yt(),w=x.accountData.activeCharacterId;if(!w)return;const g=x.accountData.characters.findIndex(S=>S.id===w);g!==-1&&(x.accountData.characters[g].characterState=e.value,x.accountData.characters[g].selectedCharacterStateId=t.value,x.saveDataToLocalStorage())}function i(){const x=yt(),w=x.accountData.activeCharacterId;if(!w){e.value=[],t.value=null;return}const g=x.accountData.characters.find(M=>M.id===w);let S=g&&Array.isArray(g.characterState)?g.characterState:[];S=S.map(M=>({...M,title:M.title||M.name||"Sin ttulo"})),e.value=S,t.value=(g==null?void 0:g.selectedCharacterStateId)||(S.length>0?S[0].id:null)}async function l(x,w){n.value=!0;try{const g=ht();if(typeof x=="object"&&x!==null){const S=x;e.value.push({id:ht(),name:S.name,linkedCounterId:S.linkedCounterId||null,discountOnActivate:S.discountOnActivate||0,discountType:S.discountType||"resta",active:!1,image:null})}else if(w instanceof File){const S=new Blob([await w.arrayBuffer()],{type:w.type}),M=`state_${g}`;await ma.setItem(M,S),e.value.push({id:g,name:x,title:x,linkedCounterId:null,discountOnActivate:0,discountType:"resta",active:!1,image:g})}else e.value.push({id:g,name:x,title:x,linkedCounterId:null,discountOnActivate:0,discountType:"resta",active:!1,image:null});!t.value&&e.value.length>0&&(t.value=e.value[0].id),r()}finally{n.value=!1}}function c(x){const w=e.value.find(g=>g.id===x);if(w){if(w.active=!w.active,w.active&&w.linkedCounterId){const g=Math.abs(w.discountOnActivate||1),S=w.discountType==="suma"?g:-g;o.updateCounterValue(w.linkedCounterId,S)}r()}}function u(x){e.value=e.value.filter(w=>w.id!==x),r()}async function p(x){const w=e.value.find(g=>g.id===x);if(w&&w.image)try{const g=`state_${w.image}`;await ma.removeItem(g)}catch(g){console.error("Error deleting state image:",g)}e.value=e.value.filter(g=>g.id!==x),t.value===x&&(t.value=e.value.length>0?e.value[0].id:null),r()}function d(x){t.value=x,r()}function m(){e.value.forEach(x=>{x.active=!1}),r()}async function v(x){try{const w=`state_${x}`;return await ma.getItem(w)}catch(w){return console.error("Error retrieving state image:",w),null}}return{states:e,selectedStateId:t,selectedState:a,isLoading:n,loadData:i,addState:l,removeState:u,deleteState:p,setSelectedState:d,toggleStateActive:c,resetStatesOnRest:m,getStateImage:v}}),Fs=co("counter",()=>{const e=he([]);function t(){const c=yt(),u=c.accountData.activeCharacterId;if(!u)return;const p=c.accountData.characters.findIndex(d=>d.id===u);p!==-1&&(c.accountData.characters[p].counters=e.value,c.saveDataToLocalStorage())}function n(){const c=yt(),u=c.accountData.activeCharacterId;if(!u){e.value=[];return}const p=c.accountData.characters.find(d=>d.id===u);e.value=p&&Array.isArray(p.counters)?p.counters:[]}function o({name:c,initial:u,min:p,max:d,buttons:m,shortRest:v=0,longRest:x=0}){e.value.push({id:ht(),name:c,value:u,min:p,max:d,shortRest:v,shortRestReset:arguments[0].shortRestReset||!1,longRest:x,longRestReset:arguments[0].longRestReset||!1,buttons:m||[{label:"+1",increment:1},{label:"-1",increment:-1}]}),t()}function a(c,u){const p=e.value.find(m=>m.id===c);if(!p)return;let d=p.value+u;p.max!==void 0&&(d=Math.min(d,p.max)),p.min!==void 0&&(d=Math.max(d,p.min)),p.value=d,t()}function r(c){const u=e.value.find(p=>p.id===c);u&&u.max!==void 0&&(u.value=u.max,t())}function i(c){e.value=e.value.filter(u=>u.id!==c),t()}function l(c="short"){e.value.forEach(p=>{const d=c==="short"?"shortRest":"longRest";p[c==="short"?"shortRestReset":"longRestReset"]?p.value=p[d]:typeof p[d]=="number"&&(p.value=Math.min(p.max,p.value+p[d]))}),t(),js().resetStatesOnRest()}return{counters:e,loadData:n,addCounter:o,updateCounterValue:a,setCounterToMax:r,removeCounter:i,regenerateCountersByRest:l}}),Eo=co("character",{state:()=>({character:{name:"",maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},turn:{current:0,isActive:!1},logs:[]}),getters:{hpPercentage:e=>e.character.maxHp===0?0:e.character.currentHp/e.character.maxHp*100,tempHpPercentage:e=>e.character.maxHp===0?0:e.character.tempHp/e.character.maxHp*100,hpBarColor:e=>{const t=e.character.currentHp/e.character.maxHp*100;return t>75?"success":t>50?"warning":t>25?"danger":"dark"},isAlive:e=>e.character.currentHp>0,hasTempHp:e=>e.character.tempHp>0,totalHp:e=>e.character.currentHp+e.character.tempHp,logsByTurn:e=>{const t={};return e.logs.forEach(n=>{t[n.turn]||(t[n.turn]=[]),t[n.turn].push(n)}),t},currentTurnLogs:e=>e.logs.filter(t=>t.turn===e.turn.current)},actions:{addLog(e,t,n=null){const o={id:ht(),timestamp:new Date().toLocaleTimeString(),turn:n!==null?n:this.turn.current,action:e,details:t,hpBefore:this.character.currentHp,hpAfter:this.character.currentHp,tempHpBefore:this.character.tempHp,tempHpAfter:this.character.tempHp};this.logs.unshift(o),this.logs.length>100&&(this.logs.length=100)},configureCharacter(e,t,n=0){this.character.name=e,this.character.maxHp=t,this.character.originalMaxHp=t,this.character.currentHp=t,this.character.tempHp=0,this.character.regeneration=n,this.character.isConfigured=!0,this.addLog("Configuracin",`${e} configurado con ${t} HP mximo${n>0?` y regeneracin de ${n} HP/turno`:""}`,0),this.saveData()},startTurn(){if(this.turn.current++,this.turn.isActive=!0,this.addLog("Inicio de Turno",`Turno ${this.turn.current} iniciado`,this.turn.current),this.character.regeneration>0){const o=this.character.currentHp,a=this.character.maxHp;let r=0;if(this.character.maxHp<this.character.originalMaxHp){const c=this.character.originalMaxHp-this.character.maxHp,u=Math.min(this.character.regeneration,c);u>0&&(this.character.maxHp=Math.min(this.character.originalMaxHp,this.character.maxHp+u),r=this.character.maxHp-a)}this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+this.character.regeneration);const i=this.character.currentHp-o;let l="";r>0&&i>0?l=`+${i} HP (${o}  ${this.character.currentHp}) | HP mximo restaurado: +${r} (${a}  ${this.character.maxHp})`:r>0?l=`HP mximo restaurado: +${r} (${a}  ${this.character.maxHp})`:i>0&&(l=`+${i} HP (${o}  ${this.character.currentHp})`),l&&this.addLog("Regeneracin Automtica",l)}const e=pa();e.loadData();let t=0;const n=[];return e.passiveDamages.forEach(o=>{if(o.duration===0||o.duration>0){let a=0,r=[];if(o.damageRolls.forEach(i=>{const l=Ng(i.numDice,i.diceType,i.bonus);a+=l;const c=oo.find(u=>u.id===i.type);r.push(c?c.name:i.type)}),a>0){t+=a;const i=r.join(", ");n.push({name:o.name,damage:a,details:i})}}}),this.saveData(),t>0?{totalDamage:t,damageDetails:n}:null},applyPassiveDamage(e,t){this.takeDamage(e,!1);const n=t.map(o=>`${o.damage} por ${o.name}`).join("; ");this.addLog("Dao Pasivo",`-${e} HP en total. Desglose: ${n}`)},endTurn(){this.turn.isActive=!1,pa().decrementDurations(),this.addLog("Fin de Turno",`Turno ${this.turn.current} finalizado`,this.turn.current),this.saveData()},heal(e,t=!1){const n=this.character.currentHp;this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+e);const o=this.character.currentHp-n;if(o>0){const a=t?"Regeneracin Automtica":"Curacin";this.addLog(a,`+${o} HP (${n}  ${this.character.currentHp})`)}return n!==this.character.currentHp&&this.saveData(),o},addTempHp(e){const t=this.character.tempHp;this.character.tempHp+=e,this.addLog("Vida Temporal",`+${e} HP temporal (${t}  ${this.character.tempHp})`),this.saveData()},takeDamage(e,t=!1){let n=e;const o=this.character.currentHp,a=this.character.tempHp,r=this.character.maxHp;if(this.character.tempHp>0){const l=Math.min(n,this.character.tempHp);this.character.tempHp-=l,n-=l}n>0&&(this.character.currentHp=Math.max(0,this.character.currentHp-n),t&&(this.character.maxHp=Math.max(1,this.character.maxHp-n)));let i=`-${e} HP${t?" (Necro)":""}`;a>0&&(i+=` | Temp HP: ${a}  ${this.character.tempHp}`),i+=` | HP: ${o}  ${this.character.currentHp}`,t&&r!==this.character.maxHp&&(i+=` | Max HP: ${r}  ${this.character.maxHp}`),this.addLog("Dao Recibido",i),this.saveData()},resetToMaxHp(){const e=this.character.currentHp,t=this.character.tempHp,n=this.character.maxHp;this.character.currentHp=this.character.originalMaxHp,this.character.maxHp=this.character.originalMaxHp,this.character.tempHp=0,this.addLog("Reset HP",`HP restaurado (${e}  ${this.character.originalMaxHp}), Max HP restaurado (${n}  ${this.character.originalMaxHp}), Temp HP eliminado (${t}  0)`),this.saveData()},revive(e=1){if(this.character.currentHp<=0){const t=this.character.currentHp;return this.character.currentHp=Math.min(parseInt(e)||1,this.character.maxHp),this.character.tempHp=0,this.addLog("Revivir",`Personaje revivido (${t}  ${this.character.currentHp} HP)`),this.saveData(),!0}return!1},resetTurn(){const e=this.turn.current;this.turn.current=0,this.turn.isActive=!1,this.addLog("Reset Turno",`Contador de turnos reiniciado (${e}  0)`),this.saveData()},clearLogs(){this.logs=[]},clearAllLogs(){this.logs=[],this.saveData()},saveData(){const e=yt(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);if(n!==-1){const o={character:this.character,turn:this.turn,logs:this.logs};e.accountData.characters[n].characterData=o,e.saveDataToLocalStorage()}},loadData(){const e=yt(),t=e.accountData.activeCharacterId;if(!t){this._clearLocalState();return}const n=e.accountData.characters.find(o=>o.id===t);if(n&&n.characterData){const o=n.characterData;this.character={...this.character,...o.character},this.character.originalMaxHp===void 0&&(this.character.originalMaxHp=this.character.maxHp),this.turn={...this.turn,...o.turn},this.logs=o.logs||[]}else this._clearLocalState()},setActiveCharacter(e){const t=yt();t.accountData.activeCharacterId=e,t.saveDataToLocalStorage(),this.loadAllCharacterData()},loadAllCharacterData(){this.loadData(),Gu().loadData(),pa().loadData(),Fs().loadData(),js().loadData()},_clearLocalState(){this.character={name:"",maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},this.turn={current:0,isActive:!1},this.clearLogs()},clearData(){this._clearLocalState(),this.saveData()}}});/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function Ju(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Ug(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ec(e,t){return e.get(Ju(e,t))}function zg(e,t,n){Ug(e,t),t.set(e,n)}function qg(e,t,n){return e.set(Ju(e,t),n),n}const Wg=100,He={},Kg=()=>{He.previousActiveElement instanceof HTMLElement?(He.previousActiveElement.focus(),He.previousActiveElement=null):document.body&&document.body.focus()},Yg=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,o=window.scrollY;He.restoreFocusTimeout=setTimeout(()=>{Kg(),t()},Wg),window.scrollTo(n,o)}),Qu="swal2-",Xg=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],z=Xg.reduce((e,t)=>(e[t]=Qu+t,e),{}),Gg=["success","warning","info","question","error"],Aa=Gg.reduce((e,t)=>(e[t]=Qu+t,e),{}),Zu="SweetAlert2:",Ii=e=>e.charAt(0).toUpperCase()+e.slice(1),Wt=e=>{console.warn(`${Zu} ${typeof e=="object"?e.join(" "):e}`)},Do=e=>{console.error(`${Zu} ${e}`)},tc=[],Jg=e=>{tc.includes(e)||(tc.push(e),Wt(e))},ed=(e,t=null)=>{Jg(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},ar=e=>typeof e=="function"?e():e,Ri=e=>e&&typeof e.toPromise=="function",Us=e=>Ri(e)?e.toPromise():Promise.resolve(e),Pi=e=>e&&Promise.resolve(e)===e,Kt=()=>document.body.querySelector(`.${z.container}`),zs=e=>{const t=Kt();return t?t.querySelector(e):null},sn=e=>zs(`.${e}`),Ze=()=>sn(z.popup),Zo=()=>sn(z.icon),Qg=()=>sn(z["icon-content"]),td=()=>sn(z.title),Hi=()=>sn(z["html-container"]),nd=()=>sn(z.image),Oi=()=>sn(z["progress-steps"]),rr=()=>sn(z["validation-message"]),Dn=()=>zs(`.${z.actions} .${z.confirm}`),es=()=>zs(`.${z.actions} .${z.cancel}`),To=()=>zs(`.${z.actions} .${z.deny}`),Zg=()=>sn(z["input-label"]),ts=()=>zs(`.${z.loader}`),qs=()=>sn(z.actions),od=()=>sn(z.footer),ir=()=>sn(z["timer-progress-bar"]),Bi=()=>sn(z.close),ev=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Mi=()=>{const e=Ze();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((r,i)=>{const l=parseInt(r.getAttribute("tabindex")||"0"),c=parseInt(i.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),o=e.querySelectorAll(ev),a=Array.from(o).filter(r=>r.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(a))].filter(r=>Jt(r))},Li=()=>Ln(document.body,z.shown)&&!Ln(document.body,z["toast-shown"])&&!Ln(document.body,z["no-backdrop"]),lr=()=>{const e=Ze();return e?Ln(e,z.toast):!1},tv=()=>{const e=Ze();return e?e.hasAttribute("data-loading"):!1},an=(e,t)=>{if(e.textContent="",t){const o=new DOMParser().parseFromString(t,"text/html"),a=o.querySelector("head");a&&Array.from(a.childNodes).forEach(i=>{e.appendChild(i)});const r=o.querySelector("body");r&&Array.from(r.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?e.appendChild(i.cloneNode(!0)):e.appendChild(i)})}},Ln=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let o=0;o<n.length;o++)if(!e.classList.contains(n[o]))return!1;return!0},nv=(e,t)=>{Array.from(e.classList).forEach(n=>{!Object.values(z).includes(n)&&!Object.values(Aa).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&e.classList.remove(n)})},on=(e,t,n)=>{if(nv(e,t),!t.customClass)return;const o=t.customClass[n];if(o){if(typeof o!="string"&&!o.forEach){Wt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof o}"`);return}et(e,o)}},cr=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${z.popup} > .${z[t]}`);case"checkbox":return e.querySelector(`.${z.popup} > .${z.checkbox} input`);case"radio":return e.querySelector(`.${z.popup} > .${z.radio} input:checked`)||e.querySelector(`.${z.popup} > .${z.radio} input:first-child`);case"range":return e.querySelector(`.${z.popup} > .${z.range} input`);default:return e.querySelector(`.${z.popup} > .${z.input}`)}},sd=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},ad=(e,t,n)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(o=>{Array.isArray(e)?e.forEach(a=>{n?a.classList.add(o):a.classList.remove(o)}):n?e.classList.add(o):e.classList.remove(o)}))},et=(e,t)=>{ad(e,t,!0)},fn=(e,t)=>{ad(e,t,!1)},Zn=(e,t)=>{const n=Array.from(e.children);for(let o=0;o<n.length;o++){const a=n[o];if(a instanceof HTMLElement&&Ln(a,t))return a}},Co=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?e.style.setProperty(t,typeof n=="number"?`${n}px`:n):e.style.removeProperty(t)},Dt=(e,t="flex")=>{e&&(e.style.display=t)},Nt=e=>{e&&(e.style.display="none")},Ni=(e,t="block")=>{e&&new MutationObserver(()=>{Ws(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},nc=(e,t,n,o)=>{const a=e.querySelector(t);a&&a.style.setProperty(n,o)},Ws=(e,t,n="flex")=>{t?Dt(e,n):Nt(e)},Jt=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ov=()=>!Jt(Dn())&&!Jt(To())&&!Jt(es()),ai=e=>e.scrollHeight>e.clientHeight,sv=(e,t)=>{let n=e;for(;n&&n!==t;){if(ai(n))return!0;n=n.parentElement}return!1},rd=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},Vi=(e,t=!1)=>{const n=ir();n&&Jt(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},av=()=>{const e=ir();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),o=t/n*100;e.style.width=`${o}%`},rv=()=>typeof window>"u"||typeof document>"u",iv=`
 <div aria-labelledby="${z.title}" aria-describedby="${z["html-container"]}" class="${z.popup}" tabindex="-1">
   <button type="button" class="${z.close}"></button>
   <ul class="${z["progress-steps"]}"></ul>
   <div class="${z.icon}"></div>
   <img class="${z.image}" />
   <h2 class="${z.title}" id="${z.title}"></h2>
   <div class="${z["html-container"]}" id="${z["html-container"]}"></div>
   <input class="${z.input}" id="${z.input}" />
   <input type="file" class="${z.file}" />
   <div class="${z.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${z.select}" id="${z.select}"></select>
   <div class="${z.radio}"></div>
   <label class="${z.checkbox}">
     <input type="checkbox" id="${z.checkbox}" />
     <span class="${z.label}"></span>
   </label>
   <textarea class="${z.textarea}" id="${z.textarea}"></textarea>
   <div class="${z["validation-message"]}" id="${z["validation-message"]}"></div>
   <div class="${z.actions}">
     <div class="${z.loader}"></div>
     <button type="button" class="${z.confirm}"></button>
     <button type="button" class="${z.deny}"></button>
     <button type="button" class="${z.cancel}"></button>
   </div>
   <div class="${z.footer}"></div>
   <div class="${z["timer-progress-bar-container"]}">
     <div class="${z["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),lv=()=>{const e=Kt();return e?(e.remove(),fn([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0):!1},mo=()=>{He.currentInstance.resetValidationMessage()},cv=()=>{const e=Ze(),t=Zn(e,z.input),n=Zn(e,z.file),o=e.querySelector(`.${z.range} input`),a=e.querySelector(`.${z.range} output`),r=Zn(e,z.select),i=e.querySelector(`.${z.checkbox} input`),l=Zn(e,z.textarea);t.oninput=mo,n.onchange=mo,r.onchange=mo,i.onchange=mo,l.oninput=mo,o.oninput=()=>{mo(),a.value=o.value},o.onchange=()=>{mo(),a.value=o.value}},uv=e=>typeof e=="string"?document.querySelector(e):e,dv=e=>{const t=Ze();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},fv=e=>{window.getComputedStyle(e).direction==="rtl"&&et(Kt(),z.rtl)},pv=e=>{const t=lv();if(rv()){Do("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=z.container,t&&et(n,z["no-transition"]),an(n,iv),n.dataset.swal2Theme=e.theme;const o=uv(e.target);o.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),dv(e),fv(o),cv()},ji=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?mv(e,t):e&&an(t,e)},mv=(e,t)=>{e.jquery?hv(t,e):an(t,e.toString())},hv=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},gv=(e,t)=>{const n=qs(),o=ts();!n||!o||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Nt(n):Dt(n),on(n,t,"actions"),vv(n,o,t),an(o,t.loaderHtml||""),on(o,t,"loader"))};function vv(e,t,n){const o=Dn(),a=To(),r=es();!o||!a||!r||(Rr(o,"confirm",n),Rr(a,"deny",n),Rr(r,"cancel",n),bv(o,a,r,n),n.reverseButtons&&(n.toast?(e.insertBefore(r,o),e.insertBefore(a,o)):(e.insertBefore(r,t),e.insertBefore(a,t),e.insertBefore(o,t))))}function bv(e,t,n,o){if(!o.buttonsStyling){fn([e,t,n],z.styled);return}et([e,t,n],z.styled),o.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor),o.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor),o.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor),Ir(e),Ir(t),Ir(n)}function Ir(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Rr(e,t,n){const o=Ii(t);Ws(e,n[`show${o}Button`],"inline-block"),an(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=z[t],on(e,n,`${t}Button`)}const wv=(e,t)=>{const n=Bi();n&&(an(n,t.closeButtonHtml||""),on(n,t,"closeButton"),Ws(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},yv=(e,t)=>{const n=Kt();n&&(Cv(n,t.backdrop),xv(n,t.position),_v(n,t.grow),on(n,t,"container"))};function Cv(e,t){typeof t=="string"?e.style.background=t:t||et([document.documentElement,document.body],z["no-backdrop"])}function xv(e,t){t&&(t in z?et(e,z[t]):(Wt('The "position" parameter is not valid, defaulting to "center"'),et(e,z.center)))}function _v(e,t){t&&et(e,z[`grow-${t}`])}var dt={innerParams:new WeakMap,domCache:new WeakMap};const kv=["input","file","range","select","radio","checkbox","textarea"],Sv=(e,t)=>{const n=Ze();if(!n)return;const o=dt.innerParams.get(e),a=!o||t.input!==o.input;kv.forEach(r=>{const i=Zn(n,z[r]);i&&(Dv(r,t.inputAttributes),i.className=z[r],a&&Nt(i))}),t.input&&(a&&$v(t),Tv(t))},$v=e=>{if(!e.input)return;if(!wt[e.input]){Do(`Unexpected type of input! Expected ${Object.keys(wt).join(" | ")}, got "${e.input}"`);return}const t=id(e.input);if(!t)return;const n=wt[e.input](t,e);Dt(t),e.inputAutoFocus&&setTimeout(()=>{sd(n)})},Ev=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},Dv=(e,t)=>{const n=Ze();if(!n)return;const o=cr(n,e);if(o){Ev(o);for(const a in t)o.setAttribute(a,t[a])}},Tv=e=>{if(!e.input)return;const t=id(e.input);t&&on(t,e,"input")},Fi=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Ks=(e,t,n)=>{if(n.inputLabel){const o=document.createElement("label"),a=z["input-label"];o.setAttribute("for",e.id),o.className=a,typeof n.customClass=="object"&&et(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},id=e=>{const t=Ze();if(t)return Zn(t,z[e]||z.input)},Ia=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Pi(t)||Wt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},wt={};wt.text=wt.email=wt.password=wt.number=wt.tel=wt.url=wt.search=wt.date=wt["datetime-local"]=wt.time=wt.week=wt.month=(e,t)=>(Ia(e,t.inputValue),Ks(e,e,t),Fi(e,t),e.type=t.input,e);wt.file=(e,t)=>(Ks(e,e,t),Fi(e,t),e);wt.range=(e,t)=>{const n=e.querySelector("input"),o=e.querySelector("output");return Ia(n,t.inputValue),n.type=t.input,Ia(o,t.inputValue),Ks(n,e,t),e};wt.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");an(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Ks(e,e,t),e};wt.radio=e=>(e.textContent="",e);wt.checkbox=(e,t)=>{const n=cr(Ze(),"checkbox");n.value="1",n.checked=!!t.inputValue;const o=e.querySelector("span");return an(o,t.inputPlaceholder||t.inputLabel),n};wt.textarea=(e,t)=>{Ia(e,t.inputValue),Fi(e,t),Ks(e,e,t);const n=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(Ze()).width),a=()=>{if(!document.body.contains(e))return;const r=e.offsetWidth+n(e);r>o?Ze().style.width=`${r}px`:Co(Ze(),"width",t.width)};new MutationObserver(a).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Av=(e,t)=>{const n=Hi();n&&(Ni(n),on(n,t,"htmlContainer"),t.html?(ji(t.html,n),Dt(n,"block")):t.text?(n.textContent=t.text,Dt(n,"block")):Nt(n),Sv(e,t))},Iv=(e,t)=>{const n=od();n&&(Ni(n),Ws(n,t.footer,"block"),t.footer&&ji(t.footer,n),on(n,t,"footer"))},Rv=(e,t)=>{const n=dt.innerParams.get(e),o=Zo();if(!o)return;if(n&&t.icon===n.icon){sc(o,t),oc(o,t);return}if(!t.icon&&!t.iconHtml){Nt(o);return}if(t.icon&&Object.keys(Aa).indexOf(t.icon)===-1){Do(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Nt(o);return}Dt(o),sc(o,t),oc(o,t),et(o,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ld)},oc=(e,t)=>{for(const[n,o]of Object.entries(Aa))t.icon!==n&&fn(e,o);et(e,t.icon&&Aa[t.icon]),Ov(e,t),ld(),on(e,t,"icon")},ld=()=>{const e=Ze();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<n.length;o++)n[o].style.backgroundColor=t},Pv=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Hv=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,sc=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,o="";t.iconHtml?o=ac(t.iconHtml):t.icon==="success"?(o=Pv(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?o=Hv:t.icon&&(o=ac({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==o.trim()&&an(e,o)},Ov=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])nc(e,n,"background-color",t.iconColor);nc(e,".swal2-success-ring","border-color",t.iconColor)}},ac=e=>`<div class="${z["icon-content"]}">${e}</div>`,Bv=(e,t)=>{const n=nd();if(n){if(!t.imageUrl){Nt(n);return}Dt(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Co(n,"width",t.imageWidth),Co(n,"height",t.imageHeight),n.className=z.image,on(n,t,"image")}};let Ui=!1,cd=0,ud=0,dd=0,fd=0;const Mv=e=>{e.addEventListener("mousedown",Ra),document.body.addEventListener("mousemove",Pa),e.addEventListener("mouseup",Ha),e.addEventListener("touchstart",Ra),document.body.addEventListener("touchmove",Pa),e.addEventListener("touchend",Ha)},Lv=e=>{e.removeEventListener("mousedown",Ra),document.body.removeEventListener("mousemove",Pa),e.removeEventListener("mouseup",Ha),e.removeEventListener("touchstart",Ra),document.body.removeEventListener("touchmove",Pa),e.removeEventListener("touchend",Ha)},Ra=e=>{const t=Ze();if(e.target===t||Zo().contains(e.target)){Ui=!0;const n=pd(e);cd=n.clientX,ud=n.clientY,dd=parseInt(t.style.insetInlineStart)||0,fd=parseInt(t.style.insetBlockStart)||0,et(t,"swal2-dragging")}},Pa=e=>{const t=Ze();if(Ui){let{clientX:n,clientY:o}=pd(e);t.style.insetInlineStart=`${dd+(n-cd)}px`,t.style.insetBlockStart=`${fd+(o-ud)}px`}},Ha=()=>{const e=Ze();Ui=!1,fn(e,"swal2-dragging")},pd=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},Nv=(e,t)=>{const n=Kt(),o=Ze();if(!(!n||!o)){if(t.toast){Co(n,"width",t.width),o.style.width="100%";const a=ts();a&&o.insertBefore(a,Zo())}else Co(o,"width",t.width);Co(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),Nt(rr()),Vv(o,t),t.draggable&&!t.toast?(et(o,z.draggable),Mv(o)):(fn(o,z.draggable),Lv(o))}},Vv=(e,t)=>{const n=t.showClass||{};e.className=`${z.popup} ${Jt(e)?n.popup:""}`,t.toast?(et([document.documentElement,document.body],z["toast-shown"]),et(e,z.toast)):et(e,z.modal),on(e,t,"popup"),typeof t.customClass=="string"&&et(e,t.customClass),t.icon&&et(e,z[`icon-${t.icon}`])},jv=(e,t)=>{const n=Oi();if(!n)return;const{progressSteps:o,currentProgressStep:a}=t;if(!o||o.length===0||a===void 0){Nt(n);return}Dt(n),n.textContent="",a>=o.length&&Wt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((r,i)=>{const l=Fv(r);if(n.appendChild(l),i===a&&et(l,z["active-progress-step"]),i!==o.length-1){const c=Uv(t);n.appendChild(c)}})},Fv=e=>{const t=document.createElement("li");return et(t,z["progress-step"]),an(t,e),t},Uv=e=>{const t=document.createElement("li");return et(t,z["progress-step-line"]),e.progressStepsDistance&&Co(t,"width",e.progressStepsDistance),t},zv=(e,t)=>{const n=td();n&&(Ni(n),Ws(n,t.title||t.titleText,"block"),t.title&&ji(t.title,n),t.titleText&&(n.innerText=t.titleText),on(n,t,"title"))},md=(e,t)=>{Nv(e,t),yv(e,t),jv(e,t),Rv(e,t),Bv(e,t),zv(e,t),wv(e,t),Av(e,t),gv(e,t),Iv(e,t);const n=Ze();typeof t.didRender=="function"&&n&&t.didRender(n),He.eventEmitter.emit("didRender",n)},qv=()=>Jt(Ze()),hd=()=>{var e;return(e=Dn())===null||e===void 0?void 0:e.click()},Wv=()=>{var e;return(e=To())===null||e===void 0?void 0:e.click()},Kv=()=>{var e;return(e=es())===null||e===void 0?void 0:e.click()},ns=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),gd=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Yv=(e,t,n)=>{gd(e),t.toast||(e.keydownHandler=o=>Gv(t,o,n),e.keydownTarget=t.keydownListenerCapture?window:Ze(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},ri=(e,t)=>{var n;const o=Mi();if(o.length){e=e+t,e===-2&&(e=o.length-1),e===o.length?e=0:e===-1&&(e=o.length-1),o[e].focus();return}(n=Ze())===null||n===void 0||n.focus()},vd=["ArrowRight","ArrowDown"],Xv=["ArrowLeft","ArrowUp"],Gv=(e,t,n)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?Jv(t,e):t.key==="Tab"?Qv(t):[...vd,...Xv].includes(t.key)?Zv(t.key):t.key==="Escape"&&eb(t,e,n)))},Jv=(e,t)=>{if(!ar(t.allowEnterKey))return;const n=cr(Ze(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;hd(),e.preventDefault()}},Qv=e=>{const t=e.target,n=Mi();let o=-1;for(let a=0;a<n.length;a++)if(t===n[a]){o=a;break}e.shiftKey?ri(o,-1):ri(o,1),e.stopPropagation(),e.preventDefault()},Zv=e=>{const t=qs(),n=Dn(),o=To(),a=es();if(!t||!n||!o||!a)return;const r=[n,o,a];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;const i=vd.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<t.children.length;c++){if(l=l[i],!l)return;if(l instanceof HTMLButtonElement&&Jt(l))break}l instanceof HTMLButtonElement&&l.focus()}},eb=(e,t,n)=>{e.preventDefault(),ar(t.allowEscapeKey)&&n(ns.esc)};var Xo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const tb=()=>{const e=Kt();Array.from(document.body.children).forEach(n=>{n.contains(e)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},bd=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},wd=typeof window<"u"&&!!window.GestureEvent,nb=()=>{if(wd&&!Ln(document.body,z.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,et(document.body,z.iosfix),ob()}},ob=()=>{const e=Kt();if(!e)return;let t;e.ontouchstart=n=>{t=sb(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},sb=e=>{const t=e.target,n=Kt(),o=Hi();return!n||!o||ab(e)||rb(e)?!1:t===n||!ai(n)&&t instanceof HTMLElement&&!sv(t,o)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(ai(o)&&o.contains(t))},ab=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",rb=e=>e.touches&&e.touches.length>1,ib=()=>{if(Ln(document.body,z.iosfix)){const e=parseInt(document.body.style.top,10);fn(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},lb=()=>{const e=document.createElement("div");e.className=z["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Fo=null;const cb=e=>{Fo===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Fo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Fo+lb()}px`)},ub=()=>{Fo!==null&&(document.body.style.paddingRight=`${Fo}px`,Fo=null)};function yd(e,t,n,o){lr()?rc(e,o):(Yg(n).then(()=>rc(e,o)),gd(He)),wd?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),Li()&&(ub(),ib(),bd()),db()}function db(){fn([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}function eo(e){e=pb(e);const t=Xo.swalPromiseResolve.get(this),n=fb(this);this.isAwaitingPromise?e.isDismissed||(Ys(this),t(e)):n&&t(e)}const fb=e=>{const t=Ze();if(!t)return!1;const n=dt.innerParams.get(e);if(!n||Ln(t,n.hideClass.popup))return!1;fn(t,n.showClass.popup),et(t,n.hideClass.popup);const o=Kt();return fn(o,n.showClass.backdrop),et(o,n.hideClass.backdrop),mb(e,t,n),!0};function Cd(e){const t=Xo.swalPromiseReject.get(this);Ys(this),t&&t(e)}const Ys=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,dt.innerParams.get(e)||e._destroy())},pb=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),mb=(e,t,n)=>{var o;const a=Kt(),r=rd(t);typeof n.willClose=="function"&&n.willClose(t),(o=He.eventEmitter)===null||o===void 0||o.emit("willClose",t),r?hb(e,t,a,n.returnFocus,n.didClose):yd(e,a,n.returnFocus,n.didClose)},hb=(e,t,n,o,a)=>{He.swalCloseEventFinishedCallback=yd.bind(null,e,n,o,a);const r=function(i){if(i.target===t){var l;(l=He.swalCloseEventFinishedCallback)===null||l===void 0||l.call(He),delete He.swalCloseEventFinishedCallback,t.removeEventListener("animationend",r),t.removeEventListener("transitionend",r)}};t.addEventListener("animationend",r),t.addEventListener("transitionend",r)},rc=(e,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(e.params)(),(n=He.eventEmitter)===null||n===void 0||n.emit("didClose"),e._destroy&&e._destroy()})},Go=e=>{let t=Ze();if(t||new $e,t=Ze(),!t)return;const n=ts();lr()?Nt(Zo()):gb(t,e),Dt(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},gb=(e,t)=>{const n=qs(),o=ts();!n||!o||(!t&&Jt(Dn())&&(t=Dn()),Dt(n),t&&(Nt(t),o.setAttribute("data-button-to-replace",t.className),n.insertBefore(o,t)),et([e,n],z.loading))},vb=(e,t)=>{t.input==="select"||t.input==="radio"?xb(e,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(Ri(t.inputValue)||Pi(t.inputValue))&&(Go(Dn()),_b(e,t))},bb=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return wb(n);case"radio":return yb(n);case"file":return Cb(n);default:return t.inputAutoTrim?n.value.trim():n.value}},wb=e=>e.checked?1:0,yb=e=>e.checked?e.value:null,Cb=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,xb=(e,t)=>{const n=Ze();if(!n)return;const o=a=>{t.input==="select"?kb(n,Oa(a),t):t.input==="radio"&&Sb(n,Oa(a),t)};Ri(t.inputOptions)||Pi(t.inputOptions)?(Go(Dn()),Us(t.inputOptions).then(a=>{e.hideLoading(),o(a)})):typeof t.inputOptions=="object"?o(t.inputOptions):Do(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},_b=(e,t)=>{const n=e.getInput();n&&(Nt(n),Us(t.inputValue).then(o=>{n.value=t.input==="number"?`${parseFloat(o)||0}`:`${o}`,Dt(n),n.focus(),e.hideLoading()}).catch(o=>{Do(`Error in inputValue promise: ${o}`),n.value="",Dt(n),n.focus(),e.hideLoading()}))};function kb(e,t,n){const o=Zn(e,z.select);if(!o)return;const a=(r,i,l)=>{const c=document.createElement("option");c.value=l,an(c,i),c.selected=xd(l,n.inputValue),r.appendChild(c)};t.forEach(r=>{const i=r[0],l=r[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=i,c.disabled=!1,o.appendChild(c),l.forEach(u=>a(c,u[1],u[0]))}else a(o,l,i)}),o.focus()}function Sb(e,t,n){const o=Zn(e,z.radio);if(!o)return;t.forEach(r=>{const i=r[0],l=r[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=z.radio,c.value=i,xd(i,n.inputValue)&&(c.checked=!0);const p=document.createElement("span");an(p,l),p.className=z.label,u.appendChild(c),u.appendChild(p),o.appendChild(u)});const a=o.querySelectorAll("input");a.length&&a[0].focus()}const Oa=e=>{const t=[];return e instanceof Map?e.forEach((n,o)=>{let a=n;typeof a=="object"&&(a=Oa(a)),t.push([o,a])}):Object.keys(e).forEach(n=>{let o=e[n];typeof o=="object"&&(o=Oa(o)),t.push([n,o])}),t},xd=(e,t)=>!!t&&t.toString()===e.toString(),$b=e=>{const t=dt.innerParams.get(e);e.disableButtons(),t.input?_d(e,"confirm"):qi(e,!0)},Eb=e=>{const t=dt.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?_d(e,"deny"):zi(e,!1)},Db=(e,t)=>{e.disableButtons(),t(ns.cancel)},_d=(e,t)=>{const n=dt.innerParams.get(e);if(!n.input){Do(`The "input" parameter is needed to be set when using returnInputValueOn${Ii(t)}`);return}const o=e.getInput(),a=bb(e,n);n.inputValidator?Tb(e,a,t):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||o.validationMessage)):t==="deny"?zi(e,a):qi(e,a)},Tb=(e,t,n)=>{const o=dt.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Us(o.inputValidator(t,o.validationMessage))).then(r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):n==="deny"?zi(e,t):qi(e,t)})},zi=(e,t)=>{const n=dt.innerParams.get(e||void 0);n.showLoaderOnDeny&&Go(To()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Us(n.preDeny(t,n.validationMessage))).then(a=>{a===!1?(e.hideLoading(),Ys(e)):e.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>kd(e||void 0,a))):e.close({isDenied:!0,value:t})},ic=(e,t)=>{e.close({isConfirmed:!0,value:t})},kd=(e,t)=>{e.rejectPromise(t)},qi=(e,t)=>{const n=dt.innerParams.get(e||void 0);n.showLoaderOnConfirm&&Go(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Us(n.preConfirm(t,n.validationMessage))).then(a=>{Jt(rr())||a===!1?(e.hideLoading(),Ys(e)):ic(e,typeof a>"u"?t:a)}).catch(a=>kd(e||void 0,a))):ic(e,t)};function Ba(){const e=dt.innerParams.get(this);if(!e)return;const t=dt.domCache.get(this);Nt(t.loader),lr()?e.icon&&Dt(Zo()):Ab(t),fn([t.popup,t.actions],z.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Ab=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Dt(t[0],"inline-block"):ov()&&Nt(e.actions)};function Sd(){const e=dt.innerParams.get(this),t=dt.domCache.get(this);return t?cr(t.popup,e.input):null}function $d(e,t,n){const o=dt.domCache.get(e);t.forEach(a=>{o[a].disabled=n})}function Ed(e,t){const n=Ze();if(!(!n||!e))if(e.type==="radio"){const o=n.querySelectorAll(`[name="${z.radio}"]`);for(let a=0;a<o.length;a++)o[a].disabled=t}else e.disabled=t}function Dd(){$d(this,["confirmButton","denyButton","cancelButton"],!1)}function Td(){$d(this,["confirmButton","denyButton","cancelButton"],!0)}function Ad(){Ed(this.getInput(),!1)}function Id(){Ed(this.getInput(),!0)}function Rd(e){const t=dt.domCache.get(this),n=dt.innerParams.get(this);an(t.validationMessage,e),t.validationMessage.className=z["validation-message"],n.customClass&&n.customClass.validationMessage&&et(t.validationMessage,n.customClass.validationMessage),Dt(t.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",z["validation-message"]),sd(o),et(o,z.inputerror))}function Pd(){const e=dt.domCache.get(this);e.validationMessage&&Nt(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),fn(t,z.inputerror))}const Uo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Ib=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Rb={allowEnterKey:void 0},Pb=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Hd=e=>Object.prototype.hasOwnProperty.call(Uo,e),Od=e=>Ib.indexOf(e)!==-1,Bd=e=>Rb[e],Hb=e=>{Hd(e)||Wt(`Unknown parameter "${e}"`)},Ob=e=>{Pb.includes(e)&&Wt(`The parameter "${e}" is incompatible with toasts`)},Bb=e=>{const t=Bd(e);t&&ed(e,t)},Md=e=>{e.backdrop===!1&&e.allowOutsideClick&&Wt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Wt(`Invalid theme "${e.theme}"`);for(const t in e)Hb(t),e.toast&&Ob(t),Bb(t)};function Ld(e){const t=Kt(),n=Ze(),o=dt.innerParams.get(this);if(!n||Ln(n,o.hideClass.popup)){Wt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=Mb(e),r=Object.assign({},o,a);Md(r),t.dataset.swal2Theme=r.theme,md(this,r),dt.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Mb=e=>{const t={};return Object.keys(e).forEach(n=>{Od(n)?t[n]=e[n]:Wt(`Invalid parameter to update: ${n}`)}),t};function Nd(){const e=dt.domCache.get(this),t=dt.innerParams.get(this);if(!t){Vd(this);return}e.popup&&He.swalCloseEventFinishedCallback&&(He.swalCloseEventFinishedCallback(),delete He.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),He.eventEmitter.emit("didDestroy"),Lb(this)}const Lb=e=>{Vd(e),delete e.params,delete He.keydownHandler,delete He.keydownTarget,delete He.currentInstance},Vd=e=>{e.isAwaitingPromise?(Pr(dt,e),e.isAwaitingPromise=!0):(Pr(Xo,e),Pr(dt,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Pr=(e,t)=>{for(const n in e)e[n].delete(t)};var Nb=Object.freeze({__proto__:null,_destroy:Nd,close:eo,closeModal:eo,closePopup:eo,closeToast:eo,disableButtons:Td,disableInput:Id,disableLoading:Ba,enableButtons:Dd,enableInput:Ad,getInput:Sd,handleAwaitingPromise:Ys,hideLoading:Ba,rejectPromise:Cd,resetValidationMessage:Pd,showValidationMessage:Rd,update:Ld});const Vb=(e,t,n)=>{e.toast?jb(e,t,n):(Ub(t),zb(t),qb(e,t,n))},jb=(e,t,n)=>{t.popup.onclick=()=>{e&&(Fb(e)||e.timer||e.input)||n(ns.close)}},Fb=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Ma=!1;const Ub=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Ma=!0)}}},zb=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(n){e.popup.onmouseup=()=>{},(n.target===e.popup||n.target instanceof HTMLElement&&e.popup.contains(n.target))&&(Ma=!0)}}},qb=(e,t,n)=>{t.container.onclick=o=>{if(Ma){Ma=!1;return}o.target===t.container&&ar(e.allowOutsideClick)&&n(ns.backdrop)}},Wb=e=>typeof e=="object"&&e.jquery,lc=e=>e instanceof Element||Wb(e),Kb=e=>{const t={};return typeof e[0]=="object"&&!lc(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((n,o)=>{const a=e[o];typeof a=="string"||lc(a)?t[n]=a:a!==void 0&&Do(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof a}`)}),t};function Yb(...e){return new this(...e)}function Xb(e){class t extends this{_main(o,a){return super._main(o,Object.assign({},e,a))}}return t}const Gb=()=>He.timeout&&He.timeout.getTimerLeft(),jd=()=>{if(He.timeout)return av(),He.timeout.stop()},Fd=()=>{if(He.timeout){const e=He.timeout.start();return Vi(e),e}},Jb=()=>{const e=He.timeout;return e&&(e.running?jd():Fd())},Qb=e=>{if(He.timeout){const t=He.timeout.increase(e);return Vi(t,!0),t}},Zb=()=>!!(He.timeout&&He.timeout.isRunning());let cc=!1;const ii={};function e1(e="data-swal-template"){ii[e]=this,cc||(document.body.addEventListener("click",t1),cc=!0)}const t1=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in ii){const o=t.getAttribute(n);if(o){ii[n].fire({template:o});return}}};class n1{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const o=this._getHandlersByEventName(t);o.includes(n)||o.push(n)}once(t,n){const o=(...a)=>{this.removeListener(t,o),n.apply(this,a)};this.on(t,o)}emit(t,...n){this._getHandlersByEventName(t).forEach(o=>{try{o.apply(this,n)}catch(a){console.error(a)}})}removeListener(t,n){const o=this._getHandlersByEventName(t),a=o.indexOf(n);a>-1&&o.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}He.eventEmitter=new n1;const o1=(e,t)=>{He.eventEmitter.on(e,t)},s1=(e,t)=>{He.eventEmitter.once(e,t)},a1=(e,t)=>{if(!e){He.eventEmitter.reset();return}t?He.eventEmitter.removeListener(e,t):He.eventEmitter.removeAllListeners(e)};var r1=Object.freeze({__proto__:null,argsToParams:Kb,bindClickHandler:e1,clickCancel:Kv,clickConfirm:hd,clickDeny:Wv,enableLoading:Go,fire:Yb,getActions:qs,getCancelButton:es,getCloseButton:Bi,getConfirmButton:Dn,getContainer:Kt,getDenyButton:To,getFocusableElements:Mi,getFooter:od,getHtmlContainer:Hi,getIcon:Zo,getIconContent:Qg,getImage:nd,getInputLabel:Zg,getLoader:ts,getPopup:Ze,getProgressSteps:Oi,getTimerLeft:Gb,getTimerProgressBar:ir,getTitle:td,getValidationMessage:rr,increaseTimer:Qb,isDeprecatedParameter:Bd,isLoading:tv,isTimerRunning:Zb,isUpdatableParameter:Od,isValidParameter:Hd,isVisible:qv,mixin:Xb,off:a1,on:o1,once:s1,resumeTimer:Fd,showLoading:Go,stopTimer:jd,toggleTimer:Jb});class i1{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ud=["swal-title","swal-html","swal-footer"],l1=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return g1(n),Object.assign(c1(n),u1(n),d1(n),f1(n),p1(n),m1(n),h1(n,Ud))},c1=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(o=>{So(o,["name","value"]);const a=o.getAttribute("name"),r=o.getAttribute("value");!a||!r||(typeof Uo[a]=="boolean"?t[a]=r!=="false":typeof Uo[a]=="object"?t[a]=JSON.parse(r):t[a]=r)}),t},u1=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(o=>{const a=o.getAttribute("name"),r=o.getAttribute("value");!a||!r||(t[a]=new Function(`return ${r}`)())}),t},d1=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(o=>{So(o,["type","color","aria-label"]);const a=o.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=o.innerHTML,t[`show${Ii(a)}Button`]=!0,o.hasAttribute("color")&&(t[`${a}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=o.getAttribute("aria-label")))}),t},f1=e=>{const t={},n=e.querySelector("swal-image");return n&&(So(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},p1=e=>{const t={},n=e.querySelector("swal-icon");return n&&(So(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},m1=e=>{const t={},n=e.querySelector("swal-input");n&&(So(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(t.inputOptions={},o.forEach(a=>{So(a,["value"]);const r=a.getAttribute("value");if(!r)return;const i=a.innerHTML;t.inputOptions[r]=i})),t},h1=(e,t)=>{const n={};for(const o in t){const a=t[o],r=e.querySelector(a);r&&(So(r,[]),n[a.replace(/^swal-/,"")]=r.innerHTML.trim())}return n},g1=e=>{const t=Ud.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(n=>{const o=n.tagName.toLowerCase();t.includes(o)||Wt(`Unrecognized element <${o}>`)})},So=(e,t)=>{Array.from(e.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Wt([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},zd=10,v1=e=>{const t=Kt(),n=Ze();typeof e.willOpen=="function"&&e.willOpen(n),He.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;y1(t,n,e),setTimeout(()=>{b1(t,n)},zd),Li()&&(w1(t,e.scrollbarPadding,a),tb()),!lr()&&!He.previousActiveElement&&(He.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(n)),He.eventEmitter.emit("didOpen",n),fn(t,z["no-transition"])},La=e=>{const t=Ze();if(e.target!==t)return;const n=Kt();t.removeEventListener("animationend",La),t.removeEventListener("transitionend",La),n.style.overflowY="auto"},b1=(e,t)=>{rd(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",La),t.addEventListener("transitionend",La)):e.style.overflowY="auto"},w1=(e,t,n)=>{nb(),t&&n!=="hidden"&&cb(n),setTimeout(()=>{e.scrollTop=0})},y1=(e,t,n)=>{et(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),Dt(t,"grid"),setTimeout(()=>{et(t,n.showClass.popup),t.style.removeProperty("opacity")},zd)):Dt(t,"grid"),et([document.documentElement,document.body],z.shown),n.heightAuto&&n.backdrop&&!n.toast&&et([document.documentElement,document.body],z["height-auto"])};var uc={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function C1(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=uc.email),e.input==="url"&&(e.inputValidator=uc.url))}function x1(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Wt('Target parameter is not valid, defaulting to "body"'),e.target="body")}function _1(e){C1(e),e.showLoaderOnConfirm&&!e.preConfirm&&Wt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),x1(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),pv(e)}let yn;var oa=new WeakMap;class Ct{constructor(...t){if(zg(this,oa,void 0),typeof window>"u")return;yn=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,qg(oa,this,this._main(yn.params))}_main(t,n={}){if(Md(Object.assign({},n,t)),He.currentInstance){const r=Xo.swalPromiseResolve.get(He.currentInstance),{isAwaitingPromise:i}=He.currentInstance;He.currentInstance._destroy(),i||r({isDismissed:!0}),Li()&&bd()}He.currentInstance=yn;const o=S1(t,n);_1(o),Object.freeze(o),He.timeout&&(He.timeout.stop(),delete He.timeout),clearTimeout(He.restoreFocusTimeout);const a=$1(yn);return md(yn,o),dt.innerParams.set(yn,o),k1(yn,a,o)}then(t){return ec(oa,this).then(t)}finally(t){return ec(oa,this).finally(t)}}const k1=(e,t,n)=>new Promise((o,a)=>{const r=i=>{e.close({isDismissed:!0,dismiss:i})};Xo.swalPromiseResolve.set(e,o),Xo.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>{$b(e)},t.denyButton.onclick=()=>{Eb(e)},t.cancelButton.onclick=()=>{Db(e,r)},t.closeButton.onclick=()=>{r(ns.close)},Vb(n,t,r),Yv(He,n,r),vb(e,n),v1(n),E1(He,n,r),D1(t,n),setTimeout(()=>{t.container.scrollTop=0})}),S1=(e,t)=>{const n=l1(e),o=Object.assign({},Uo,t,n,e);return o.showClass=Object.assign({},Uo.showClass,o.showClass),o.hideClass=Object.assign({},Uo.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},$1=e=>{const t={popup:Ze(),container:Kt(),actions:qs(),confirmButton:Dn(),denyButton:To(),cancelButton:es(),loader:ts(),closeButton:Bi(),validationMessage:rr(),progressSteps:Oi()};return dt.domCache.set(e,t),t},E1=(e,t,n)=>{const o=ir();Nt(o),t.timer&&(e.timeout=new i1(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(Dt(o),on(o,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Vi(t.timer)})))},D1=(e,t)=>{if(!t.toast){if(!ar(t.allowEnterKey)){ed("allowEnterKey"),I1();return}T1(e)||A1(e,t)||ri(-1,1)}},T1=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&Jt(n))return n.focus(),!0;return!1},A1=(e,t)=>t.focusDeny&&Jt(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Jt(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&Jt(e.confirmButton)?(e.confirmButton.focus(),!0):!1,I1=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ct.prototype.disableButtons=Td;Ct.prototype.enableButtons=Dd;Ct.prototype.getInput=Sd;Ct.prototype.disableInput=Id;Ct.prototype.enableInput=Ad;Ct.prototype.hideLoading=Ba;Ct.prototype.disableLoading=Ba;Ct.prototype.showValidationMessage=Rd;Ct.prototype.resetValidationMessage=Pd;Ct.prototype.close=eo;Ct.prototype.closePopup=eo;Ct.prototype.closeModal=eo;Ct.prototype.closeToast=eo;Ct.prototype.rejectPromise=Cd;Ct.prototype.update=Ld;Ct.prototype._destroy=Nd;Object.assign(Ct,r1);Object.keys(Nb).forEach(e=>{Ct[e]=function(...t){return yn&&yn[e]?yn[e](...t):null}});Ct.DismissReason=ns;Ct.version="11.22.4";const $e=Ct;$e.default=$e;typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const R1={class:"character-state-manager"},P1={class:"form-group"},H1={class:"form-group"},O1=["disabled"],B1={class:"state-list"},M1={key:0,class:"empty-list"},L1={key:1,class:"states-grid"},N1=["onClick"],V1=["src","alt"],j1={key:1,class:"state-image state-image-placeholder"},F1={class:"state-title"},U1=["onClick"],z1={__name:"CharacterStateManager",setup(e){const t=js(),{states:n,selectedStateId:o,isLoading:a}=ko(t),r=he(""),i=he(null),l=he({}),c=async()=>{console.log("Cargando imgenes para estados:",n.value);for(const x of n.value){if(console.log(`Procesando estado ${x.id}:`,x),l.value[x.id]){console.log(`URL ya existe para ${x.id}`);continue}if(x.image){console.log(`Buscando imagen en localforage para ${x.id} (image: ${x.image})`);try{const w=await t.getStateImage(x.image);console.log(`Blob recibido para ${x.id}:`,w),w?(l.value[x.id]=URL.createObjectURL(w),console.log(`URL creada para ${x.id}:`,l.value[x.id])):console.log(`No se encontr blob para ${x.id}`)}catch(w){console.error(`Error cargando imagen para ${x.id}:`,w)}}else console.log(`Estado ${x.id} no tiene propiedad image`)}};qt(async()=>{await t.loadData(),await c()}),un(()=>n.value.length,async()=>{await c()});const u=x=>{const w=x.target.files[0];w&&(i.value=w)},p=async()=>{if(!r.value.trim()||!i.value){$e.fire("Error","Por favor, completa todos los campos.","error");return}await t.addState(r.value,i.value),await c(),r.value="",i.value=null,document.getElementById("stateImage").value="",$e.fire("xito!","Nuevo estado aadido correctamente.","success")},d=async x=>{await t.setSelectedState(x)},m=async x=>{(await $e.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(await t.deleteState(x),l.value[x]&&(URL.revokeObjectURL(l.value[x]),delete l.value[x]),$e.fire("Eliminado","El estado ha sido eliminado.","success"))},v=x=>l.value[x]||"";return(x,w)=>($(),E("div",R1,[w[5]||(w[5]=s("h2",{class:"section-title"},"Estados del Personaje",-1)),s("form",{onSubmit:Je(p,["prevent"]),class:"state-form"},[s("div",P1,[w[1]||(w[1]=s("label",{for:"stateTitle",class:"form-label"},"Ttulo del Estado",-1)),oe(s("input",{id:"stateTitle","onUpdate:modelValue":w[0]||(w[0]=g=>r.value=g),type:"text",class:"form-control",placeholder:"Ej: Herido, Furioso...",required:""},null,512),[[ye,r.value]])]),s("div",H1,[w[2]||(w[2]=s("label",{for:"stateImage",class:"form-label"},"Imagen del Estado",-1)),s("input",{id:"stateImage",onChange:u,type:"file",class:"form-control",accept:"image/*",required:""},null,32)]),s("button",{type:"submit",class:"btn btn-primary",disabled:de(a)},K(de(a)?"Guardando...":"Aadir Estado"),9,O1)],32),s("div",B1,[w[4]||(w[4]=s("h3",{class:"list-title"},"Estados Guardados",-1)),de(n).length===0?($(),E("div",M1," No hay estados guardados. ")):($(),E("div",L1,[($(!0),E(Ne,null,We(de(n),g=>($(),E("div",{key:g.id,class:it(["state-card",{selected:g.id===de(o)}]),onClick:S=>d(g.id)},[v(g.id)?($(),E("img",{key:0,src:v(g.id),alt:g.title,class:"state-image"},null,8,V1)):($(),E("div",j1,w[3]||(w[3]=[s("p",null,"Sin imagen",-1)]))),s("p",F1,K(g.title),1),s("button",{onClick:Je(S=>m(g.id),["stop"]),class:"btn-delete"}," Eliminar ",8,U1)],10,N1))),128))]))])]))}},q1=Tt(z1,[["__scopeId","data-v-035ef3ae"]]),W1={class:"character-config-container fade-in"},K1={class:"config-card"},Y1={class:"form-group"},X1={class:"form-group"},G1={class:"form-group"},J1={key:0,class:"existing-data"},Q1={__name:"CharacterConfigView",setup(e){const t=Vs(),n=Eo(),o=he(""),a=he(50),r=he(0),i=he(!1);qt(()=>{n.loadData(),n.character.isConfigured&&(i.value=!0,o.value=n.character.name,a.value=n.character.maxHp,r.value=n.character.regeneration)});const l=()=>{if(!o.value.trim()||a.value<=0){$e.fire({icon:"error",title:"Error",text:"Por favor completa todos los campos correctamente"});return}try{n.configureCharacter(o.value.trim(),a.value,r.value),$e.fire({icon:"success",title:"Configuracin Guardada!",text:`${o.value} est listo para la aventura`,showConfirmButton:!0}).then(()=>{t.push("/character")})}catch{$e.fire({icon:"error",title:"Error",text:"No se pudo guardar la configuracin"})}},c=()=>{t.push("/character")},u=()=>{$e.fire({title:"Ests seguro?",text:"Esto eliminar todos los datos del personaje actual",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(p=>{p.isConfirmed&&(n.clearData(),i.value=!1,o.value="",a.value=50,r.value=0,$e.fire({icon:"success",title:"Datos Eliminados",text:"Puedes crear un nuevo personaje"}))})};return(p,d)=>($(),E("div",W1,[s("div",K1,[d[10]||(d[10]=s("h1",{class:"config-title"},"Configuracin del Personaje",-1)),s("form",{onSubmit:Je(l,["prevent"]),class:"config-form"},[s("div",Y1,[d[3]||(d[3]=s("label",{for:"characterName",class:"form-label"},"Nombre del Personaje",-1)),oe(s("input",{id:"characterName","onUpdate:modelValue":d[0]||(d[0]=m=>o.value=m),type:"text",class:"form-control",placeholder:"Ej: Gandalf, Aragorn...",required:""},null,512),[[ye,o.value]])]),s("div",X1,[d[4]||(d[4]=s("label",{for:"maxHp",class:"form-label"},"Puntos de Vida Mximos",-1)),oe(s("input",{id:"maxHp","onUpdate:modelValue":d[1]||(d[1]=m=>a.value=m),type:"number",class:"form-control",min:"1",max:"999",placeholder:"Ej: 50",required:""},null,512),[[ye,a.value,void 0,{number:!0}]])]),s("div",G1,[d[5]||(d[5]=s("label",{for:"regeneration",class:"form-label"},"Regeneracin Pasiva por Turno",-1)),oe(s("input",{id:"regeneration","onUpdate:modelValue":d[2]||(d[2]=m=>r.value=m),type:"number",class:"form-control",min:"0",max:"50",placeholder:"Ej: 5 (opcional)"},null,512),[[ye,r.value,void 0,{number:!0}]]),d[6]||(d[6]=s("small",{class:"form-text"},"Deja en 0 si no hay regeneracin",-1))]),d[7]||(d[7]=s("button",{type:"submit",class:"btn btn-primary btn-save"}," Guardar Configuracin ",-1))],32),i.value?($(),E("div",J1,[d[8]||(d[8]=s("h3",null,"Datos Existentes",-1)),d[9]||(d[9]=s("p",null,"Ya tienes un personaje configurado. Quieres cargarlo o crear uno nuevo?",-1)),s("div",{class:"btn-group"},[s("button",{onClick:c,class:"btn btn-secondary"}," Cargar Existente "),s("button",{onClick:u,class:"btn btn-danger"}," Crear Nuevo ")])])):Se("",!0),ft(q1)])]))}},Z1=Tt(Q1,[["__scopeId","data-v-6b9c3096"]]),ew={class:"counter-grid"},tw={class:"counter-card-header"},nw={class:"counter-name"},ow=["onClick"],sw=["onClick"],aw={class:"counter-btns"},rw=["onClick"],iw=["onClick"],lw={class:"counter-values"},cw={class:"counter-minmax"},uw={class:"counter-card counter-add-card"},dw={class:"counter-modal"},fw={class:"counter-modal-title"},pw={class:"counter-modal-label"},mw={class:"counter-modal-label"},hw={class:"counter-modal-label"},gw={class:"counter-modal-label"},vw={class:"counter-modal-label"},bw={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},ww={class:"counter-modal-label"},yw={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},Cw={type:"submit",class:"counter-modal-btn"},xw={__name:"CounterManager",setup(e){const t=Fs(),n=Gc(t,"counters"),{addCounter:o,updateCounterValue:a,setCounterToMax:r,removeCounter:i}=t,l=he({name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}),c=he(!1);function u(){o({name:l.value.name,initial:l.value.initial,min:l.value.min,max:l.value.max,shortRest:l.value.shortRest,shortRestReset:l.value.shortRestReset,longRest:l.value.longRest,longRestReset:l.value.longRestReset}),l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1},c.value=!1}const p=he(!1);let d=null;function m(w){p.value=!0,d=w.id,l.value={name:w.name,initial:w.value,min:w.min,max:w.max,shortRest:w.shortRest,shortRestReset:w.shortRestReset||!1,longRest:w.longRest,longRestReset:w.longRestReset||!1},c.value=!0}function v(){const w=n.value.findIndex(g=>g.id===d);w!==-1&&(n.value[w].name=l.value.name,n.value[w].min=l.value.min,n.value[w].max=l.value.max,n.value[w].shortRest=l.value.shortRest,n.value[w].shortRestReset=l.value.shortRestReset,n.value[w].longRest=l.value.longRest,n.value[w].longRestReset=l.value.longRestReset,n.value[w].value=l.value.initial),x()}function x(){c.value=!1,p.value=!1,d=null,l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}}return(w,g)=>($(),E("div",null,[g[23]||(g[23]=s("h2",{class:"text-lg font-bold mb-2 title-conter"},"Contadores",-1)),s("div",ew,[($(!0),E(Ne,null,We(n.value,S=>($(),E("div",{key:S.id,class:"counter-card"},[s("div",tw,[s("span",nw,K(S.name),1),s("div",null,[s("button",{onClick:M=>m(S),class:"counter-edit",title:"Editar contador"},g[10]||(g[10]=[s("span",{"aria-label":"Editar"},"",-1)]),8,ow),s("button",{onClick:M=>de(i)(S.id),class:"counter-remove",title:"Eliminar contador"},g[11]||(g[11]=[s("span",{"aria-label":"Eliminar"},"",-1)]),8,sw)])]),s("div",aw,[($(!0),E(Ne,null,We(S.buttons,M=>($(),E("button",{key:M.label,onClick:B=>de(a)(S.id,M.increment),class:"counter-action-btn"},K(M.label),9,rw))),128)),s("button",{onClick:M=>de(r)(S.id),class:"counter-action-btn counter-max-btn"},"Mx",8,iw)]),s("div",lw,[s("span",null,[g[12]||(g[12]=ue("Valor: ")),s("b",null,K(S.value),1),g[13]||(g[13]=ue()),s("span",cw,"(min: "+K(S.min)+", mx: "+K(S.max)+")",1)])])]))),128)),s("div",uw,[s("button",{onClick:g[0]||(g[0]=S=>c.value=!0),class:"counter-add-btn",title:"Agregar contador"},g[14]||(g[14]=[s("span",{class:"counter-fab-plus"},"",-1),s("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),c.value?($(),E("div",{key:0,class:"counter-modal-overlay",onClick:Je(x,["self"])},[s("div",dw,[s("button",{onClick:x,class:"counter-modal-close"},""),s("form",{onSubmit:g[9]||(g[9]=Je(S=>p.value?v():u(),["prevent"]))},[s("h3",fw,K(p.value?"Editar contador":"Nuevo contador"),1),s("label",pw,[g[15]||(g[15]=ue(" Nombre ")),oe(s("input",{"onUpdate:modelValue":g[1]||(g[1]=S=>l.value.name=S),placeholder:"Ej: Furias",class:"counter-modal-input",required:""},null,512),[[ye,l.value.name]])]),s("label",mw,[g[16]||(g[16]=ue(" Valor inicial ")),oe(s("input",{"onUpdate:modelValue":g[2]||(g[2]=S=>l.value.initial=S),type:"number",placeholder:"Ej: 3",class:"counter-modal-input",required:""},null,512),[[ye,l.value.initial,void 0,{number:!0}]])]),s("label",hw,[g[17]||(g[17]=ue(" Valor mnimo ")),oe(s("input",{"onUpdate:modelValue":g[3]||(g[3]=S=>l.value.min=S),type:"number",placeholder:"Ej: 0",class:"counter-modal-input",required:""},null,512),[[ye,l.value.min,void 0,{number:!0}]])]),s("label",gw,[g[18]||(g[18]=ue(" Valor mximo ")),oe(s("input",{"onUpdate:modelValue":g[4]||(g[4]=S=>l.value.max=S),type:"number",placeholder:"Ej: 5",class:"counter-modal-input",required:""},null,512),[[ye,l.value.max,void 0,{number:!0}]])]),s("label",vw,[g[20]||(g[20]=ue(" Recarga por descanso corto ")),oe(s("input",{"onUpdate:modelValue":g[5]||(g[5]=S=>l.value.shortRest=S),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[ye,l.value.shortRest,void 0,{number:!0}]]),s("label",bw,[oe(s("input",{type:"checkbox","onUpdate:modelValue":g[6]||(g[6]=S=>l.value.shortRestReset=S),style:{"margin-right":"6px"}},null,512),[[ws,l.value.shortRestReset]]),g[19]||(g[19]=ue(" Reset al valor introducido "))])]),s("label",ww,[g[22]||(g[22]=ue(" Recarga por descanso largo ")),oe(s("input",{"onUpdate:modelValue":g[7]||(g[7]=S=>l.value.longRest=S),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[ye,l.value.longRest,void 0,{number:!0}]]),s("label",yw,[oe(s("input",{type:"checkbox","onUpdate:modelValue":g[8]||(g[8]=S=>l.value.longRestReset=S),style:{"margin-right":"6px"}},null,512),[[ws,l.value.longRestReset]]),g[21]||(g[21]=ue(" Reset al valor introducido "))])]),s("button",Cw,K(p.value?"Guardar cambios":"Agregar"),1)],32)])])):Se("",!0)]))}},_w=Tt(xw,[["__scopeId","data-v-ccd9c79f"]]),kw={class:"state-grid"},Sw={class:"state-card-header"},$w={class:"state-name"},Ew=["onClick"],Dw=["onClick"],Tw={key:0,class:"state-link"},Aw=["onClick","disabled","title"],Iw={class:"state-card state-add-card"},Rw={class:"dnd-modal"},Pw={class:"dnd-modal-title"},Hw={class:"dnd-modal-label"},Ow={class:"dnd-modal-label"},Bw=["value"],Mw={class:"dnd-modal-label"},Lw={class:"dnd-modal-label"},Nw={type:"submit",class:"dnd-modal-btn"},Vw={__name:"StateManager",setup(e){const t=Fs(),n=js(),{states:o}=ko(n),{counters:a}=ko(t),{addState:r,removeState:i,toggleStateActive:l}=n,c=he(!1);qt(async()=>{await t.loadData(),await n.loadData()});const u=he({name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"});function p(B){n.toggleStateActive(B.id)}function d(){r({name:u.value.name,linkedCounterId:u.value.linkedCounterId||null,discountOnActivate:u.value.discountOnActivate,discountType:u.value.discountType}),u.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"},c.value=!1}function m(B){if(!B.linkedCounterId)return!0;const L=a.value.find(se=>se.id===B.linkedCounterId);if(!L)return!1;const D=Math.abs(B.discountOnActivate||1);return!(B.discountType==="resta"&&L.value-D<L.min)}function v(B){const L=a.value.find(D=>D.id===B);return L?L.name:"Desconocido"}const x=he(!1);let w=null;function g(B){x.value=!0,w=B.id,u.value={name:B.name,linkedCounterId:B.linkedCounterId||"",discountOnActivate:B.discountOnActivate,discountType:B.discountType||"resta"},c.value=!0}function S(){const B=o.value.findIndex(L=>L.id===w);B!==-1&&(o.value[B].name=u.value.name,o.value[B].linkedCounterId=u.value.linkedCounterId||null,o.value[B].discountOnActivate=u.value.discountOnActivate,o.value[B].discountType=u.value.discountType),M()}function M(){c.value=!1,x.value=!1,w=null,u.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"}}return(B,L)=>($(),E("div",null,[L[16]||(L[16]=s("h2",{class:"title-state"},"Estados",-1)),s("div",kw,[($(!0),E(Ne,null,We(de(o),D=>($(),E("div",{key:D.id,class:it(["state-card","dnd-theme-card",D.active?"active-state":""])},[s("div",Sw,[s("span",$w,K(D.name),1),s("div",null,[s("button",{onClick:se=>g(D),class:"state-edit",title:"Editar estado"},L[6]||(L[6]=[s("span",{"aria-label":"Editar"},"",-1)]),8,Ew),s("button",{onClick:se=>de(i)(D.id),class:"state-remove",title:"Eliminar estado"},L[7]||(L[7]=[s("span",{"aria-label":"Eliminar"},"",-1)]),8,Dw)])]),D.linkedCounterId?($(),E("div",Tw,[s("span",null,[L[8]||(L[8]=ue("Vinculado a: ")),s("b",null,K(v(D.linkedCounterId)),1),ue(" (desc. "+K(D.discountOnActivate)+")",1)])])):Se("",!0),s("button",{onClick:se=>p(D),class:it(["state-activate","dnd-theme-btn",D.active?"active-btn":""]),disabled:!D.active&&D.linkedCounterId&&!m(D),title:!D.active&&D.linkedCounterId&&!m(D)?"No quedan usos en el contador vinculado":""},K(D.active?"Desactivar":"Activar"),11,Aw)],2))),128)),s("div",Iw,[s("button",{onClick:L[0]||(L[0]=D=>c.value=!0),class:"state-add-btn",title:"Agregar estado"},L[9]||(L[9]=[s("span",{class:"state-fab-plus"},"",-1),s("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),c.value?($(),E("div",{key:0,class:"dnd-modal-overlay",onClick:Je(M,["self"])},[s("div",Rw,[s("button",{onClick:M,class:"dnd-modal-close"},""),s("form",{onSubmit:L[5]||(L[5]=Je(D=>x.value?S():d(),["prevent"]))},[s("h3",Pw,K(x.value?"Editar Estado":"Nuevo Estado"),1),s("label",Hw,[L[10]||(L[10]=ue(" Nombre del estado ")),oe(s("input",{"onUpdate:modelValue":L[1]||(L[1]=D=>u.value.name=D),placeholder:"Ej: Furia",class:"dnd-modal-input",required:""},null,512),[[ye,u.value.name]])]),s("label",Ow,[L[12]||(L[12]=ue(" Vincular a contador ")),oe(s("select",{"onUpdate:modelValue":L[2]||(L[2]=D=>u.value.linkedCounterId=D),class:"dnd-modal-input"},[L[11]||(L[11]=s("option",{value:""},"Sin vincular",-1)),($(!0),E(Ne,null,We(de(a),D=>($(),E("option",{key:D.id,value:D.id},K(D.name),9,Bw))),128))],512),[[Ht,u.value.linkedCounterId]])]),s("label",Mw,[L[13]||(L[13]=ue(" Descuento al activar ")),oe(s("input",{"onUpdate:modelValue":L[3]||(L[3]=D=>u.value.discountOnActivate=D),type:"number",placeholder:"Ej: 1",class:"dnd-modal-input"},null,512),[[ye,u.value.discountOnActivate,void 0,{number:!0}]])]),s("label",Lw,[L[15]||(L[15]=ue(" Tipo de descuento ")),oe(s("select",{"onUpdate:modelValue":L[4]||(L[4]=D=>u.value.discountType=D),class:"dnd-modal-input"},L[14]||(L[14]=[s("option",{value:"resta"},"Resta",-1),s("option",{value:"suma"},"Suma",-1)]),512),[[Ht,u.value.discountType]])]),s("button",Nw,K(x.value?"Guardar cambios":"Crear Estado"),1)],32)])])):Se("",!0)]))}},jw=Tt(Vw,[["__scopeId","data-v-18f0ea32"]]);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dc(Object(n),!0).forEach(function(o){Fw(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ha(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ha=function(t){return typeof t}:ha=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function Fw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(){return Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Vn.apply(this,arguments)}function Uw(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,r;for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function zw(e,t){if(e==null)return{};var n=Uw(e,t),o,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var qw="1.15.6";function Nn(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Fn=Nn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Xs=Nn(/Edge/i),fc=Nn(/firefox/i),_s=Nn(/safari/i)&&!Nn(/chrome/i)&&!Nn(/android/i),Wi=Nn(/iP(ad|od|hone)/i),qd=Nn(/chrome/i)&&Nn(/android/i),Wd={capture:!1,passive:!1};function Ye(e,t,n){e.addEventListener(t,n,!Fn&&Wd)}function qe(e,t,n){e.removeEventListener(t,n,!Fn&&Wd)}function Na(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Kd(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function mn(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Na(e,t):Na(e,t))||o&&e===n)return e;if(e===n)break}while(e=Kd(e))}return null}var pc=/\s+/g;function Qt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(pc," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(pc," ")}}function Le(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function zo(e,t){var n="";if(typeof e=="string")n=e;else do{var o=Le(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function Yd(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,r=o.length;if(n)for(;a<r;a++)n(o[a],a);return o}return[]}function Sn(){var e=document.scrollingElement;return e||document.documentElement}function kt(e,t,n,o,a){if(!(!e.getBoundingClientRect&&e!==window)){var r,i,l,c,u,p,d;if(e!==window&&e.parentNode&&e!==Sn()?(r=e.getBoundingClientRect(),i=r.top,l=r.left,c=r.bottom,u=r.right,p=r.height,d=r.width):(i=0,l=0,c=window.innerHeight,u=window.innerWidth,p=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!Fn))do if(a&&a.getBoundingClientRect&&(Le(a,"transform")!=="none"||n&&Le(a,"position")!=="static")){var m=a.getBoundingClientRect();i-=m.top+parseInt(Le(a,"border-top-width")),l-=m.left+parseInt(Le(a,"border-left-width")),c=i+r.height,u=l+r.width;break}while(a=a.parentNode);if(o&&e!==window){var v=zo(a||e),x=v&&v.a,w=v&&v.d;v&&(i/=w,l/=x,d/=x,p/=w,c=i+p,u=l+d)}return{top:i,left:l,bottom:c,right:u,width:d,height:p}}}function mc(e,t,n){for(var o=to(e,!0),a=kt(e)[t];o;){var r=kt(o)[n],i=void 0;if(i=a>=r,!i)return o;if(o===Sn())break;o=to(o,!1)}return!1}function Jo(e,t,n,o){for(var a=0,r=0,i=e.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==Me.ghost&&(o||i[r]!==Me.dragged)&&mn(i[r],n.draggable,e,!1)){if(a===t)return i[r];a++}r++}return null}function Ki(e,t){for(var n=e.lastElementChild;n&&(n===Me.ghost||Le(n,"display")==="none"||t&&!Na(n,t));)n=n.previousElementSibling;return n||null}function ln(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Me.clone&&(!t||Na(e,t))&&n++;return n}function hc(e){var t=0,n=0,o=Sn();if(e)do{var a=zo(e),r=a.a,i=a.d;t+=e.scrollLeft*r,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function Ww(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function to(e,t){if(!e||!e.getBoundingClientRect)return Sn();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=Le(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Sn();if(o||t)return n;o=!0}}while(n=n.parentNode);return Sn()}function Kw(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Hr(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ks;function Xd(e,t){return function(){if(!ks){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),ks=setTimeout(function(){ks=void 0},t)}}}function Yw(){clearTimeout(ks),ks=void 0}function Gd(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Jd(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Qd(e,t,n){var o={};return Array.from(e.children).forEach(function(a){var r,i,l,c;if(!(!mn(a,t.draggable,e,!1)||a.animated||a===n)){var u=kt(a);o.left=Math.min((r=o.left)!==null&&r!==void 0?r:1/0,u.left),o.top=Math.min((i=o.top)!==null&&i!==void 0?i:1/0,u.top),o.right=Math.max((l=o.right)!==null&&l!==void 0?l:-1/0,u.right),o.bottom=Math.max((c=o.bottom)!==null&&c!==void 0?c:-1/0,u.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var Xt="Sortable"+new Date().getTime();function Xw(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(Le(a,"display")==="none"||a===Me.ghost)){e.push({target:a,rect:kt(a)});var r=Tn({},e[e.length-1].rect);if(a.thisAnimationDuration){var i=zo(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Ww(e,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var r=!1,i=0;e.forEach(function(l){var c=0,u=l.target,p=u.fromRect,d=kt(u),m=u.prevFromRect,v=u.prevToRect,x=l.rect,w=zo(u,!0);w&&(d.top-=w.f,d.left-=w.e),u.toRect=d,u.thisAnimationDuration&&Hr(m,d)&&!Hr(p,d)&&(x.top-d.top)/(x.left-d.left)===(p.top-d.top)/(p.left-d.left)&&(c=Jw(x,m,v,a.options)),Hr(d,p)||(u.prevFromRect=p,u.prevToRect=d,c||(c=a.options.animation),a.animate(u,x,d,c)),c&&(r=!0,i=Math.max(i,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(t),r?t=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),e=[]},animate:function(o,a,r,i){if(i){Le(o,"transition",""),Le(o,"transform","");var l=zo(this.el),c=l&&l.a,u=l&&l.d,p=(a.left-r.left)/(c||1),d=(a.top-r.top)/(u||1);o.animatingX=!!p,o.animatingY=!!d,Le(o,"transform","translate3d("+p+"px,"+d+"px,0)"),this.forRepaintDummy=Gw(o),Le(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Le(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Le(o,"transition",""),Le(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function Gw(e){return e.offsetWidth}function Jw(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Po=[],Or={initializeByDefault:!0},Gs={mount:function(t){for(var n in Or)Or.hasOwnProperty(n)&&!(n in t)&&(t[n]=Or[n]);Po.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Po.push(t)},pluginEvent:function(t,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var r=t+"Global";Po.forEach(function(i){n[i.pluginName]&&(n[i.pluginName][r]&&n[i.pluginName][r](Tn({sortable:n},o)),n.options[i.pluginName]&&n[i.pluginName][t]&&n[i.pluginName][t](Tn({sortable:n},o)))})},initializePlugins:function(t,n,o,a){Po.forEach(function(l){var c=l.pluginName;if(!(!t.options[c]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[c]=u,Vn(o,u.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var i=this.modifyOption(t,r,t.options[r]);typeof i<"u"&&(t.options[r]=i)}},getEventProperties:function(t,n){var o={};return Po.forEach(function(a){typeof a.eventProperties=="function"&&Vn(o,a.eventProperties.call(n[a.pluginName],t))}),o},modifyOption:function(t,n,o){var a;return Po.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(a=r.optionListeners[n].call(t[r.pluginName],o))}),a}};function Qw(e){var t=e.sortable,n=e.rootEl,o=e.name,a=e.targetEl,r=e.cloneEl,i=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,p=e.oldDraggableIndex,d=e.newDraggableIndex,m=e.originalEvent,v=e.putSortable,x=e.extraEventProperties;if(t=t||n&&n[Xt],!!t){var w,g=t.options,S="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Fn&&!Xs?w=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(o,!0,!0)),w.to=i||n,w.from=l||n,w.item=a||n,w.clone=r,w.oldIndex=c,w.newIndex=u,w.oldDraggableIndex=p,w.newDraggableIndex=d,w.originalEvent=m,w.pullMode=v?v.lastPutMode:void 0;var M=Tn(Tn({},x),Gs.getEventProperties(o,t));for(var B in M)w[B]=M[B];n&&n.dispatchEvent(w),g[S]&&g[S].call(t,w)}}var Zw=["evt"],Yt=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,r=zw(o,Zw);Gs.pluginEvent.bind(Me)(t,n,Tn({dragEl:ke,parentEl:vt,ghostEl:Ve,rootEl:pt,nextEl:bo,lastDownEl:ga,cloneEl:mt,cloneHidden:Qn,dragStarted:us,putSortable:Rt,activeSortable:Me.active,originalEvent:a,oldIndex:Lo,oldDraggableIndex:Ss,newIndex:en,newDraggableIndex:Gn,hideGhostForTarget:nf,unhideGhostForTarget:of,cloneNowHidden:function(){Qn=!0},cloneNowShown:function(){Qn=!1},dispatchSortableEvent:function(l){Ft({sortable:n,name:l,originalEvent:a})}},r))};function Ft(e){Qw(Tn({putSortable:Rt,cloneEl:mt,targetEl:ke,rootEl:pt,oldIndex:Lo,oldDraggableIndex:Ss,newIndex:en,newDraggableIndex:Gn},e))}var ke,vt,Ve,pt,bo,ga,mt,Qn,Lo,en,Ss,Gn,sa,Rt,Mo=!1,Va=!1,ja=[],ho,pn,Br,Mr,gc,vc,us,Ho,$s,Es=!1,aa=!1,va,Ot,Lr=[],li=!1,Fa=[],ur=typeof document<"u",ra=Wi,bc=Xs||Fn?"cssFloat":"float",ey=ur&&!qd&&!Wi&&"draggable"in document.createElement("div"),Zd=function(){if(ur){if(Fn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),ef=function(t,n){var o=Le(t),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Jo(t,0,n),i=Jo(t,1,n),l=r&&Le(r),c=i&&Le(i),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+kt(r).width,p=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+kt(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var d=l.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===d)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&o[bc]==="none"||i&&o[bc]==="none"&&u+p>a)?"vertical":"horizontal"},ty=function(t,n,o){var a=o?t.left:t.top,r=o?t.right:t.bottom,i=o?t.width:t.height,l=o?n.left:n.top,c=o?n.right:n.bottom,u=o?n.width:n.height;return a===l||r===c||a+i/2===l+u/2},ny=function(t,n){var o;return ja.some(function(a){var r=a[Xt].options.emptyInsertThreshold;if(!(!r||Ki(a))){var i=kt(a),l=t>=i.left-r&&t<=i.right+r,c=n>=i.top-r&&n<=i.bottom+r;if(l&&c)return o=a}}),o},tf=function(t){function n(r,i){return function(l,c,u,p){var d=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(r==null&&(i||d))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return n(r(l,c,u,p),i)(l,c,u,p);var m=(i?l:c).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var o={},a=t.group;(!a||ha(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,t.group=o},nf=function(){!Zd&&Ve&&Le(Ve,"display","none")},of=function(){!Zd&&Ve&&Le(Ve,"display","")};ur&&!qd&&document.addEventListener("click",function(e){if(Va)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Va=!1,!1},!0);var go=function(t){if(ke){t=t.touches?t.touches[0]:t;var n=ny(t.clientX,t.clientY);if(n){var o={};for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Xt]._onDragOver(o)}}},oy=function(t){ke&&ke.parentNode[Xt]._isOutsideThisEl(t.target)};function Me(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Vn({},t),e[Xt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ef(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,l){i.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Me.supportPointer!==!1&&"PointerEvent"in window&&(!_s||Wi),emptyInsertThreshold:5};Gs.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);tf(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:ey,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ye(e,"pointerdown",this._onTapStart):(Ye(e,"mousedown",this._onTapStart),Ye(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ye(e,"dragover",this),Ye(e,"dragenter",this)),ja.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Vn(this,Xw())}Me.prototype={constructor:Me,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ho=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,ke):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,a=this.options,r=a.preventOnFilter,i=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,p=a.filter;if(dy(o),!ke&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&_s&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=mn(c,a.draggable,o,!1),!(c&&c.animated)&&ga!==c)){if(Lo=ln(c),Ss=ln(c,a.draggable),typeof p=="function"){if(p.call(this,t,c,this)){Ft({sortable:n,rootEl:u,name:"filter",targetEl:c,toEl:o,fromEl:o}),Yt("filter",n,{evt:t}),r&&t.preventDefault();return}}else if(p&&(p=p.split(",").some(function(d){if(d=mn(u,d.trim(),o,!1),d)return Ft({sortable:n,rootEl:d,name:"filter",targetEl:c,fromEl:o,toEl:o}),Yt("filter",n,{evt:t}),!0}),p)){r&&t.preventDefault();return}a.handle&&!mn(u,a.handle,o,!1)||this._prepareDragStart(t,l,c)}}},_prepareDragStart:function(t,n,o){var a=this,r=a.el,i=a.options,l=r.ownerDocument,c;if(o&&!ke&&o.parentNode===r){var u=kt(o);if(pt=r,ke=o,vt=ke.parentNode,bo=ke.nextSibling,ga=o,sa=i.group,Me.dragged=ke,ho={target:ke,clientX:(n||t).clientX,clientY:(n||t).clientY},gc=ho.clientX-u.left,vc=ho.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,ke.style["will-change"]="all",c=function(){if(Yt("delayEnded",a,{evt:t}),Me.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!fc&&a.nativeDraggable&&(ke.draggable=!0),a._triggerDragStart(t,n),Ft({sortable:a,name:"choose",originalEvent:t}),Qt(ke,i.chosenClass,!0)},i.ignore.split(",").forEach(function(p){Yd(ke,p.trim(),Nr)}),Ye(l,"dragover",go),Ye(l,"mousemove",go),Ye(l,"touchmove",go),i.supportPointer?(Ye(l,"pointerup",a._onDrop),!this.nativeDraggable&&Ye(l,"pointercancel",a._onDrop)):(Ye(l,"mouseup",a._onDrop),Ye(l,"touchend",a._onDrop),Ye(l,"touchcancel",a._onDrop)),fc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ke.draggable=!0),Yt("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Xs||Fn))){if(Me.eventCanceled){this._onDrop();return}i.supportPointer?(Ye(l,"pointerup",a._disableDelayedDrag),Ye(l,"pointercancel",a._disableDelayedDrag)):(Ye(l,"mouseup",a._disableDelayedDrag),Ye(l,"touchend",a._disableDelayedDrag),Ye(l,"touchcancel",a._disableDelayedDrag)),Ye(l,"mousemove",a._delayedDragTouchMoveHandler),Ye(l,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&Ye(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ke&&Nr(ke),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;qe(t,"mouseup",this._disableDelayedDrag),qe(t,"touchend",this._disableDelayedDrag),qe(t,"touchcancel",this._disableDelayedDrag),qe(t,"pointerup",this._disableDelayedDrag),qe(t,"pointercancel",this._disableDelayedDrag),qe(t,"mousemove",this._delayedDragTouchMoveHandler),qe(t,"touchmove",this._delayedDragTouchMoveHandler),qe(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Ye(document,"pointermove",this._onTouchMove):n?Ye(document,"touchmove",this._onTouchMove):Ye(document,"mousemove",this._onTouchMove):(Ye(ke,"dragend",this),Ye(pt,"dragstart",this._onDragStart));try{document.selection?ba(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Mo=!1,pt&&ke){Yt("dragStarted",this,{evt:n}),this.nativeDraggable&&Ye(document,"dragover",oy);var o=this.options;!t&&Qt(ke,o.dragClass,!1),Qt(ke,o.ghostClass,!0),Me.active=this,t&&this._appendGhost(),Ft({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(pn){this._lastX=pn.clientX,this._lastY=pn.clientY,nf();for(var t=document.elementFromPoint(pn.clientX,pn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(pn.clientX,pn.clientY),t!==n);)n=t;if(ke.parentNode[Xt]._isOutsideThisEl(t),n)do{if(n[Xt]){var o=void 0;if(o=n[Xt]._onDragOver({clientX:pn.clientX,clientY:pn.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=Kd(n));of()}},_onTouchMove:function(t){if(ho){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,r=t.touches?t.touches[0]:t,i=Ve&&zo(Ve,!0),l=Ve&&i&&i.a,c=Ve&&i&&i.d,u=ra&&Ot&&hc(Ot),p=(r.clientX-ho.clientX+a.x)/(l||1)+(u?u[0]-Lr[0]:0)/(l||1),d=(r.clientY-ho.clientY+a.y)/(c||1)+(u?u[1]-Lr[1]:0)/(c||1);if(!Me.active&&!Mo){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(Ve){i?(i.e+=p-(Br||0),i.f+=d-(Mr||0)):i={a:1,b:0,c:0,d:1,e:p,f:d};var m="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Le(Ve,"webkitTransform",m),Le(Ve,"mozTransform",m),Le(Ve,"msTransform",m),Le(Ve,"transform",m),Br=p,Mr=d,pn=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ve){var t=this.options.fallbackOnBody?document.body:pt,n=kt(ke,!0,ra,!0,t),o=this.options;if(ra){for(Ot=t;Le(Ot,"position")==="static"&&Le(Ot,"transform")==="none"&&Ot!==document;)Ot=Ot.parentNode;Ot!==document.body&&Ot!==document.documentElement?(Ot===document&&(Ot=Sn()),n.top+=Ot.scrollTop,n.left+=Ot.scrollLeft):Ot=Sn(),Lr=hc(Ot)}Ve=ke.cloneNode(!0),Qt(Ve,o.ghostClass,!1),Qt(Ve,o.fallbackClass,!0),Qt(Ve,o.dragClass,!0),Le(Ve,"transition",""),Le(Ve,"transform",""),Le(Ve,"box-sizing","border-box"),Le(Ve,"margin",0),Le(Ve,"top",n.top),Le(Ve,"left",n.left),Le(Ve,"width",n.width),Le(Ve,"height",n.height),Le(Ve,"opacity","0.8"),Le(Ve,"position",ra?"absolute":"fixed"),Le(Ve,"zIndex","100000"),Le(Ve,"pointerEvents","none"),Me.ghost=Ve,t.appendChild(Ve),Le(Ve,"transform-origin",gc/parseInt(Ve.style.width)*100+"% "+vc/parseInt(Ve.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,a=t.dataTransfer,r=o.options;if(Yt("dragStart",this,{evt:t}),Me.eventCanceled){this._onDrop();return}Yt("setupClone",this),Me.eventCanceled||(mt=Jd(ke),mt.removeAttribute("id"),mt.draggable=!1,mt.style["will-change"]="",this._hideClone(),Qt(mt,this.options.chosenClass,!1),Me.clone=mt),o.cloneId=ba(function(){Yt("clone",o),!Me.eventCanceled&&(o.options.removeCloneOnHide||pt.insertBefore(mt,ke),o._hideClone(),Ft({sortable:o,name:"clone"}))}),!n&&Qt(ke,r.dragClass,!0),n?(Va=!0,o._loopId=setInterval(o._emulateDragOver,50)):(qe(document,"mouseup",o._onDrop),qe(document,"touchend",o._onDrop),qe(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(o,a,ke)),Ye(document,"drop",o),Le(ke,"transform","translateZ(0)")),Mo=!0,o._dragStartId=ba(o._dragStarted.bind(o,n,t)),Ye(document,"selectstart",o),us=!0,window.getSelection().removeAllRanges(),_s&&Le(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,a,r,i,l=this.options,c=l.group,u=Me.active,p=sa===c,d=l.sort,m=Rt||u,v,x=this,w=!1;if(li)return;function g(ae,Pe){Yt(ae,x,Tn({evt:t,isOwner:p,axis:v?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:d,fromSortable:m,target:o,completed:M,onMove:function(N,J){return ia(pt,n,ke,a,N,kt(N),t,J)},changed:B},Pe))}function S(){g("dragOverAnimationCapture"),x.captureAnimationState(),x!==m&&m.captureAnimationState()}function M(ae){return g("dragOverCompleted",{insertion:ae}),ae&&(p?u._hideClone():u._showClone(x),x!==m&&(Qt(ke,Rt?Rt.options.ghostClass:u.options.ghostClass,!1),Qt(ke,l.ghostClass,!0)),Rt!==x&&x!==Me.active?Rt=x:x===Me.active&&Rt&&(Rt=null),m===x&&(x._ignoreWhileAnimating=o),x.animateAll(function(){g("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(o===ke&&!ke.animated||o===n&&!o.animated)&&(Ho=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(ke.parentNode[Xt]._isOutsideThisEl(t.target),!ae&&go(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),w=!0}function B(){en=ln(ke),Gn=ln(ke,l.draggable),Ft({sortable:x,name:"change",toEl:n,newIndex:en,newDraggableIndex:Gn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=mn(o,l.draggable,n,!0),g("dragOver"),Me.eventCanceled)return w;if(ke.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||x._ignoreWhileAnimating===o)return M(!1);if(Va=!1,u&&!l.disabled&&(p?d||(i=vt!==pt):Rt===this||(this.lastPutMode=sa.checkPull(this,u,ke,t))&&c.checkPut(this,u,ke,t))){if(v=this._getDirection(t,o)==="vertical",a=kt(ke),g("dragOverValid"),Me.eventCanceled)return w;if(i)return vt=pt,S(),this._hideClone(),g("revert"),Me.eventCanceled||(bo?pt.insertBefore(ke,bo):pt.appendChild(ke)),M(!0);var L=Ki(n,l.draggable);if(!L||iy(t,v,this)&&!L.animated){if(L===ke)return M(!1);if(L&&n===t.target&&(o=L),o&&(r=kt(o)),ia(pt,n,ke,a,o,r,t,!!o)!==!1)return S(),L&&L.nextSibling?n.insertBefore(ke,L.nextSibling):n.appendChild(ke),vt=n,B(),M(!0)}else if(L&&ry(t,v,this)){var D=Jo(n,0,l,!0);if(D===ke)return M(!1);if(o=D,r=kt(o),ia(pt,n,ke,a,o,r,t,!1)!==!1)return S(),n.insertBefore(ke,D),vt=n,B(),M(!0)}else if(o.parentNode===n){r=kt(o);var se=0,te,re=ke.parentNode!==n,V=!ty(ke.animated&&ke.toRect||a,o.animated&&o.toRect||r,v),R=v?"top":"left",ee=mc(o,"top","top")||mc(ke,"top","top"),ge=ee?ee.scrollTop:void 0;Ho!==o&&(te=r[R],Es=!1,aa=!V&&l.invertSwap||re),se=ly(t,o,r,v,V?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,aa,Ho===o);var q;if(se!==0){var W=ln(ke);do W-=se,q=vt.children[W];while(q&&(Le(q,"display")==="none"||q===Ve))}if(se===0||q===o)return M(!1);Ho=o,$s=se;var U=o.nextElementSibling,O=!1;O=se===1;var H=ia(pt,n,ke,a,o,r,t,O);if(H!==!1)return(H===1||H===-1)&&(O=H===1),li=!0,setTimeout(ay,30),S(),O&&!U?n.appendChild(ke):o.parentNode.insertBefore(ke,O?U:o),ee&&Gd(ee,0,ge-ee.scrollTop),vt=ke.parentNode,te!==void 0&&!aa&&(va=Math.abs(te-kt(o)[R])),B(),M(!0)}if(n.contains(ke))return M(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){qe(document,"mousemove",this._onTouchMove),qe(document,"touchmove",this._onTouchMove),qe(document,"pointermove",this._onTouchMove),qe(document,"dragover",go),qe(document,"mousemove",go),qe(document,"touchmove",go)},_offUpEvents:function(){var t=this.el.ownerDocument;qe(t,"mouseup",this._onDrop),qe(t,"touchend",this._onDrop),qe(t,"pointerup",this._onDrop),qe(t,"pointercancel",this._onDrop),qe(t,"touchcancel",this._onDrop),qe(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(en=ln(ke),Gn=ln(ke,o.draggable),Yt("drop",this,{evt:t}),vt=ke&&ke.parentNode,en=ln(ke),Gn=ln(ke,o.draggable),Me.eventCanceled){this._nulling();return}Mo=!1,aa=!1,Es=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ci(this.cloneId),ci(this._dragStartId),this.nativeDraggable&&(qe(document,"drop",this),qe(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_s&&Le(document.body,"user-select",""),Le(ke,"transform",""),t&&(us&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),Ve&&Ve.parentNode&&Ve.parentNode.removeChild(Ve),(pt===vt||Rt&&Rt.lastPutMode!=="clone")&&mt&&mt.parentNode&&mt.parentNode.removeChild(mt),ke&&(this.nativeDraggable&&qe(ke,"dragend",this),Nr(ke),ke.style["will-change"]="",us&&!Mo&&Qt(ke,Rt?Rt.options.ghostClass:this.options.ghostClass,!1),Qt(ke,this.options.chosenClass,!1),Ft({sortable:this,name:"unchoose",toEl:vt,newIndex:null,newDraggableIndex:null,originalEvent:t}),pt!==vt?(en>=0&&(Ft({rootEl:vt,name:"add",toEl:vt,fromEl:pt,originalEvent:t}),Ft({sortable:this,name:"remove",toEl:vt,originalEvent:t}),Ft({rootEl:vt,name:"sort",toEl:vt,fromEl:pt,originalEvent:t}),Ft({sortable:this,name:"sort",toEl:vt,originalEvent:t})),Rt&&Rt.save()):en!==Lo&&en>=0&&(Ft({sortable:this,name:"update",toEl:vt,originalEvent:t}),Ft({sortable:this,name:"sort",toEl:vt,originalEvent:t})),Me.active&&((en==null||en===-1)&&(en=Lo,Gn=Ss),Ft({sortable:this,name:"end",toEl:vt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Yt("nulling",this),pt=ke=vt=Ve=bo=mt=ga=Qn=ho=pn=us=en=Gn=Lo=Ss=Ho=$s=Rt=sa=Me.dragged=Me.ghost=Me.clone=Me.active=null,Fa.forEach(function(t){t.checked=!0}),Fa.length=Br=Mr=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ke&&(this._onDragOver(t),sy(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,a=0,r=o.length,i=this.options;a<r;a++)n=o[a],mn(n,i.draggable,this.el,!1)&&t.push(n.getAttribute(i.dataIdAttr)||uy(n));return t},sort:function(t,n){var o={},a=this.el;this.toArray().forEach(function(r,i){var l=a.children[i];mn(l,this.options.draggable,a,!1)&&(o[r]=l)},this),n&&this.captureAnimationState(),t.forEach(function(r){o[r]&&(a.removeChild(o[r]),a.appendChild(o[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return mn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var a=Gs.modifyOption(this,t,n);typeof a<"u"?o[t]=a:o[t]=n,t==="group"&&tf(o)},destroy:function(){Yt("destroy",this);var t=this.el;t[Xt]=null,qe(t,"mousedown",this._onTapStart),qe(t,"touchstart",this._onTapStart),qe(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(qe(t,"dragover",this),qe(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ja.splice(ja.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Qn){if(Yt("hideClone",this),Me.eventCanceled)return;Le(mt,"display","none"),this.options.removeCloneOnHide&&mt.parentNode&&mt.parentNode.removeChild(mt),Qn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Qn){if(Yt("showClone",this),Me.eventCanceled)return;ke.parentNode==pt&&!this.options.group.revertClone?pt.insertBefore(mt,ke):bo?pt.insertBefore(mt,bo):pt.appendChild(mt),this.options.group.revertClone&&this.animate(ke,mt),Le(mt,"display",""),Qn=!1}}};function sy(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ia(e,t,n,o,a,r,i,l){var c,u=e[Xt],p=u.options.onMove,d;return window.CustomEvent&&!Fn&&!Xs?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=o,c.related=a||t,c.relatedRect=r||kt(t),c.willInsertAfter=l,c.originalEvent=i,e.dispatchEvent(c),p&&(d=p.call(u,c,i)),d}function Nr(e){e.draggable=!1}function ay(){li=!1}function ry(e,t,n){var o=kt(Jo(n.el,0,n.options,!0)),a=Qd(n.el,n.options,Ve),r=10;return t?e.clientX<a.left-r||e.clientY<o.top&&e.clientX<o.right:e.clientY<a.top-r||e.clientY<o.bottom&&e.clientX<o.left}function iy(e,t,n){var o=kt(Ki(n.el,n.options.draggable)),a=Qd(n.el,n.options,Ve),r=10;return t?e.clientX>a.right+r||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>a.bottom+r||e.clientX>o.right&&e.clientY>o.top}function ly(e,t,n,o,a,r,i,l){var c=o?e.clientY:e.clientX,u=o?n.height:n.width,p=o?n.top:n.left,d=o?n.bottom:n.right,m=!1;if(!i){if(l&&va<u*a){if(!Es&&($s===1?c>p+u*r/2:c<d-u*r/2)&&(Es=!0),Es)m=!0;else if($s===1?c<p+va:c>d-va)return-$s}else if(c>p+u*(1-a)/2&&c<d-u*(1-a)/2)return cy(t)}return m=m||i,m&&(c<p+u*r/2||c>d-u*r/2)?c>p+u/2?1:-1:0}function cy(e){return ln(ke)<ln(e)?1:-1}function uy(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function dy(e){Fa.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&Fa.push(o)}}function ba(e){return setTimeout(e,0)}function ci(e){return clearTimeout(e)}ur&&Ye(document,"touchmove",function(e){(Me.active||Mo)&&e.cancelable&&e.preventDefault()});Me.utils={on:Ye,off:qe,css:Le,find:Yd,is:function(t,n){return!!mn(t,n,t,!1)},extend:Kw,throttle:Xd,closest:mn,toggleClass:Qt,clone:Jd,index:ln,nextTick:ba,cancelNextTick:ci,detectDirection:ef,getChild:Jo,expando:Xt};Me.get=function(e){return e[Xt]};Me.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(Me.utils=Tn(Tn({},Me.utils),o.utils)),Gs.mount(o)})};Me.create=function(e,t){return new Me(e,t)};Me.version=qw;var _t=[],ds,ui,di=!1,Vr,jr,Ua,fs;function fy(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Ye(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ye(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Ye(document,"touchmove",this._handleFallbackAutoScroll):Ye(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?qe(document,"dragover",this._handleAutoScroll):(qe(document,"pointermove",this._handleFallbackAutoScroll),qe(document,"touchmove",this._handleFallbackAutoScroll),qe(document,"mousemove",this._handleFallbackAutoScroll)),wc(),wa(),Yw()},nulling:function(){Ua=ui=ds=di=fs=Vr=jr=null,_t.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,r=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(r,i);if(Ua=n,o||this.options.forceAutoScrollFallback||Xs||Fn||_s){Fr(n,this.options,l,o);var c=to(l,!0);di&&(!fs||r!==Vr||i!==jr)&&(fs&&wc(),fs=setInterval(function(){var u=to(document.elementFromPoint(r,i),!0);u!==c&&(c=u,wa()),Fr(n,a.options,u,o)},10),Vr=r,jr=i)}else{if(!this.options.bubbleScroll||to(l,!0)===Sn()){wa();return}Fr(n,this.options,to(l,!1),!1)}}},Vn(e,{pluginName:"scroll",initializeByDefault:!0})}function wa(){_t.forEach(function(e){clearInterval(e.pid)}),_t=[]}function wc(){clearInterval(fs)}var Fr=Xd(function(e,t,n,o){if(t.scroll){var a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,l=t.scrollSpeed,c=Sn(),u=!1,p;ui!==n&&(ui=n,wa(),ds=t.scroll,p=t.scrollFn,ds===!0&&(ds=to(n,!0)));var d=0,m=ds;do{var v=m,x=kt(v),w=x.top,g=x.bottom,S=x.left,M=x.right,B=x.width,L=x.height,D=void 0,se=void 0,te=v.scrollWidth,re=v.scrollHeight,V=Le(v),R=v.scrollLeft,ee=v.scrollTop;v===c?(D=B<te&&(V.overflowX==="auto"||V.overflowX==="scroll"||V.overflowX==="visible"),se=L<re&&(V.overflowY==="auto"||V.overflowY==="scroll"||V.overflowY==="visible")):(D=B<te&&(V.overflowX==="auto"||V.overflowX==="scroll"),se=L<re&&(V.overflowY==="auto"||V.overflowY==="scroll"));var ge=D&&(Math.abs(M-a)<=i&&R+B<te)-(Math.abs(S-a)<=i&&!!R),q=se&&(Math.abs(g-r)<=i&&ee+L<re)-(Math.abs(w-r)<=i&&!!ee);if(!_t[d])for(var W=0;W<=d;W++)_t[W]||(_t[W]={});(_t[d].vx!=ge||_t[d].vy!=q||_t[d].el!==v)&&(_t[d].el=v,_t[d].vx=ge,_t[d].vy=q,clearInterval(_t[d].pid),(ge!=0||q!=0)&&(u=!0,_t[d].pid=setInterval((function(){o&&this.layer===0&&Me.active._onTouchMove(Ua);var U=_t[this.layer].vy?_t[this.layer].vy*l:0,O=_t[this.layer].vx?_t[this.layer].vx*l:0;typeof p=="function"&&p.call(Me.dragged.parentNode[Xt],O,U,e,Ua,_t[this.layer].el)!=="continue"||Gd(_t[this.layer].el,O,U)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&m!==c&&(m=to(m,!1)));di=u}},30),sf=function(t){var n=t.originalEvent,o=t.putSortable,a=t.dragEl,r=t.activeSortable,i=t.dispatchSortableEvent,l=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(n){var u=o||r;l();var p=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(p.clientX,p.clientY);c(),u&&!u.el.contains(d)&&(i("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Yi(){}Yi.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Jo(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:sf};Vn(Yi,{pluginName:"revertOnSpill"});function Xi(){}Xi.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:sf};Vn(Xi,{pluginName:"removeOnSpill"});Me.mount(new fy);Me.mount(Xi,Yi);function af(e){if(e<=0)return 0;if(e>=1&&e<=4)return 10;if(e>=5&&e<=10)return 20;if(e>=11&&e<=16)return 30;if(e>=17&&e<=20)return 40;const t=21,n=50;if(e>=t){const o=Math.floor((e-t)/4);return n+o*10}return 0}function rf(e){const[t,n]=e.toLowerCase().split("d").map(Number),o=[];for(let a=0;a<t;a++)o.push(Math.floor(Math.random()*n)+1);return o}function za(e){const t={};let n=0,o=0;e.damageRolls.forEach(a=>{let{dice:r,min:i=1,bonus:l=0,type:c,lifeSteal:u={percentage:0}}=a;i=Number(i)||1,l=Number(l)||0;const p=Number(u.percentage)||0,d=`d${r.split("d")[1]}`,v=rf(r).map(g=>({value:Math.max(g,i),diceType:d,originalValue:g,isReplaced:!1})),w=v.reduce((g,S)=>g+S.value,0)+l;if(n+=w,t[c]||(t[c]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),t[c].rolls.push(...v),t[c].bonus+=l,t[c].total+=w,p>0){const g=Math.floor(w*(p/100));o+=g,t[c].lifeSteal.healed+=g,t[c].lifeSteal.percentages.push(p)}});for(const a in t)if(t[a].lifeSteal.healed===0)t[a].lifeSteal=null;else{const r=[...new Set(t[a].lifeSteal.percentages)];t[a].lifeSteal.percentage_display=r.join("% / ")+"%",delete t[a].lifeSteal.percentages}return{name:e.name,results:t,grandTotal:n,totalHealed:o}}function lf(e,t){const{rule:n,characterLevel:o}=t;if(n==="default"){const a=JSON.parse(JSON.stringify(e));return a.name=`${e.name} (Crtico)`,a.damageRolls.forEach(r=>{const[i,l]=r.dice.split("d");r.dice=`${Number(i)*2}d${l}`}),za(a)}if(n==="dad"){const a={};let r=0,i=0;const l=af(o);if(e.damageRolls.forEach(c=>{let{dice:u,min:p=1,bonus:d=0,type:m,lifeSteal:v={percentage:0}}=c;const[x,w]=u.split("d").map(Number);p=Number(p)||1,d=Number(d)||0;const g=Number(v.percentage)||0;let S=0;const M=[];for(let L=0;L<x;L++){const D=Math.max(Math.floor(Math.random()*w)+1,p),se=w;S+=se+D,M.push({value:se,originalValue:`${w} (Mx)`}),M.push({value:D,originalValue:`${D} (Aleatorio)`})}const B=S+d;if(r+=B,a[m]||(a[m]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),a[m].rolls.push(...M),a[m].bonus+=d,a[m].total+=B,g>0){const L=Math.floor(B*(g/100));i+=L,a[m].lifeSteal.healed+=L,a[m].lifeSteal.percentages.push(g)}}),l>0){const c="force";a[c]?(a[c].total+=l,a[c].rolls.push({value:l,originalValue:l})):a[c]={rolls:[{value:l,originalValue:l}],bonus:0,total:l,lifeSteal:{healed:0,percentages:[]}},r+=l}for(const c in a)if(a[c].lifeSteal.healed===0)a[c].lifeSteal=null;else{const u=[...new Set(a[c].lifeSteal.percentages)];a[c].lifeSteal.percentage_display=u.join("% / ")+"%",delete a[c].lifeSteal.percentages}return{name:`${e.name} (Crtico DAD)`,results:a,grandTotal:r,totalHealed:i}}return za(e)}function qa(e){const t={};if(!e)return t;e.forEach(n=>{const o=`d${n.dice.split("d")[1]}`,a=Number(n.min)||1,i=rf(n.dice).map(l=>Math.max(l,a));t[o]||(t[o]=[]),t[o].push(...i)});for(const n in t)t[n].sort((o,a)=>a-o);return t}function cf(e,t){const n=JSON.parse(JSON.stringify(e));for(const r in t){const i=t[r];let l=[];for(const u in n.results)n.results[u].rolls.forEach((p,d)=>{p.diceType===r&&!p.isReplaced&&l.push({roll:p,damageType:u,index:d})});l.sort((u,p)=>u.roll.value-p.roll.value);const c=Math.min(l.length,i.length);for(let u=0;u<c;u++){const p=l[u],d=i[u];d>p.roll.value&&(p.roll.originalValue=p.roll.value,p.roll.value=d,p.roll.isReplaced=!0)}}let o=0,a=0;for(const r in n.results){const i=n.results[r],l=i.rolls.reduce((c,u)=>c+u.value,0);if(i.total=l+i.bonus,o+=i.total,i.lifeSteal){const c=i.lifeSteal.percentage_display,u=parseFloat(c);if(!isNaN(u)){const p=Math.floor(i.total*(u/100));i.lifeSteal.healed=p,a+=p}}}return n.grandTotal=o,n.totalHealed=a,n}const py={class:"attack-manager-container"},my={class:"header"},hy={class:"header-actions"},gy={class:"content"},vy={class:"attacks-list"},by={key:0,class:"no-attacks"},wy=["data-id"],yy={class:"header-attack"},Cy={class:"attack-info"},xy={class:"attack-name"},_y={class:"attack-summary"},ky={class:"attack-actions"},Sy={class:"attack-count-control"},$y=["onUpdate:modelValue","onInput","onBlur"],Ey=["onClick"],Dy=["onClick"],Ty=["onClick"],Ay=["onClick"],Iy=["onClick"],Ry={class:"new-attack-area"},Py={class:"attack-form"},Hy={class:"attack-form-header"},Oy={class:"attack-form-content"},By={class:"form-group"},My={class:"damage-rolls-section"},Ly={class:"damage-roll-header"},Ny={class:"damage-roll-title"},Vy=["onClick","disabled"],jy={class:"damage-roll-inputs"},Fy={class:"form-group-inline"},Uy=["for"],zy=["id","onUpdate:modelValue"],qy={class:"form-group-inline"},Wy=["for"],Ky=["id","onUpdate:modelValue"],Yy={class:"form-group-inline"},Xy=["for"],Gy=["id","onUpdate:modelValue"],Jy=["value"],Qy={class:"form-group-inline"},Zy=["for"],e0=["id","onUpdate:modelValue"],t0={class:"form-group-inline"},n0=["for"],o0=["id","onUpdate:modelValue"],s0={class:"form-group-inline"},a0=["for"],r0=["id","onUpdate:modelValue"],i0={class:"damage-rolls-section"},l0={key:0,class:"empty-state"},c0={class:"damage-roll-header"},u0={class:"damage-roll-title"},d0=["onClick"],f0={class:"damage-roll-inputs reroll-inputs"},p0={class:"form-group-inline"},m0=["for"],h0=["id","onUpdate:modelValue"],g0={class:"form-group-inline"},v0=["for"],b0=["id","onUpdate:modelValue"],w0={class:"form-group-inline"},y0=["for"],C0=["id","onUpdate:modelValue"],x0={class:"form-actions"},_0={class:"attack-form settings-form"},k0={class:"attack-form-content"},S0={class:"form-group"},$0={key:0,class:"form-group"},E0={key:0,class:"dad-bonus-display"},D0={__name:"AttackManager",emits:["close"],setup(e,{emit:t}){const n=Gu(),o=Eo(),{criticalHit:a}=ko(n),r=he(!1),i=he(!1),l=he(!1),c=nn({rule:"default",characterLevel:1}),u=Qe(()=>c.rule!=="dad"?0:af(c.characterLevel)),p=nn({id:null,name:"",damageRolls:[],rerollDice:[]});qt(()=>{document.body.style.overflow="hidden",n.loadData(),$o(()=>{const W=document.querySelector(".attacks-list");W&&new Me(W,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:H=>{const ae=Array.from(H.target.children).map(Pe=>Pe.dataset.id).filter(Pe=>Pe);n.updateAttackOrder(ae)}});const U=document.querySelector(".attack-manager-overlay"),O=document.querySelector(".content");if(U&&O){const H=ae=>{ae.target.closest(".attack-form-overlay")||(ae.preventDefault(),O.scrollTop+=ae.deltaY)};U.addEventListener("wheel",H,{passive:!1}),U._wheelHandler=H}})}),lo(()=>{document.body.style.overflow="";const W=document.querySelector(".attack-manager-overlay");W&&W._wheelHandler&&W.removeEventListener("wheel",W._wheelHandler)});const d=W=>{if(!W||!W.includes("d"))return{numDice:1,diceType:6};const[U,O]=W.split("d");return{numDice:Number(U)||1,diceType:Number(O)||6}},m=W=>{const U=JSON.parse(JSON.stringify(W));U.damageRolls.forEach(O=>{const{numDice:H,diceType:ae}=d(O.dice);O.numDice=H,O.diceType=ae,O.lifeSteal||(O.lifeSteal={percentage:0})}),U.rerollDice?U.rerollDice.forEach(O=>{const{numDice:H,diceType:ae}=d(O.dice);O.numDice=H,O.diceType=ae}):U.rerollDice=[],p.id=U.id,p.name=U.name,p.damageRolls.splice(0,p.damageRolls.length,...U.damageRolls),p.rerollDice.splice(0,p.rerollDice.length,...U.rerollDice),r.value=!0},v=()=>{c.rule=n.criticalHit.rule,c.characterLevel=n.criticalHit.characterLevel,l.value=!0},x=()=>{l.value=!1},w=()=>{n.updateCriticalHitConfig({rule:c.rule,characterLevel:c.characterLevel}),x(),$e.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},g=()=>{i.value=!1,m({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},S=W=>{i.value=!0,m(W)},M=W=>{n.duplicateAttack(W.id)},B=()=>{r.value=!1},L=()=>{p.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},D=W=>{p.damageRolls.splice(W,1)},se=()=>{p.rerollDice||(p.rerollDice=[]),p.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},te=W=>{p.rerollDice.splice(W,1)},re=()=>{if(!p.name){$e.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const W=JSON.parse(JSON.stringify(p));W.damageRolls.forEach(U=>{U.dice=`${U.numDice||1}d${U.diceType||6}`,delete U.numDice,delete U.diceType}),W.rerollDice&&W.rerollDice.forEach(U=>{U.dice=`${U.numDice||1}d${U.diceType||6}`,delete U.numDice,delete U.diceType}),i.value?n.updateAttack(W):n.addAttack(W),B()},V=W=>{$e.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(U=>{U.isConfirmed&&(n.deleteAttack(W),$e.fire("Eliminado","El ataque ha sido eliminado.","success"))})},R=nn({}),ee=W=>{const U=R[W];return U==null||U===""||U<1?(R[W]=1,1):U},ge=(W,U=!1)=>{const O=R[W];U?(O===""||O===void 0||O===null||O<1)&&(R[W]=1):O!==""&&O!==void 0&&O!==null&&O<1&&(R[W]=1)},q=(W,U=!1)=>{const O=ee(W.id),H=[];for(let j=0;j<O;j++){let ie;U?ie=lf(W,n.criticalHit):ie=za(W),H.push(ie)}const ae=j=>{const ie={results:{},grandTotal:0,totalHealed:0};return j.forEach(ve=>{ie.grandTotal+=ve.grandTotal,ie.totalHealed+=ve.totalHealed;for(const we in ve.results)ie.results[we]||(ie.results[we]={total:0}),ie.results[we].total+=ve.results[we].total}),ie},Pe=ae(H),Y=j=>j.map(ie=>`<span class="roll-value ${ie.isReplaced?"replaced":""}">${ie.value}</span>`).join(", "),N=j=>{if(!j)return"";let ie='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const ve in j)ie+=`<div class="reroll-type"><strong>${ve}:</strong> [${j[ve].join(", ")}]</div>`;return ie+="</div>",ie},J=(j,ie,ve=null)=>{let we='<div class="attack-result-modal">';if(j.length>1){we+=`<h3 class="dnd-title-modern">RESUMEN TOTAL (${j.length} ataques)</h3>`,we+='<div class="summary-grid">';for(const Fe in ie.results){const C=si(Fe),_=oo.find(I=>I.id===Fe)||{name:Fe};we+=`
          <div class="summary-item" style="border-left-color: ${C};">
            <span class="summary-type" style="color: ${C}">${_.name}</span>
            <span class="summary-value">${ie.results[Fe].total}</span>
          </div>
        `}we+="</div>",we+=`<div class="grand-total-modern">Total Acumulado: ${ie.grandTotal}</div>`,ie.totalHealed>0&&(we+=`<div class="total-healed-modern">Curacin Acumulada: ${ie.totalHealed}</div>`),we+='<hr class="divider-modern">'}return j.forEach((Fe,C)=>{we+=`<h4 class="attack-title-modern">ATAQUE #${C+1}: ${Fe.name}</h4>`;for(const _ in Fe.results){const I=Fe.results[_],G=si(_),Q=(oo.find(_e=>_e.id===_)||{name:_}).name.toUpperCase();we+=`
          <div class="damage-type-block-modern" style="border-left-color: ${G};">
            <div class="damage-header">
              <span class="damage-type-modern" style="color: ${G};">${Q}</span>
              <span class="damage-total-modern">${I.total}</span>
            </div>
            <div class="damage-details">
              <span><strong>Tiradas:</strong> [${Y(I.rolls)}]</span>
              <span><strong>Bonus:</strong> ${I.bonus>0?"+":""}${I.bonus}</span>
            </div>
        `,I.lifeSteal&&(we+=`
            <div class="lifesteal-details">
              <i class="bi bi-heart-fill"></i>
              <span><strong>Curado:</strong> ${I.lifeSteal.healed} (${I.lifeSteal.percentage_display})</span>
            </div>
          `),we+="</div>"}we+=`<div class="attack-foot-total">Dao Ataque: ${Fe.grandTotal}</div>`,C<j.length-1&&(we+='<hr class="sub-divider">')}),we+=N(ve),j.length===1&&(we+=`<div class="grand-total-modern">Dao Total: ${ie.grandTotal}</div>`,ie.totalHealed>0&&(we+=`<div class="total-healed-modern">Curacin Total: ${ie.totalHealed}</div>`)),we+="</div>",we},X="dnd-modern-modal-styles",pe=`
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Teko:wght@700&display=swap');
        .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .dnd-modern-swal-container { padding: 0 !important; max-height: 85vh; overflow-y: auto !important; }
        .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.2rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; margin-top: 0; }
        .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
        .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 10px; padding: 12px; border-radius: 4px; }
        .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.3rem; }
        .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.2rem; color: #ff4d4d; }
        .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 15px; padding: 8px; border-radius: 5px; }
        .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
        .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; margin-bottom: 20px; }
        .summary-item { background: #181818; padding: 10px; border-radius: 6px; border-left: 3px solid; display: flex; flex-direction: column; align-items: center; }
        .summary-type { font-family: 'Teko', sans-serif; font-size: 1.1rem; text-transform: uppercase; }
        .summary-value { font-family: 'Teko', sans-serif; font-size: 1.8rem; }
        .divider-modern { border: 0; border-top: 2px solid #444; margin: 25px 0; }
        .sub-divider { border: 0; border-top: 1px dashed #555; margin: 15px 0; }
        .attack-title-modern { font-family: 'Teko', sans-serif; font-size: 1.6rem; color: #aaa; margin-bottom: 15px; }
        .attack-foot-total { text-align: right; font-family: 'Teko', sans-serif; font-size: 1.3rem; color: #888; }
  `,Ae=`
    .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
    .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
    .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
    .reroll-type { margin-bottom: 5px; padding-left: 10px; }
    .swal2-actions { gap: 15px !important; }
    .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
    .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`;let st=null;$e.fire({width:H.length>1?800:500,html:J(H,Pe),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:!U&&W.rerollDice&&W.rerollDice.length>0&&H.length===1,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{if(document.getElementById(X))return;const j=document.createElement("style");j.id=X,j.innerHTML=pe+Ae,document.head.appendChild(j)},didClose:()=>{Pe.totalHealed>0&&o.heal(Pe.totalHealed),o.addLog(`Ataque: ${W.name} (x${H.length})`,`Dao total: ${Pe.grandTotal}. Curacin: ${Pe.totalHealed}.`)},preDeny:()=>(st=qa(W.rerollDice),$e.update({html:J(H,Pe,st),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const j=document.getElementById("swal-replace-btn");j&&(j.onclick=()=>{st||(st=qa(W.rerollDice)),H[0]=cf(H[0],st);const ie=ae(H);$e.update({html:J(H,ie,st),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1)})};return(W,U)=>($(),E("div",{class:"attack-manager-overlay",onClick:U[6]||(U[6]=Je(O=>W.$emit("close"),["self"]))},[s("div",py,[s("div",my,[U[8]||(U[8]=s("h2",null,[s("i",{class:"bi bi-hammer"}),ue(" Gestor de Ataques")],-1)),s("div",hy,[s("button",{onClick:v,class:"settings-btn"},U[7]||(U[7]=[s("i",{class:"bi bi-gear-fill"},null,-1)])),s("button",{onClick:U[0]||(U[0]=O=>W.$emit("close")),class:"close-btn"},"")])]),s("div",gy,[s("div",vy,[de(n).attacks.length===0?($(),E("div",by," No hay ataques guardados. Crea uno nuevo! ")):Se("",!0),($(!0),E(Ne,null,We(de(n).attacks,O=>($(),E("div",{key:O.id,class:"attack-item","data-id":O.id},[s("div",yy,[U[9]||(U[9]=s("div",{class:"drag-handle"},[s("i",{class:"bi bi-grip-vertical"})],-1)),s("div",Cy,[s("span",xy,K(O.name),1),s("div",_y,[($(!0),E(Ne,null,We(O.damageRolls,(H,ae)=>($(),E("span",{key:ae,class:"damage-tag"},K(H.dice)+" "+K(H.type),1))),128))])])]),s("div",ky,[s("div",Sy,[U[10]||(U[10]=s("label",null,"Ataques:",-1)),oe(s("input",{type:"number","onUpdate:modelValue":H=>R[O.id]=H,min:"1",max:"10",class:"attack-count-input",onClick:U[1]||(U[1]=Je(()=>{},["stop"])),onInput:H=>ge(O.id),onBlur:H=>ge(O.id,!0)},null,40,$y),[[ye,R[O.id],void 0,{number:!0}]])]),s("button",{onClick:H=>q(O,!1),class:"action-btn btn-execute"},"Atacar",8,Ey),s("button",{onClick:H=>q(O,!0),class:"action-btn btn-critical"},"Crtico",8,Dy),s("button",{onClick:H=>S(O),class:"action-btn btn-edit"},"Editar",8,Ty),s("button",{onClick:H=>M(O),class:"action-btn btn-duplicate"},"Duplicar",8,Ay),s("button",{onClick:H=>V(O.id),class:"action-btn btn-delete"},"Eliminar",8,Iy)])],8,wy))),128))]),s("div",Ry,[s("button",{onClick:U[2]||(U[2]=O=>g()),class:"btn-new-attack"},U[11]||(U[11]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),ue(" Crear Nuevo Ataque ")]))]),r.value?($(),E("div",{key:0,class:"attack-form-overlay",onClick:Je(B,["self"])},[s("div",Py,[s("div",Hy,[s("h3",null,K(i.value?"Editar Ataque":"Nuevo Ataque"),1),s("button",{onClick:B,class:"form-close-btn","aria-label":"Cerrar formulario"},U[12]||(U[12]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",Oy,[s("div",By,[U[13]||(U[13]=s("label",{for:"attack-name"},"Nombre del Ataque",-1)),oe(s("input",{id:"attack-name",type:"text","onUpdate:modelValue":U[3]||(U[3]=O=>p.name=O),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[ye,p.name]])]),s("div",My,[U[17]||(U[17]=s("h4",null,[s("i",{class:"bi bi-dice-6-fill"}),ue(" Tiradas de Dao")],-1)),($(!0),E(Ne,null,We(p.damageRolls,(O,H)=>($(),E("div",{key:H,class:"damage-roll-item"},[s("div",Ly,[s("span",Ny,"Dao #"+K(H+1),1),s("button",{onClick:ae=>D(H),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:p.damageRolls.length===1},U[14]||(U[14]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,Vy)]),s("div",jy,[s("div",Fy,[s("label",{for:`dice-num-${H}`},"Cantidad",8,Uy),oe(s("input",{id:`dice-num-${H}`,type:"number","onUpdate:modelValue":ae=>O.numDice=ae,min:"1",max:"20",class:"input-narrow"},null,8,zy),[[ye,O.numDice,void 0,{number:!0}]])]),s("div",qy,[s("label",{for:`dice-type-${H}`},"Tipo de Dado",8,Wy),oe(s("select",{id:`dice-type-${H}`,"onUpdate:modelValue":ae=>O.diceType=ae},U[15]||(U[15]=[so('<option value="4" data-v-94750ef8>d4</option><option value="6" data-v-94750ef8>d6</option><option value="8" data-v-94750ef8>d8</option><option value="10" data-v-94750ef8>d10</option><option value="12" data-v-94750ef8>d12</option><option value="20" data-v-94750ef8>d20</option><option value="100" data-v-94750ef8>d100</option>',7)]),8,Ky),[[Ht,O.diceType,void 0,{number:!0}]])]),s("div",Yy,[s("label",{for:`type-${H}`},"Tipo de Dao",8,Xy),oe(s("select",{id:`type-${H}`,"onUpdate:modelValue":ae=>O.type=ae},[($(!0),E(Ne,null,We(de(oo),ae=>($(),E("option",{key:ae.id,value:ae.id},K(ae.name),9,Jy))),128))],8,Gy),[[Ht,O.type]])]),s("div",Qy,[s("label",{for:`bonus-${H}`},"Bonus",8,Zy),oe(s("input",{id:`bonus-${H}`,type:"number","onUpdate:modelValue":ae=>O.bonus=ae,placeholder:"+3"},null,8,e0),[[ye,O.bonus,void 0,{number:!0}]])]),s("div",t0,[s("label",{for:`min-${H}`},"Mnimo",8,n0),oe(s("input",{id:`min-${H}`,type:"number","onUpdate:modelValue":ae=>O.min=ae,placeholder:"1",min:"1"},null,8,o0),[[ye,O.min,void 0,{number:!0}]])]),s("div",s0,[s("label",{for:`lifesteal-${H}`},"Robo de Vida (%)",8,a0),oe(s("input",{id:`lifesteal-${H}`,type:"number","onUpdate:modelValue":ae=>O.lifeSteal.percentage=ae,placeholder:"0",min:"0",max:"100"},null,8,r0),[[ye,O.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:L,class:"btn-add-roll"},U[16]||(U[16]=[s("i",{class:"bi bi-plus-circle"},null,-1),ue(" Aadir Tipo de Dao ")]))]),s("div",i0,[U[22]||(U[22]=s("h4",null,[s("i",{class:"bi bi-arrow-repeat"}),ue(" Dados de Reroll (Opcional)")],-1)),p.rerollDice.length===0?($(),E("div",l0,U[18]||(U[18]=[s("p",null,"No hay dados de reroll configurados",-1)]))):Se("",!0),($(!0),E(Ne,null,We(p.rerollDice,(O,H)=>($(),E("div",{key:H,class:"damage-roll-item"},[s("div",c0,[s("span",u0,"Reroll #"+K(H+1),1),s("button",{onClick:ae=>te(H),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},U[19]||(U[19]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,d0)]),s("div",f0,[s("div",p0,[s("label",{for:`reroll-dice-num-${H}`},"Cantidad",8,m0),oe(s("input",{id:`reroll-dice-num-${H}`,type:"number","onUpdate:modelValue":ae=>O.numDice=ae,min:"1",max:"20",class:"input-narrow"},null,8,h0),[[ye,O.numDice,void 0,{number:!0}]])]),s("div",g0,[s("label",{for:`reroll-dice-type-${H}`},"Tipo de Dado",8,v0),oe(s("select",{id:`reroll-dice-type-${H}`,"onUpdate:modelValue":ae=>O.diceType=ae},U[20]||(U[20]=[so('<option value="4" data-v-94750ef8>d4</option><option value="6" data-v-94750ef8>d6</option><option value="8" data-v-94750ef8>d8</option><option value="10" data-v-94750ef8>d10</option><option value="12" data-v-94750ef8>d12</option><option value="20" data-v-94750ef8>d20</option><option value="100" data-v-94750ef8>d100</option>',7)]),8,b0),[[Ht,O.diceType,void 0,{number:!0}]])]),s("div",w0,[s("label",{for:`reroll-min-${H}`},"Mnimo",8,y0),oe(s("input",{id:`reroll-min-${H}`,type:"number","onUpdate:modelValue":ae=>O.min=ae,placeholder:"1",min:"1"},null,8,C0),[[ye,O.min,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:se,class:"btn-add-roll"},U[21]||(U[21]=[s("i",{class:"bi bi-plus-circle"},null,-1),ue(" Aadir Dado de Reroll ")]))]),s("div",x0,[s("button",{onClick:re,class:"btn-save"},[U[23]||(U[23]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),ue(" "+K(i.value?"Guardar Cambios":"Crear Ataque"),1)]),s("button",{onClick:B,class:"btn-cancel"},U[24]||(U[24]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),ue(" Cancelar ")]))])])])])):Se("",!0),l.value?($(),E("div",{key:1,class:"attack-form-overlay",onClick:Je(x,["self"])},[s("div",_0,[s("div",{class:"attack-form-header"},[U[26]||(U[26]=s("h3",null,[s("i",{class:"bi bi-gear-fill"}),ue(" Configuracin de Dao Crtico")],-1)),s("button",{onClick:x,class:"form-close-btn","aria-label":"Cerrar configuracin"},U[25]||(U[25]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",k0,[s("div",S0,[U[28]||(U[28]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),oe(s("select",{id:"critical-rule","onUpdate:modelValue":U[4]||(U[4]=O=>c.rule=O),class:"settings-select"},U[27]||(U[27]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[Ht,c.rule]])]),c.rule==="dad"?($(),E("div",$0,[U[31]||(U[31]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),oe(s("input",{type:"number",id:"character-level","onUpdate:modelValue":U[5]||(U[5]=O=>c.characterLevel=O),min:"1",max:"20",class:"settings-input"},null,512),[[ye,c.characterLevel,void 0,{number:!0}]]),u.value>0?($(),E("div",E0,[U[30]||(U[30]=s("i",{class:"bi bi-lightning-charge-fill"},null,-1)),s("p",null,[U[29]||(U[29]=ue("Bonus de dao por crtico: ")),s("strong",null,"+"+K(u.value),1)])])):Se("",!0)])):Se("",!0),s("div",{class:"form-actions"},[s("button",{onClick:w,class:"btn-save"},U[32]||(U[32]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),ue(" Guardar ")])),s("button",{onClick:x,class:"btn-cancel"},U[33]||(U[33]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),ue(" Cancelar ")]))])])])])):Se("",!0)])])]))}},T0=Tt(D0,[["__scopeId","data-v-94750ef8"]]),A0={class:"passive-damage-manager-container"},I0={class:"header"},R0={class:"content"},P0={class:"passive-damages-list"},H0={key:0,class:"no-damages"},O0={class:"damage-info"},B0={class:"damage-name"},M0={key:0,class:"duration-tag"},L0={class:"damage-summary"},N0={class:"damage-actions"},V0=["onClick"],j0=["onClick"],F0=["onClick"],U0={class:"new-damage-area"},z0={class:"damage-form"},q0={class:"damage-form-header"},W0={class:"form-group"},K0={class:"form-group"},Y0={class:"damage-rolls-section"},X0={class:"damage-roll-inputs"},G0={class:"form-group-inline"},J0=["onUpdate:modelValue"],Q0={class:"form-group-inline"},Z0=["onUpdate:modelValue"],e2={class:"form-group-inline"},t2=["onUpdate:modelValue"],n2={class:"form-group-inline"},o2=["onUpdate:modelValue"],s2=["value"],a2=["onClick","title"],r2={class:"form-actions"},i2={__name:"PassiveDamageManager",emits:["close"],setup(e,{emit:t}){const n=pa(),o=he(!1),a=he(!1),r=nn({id:null,name:"",duration:0,damageRolls:[]});qt(()=>{document.body.style.overflow="hidden",n.loadData()}),lo(()=>{document.body.style.overflow=""});const i=w=>{r.id=w.id,r.name=w.name,r.duration=w.duration||0,r.damageRolls.splice(0,r.damageRolls.length,...JSON.parse(JSON.stringify(w.damageRolls||[]))),o.value=!0},l=()=>{a.value=!1,i({id:null,name:"",duration:0,damageRolls:[{numDice:1,diceType:6,bonus:0,type:"bludgeoning"}]})},c=w=>{a.value=!0,i(w)},u=()=>{o.value=!1},p=()=>{r.damageRolls.push({numDice:1,diceType:6,bonus:0,type:"bludgeoning"})},d=w=>{r.damageRolls.splice(w,1)},m=()=>{if(!r.name||r.damageRolls.length===0){$e.fire("Error","El nombre y al menos una tirada de dao son requeridos.","error");return}const w=JSON.parse(JSON.stringify(r));a.value?n.updatePassiveDamage(w):n.addPassiveDamage(w),u()},v=w=>{n.duplicatePassiveDamage(w)},x=w=>{$e.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(g=>{g.isConfirmed&&(n.deletePassiveDamage(w),$e.fire("Eliminado","El dao pasivo ha sido eliminado.","success"))})};return(w,g)=>($(),E("div",{class:"passive-damage-manager-overlay",onClick:g[4]||(g[4]=Je(S=>w.$emit("close"),["self"]))},[s("div",A0,[s("div",I0,[g[5]||(g[5]=s("h2",null,[s("i",{class:"bi bi-shield-fill-exclamation"}),ue(" Gestor de Dao Pasivo")],-1)),s("button",{onClick:g[0]||(g[0]=S=>w.$emit("close")),class:"close-btn"},"")]),s("div",R0,[s("div",P0,[de(n).passiveDamages.length===0?($(),E("div",H0," No hay daos pasivos configurados. ")):Se("",!0),($(!0),E(Ne,null,We(de(n).passiveDamages,S=>($(),E("div",{key:S.id,class:"damage-item"},[s("div",O0,[s("span",B0,K(S.name),1),S.duration>0?($(),E("span",M0,[g[6]||(g[6]=s("i",{class:"bi bi-hourglass-split"},null,-1)),ue(" "+K(S.duration)+" turnos restantes ",1)])):Se("",!0),s("div",L0,[($(!0),E(Ne,null,We(S.damageRolls,(M,B)=>($(),E("span",{key:B,class:"damage-tag"},K(M.numDice)+"d"+K(M.diceType)+K(M.bonus>0?"+"+M.bonus:"")+" "+K(M.type),1))),128))])]),s("div",N0,[s("button",{onClick:M=>c(S),class:"action-btn btn-edit"},"Editar",8,V0),s("button",{onClick:M=>v(S.id),class:"action-btn btn-duplicate"},"Duplicar",8,j0),s("button",{onClick:M=>x(S.id),class:"action-btn btn-delete"},"Eliminar",8,F0)])]))),128))]),s("div",U0,[s("button",{onClick:g[1]||(g[1]=S=>l()),class:"btn-new-damage"},g[7]||(g[7]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),ue(" Aadir Dao Pasivo ")]))]),o.value?($(),E("div",{key:0,class:"damage-form-overlay",onClick:Je(u,["self"])},[s("div",z0,[s("div",q0,[s("h3",null,K(a.value?"Editar Dao Pasivo":"Nuevo Dao Pasivo"),1),s("button",{onClick:u,class:"form-close-btn",title:"Cerrar"},"")]),s("div",W0,[g[8]||(g[8]=s("label",{class:"form-label"},[s("i",{class:"bi bi-tag-fill"}),ue(" Nombre ")],-1)),oe(s("input",{type:"text","onUpdate:modelValue":g[2]||(g[2]=S=>r.name=S),placeholder:"Ej: Aura venenosa"},null,512),[[ye,r.name]])]),s("div",K0,[g[9]||(g[9]=s("label",{class:"form-label"},[s("i",{class:"bi bi-hourglass-split"}),ue(" Duracin en Turnos "),s("span",{class:"label-hint"},"(0 para infinito)")],-1)),oe(s("input",{type:"number","onUpdate:modelValue":g[3]||(g[3]=S=>r.duration=S),min:"0",placeholder:"0"},null,512),[[ye,r.duration,void 0,{number:!0}]])]),s("div",Y0,[g[17]||(g[17]=s("h4",null,[s("i",{class:"bi bi-dice-5-fill"}),ue(" Tiradas de Dao")],-1)),($(!0),E(Ne,null,We(r.damageRolls,(S,M)=>($(),E("div",{key:M,class:"damage-roll-item"},[s("div",X0,[s("div",G0,[g[10]||(g[10]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-hash"}),ue(" Cantidad ")],-1)),oe(s("input",{type:"number","onUpdate:modelValue":B=>S.numDice=B,min:"1",class:"input-narrow",placeholder:"1"},null,8,J0),[[ye,S.numDice,void 0,{number:!0}]])]),s("div",Q0,[g[12]||(g[12]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-dice-6"}),ue(" Dado ")],-1)),oe(s("select",{"onUpdate:modelValue":B=>S.diceType=B},g[11]||(g[11]=[so('<option value="4" data-v-20861895>d4</option><option value="6" data-v-20861895>d6</option><option value="8" data-v-20861895>d8</option><option value="10" data-v-20861895>d10</option><option value="12" data-v-20861895>d12</option><option value="20" data-v-20861895>d20</option><option value="100" data-v-20861895>d100</option>',7)]),8,Z0),[[Ht,S.diceType,void 0,{number:!0}]])]),s("div",e2,[g[13]||(g[13]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-plus-slash-minus"}),ue(" Bonus ")],-1)),oe(s("input",{type:"number","onUpdate:modelValue":B=>S.bonus=B,placeholder:"0"},null,8,t2),[[ye,S.bonus,void 0,{number:!0}]])]),s("div",n2,[g[14]||(g[14]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-fire"}),ue(" Tipo ")],-1)),oe(s("select",{"onUpdate:modelValue":B=>S.type=B},[($(!0),E(Ne,null,We(de(oo),B=>($(),E("option",{key:B.id,value:B.id},K(B.name),9,s2))),128))],8,o2),[[Ht,S.type]])])]),s("button",{onClick:B=>d(M),class:"btn-remove-roll",title:"Eliminar tirada "+(M+1)},g[15]||(g[15]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,a2)]))),128)),s("button",{onClick:p,class:"btn-add-roll"},g[16]||(g[16]=[s("i",{class:"bi bi-plus-circle"},null,-1),ue(" Aadir tipo de dao ")]))]),s("div",r2,[s("button",{onClick:m,class:"btn-save"},[g[18]||(g[18]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),ue(" "+K(a.value?"Guardar Cambios":"Crear"),1)]),s("button",{onClick:u,class:"btn-cancel"},g[19]||(g[19]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),ue(" Cancelar ")]))])])])):Se("",!0)])])]))}},l2=Tt(i2,[["__scopeId","data-v-20861895"]]),c2={class:"character-view-container fade-in"},u2={class:"character-header"},d2={key:0,class:"character-state-display"},f2=["src"],p2={class:"character-name"},m2={class:"state-title-display"},h2={key:1,class:"character-name"},g2={class:"turn-info"},v2={class:"turn-number"},b2={class:"health-section"},w2={class:"health-header"},y2={class:"health-stats"},C2={class:"current-hp"},x2={class:"max-hp"},_2={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},k2={class:"health-bar-container"},S2={class:"health-bar"},$2={class:"health-percentage"},E2={key:0,class:"necro-info"},D2={class:"necro-text"},T2={key:0,class:"temp-health-section"},A2={class:"temp-health-header"},I2={class:"temp-hp-value"},R2={class:"temp-health-bar-container"},P2={class:"temp-health-bar"},H2={key:1,class:"regeneration-info"},O2={class:"regeneration-text"},B2={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8 mb-2 custom-fold-row"},M2={key:0},L2={key:1},N2={key:0},V2={key:1},j2={class:"action-buttons"},F2=["disabled"],U2=["disabled"],z2=["disabled"],q2=["disabled"],W2=["disabled"],K2=["disabled"],Y2={class:"secondary-actions"},X2={key:0,class:"state-selector-wrapper"},G2={key:0},J2={key:1},Q2={class:"state-selector-navigation"},Z2=["disabled"],eC={class:"state-indicators"},tC=["onClick"],nC={class:"state-preview"},oC=["src","alt"],sC={key:1,class:"state-preview-placeholder"},aC={class:"state-preview-title"},rC=["disabled"],iC={__name:"CharacterView",setup(e){const t=Vs(),n=Eo(),o=Fs(),a=js();yt();const r=he({}),i=Qe(()=>a.selectedState&&a.selectedState.image?r.value[a.selectedState.id]:null),l=async()=>{console.log("Cargando imgenes de estados en CharacterView"),console.log("stateStore.states:",a.states),r.value={};for(const Y of a.states)if(console.log(`Procesando estado ${Y.id}:`,Y),Y.image)try{console.log(`Buscando imagen en localforage para ${Y.id} (image key: ${Y.image})`);const N=await a.getStateImage(Y.image);if(console.log("getStateImage retorn:",N),N){const J=URL.createObjectURL(N);r.value[Y.id]=J,console.log(` Imagen cargada para estado ${Y.id}, URL: ${J}`)}else console.log(` No se encontr blob para ${Y.id}`)}catch(N){console.error(`Error cargando imagen para estado ${Y.id}:`,N)}else console.log(`Estado ${Y.id} no tiene propiedad image o es null`);console.log("stateImageUrls final:",r.value)},c=Y=>{a.setSelectedState(Y)},u=()=>{const Y=a.states.findIndex(N=>N.id===a.selectedStateId);Y>0?a.setSelectedState(a.states[Y-1].id):a.setSelectedState(a.states[a.states.length-1].id)},p=()=>{const Y=a.states.findIndex(N=>N.id===a.selectedStateId);Y<a.states.length-1?a.setSelectedState(a.states[Y+1].id):a.setSelectedState(a.states[0].id)},d=he(!1),m=he(!1),v=he(!1),x=he(!1),w=he(!0);function g(){try{const Y=localStorage.getItem("dnd-character-folds");if(Y){const N=JSON.parse(Y);v.value=!!N.countersFolded,x.value=!!N.statesFolded,w.value=N.stateSelectorFolded!==void 0?!!N.stateSelectorFolded:!0}}catch{}}function S(){localStorage.setItem("dnd-character-folds",JSON.stringify({countersFolded:v.value,statesFolded:x.value,stateSelectorFolded:w.value}))}function M(){v.value=!v.value,S()}function B(){x.value=!x.value,S()}function L(){w.value=!w.value,S()}qt(async()=>{n.loadData(),o.loadData(),await a.loadData(),await l(),g(),n.character.isConfigured||t.push("/config")}),un(()=>a.states,async Y=>{console.log("Estados cambiados, recargando imgenes"),await l()},{deep:!0});const D=()=>{const Y=n.startTurn();if(Y){const{totalDamage:N,damageDetails:J}=Y,X=J.map(pe=>`<li style="margin-bottom: 8px; color: #ecf0f1; font-size: 1rem;">
        <strong style="color: #f39c12;">${pe.name}:</strong> ${pe.damage} de dao (${pe.details})
      </li>`).join("");$e.fire({title:'<span style="color: #e74c3c;">Dao Pasivo Recibido</span>',html:`
        <div style="text-align: left; padding: 10px;">
          <p style="font-size: 1.2rem; margin-bottom: 15px; color: #ecf0f1;">
            Dao total: <strong style="color: #e74c3c; font-size: 1.5rem;">${N}</strong>
          </p>
          <ul style="list-style-type: none; padding-left: 0;">
            ${X}
          </ul>
        </div>
      `,icon:"warning",confirmButtonText:"Aceptar",customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn"},background:"#1a1a1a",color:"#ffffff"}).then(()=>{n.applyPassiveDamage(N,J)})}},se=()=>{n.endTurn()},te=()=>{$e.fire({title:"Curar Personaje",input:"number",inputLabel:"Cantidad de HP a curar",inputPlaceholder:"Ej: 10",inputAttributes:{min:"1",max:n.character.maxHp-n.character.currentHp},showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",inputValidator:Y=>{if(!Y||Y<=0)return"Debes ingresar un nmero vlido";if(Y>n.character.maxHp-n.character.currentHp)return`No puedes curar ms all del mximo (${n.character.maxHp-n.character.currentHp} HP)`}}).then(Y=>{if(Y.isConfirmed){const N=parseInt(Y.value);n.heal(N)}})},re=()=>{$e.fire({title:"Agregar Vida Temporal",input:"number",inputLabel:"Cantidad de HP temporal",inputPlaceholder:"Ej: 15",inputAttributes:{min:"1",max:"999"},showCancelButton:!0,confirmButtonText:"Agregar",cancelButtonText:"Cancelar",inputValidator:Y=>{if(!Y||Y<=0)return"Debes ingresar un nmero vlido"}}).then(Y=>{if(Y.isConfirmed){const N=parseInt(Y.value);n.addTempHp(N)}})},V=()=>{$e.fire({title:"Recibir Dao",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="damage-amount" type="number" placeholder="Ej: 25" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Recibir Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const Y=document.getElementById("damage-amount").value,N=document.getElementById("necro-damage").checked;return!Y||Y<=0?($e.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(Y),isNecroDamage:N}}}).then(Y=>{if(Y.isConfirmed){const{amount:N,isNecroDamage:J}=Y.value;n.takeDamage(N,J)}})},R=()=>{$e.fire({title:"Dao Resistente",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="resistant-damage-amount" type="number" placeholder="Ej: 20" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-resistant-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Aplicar Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const Y=document.getElementById("resistant-damage-amount").value,N=document.getElementById("necro-resistant-damage").checked;return!Y||Y<=0?($e.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(Y),isNecroDamage:N}}}).then(Y=>{if(Y.isConfirmed){const{amount:N,isNecroDamage:J}=Y.value,X=Math.floor(N/2);n.takeDamage(X,J)}})},ee=()=>{$e.fire({title:"Resetear HP?",text:"Quieres restaurar la vida al mximo y eliminar la vida temporal?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(Y=>{Y.isConfirmed&&n.resetToMaxHp()})},ge=async()=>{if(n.character.maxHp<n.character.originalMaxHp){const N=n.character.maxHp;n.character.maxHp=n.character.originalMaxHp,n.addLog("Restaurar HP Mximo",`HP mximo restaurado de ${N} a ${n.character.originalMaxHp} (dao necro revertido)`),n.saveToLocalStorage()}const{value:Y}=await $e.fire({title:`
      <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:8px;">
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
        <span>Ritual de Resurreccin</span>
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
      </div>
    `,html:`
      <div style="background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%); 
                  border: 2px solid #d4af37; 
                  border-radius: 12px; 
                  padding: 20px; 
                  margin: 10px 0;
                  box-shadow: inset 0 0 20px rgba(212, 175, 55, 0.1);">
        <div style="text-align: center; margin-bottom: 16px;">
          <div style="color: #f39c12; font-size: 1.2em; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">
            ${n.character.name}
          </div>
          <div style="color: #bbb; font-size: 0.9em; margin-top: 4px;">
            Elige el mtodo de resurreccin
          </div>
        </div>
        <div style="text-align: left; font-size: 1.05em;">
          <!-- Opcin 1: 1 HP -->
          <label style="display: block; background: linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%); border: 1px solid rgba(39, 174, 96, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease; position: relative;"
                 onmouseover="this.style.borderColor='rgba(39, 174, 96, 0.6)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.25) 0%, rgba(39, 174, 96, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(39, 174, 96, 0.3)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="1" checked style="accent-color: #27ae60; transform: scale(1.2);">
              <i class="bi bi-heart" style="color: #27ae60; font-size: 1.1em;"></i>
              <div>
                <div style="color: #27ae60; font-weight: 700; font-size: 1.05em;">Resurreccin Bsica</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con 1 punto de vida</div>
              </div>
            </div>
          </label>
          <!-- Opcin 2: Media vida -->
          <label style="display: block; background: linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%); border: 1px solid rgba(243, 156, 18, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(243, 156, 18, 0.6)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.25) 0%, rgba(243, 156, 18, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(243, 156, 18, 0.3)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="half" style="accent-color: #f39c12; transform: scale(1.2);">
              <i class="bi bi-heart-half" style="color: #f39c12; font-size: 1.1em;"></i>
              <div>
                <div style="color: #f39c12; font-weight: 700; font-size: 1.05em;">Resurreccin Mejorada</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con ${Math.floor(n.character.maxHp/2)} HP (50% vida mxima)</div>
              </div>
            </div>
          </label>
          <!-- Opcin 3: Personalizada -->
          <label style="display: block; background: linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%); border: 1px solid rgba(155, 89, 182, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 16px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(155, 89, 182, 0.6)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.25) 0%, rgba(155, 89, 182, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(155, 89, 182, 0.3)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%)'">
            <div style="display: flex; align-items: flex-start; gap: 10px;">
              <input type="radio" name="reviveOption" value="custom" style="accent-color: #9b59b6; transform: scale(1.2); margin-top: 2px;">
              <i class="bi bi-gear-fill" style="color: #9b59b6; font-size: 1.1em; margin-top: 2px;"></i>
              <div style="flex: 1;">
                <div style="color: #9b59b6; font-weight: 700; font-size: 1.05em; margin-bottom: 8px;">Resurreccin Personalizada</div>
                <input id="customHpInput" type="number" min="1" max="${n.character.maxHp}" placeholder="Cantidad de HP" disabled style="width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(155, 89, 182, 0.4); border-radius: 6px; padding: 8px 12px; color: #fff; font-size: 0.95em; transition: all 0.3s ease;" onfocus="this.style.borderColor='#9b59b6'; this.style.boxShadow='0 0 8px rgba(155, 89, 182, 0.3)'" onblur="this.style.borderColor='rgba(155, 89, 182, 0.4)'; this.style.boxShadow='none'">
                <div style="color: #aaa; font-size: 0.85em; margin-top: 4px;">Especifica la cantidad exacta de HP</div>
              </div>
            </div>
          </label>
        </div>
        <div style="background: rgba(52, 152, 219, 0.1); border: 1px solid rgba(52, 152, 219, 0.3); border-radius: 6px; padding: 12px; text-align: center;">
          <i class="bi bi-info-circle-fill" style="color: #3498db; margin-right: 8px;"></i>
          <span style="color: #bbb; font-size: 0.9em;">Vida mxima actual: <strong style="color: #3498db;">${n.character.maxHp} HP</strong></span>
        </div>
      </div>
    `,customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn",cancelButton:"dnd-cancel-btn"},showCancelButton:!0,confirmButtonText:`
      <i class="bi bi-magic" style="margin-right: 8px; color: #d4af37;"></i>
      Realizar Ritual
    `,cancelButtonText:`
      <i class="bi bi-x-circle" style="margin-right: 6px;"></i>
      Cancelar
    `,background:"#1a1a1a",color:"#ffffff",preConfirm:()=>{const N=document.querySelector('input[name="reviveOption"]:checked').value;if(N==="custom"){const J=parseInt(document.getElementById("customHpInput").value);return isNaN(J)||J<1||J>n.character.maxHp?($e.showValidationMessage(`Introduce un valor entre 1 y ${n.character.maxHp}`),!1):J}return N==="half"?Math.floor(n.character.maxHp/2):1},didOpen:()=>{const N=document.createElement("style");N.textContent=`
        .dnd-modal-popup {
          background: linear-gradient(145deg, #2c2c2c 0%, #1a1a1a 100%) !important;
          border: 2px solid #d4af37 !important;
          border-radius: 16px !important;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7), 0 0 30px rgba(212, 175, 55, 0.2) !important;
        }
        .dnd-modal-title {
          color: #d4af37 !important;
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8) !important;
          font-weight: 700 !important;
          font-size: 1.4em !important;
        }
        .dnd-confirm-btn {
          background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%) !important;
          color: #1a1a1a !important;
          border: none !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 600 !important;
          font-size: 1.05em !important;
          transition: all 0.3s ease !important;
          box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3) !important;
        }
        .dnd-confirm-btn:hover {
          background: linear-gradient(135deg, #e6c451 0%, #d4af37 100%) !important;
          transform: translateY(-2px) !important;
          box-shadow: 0 6px 16px rgba(212, 175, 55, 0.4) !important;
        }
        .dnd-cancel-btn {
          background: linear-gradient(135deg, #555 0%, #333 100%) !important;
          color: #fff !important;
          border: 1px solid #666 !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 500 !important;
          transition: all 0.3s ease !important;
        }
        .dnd-cancel-btn:hover {
          background: linear-gradient(135deg, #666 0%, #444 100%) !important;
          border-color: #777 !important;
          transform: translateY(-1px) !important;
        }
        .swal2-actions {
          gap: 16px !important;
          margin-top: 24px !important;
        }
      `,document.head.appendChild(N);const J=$e.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),X=$e.getHtmlContainer().querySelector("#customHpInput");J.forEach(pe=>{pe.addEventListener("change",()=>{pe.value==="custom"?(X.disabled=!1,X.focus()):X.disabled=!0})})}});Y&&Y>0&&n.revive(Y)},q=()=>{$e.fire({title:"Resetear Turno?",text:"Quieres volver al turno 0?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(Y=>{Y.isConfirmed&&n.resetTurn()})},W=()=>{t.push("/config")},U=()=>{t.push("/logs")},O=()=>{$e.fire({title:"Descanso Largo",text:"Quieres restaurar la vida al mximo, reiniciar el turno y recargar contadores?",icon:"question",showCancelButton:!0,confirmButtonText:"S, descansar",cancelButtonText:"Cancelar"}).then(Y=>{Y.isConfirmed&&(n.resetToMaxHp(),n.resetTurn(),o.regenerateCountersByRest("long"))})},H=()=>{$e.fire({title:"Descanso Corto",text:"Quieres reiniciar el contador de turnos y recargar contadores? (La vida no se restaura)",icon:"question",showCancelButton:!0,confirmButtonText:"S, reiniciar turnos",cancelButtonText:"Cancelar"}).then(Y=>{Y.isConfirmed&&(n.resetTurn(),o.regenerateCountersByRest("short"))})},ae=()=>{const Y=n.character.originalMaxHp-n.character.maxHp;$e.fire({title:"Curar Dao Necro",html:`
      <div style="margin-bottom: 20px;">
        <p style="margin-bottom: 15px; color: #ecf0f1;">Dao necro acumulado: <strong style="color: #e74c3c;">${Y} HP</strong></p>
        <input id="heal-necro-amount" type="number" placeholder="Cantidad a curar" min="1" max="${Y}" value="1" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left; background: rgba(231, 76, 60, 0.2); padding: 12px; border-radius: 8px; border: 1px solid rgba(231, 76, 60, 0.3);">
          <p style="margin: 0; color: #e74c3c; font-size: 0.9rem;">
            <strong>Qu hace esta accin?</strong><br>
            - Aumenta tu HP mximo en la cantidad especificada<br>
            - Cura tu HP actual en la misma cantidad
          </p>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",preConfirm:()=>{const N=document.getElementById("heal-necro-amount").value;if(!N||N<=0)return $e.showValidationMessage("Debes ingresar un nmero vlido"),!1;const J=parseInt(N);return J>Y?($e.showValidationMessage(`No puedes curar ms dao necro del acumulado (${Y} HP)`),!1):{amount:J}}}).then(N=>{if(N.isConfirmed){const{amount:J}=N.value;Pe(J)}})},Pe=Y=>{const N=n.character.maxHp,J=n.character.currentHp;n.character.maxHp=Math.min(n.character.originalMaxHp,n.character.maxHp+Y),n.character.currentHp=Math.min(n.character.maxHp,n.character.currentHp+Y),n.addLog("Curar Dao Necro",`HP mximo restaurado: +${n.character.maxHp-N} (${N}  ${n.character.maxHp}) | HP actual curado: +${n.character.currentHp-J} (${J}  ${n.character.currentHp})`),n.saveToLocalStorage(),$e.fire({icon:"success",title:"Dao Necro Curado",text:`Has curado ${Y} puntos de dao necro`,timer:2e3,showConfirmButton:!1})};return(Y,N)=>($(),E("div",c2,[s("div",u2,[de(a).selectedState?($(),E("div",d2,[i.value?($(),E("img",{key:0,src:i.value,alt:"Estado del personaje",class:"state-image-display"},null,8,f2)):Se("",!0),s("h1",p2,K(de(n).character.name),1),s("span",m2,K(de(a).selectedState.title),1)])):($(),E("h1",h2,K(de(n).character.name),1)),s("div",g2,[N[4]||(N[4]=s("span",{class:"turn-label"},"Turno:",-1)),s("span",v2,K(de(n).turn.current),1)])]),s("div",b2,[s("div",w2,[N[6]||(N[6]=s("h2",null,"Puntos de Vida",-1)),s("div",y2,[s("span",C2,K(de(n).character.currentHp),1),N[5]||(N[5]=s("span",{class:"separator"},"/",-1)),s("span",x2,K(de(n).character.maxHp),1),de(n).character.maxHp<de(n).character.originalMaxHp?($(),E("span",_2,"  ")):Se("",!0)])]),s("div",k2,[s("div",S2,[s("div",{class:it(["health-fill",de(n).hasTempHp?"temp-hp":de(n).hpBarColor]),style:kn({width:`${de(n).hpPercentage}%`})},null,6),de(n).character.maxHp<de(n).character.originalMaxHp?($(),E("div",{key:0,class:"necro-bar-indicator",style:kn({left:`${de(n).character.maxHp/de(n).character.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):Se("",!0)]),s("div",$2,K(Math.round(de(n).hpPercentage))+"%",1)]),de(n).character.maxHp<de(n).character.originalMaxHp?($(),E("div",E2,[N[7]||(N[7]=s("span",{class:"necro-icon"},"",-1)),s("span",D2,"HP mximo reducido por dao necro: "+K(de(n).character.maxHp)+" / "+K(de(n).character.originalMaxHp),1)])):Se("",!0)]),de(n).hasTempHp?($(),E("div",T2,[s("div",A2,[N[8]||(N[8]=s("h3",null,"Vida Temporal",-1)),s("span",I2,K(de(n).character.tempHp),1)]),s("div",R2,[s("div",P2,[s("div",{class:"temp-health-fill",style:kn({width:`${de(n).tempHpPercentage}%`})},null,4)])])])):Se("",!0),de(n).character.regeneration>0?($(),E("div",H2,[N[9]||(N[9]=s("span",{class:"regeneration-icon"},"",-1)),s("span",O2,"Regeneracin: +"+K(de(n).character.regeneration)+" HP/turno",1)])):Se("",!0),s("div",B2,[s("div",null,[s("button",{onClick:M,class:"fold-btn"},[v.value?($(),E("span",M2," Mostrar Contadores")):($(),E("span",L2," Ocultar Contadores"))]),oe(s("div",null,[ft(_w)],512),[[xr,!v.value]])]),s("div",null,[s("button",{onClick:B,class:"fold-btn"},[x.value?($(),E("span",N2," Mostrar Estados")):($(),E("span",V2," Ocultar Estados"))]),oe(s("div",null,[ft(jw)],512),[[xr,!x.value]])])]),s("div",j2,[de(n).turn.isActive?($(),E("button",{key:1,onClick:se,class:"action-btn btn-end-turn"},N[11]||(N[11]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Finalizar Turno",-1)]))):($(),E("button",{key:0,onClick:D,class:"action-btn btn-start-turn"},N[10]||(N[10]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Iniciar Turno",-1)]))),s("button",{onClick:te,class:"action-btn btn-heal",disabled:!de(n).isAlive||de(n).character.currentHp>=de(n).character.maxHp},N[12]||(N[12]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Curar",-1)]),8,F2),s("button",{onClick:re,class:"action-btn btn-temp-hp",disabled:!de(n).isAlive},N[13]||(N[13]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Vida Temporal",-1)]),8,U2),s("button",{onClick:V,class:"action-btn btn-damage",disabled:!de(n).isAlive},N[14]||(N[14]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Recibir Dao",-1)]),8,z2),s("button",{onClick:R,class:"action-btn btn-resistant-damage",disabled:!de(n).isAlive},N[15]||(N[15]=[s("span",{class:"btn-icon"},[s("i",{"data-v-6dd7d5c6":"",class:"bi bi-shield-slash"})],-1),s("span",{class:"btn-text"},"Dao Resistente",-1)]),8,q2),de(n).character.maxHp<de(n).character.originalMaxHp?($(),E("button",{key:2,onClick:ae,class:"action-btn btn-restore-max",title:"Curar una cantidad especfica de dao necro"},N[16]||(N[16]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Curar Dao Necro",-1)]))):Se("",!0),s("button",{onClick:N[0]||(N[0]=J=>d.value=!0),class:"action-btn btn-attack-manager",disabled:!de(n).isAlive},N[17]||(N[17]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Gestor de Ataques",-1)]),8,W2),s("button",{onClick:N[1]||(N[1]=J=>m.value=!0),class:"action-btn btn-passive-damage-manager",disabled:!de(n).isAlive},N[18]||(N[18]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Dao Pasivo",-1)]),8,K2)]),d.value?($(),On(T0,{key:2,onClose:N[2]||(N[2]=J=>d.value=!1)})):Se("",!0),m.value?($(),On(l2,{key:3,onClose:N[3]||(N[3]=J=>m.value=!1)})):Se("",!0),s("div",Y2,[s("button",{onClick:O,class:"secondary-btn btn-long-rest"},N[19]||(N[19]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Descanso Largo",-1)])),s("button",{onClick:H,class:"secondary-btn btn-short-rest"},N[20]||(N[20]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Descanso Corto",-1)])),de(a).selectedState?($(),E("div",X2,[s("button",{onClick:L,class:"state-selector-fold-btn"},[w.value?($(),E("span",G2," Mostrar Selector de Estados")):($(),E("span",J2," Ocultar Selector de Estados"))]),oe(s("div",Q2,[s("button",{onClick:u,class:"state-nav-btn state-nav-prev",disabled:de(a).states.length<=1,title:"Estado anterior"},N[21]||(N[21]=[s("span",null,"",-1)]),8,Z2),s("div",eC,[($(!0),E(Ne,null,We(de(a).states,J=>($(),E("button",{key:J.id,onClick:X=>c(J.id),class:it(["state-indicator",{active:J.id===de(a).selectedStateId}])},[s("div",nC,[r.value[J.id]?($(),E("img",{key:0,src:r.value[J.id],alt:J.title,class:"state-preview-image"},null,8,oC)):($(),E("div",sC,N[22]||(N[22]=[s("span",null,"",-1)])))]),s("span",aC,K(J.title),1)],10,tC))),128))]),s("button",{onClick:p,class:"state-nav-btn state-nav-next",disabled:de(a).states.length<=1,title:"Estado siguiente"},N[23]||(N[23]=[s("span",null,"",-1)]),8,rC)],512),[[xr,!w.value]])])):Se("",!0),s("button",{onClick:ee,class:"secondary-btn btn-reset"},N[24]||(N[24]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Resetear HP",-1)])),de(n).isAlive?Se("",!0):($(),E("button",{key:1,onClick:ge,class:"secondary-btn btn-revive"},N[25]||(N[25]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Revivir",-1)]))),s("button",{onClick:q,class:"secondary-btn btn-reset-turn"},N[26]||(N[26]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Resetear Turno",-1)])),s("button",{onClick:U,class:"secondary-btn btn-logs"},N[27]||(N[27]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Ver Historial",-1)])),s("button",{onClick:W,class:"secondary-btn btn-config"},N[28]||(N[28]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Configuracin",-1)]))])]))}},lC=Tt(iC,[["__scopeId","data-v-ed302062"]]),cC={class:"logs-view-container fade-in"},uC={class:"logs-header"},dC={class:"logs-stats"},fC={class:"stats-item"},pC={class:"stats-value"},mC={class:"stats-item"},hC={class:"stats-value"},gC={class:"logs-filters"},vC={class:"filter-group"},bC={class:"filter-group"},wC=["value"],yC={class:"logs-content"},CC={key:0,class:"no-logs"},xC={key:1,class:"logs-list"},_C={class:"turn-header"},kC={class:"turn-title"},SC={class:"turn-count"},$C={class:"turn-logs"},EC={class:"log-header"},DC={class:"log-action"},TC={class:"action-icon"},AC={class:"action-name"},IC={class:"log-time"},RC={class:"log-details"},PC={class:"log-description"},HC={key:0,class:"hp-changes"},OC={key:0,class:"hp-change"},BC={key:1,class:"hp-change"},MC={__name:"LogsView",setup(e){const t=Vs(),n=Eo(),o=he(""),a=he("");qt(()=>{n.loadData(),n.character.isConfigured||t.push("/config")});const r=Qe(()=>Object.keys(n.logsByTurn).map(Number).sort((g,S)=>S-g)),i=Qe(()=>{let w=n.logs;return o.value&&(w=w.filter(g=>g.action===o.value)),a.value!==""&&(w=w.filter(g=>g.turn===a.value)),w}),l=Qe(()=>{const w={};return i.value.forEach(g=>{w[g.turn]||(w[g.turn]=[]),w[g.turn].push(g)}),Object.fromEntries(Object.entries(w).sort(([g],[S])=>Number(S)-Number(g)))}),c=()=>{o.value="",a.value=""},u=w=>({"Inicio de Turno":"log-turn-start","Fin de Turno":"log-turn-end",Curacin:"log-heal","Regeneracin Automtica":"log-regen","Vida Temporal":"log-temp","Dao Recibido":"log-damage","Reset HP":"log-reset","Reset Turno":"log-reset-turn",Configuracin:"log-config"})[w]||"log-default",p=w=>({"Inicio de Turno":"","Fin de Turno":"",Curacin:"","Regeneracin Automtica":"","Vida Temporal":"","Dao Recibido":"","Reset HP":"","Reset Turno":"",Configuracin:""})[w]||"",d=(w,g)=>g>w?"hp-increase":g<w?"hp-decrease":"hp-no-change",m=()=>{const w=n.logs.map(B=>`[${B.timestamp}] Turno ${B.turn} - ${B.action}: ${B.details}`).join(`
`),g=new Blob([w],{type:"text/plain"}),S=URL.createObjectURL(g),M=document.createElement("a");M.href=S,M.download=`dnd-logs-${n.character.name}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(S),$e.fire({icon:"success",title:"Logs Exportados",text:"Los logs se han descargado correctamente",timer:2e3,showConfirmButton:!1})},v=()=>{t.push("/character")},x=()=>{$e.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(w=>{w.isConfirmed&&(n.clearAllLogs(),$e.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})};return(w,g)=>($(),E("div",cC,[s("div",uC,[g[4]||(g[4]=s("h1",{class:"logs-title"}," Historial de Acciones",-1)),s("div",dC,[s("span",fC,[g[2]||(g[2]=s("span",{class:"stats-label"},"Total de Acciones:",-1)),s("span",pC,K(de(n).logs.length),1)]),s("span",mC,[g[3]||(g[3]=s("span",{class:"stats-label"},"Turnos Registrados:",-1)),s("span",hC,K(Object.keys(de(n).logsByTurn).length),1)])])]),s("div",gC,[s("div",vC,[g[6]||(g[6]=s("label",{for:"actionFilter",class:"filter-label"},"Filtrar por Accin:",-1)),oe(s("select",{id:"actionFilter","onUpdate:modelValue":g[0]||(g[0]=S=>o.value=S),class:"filter-select"},g[5]||(g[5]=[so('<option value="" data-v-e48a34f0>Todas las acciones</option><option value="Inicio de Turno" data-v-e48a34f0>Inicio de Turno</option><option value="Fin de Turno" data-v-e48a34f0>Fin de Turno</option><option value="Curacin" data-v-e48a34f0>Curacin</option><option value="Regeneracin Automtica" data-v-e48a34f0>Regeneracin Automtica</option><option value="Vida Temporal" data-v-e48a34f0>Vida Temporal</option><option value="Dao Recibido" data-v-e48a34f0>Dao Recibido</option><option value="Reset HP" data-v-e48a34f0>Reset HP</option><option value="Reset Turno" data-v-e48a34f0>Reset Turno</option><option value="Configuracin" data-v-e48a34f0>Configuracin</option>',10)]),512),[[Ht,o.value]])]),s("div",bC,[g[8]||(g[8]=s("label",{for:"turnFilter",class:"filter-label"},"Filtrar por Turno:",-1)),oe(s("select",{id:"turnFilter","onUpdate:modelValue":g[1]||(g[1]=S=>a.value=S),class:"filter-select"},[g[7]||(g[7]=s("option",{value:""},"Todos los turnos",-1)),($(!0),E(Ne,null,We(r.value,S=>($(),E("option",{key:S,value:S}," Turno "+K(S),9,wC))),128))],512),[[Ht,a.value]])]),s("button",{onClick:c,class:"clear-filters-btn"},g[9]||(g[9]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Limpiar Filtros",-1)]))]),s("div",yC,[i.value.length===0?($(),E("div",CC,g[10]||(g[10]=[s("div",{class:"no-logs-icon"},"",-1),s("h3",null,"No hay logs para mostrar",-1),s("p",null,"Los logs aparecern aqu cuando realices acciones con tu personaje",-1)]))):($(),E("div",xC,[($(!0),E(Ne,null,We(l.value,(S,M)=>($(),E("div",{key:M,class:"turn-group"},[s("div",_C,[s("h2",kC,[g[11]||(g[11]=s("span",{class:"turn-icon"},"",-1)),ue(" Turno "+K(M),1)]),s("span",SC,K(S.length)+" acciones",1)]),s("div",$C,[($(!0),E(Ne,null,We(S,B=>($(),E("div",{key:B.id,class:it(["log-entry",u(B.action)])},[s("div",EC,[s("div",DC,[s("span",TC,K(p(B.action)),1),s("span",AC,K(B.action),1)]),s("div",IC,K(B.timestamp),1)]),s("div",RC,[s("p",PC,K(B.details),1),B.hpBefore!==B.hpAfter||B.tempHpBefore!==B.tempHpAfter?($(),E("div",HC,[B.hpBefore!==B.hpAfter?($(),E("div",OC,[g[12]||(g[12]=s("span",{class:"change-label"},"HP:",-1)),s("span",{class:it(["change-value",d(B.hpBefore,B.hpAfter)])},K(B.hpBefore)+"  "+K(B.hpAfter),3)])):Se("",!0),B.tempHpBefore!==B.tempHpAfter?($(),E("div",BC,[g[13]||(g[13]=s("span",{class:"change-label"},"HP Temporal:",-1)),s("span",{class:it(["change-value",d(B.tempHpBefore,B.tempHpAfter)])},K(B.tempHpBefore)+"  "+K(B.tempHpAfter),3)])):Se("",!0)])):Se("",!0)])],2))),128))])]))),128))]))]),s("div",{class:"logs-actions"},[s("button",{onClick:x,class:"action-btn btn-clear"},g[14]||(g[14]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Limpiar Logs",-1)])),s("button",{onClick:m,class:"action-btn btn-export"},g[15]||(g[15]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Exportar Logs",-1)])),s("button",{onClick:v,class:"action-btn btn-character"},g[16]||(g[16]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Volver al Personaje",-1)]))])]))}},LC=Tt(MC,[["__scopeId","data-v-e48a34f0"]]),uf=co("dm",{state:()=>({characters:[],currentTurn:0,isTurnActive:!1,criticalHit:{rule:"default",characterLevel:1}}),getters:{aliveCharacters:e=>e.characters.filter(t=>t.currentHp>0),deadCharacters:e=>e.characters.filter(t=>t.currentHp<=0),aliveCount:e=>e.aliveCharacters.length,deadCount:e=>e.deadCharacters.length,getCharacterById:e=>t=>e.characters.find(n=>n.id===t),getCharacterByName:e=>t=>e.characters.find(n=>n.name===t),charactersByHp:e=>[...e.characters].sort((t,n)=>t.currentHp+t.tempHp-(n.currentHp+n.tempHp)),charactersByName:e=>[...e.characters].sort((t,n)=>t.name.localeCompare(n.name))},actions:{createCharacter(e,t,n=0,o="",a="",r="",i="",l="",c="",u="",p="",d="",m="",v=""){const x={id:ht(),name:e.trim(),maxHp:parseInt(t),originalMaxHp:parseInt(t),currentHp:parseInt(t),tempHp:0,regeneration:parseInt(n)||0,xp:o,resistencias:a,inmunidades:r,fuerza:i,destreza:l,constitucion:c,inteligencia:u,sabiduria:p,carisma:d,notas:m,ca:v,isConfigured:!0,createdAt:new Date().toISOString(),logs:[],defeatedBy:null,attacks:[]};return this.characters.push(x),this.addLogToCharacter(x.id,"Creacin",`${e} creado con ${t} HP`),this.saveData(),x},deleteCharacter(e){const t=this.characters.findIndex(n=>n.id===e);return t!==-1?(this.characters.splice(t,1),this.saveData(),!0):!1},editCharacter(e,t){const n=this.getCharacterById(e);return n?(Object.assign(n,t),t.maxHp!==void 0&&(n.maxHp=parseInt(t.maxHp,10)),t.currentHp!==void 0&&(n.currentHp=parseInt(t.currentHp,10)),t.regeneration!==void 0&&(n.regeneration=parseInt(t.regeneration,10)||0),this.addLogToCharacter(e,"Edicin","Personaje editado"),this.saveData(),!0):!1},addLogToCharacter(e,t,n){const o=this.getCharacterById(e);if(o){const a={id:ht(),timestamp:new Date().toLocaleTimeString(),turn:this.currentTurn,action:t,details:n};o.logs.unshift(a),o.logs.length>50&&(o.logs.length=50)}},healCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.currentHp;return n.currentHp=Math.min(n.maxHp,n.currentHp+parseInt(t)),n.currentHp>o&&(this.addLogToCharacter(e,"Curacin",`+${n.currentHp-o} HP`),this.saveData()),n.currentHp-o}return 0},addTempHpToCharacter(e,t){const n=this.getCharacterById(e);return n?(n.tempHp+=parseInt(t),this.addLogToCharacter(e,"Vida Temporal",`+${t} HP temporal`),this.saveData(),n.tempHp):0},damageCharacter(e,t,n=!1){const o=this.getCharacterById(e);if(o){let a=parseInt(t);const r=Math.min(a,o.tempHp);return o.tempHp-=r,a-=r,o.currentHp=Math.max(0,o.currentHp-a),n&&(o.maxHp=Math.max(1,o.maxHp-a)),this.addLogToCharacter(e,"Dao Recibido",`-${t} HP`),this.saveData(),{damageDealt:t,remainingHp:o.currentHp}}return null},setDefeatedBy(e,t){const n=this.getCharacterById(e);return n?(n.defeatedBy=t,this.saveData(),!0):!1},resetCharacterToMaxHp(e){const t=this.getCharacterById(e);return t?(t.currentHp=t.originalMaxHp,t.maxHp=t.originalMaxHp,t.tempHp=0,t.defeatedBy=null,this.addLogToCharacter(e,"Reset HP","HP restaurado al mximo"),this.saveData(),!0):!1},reviveCharacter(e,t=1){const n=this.getCharacterById(e);return n&&n.currentHp<=0?(n.currentHp=Math.min(parseInt(t)||1,n.maxHp),n.tempHp=0,n.defeatedBy=null,this.addLogToCharacter(e,"Revivir",`Personaje revivido con ${n.currentHp} HP`),this.saveData(),!0):!1},startTurn(){this.currentTurn++,this.isTurnActive=!0,this.characters.forEach(e=>{e.regeneration>0&&e.currentHp>0&&this.healCharacter(e.id,e.regeneration)}),this.saveData()},endTurn(){this.isTurnActive=!1,this.saveData()},resetAllTurns(){this.currentTurn=0,this.isTurnActive=!1,this.saveData()},resetAllCharacters(){this.characters.forEach(e=>this.resetCharacterToMaxHp(e.id))},clearAllLogs(){this.characters.forEach(e=>{e.logs=[]}),this.saveData()},duplicateCharacter(e){const t=this.getCharacterById(e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=ht(),n.name=`${t.name} (Copia)`,this.characters.push(n),this.addLogToCharacter(n.id,"Clonacin",`Clonado de ${t.name}`),this.saveData()}},clearAllData(){this.characters=[],this.currentTurn=0,this.isTurnActive=!1,this.saveData()},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveData()},addAttackToCharacter(e,t){const n=this.getCharacterById(e);n&&(n.attacks.push({...t,id:ht()}),this.saveData())},updateAttackInCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.attacks.findIndex(a=>a.id===t.id);o!==-1&&(n.attacks[o]=t,this.saveData())}},deleteAttackFromCharacter(e,t){const n=this.getCharacterById(e);n&&(n.attacks=n.attacks.filter(o=>o.id!==t),this.saveData())},duplicateAttackInCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.attacks.find(a=>a.id===t);if(o){const a={...o,id:ht(),name:`${o.name} (Copia)`},r=n.attacks.findIndex(i=>i.id===t);n.attacks.splice(r+1,0,a),this.saveData()}}},updateCharacterAttackOrder(e,t){const n=this.getCharacterById(e);n&&(n.attacks=t.map(o=>n.attacks.find(a=>a.id===o)).filter(Boolean),this.saveData())},saveData(){const e=yt(),t={characters:this.characters,currentTurn:this.currentTurn,isTurnActive:this.isTurnActive,criticalHit:this.criticalHit};e.updateSection("dm",t)},loadData(){const t=yt().getSection("dm");t&&(this.characters=t.characters||[],this.currentTurn=t.currentTurn||0,this.isTurnActive=t.isTurnActive||!1,this.criticalHit=t.criticalHit||{rule:"default",characterLevel:1},this.characters.forEach(n=>{n.attacks||(n.attacks=[])}))}}}),NC=["Acrobacias","Arcanos","Atletismo","Engao","Historia","Interpretacin","Intimidacin","Investigacin","Juego de Manos","Medicina","Naturaleza","Percepcin","Perspicacia","Persuasin","Religin","Sigilo","Supervivencia","Trato con Animales"],yc=()=>NC.map(e=>({id:ht(),name:e,value:0,step:1,isVisible:!0})),df=co("player",{state:()=>({players:[]}),getters:{mostUsedXpValues:e=>{const t=e.players.flatMap(n=>n.xpHistory||[]).reduce((n,o)=>(n[o.amount]=(n[o.amount]||0)+1,n),{});return Object.entries(t).sort(([,n],[,o])=>o-n).slice(0,3).map(([n])=>parseInt(n))}},actions:{loadData(){const t=yt().getSection("players");t&&(this.players=t.map(n=>({...n,counters:n.counters||yc()})))},saveData(){yt().updateSection("players",this.players)},addPlayer(e){if(!e||!e.trim())return;const t={id:ht(),name:e.trim(),sessionXp:0,xpHistory:[],notes:"",counters:yc()};this.players.push(t),this.saveData()},deletePlayer(e){this.players=this.players.filter(t=>t.id!==e),this.saveData()},addXpToPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&t>0&&(n.sessionXp=(n.sessionXp||0)+parseInt(t),n.xpHistory||(n.xpHistory=[]),n.xpHistory.push({amount:parseInt(t),timestamp:new Date().toISOString()}),this.saveData())},addXpToAllPlayers(e){e>0&&this.players.forEach(t=>this.addXpToPlayer(t.id,e))},startNewSession(){this.players.forEach(e=>{e.sessionXp=0,e.xpHistory=[]}),this.saveData()},removeXpFromPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&t>0&&(n.sessionXp-=parseInt(t),n.xpHistory.push({amount:-parseInt(t),timestamp:new Date().toISOString()}),this.saveData())},editPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&(Object.assign(n,t),this.saveData())},_getPlayer(e){return this.players.find(t=>t.id===e)},addCounter(e,t){const n=this._getPlayer(e);n&&(n.counters.push({id:ht(),name:t.name||"Nuevo Contador",value:t.value||0,step:t.step||1,isVisible:!0}),this.saveData())},editCounter(e,t,n){const o=this._getPlayer(e),a=o==null?void 0:o.counters.find(r=>r.id===t);a&&(Object.assign(a,n),this.saveData())},deleteCounter(e,t){const n=this._getPlayer(e);n&&(n.counters=n.counters.filter(o=>o.id!==t),this.saveData())},updateCounterValue(e,t,n){const o=this._getPlayer(e),a=o==null?void 0:o.counters.find(r=>r.id===t);a&&(a.value+=n,this.saveData())}}}),VC={key:0,class:"content"},jC={class:"turn-controls"},FC=["disabled"],UC=["disabled"],zC={key:0,class:"initiative-list"},qC=["draggable","onDragstart","onDrop","onTouchstart","onClick"],WC={class:"turn-indicator"},KC={class:"turn-number"},YC={class:"item-name"},XC={key:0,class:"mobile-reorder-buttons"},GC=["onClick","disabled"],JC=["onClick","disabled"],QC=["onClick"],ZC={key:1,class:"empty-list"},ex={class:"add-character-section"},tx=["disabled"],nx={__name:"DraggableList",props:{characters:{type:Array,required:!0},players:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,a=nn({x:100,y:100}),r=he(!1),i=he([]),l=he(null),c=he(""),u=he(null),p=he(window.innerWidth<=768);let d=!1,m=null,v=null;const x=Qe(()=>window.innerWidth<=768?{}:{top:a.y+"px",left:a.x+"px"}),w=()=>{o("close")},g=()=>{window.innerWidth<=768&&o("close")},S=Qe(()=>{const O=n.characters.map(ae=>({...ae,type:"character"}));return[...n.players.map(ae=>({...ae,type:"player"})),...O]});un(S,O=>{const H=[],ae=new Set(O.map(Y=>Y.id));i.value.forEach(Y=>{ae.has(Y.id)&&H.push(Y)});const Pe=new Set(H.map(Y=>Y.id));O.forEach(Y=>{Pe.has(Y.id)||H.push(Y)}),i.value=H},{immediate:!0,deep:!0}),qt(()=>{const O=()=>{p.value=window.innerWidth<=768};window.addEventListener("resize",O),lo(()=>{window.removeEventListener("resize",O)})});const M=O=>{if(window.innerWidth<=768)return;d=!0;const H=O.clientX-a.x,ae=O.clientY-a.y,Pe=N=>{d&&(a.x=N.clientX-H,a.y=N.clientY-ae)},Y=()=>{d=!1,window.removeEventListener("mousemove",Pe),window.removeEventListener("mouseup",Y)};window.addEventListener("mousemove",Pe),window.addEventListener("mouseup",Y)},B=()=>{r.value=!r.value},L=O=>{m=O},D=O=>{if(m===null||m===O)return;const H=i.value.splice(m,1)[0];i.value.splice(O,0,H),l.value!==null&&(m===l.value?l.value=O:m<l.value&&O>=l.value?l.value--:m>l.value&&O<=l.value&&l.value++),m=null,u.value=null},se=(O,H)=>{if(H.target.closest("button"))return;const ae=H.touches[0];v={startIndex:O,startY:ae.clientY,currentIndex:O,moving:!1},u.value=O,H.preventDefault()},te=O=>{if(!v)return;const H=O.touches[0],ae=H.clientY-v.startY;if(Math.abs(ae)>10&&(v.moving=!0),!v.moving)return;const Pe=document.querySelectorAll(".initiative-list li");let Y=v.startIndex;if(Pe.forEach((N,J)=>{const X=N.getBoundingClientRect();X.top+X.height/2,H.clientY>X.top&&H.clientY<X.bottom&&(Y=J)}),Y!==v.currentIndex){const N=i.value.splice(v.currentIndex,1)[0];i.value.splice(Y,0,N),l.value!==null&&(v.currentIndex===l.value?l.value=Y:v.currentIndex<l.value&&Y>=l.value?l.value--:v.currentIndex>l.value&&Y<=l.value&&l.value++),v.currentIndex=Y}O.preventDefault()},re=()=>{v=null,u.value=null},V=O=>{if(O===0)return;const H=i.value.splice(O,1)[0];i.value.splice(O-1,0,H),l.value!==null&&(l.value===O?l.value=O-1:l.value===O-1&&(l.value=O))},R=O=>{if(O===i.value.length-1)return;const H=i.value.splice(O,1)[0];i.value.splice(O+1,0,H),l.value!==null&&(l.value===O?l.value=O+1:l.value===O+1&&(l.value=O))},ee=O=>{l.value=O},ge=()=>{i.value.length!==0&&(l.value===null?l.value=0:l.value=(l.value+1)%i.value.length)},q=()=>{i.value.length>0?l.value=0:l.value=null},W=()=>{if(!c.value.trim())return;const O={id:ht(),name:c.value.trim(),type:"custom"};i.value.push(O),c.value=""},U=O=>{i.value.splice(O,1),l.value!==null&&(O===l.value?i.value.length>0?l.value=Math.min(l.value,i.value.length-1):l.value=null:O<l.value&&l.value--)};return(O,H)=>($(),E("div",{class:"draggable-list-overlay",onClick:Je(g,["self"])},[s("div",{class:"draggable-list",style:kn(x.value)},[s("div",{class:"header",onMousedown:M},[H[4]||(H[4]=s("span",null," Orden de Iniciativa",-1)),s("button",{onClick:B,class:"minimize-btn"},K(r.value?"":""),1),s("button",{onClick:w,class:"close-btn"},"")],32),r.value?Se("",!0):($(),E("div",VC,[s("div",jC,[s("button",{onClick:ge,class:"btn-next-turn",disabled:i.value.length===0},H[5]||(H[5]=[s("i",{class:"bi bi-arrow-right-circle-fill"},null,-1),ue(" Siguiente Turno ")]),8,FC),s("button",{onClick:q,class:"btn-reset-turn",disabled:i.value.length===0},H[6]||(H[6]=[s("i",{class:"bi bi-arrow-counterclockwise"},null,-1),ue(" Resetear ")]),8,UC)]),i.value.length>0?($(),E("ul",zC,[($(!0),E(Ne,null,We(i.value,(ae,Pe)=>($(),E("li",{key:ae.id,class:it([ae.type,{active:l.value===Pe,dragging:u.value===Pe}]),draggable:!p.value,onDragstart:Y=>L(Pe),onDragover:H[0]||(H[0]=Je(()=>{},["prevent"])),onDrop:Y=>D(Pe),onTouchstart:Y=>p.value?null:se(Pe,Y),onTouchmove:H[1]||(H[1]=Y=>p.value?null:te(Y)),onTouchend:H[2]||(H[2]=Y=>p.value?null:re),onClick:Y=>ee(Pe)},[s("div",WC,[s("span",KC,K(Pe+1),1)]),s("i",{class:it(["bi item-icon",ae.type==="player"?"bi-person-fill":"bi-shield-fill"])},null,2),s("span",YC,K(ae.name),1),p.value&&i.value.length>1?($(),E("div",XC,[s("button",{onClick:Je(Y=>V(Pe),["stop"]),class:"btn-reorder btn-up",disabled:Pe===0,title:"Mover arriba"},H[7]||(H[7]=[s("i",{class:"bi bi-chevron-up"},null,-1)]),8,GC),s("button",{onClick:Je(Y=>R(Pe),["stop"]),class:"btn-reorder btn-down",disabled:Pe===i.value.length-1,title:"Mover abajo"},H[8]||(H[8]=[s("i",{class:"bi bi-chevron-down"},null,-1)]),8,JC)])):Se("",!0),s("button",{onClick:Je(Y=>U(Pe),["stop"]),class:"btn-remove",title:"Quitar de iniciativa"},H[9]||(H[9]=[s("i",{class:"bi bi-x"},null,-1)]),8,QC)],42,qC))),128))])):($(),E("div",ZC,H[10]||(H[10]=[s("p",null,"No hay personajes en la iniciativa",-1),s("small",null,"Aade jugadores desde el gestor o personajes manualmente",-1)]))),s("div",ex,[oe(s("input",{"onUpdate:modelValue":H[3]||(H[3]=ae=>c.value=ae),onKeyup:xn(W,["enter"]),type:"text",placeholder:"Aadir personaje/enemigo...",class:"input-add-character"},null,544),[[ye,c.value]]),s("button",{onClick:W,disabled:!c.value.trim(),class:"btn-add-character"},H[11]||(H[11]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1)]),8,tx)])]))],4)]))}},ox=Tt(nx,[["__scopeId","data-v-d8552edf"]]),sx={class:"header-actions"},ax={key:0,class:"content"},rx={class:"dice-config"},ix={class:"config-row"},lx={class:"config-row"},cx={class:"config-row"},ux=["disabled"],dx={key:0,class:"bi bi-dice-1"},fx={key:1,class:"bi bi-arrow-clockwise rotating"},px={key:0,class:"result-section"},mx={class:"current-result"},hx={class:"result-formula"},gx={class:"result-total"},vx={class:"dice-breakdown"},bx={class:"dice-values"},wx={key:0,class:"modifier-display"},yx={class:"history-section"},Cx={class:"history-list"},xx={class:"history-formula"},_x={class:"history-result"},kx={class:"history-time"},Sx={key:0,class:"no-history"},Cc="diceRollerHistory",$x={__name:"DiceRoller",props:{characters:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=t,o=nn({x:200,y:150}),a=he(!1),r=he(1),i=he(20),l=he(0),c=he(null),u=he([]),p=he(!1);let d=!1;const m=Qe(()=>window.innerWidth<=768?{}:{top:o.y+"px",left:o.x+"px"}),v=()=>{n("close")},x=()=>{window.innerWidth<=768&&n("close")};qt(()=>{const D=localStorage.getItem(Cc);if(D)try{u.value=JSON.parse(D)}catch(se){console.error("Error loading dice history:",se),u.value=[]}window.innerWidth>768&&(o.x=Math.random()*300+200,o.y=Math.random()*200+100)}),un(u,D=>{localStorage.setItem(Cc,JSON.stringify(D))},{deep:!0});const w=D=>{if(window.innerWidth<=768)return;d=!0;const se=D.clientX-o.x,te=D.clientY-o.y,re=R=>{d&&(o.x=Math.max(0,Math.min(window.innerWidth-320,R.clientX-se)),o.y=Math.max(0,Math.min(window.innerHeight-100,R.clientY-te)))},V=()=>{d=!1,window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",V)};window.addEventListener("mousemove",re),window.addEventListener("mouseup",V)},g=()=>{a.value=!a.value},S=D=>Math.floor(Math.random()*D)+1,M=async()=>{p.value=!0,await new Promise(V=>setTimeout(V,500));const D=[];for(let V=0;V<r.value;V++)D.push(S(i.value));const te=D.reduce((V,R)=>V+R,0)+l.value,re={id:Date.now(),rolls:D,modifier:l.value,total:te,formula:`${r.value}d${i.value}${l.value>0?"+"+l.value:l.value<0?l.value:""}`,time:new Date().toLocaleTimeString()};c.value=re,u.value.push(re),u.value.length>50&&(u.value=u.value.slice(-50)),p.value=!1},B=D=>{if(i.value===20){if(D===20)return"crit-success";if(D===1)return"crit-fail"}const se=D/i.value;return se>=.8?"high-roll":se<=.2?"low-roll":"normal-roll"},L=()=>{confirm("Ests seguro de que quieres limpiar el historial?")&&(u.value=[],c.value=null)};return(D,se)=>($(),E("div",{class:"dice-roller-overlay",onClick:Je(x,["self"])},[s("div",{class:"dice-roller",style:kn(m.value)},[s("div",{class:"header",onMousedown:w},[se[3]||(se[3]=s("span",null,[s("i",{class:"bi bi-dice-6"}),ue(" Lanzar Dados")],-1)),s("div",sx,[s("button",{onClick:g,class:"minimize-btn"},K(a.value?"+":"-"),1),s("button",{onClick:v,class:"close-btn"},"")])],32),a.value?Se("",!0):($(),E("div",ax,[s("div",rx,[s("div",ix,[se[4]||(se[4]=s("label",null,"Cantidad:",-1)),oe(s("input",{type:"number","onUpdate:modelValue":se[0]||(se[0]=te=>r.value=te),class:"dice-count-input"},null,512),[[ye,r.value]])]),s("div",lx,[se[6]||(se[6]=s("label",null,"Tipo:",-1)),oe(s("select",{"onUpdate:modelValue":se[1]||(se[1]=te=>i.value=te)},se[5]||(se[5]=[so('<option value="4" data-v-c4397ffc>d4</option><option value="6" data-v-c4397ffc>d6</option><option value="8" data-v-c4397ffc>d8</option><option value="10" data-v-c4397ffc>d10</option><option value="12" data-v-c4397ffc>d12</option><option value="20" data-v-c4397ffc>d20</option><option value="100" data-v-c4397ffc>d100</option>',7)]),512),[[Ht,i.value]])]),s("div",cx,[se[7]||(se[7]=s("label",null,"Modificador:",-1)),oe(s("input",{"onUpdate:modelValue":se[2]||(se[2]=te=>l.value=te),type:"number",class:"modifier-input",placeholder:"+0"},null,512),[[ye,l.value,void 0,{number:!0}]])])]),s("button",{onClick:M,class:"roll-button",disabled:p.value},[p.value?($(),E("i",fx)):($(),E("i",dx)),ue(" "+K(p.value?"Lanzando...":"Lanzar Dados"),1)],8,ux),c.value?($(),E("div",px,[s("div",mx,[s("div",hx,K(r.value)+"d"+K(i.value)+K(l.value>0?"+"+l.value:l.value<0?l.value:""),1),s("div",gx,K(c.value.total),1)]),s("div",vx,[s("div",bx,[($(!0),E(Ne,null,We(c.value.rolls,(te,re)=>($(),E("span",{key:re,class:it(["dice-value",B(te)])},K(te),3))),128))]),l.value!==0?($(),E("div",wx,K(l.value>0?"+":"")+K(l.value),1)):Se("",!0)])])):Se("",!0),s("div",yx,[s("div",{class:"history-header"},[se[8]||(se[8]=s("span",null,"Historial",-1)),s("button",{onClick:L,class:"clear-btn"},"Limpiar")]),s("div",Cx,[($(!0),E(Ne,null,We(u.value.slice().reverse(),te=>($(),E("div",{key:te.id,class:"history-item"},[s("div",xx,K(te.formula),1),s("div",_x,K(te.total),1),s("div",kx,K(te.time),1)]))),128)),u.value.length===0?($(),E("div",Sx," Sin tiradas an ")):Se("",!0)])])]))],4)]))}},Ex=Tt($x,[["__scopeId","data-v-c4397ffc"]]);function ff(e,t=!1,n={rule:"default",characterLevel:1}){let o;t?o=lf(e,n):o=za(e);const a=c=>c.map(u=>`<span class="roll-value ${u.isReplaced?"replaced":""}">${u.value}</span>`).join(", "),r=c=>{if(!c)return"";let u='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const p in c)u+=`<div class="reroll-type"><strong>${p}:</strong> [${c[p].join(", ")}]</div>`;return u+="</div>",u},i=(c,u=null)=>{let p='<div class="attack-result-modal">';p+=`<h3 class="dnd-title-modern">${c.name}</h3>`;for(const d in c.results){const m=c.results[d],v=si(d),w=(oo.find(g=>g.id===d)||{name:d}).name.toUpperCase();p+=`
                <div class="damage-type-block-modern" style="border-left-color: ${v};">
                    <div class="damage-header">
                        <span class="damage-type-modern" style="color: ${v};">${w}</span>
                        <span class="damage-total-modern">${m.total}</span>
                    </div>
                    <div class="damage-details">
                        <span><strong>Tiradas:</strong> [${a(m.rolls)}]</span>
                        <span><strong>Bonus:</strong> ${m.bonus>0?"+":""}${m.bonus}</span>
                    </div>
            `,m.lifeSteal&&(p+=`
                    <div class="lifesteal-details">
                        <i class="bi bi-heart-fill"></i>
                        <span><strong>Curado:</strong> ${m.lifeSteal.healed} (${m.lifeSteal.percentage_display})</span>
                    </div>
                `),p+="</div>"}return p+=r(u),p+=`<div class="grand-total-modern">Dao Total: ${c.grandTotal}</div>`,c.totalHealed>0&&(p+=`<div class="total-healed-modern">Curacin Total: ${c.totalHealed}</div>`),p+="</div>",p};let l=null;$e.fire({width:600,html:i(o),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:e.rerollDice&&e.rerollDice.length>0,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{const c="dnd-modern-modal-styles";if(document.getElementById(c))return;const u=document.createElement("style");u.id=c,u.innerHTML=`
                .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
                .dnd-modern-swal-container { padding: 0 !important; }
                .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.5rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; }
                .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
                .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 15px; padding: 15px; border-radius: 4px; }
                .damage-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
                .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.5rem; }
                .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.8rem; color: #ff4d4d; }
                .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 20px; padding: 10px; border-radius: 5px; }
                .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
                .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
                .lifesteal-details { color: #4dff7e; }
                .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
                .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
                .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
                .reroll-type { margin-bottom: 5px; padding-left: 10px; }
                .swal2-actions { gap: 15px !important; }
                .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
                .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`,document.head.appendChild(u)},preDeny:()=>(l=qa(e.rerollDice),$e.update({html:i(o,l),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const c=document.getElementById("swal-replace-btn");c&&(c.onclick=()=>{l||(l=qa(e.rerollDice)),o=cf(o,l),$e.update({html:i(o,l),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1)})}const Dx={class:"attack-manager-container"},Tx={class:"header"},Ax={class:"header-actions"},Ix={class:"content"},Rx={class:"attacks-list"},Px={key:0,class:"no-attacks"},Hx=["data-id"],Ox={class:"header-attack"},Bx={class:"attack-info"},Mx={class:"attack-name"},Lx={class:"attack-summary"},Nx={class:"attack-actions"},Vx=["onClick"],jx=["onClick"],Fx=["onClick"],Ux=["onClick"],zx=["onClick"],qx={class:"new-attack-area"},Wx={class:"attack-form"},Kx={class:"attack-form-header"},Yx={class:"attack-form-content"},Xx={class:"form-group"},Gx={class:"damage-rolls-section"},Jx={class:"damage-roll-header"},Qx={class:"damage-roll-title"},Zx=["onClick","disabled"],e_={class:"damage-roll-inputs"},t_={class:"form-group-inline"},n_=["for"],o_=["id","onUpdate:modelValue"],s_={class:"form-group-inline"},a_=["for"],r_=["id","onUpdate:modelValue"],i_={class:"form-group-inline"},l_=["for"],c_=["id","onUpdate:modelValue"],u_=["value"],d_={class:"form-group-inline"},f_=["for"],p_=["id","onUpdate:modelValue"],m_={class:"form-group-inline"},h_=["for"],g_=["id","onUpdate:modelValue"],v_={class:"form-group-inline"},b_=["for"],w_=["id","onUpdate:modelValue"],y_={class:"damage-rolls-section"},C_={key:0,class:"empty-state"},x_={class:"damage-roll-header"},__={class:"damage-roll-title"},k_=["onClick"],S_={class:"damage-roll-inputs reroll-inputs"},$_={class:"form-group-inline"},E_=["for"],D_=["id","onUpdate:modelValue"],T_={class:"form-group-inline"},A_=["for"],I_=["id","onUpdate:modelValue"],R_={class:"form-group-inline"},P_=["for"],H_=["id","onUpdate:modelValue"],O_={class:"form-actions"},B_={class:"attack-form settings-form"},M_={class:"attack-form-header"},L_={class:"attack-form-content"},N_={class:"form-group"},V_={key:0,class:"form-group"},j_={key:0,class:"dad-bonus-display"},F_={class:"form-actions"},U_={__name:"DMAttackManager",props:{characterId:{type:[String,Number],required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,o=uf(),a=Qe(()=>o.getCharacterById(n.characterId)),r=Qe(()=>a.value?a.value.attacks:[]),i=he(!1),l=he(!1),c=he(!1),u=nn({rule:"default",characterLevel:1}),p=Qe(()=>u.rule!=="dad"?0:calculateDadBonus(u.characterLevel)),d=nn({id:null,name:"",damageRolls:[],rerollDice:[]});qt(()=>{document.body.style.overflow="hidden",$o(()=>{const V=document.querySelector(".attacks-list");V&&new Me(V,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:ge=>{const q=Array.from(ge.target.children).map(W=>W.dataset.id).filter(W=>W);o.updateCharacterAttackOrder(n.characterId,q)}});const R=document.querySelector(".attack-manager-overlay"),ee=document.querySelector(".content");if(R&&ee){const ge=q=>{q.target.closest(".attack-form-overlay")||(q.preventDefault(),ee.scrollTop+=q.deltaY)};R.addEventListener("wheel",ge,{passive:!1}),R._wheelHandler=ge}})}),lo(()=>{document.body.style.overflow="";const V=document.querySelector(".attack-manager-overlay");V&&V._wheelHandler&&V.removeEventListener("wheel",V._wheelHandler)});const m=V=>{if(!V||!V.includes("d"))return{numDice:1,diceType:6};const[R,ee]=V.split("d");return{numDice:Number(R)||1,diceType:Number(ee)||6}},v=V=>{const R=JSON.parse(JSON.stringify(V));R.damageRolls.forEach(ee=>{const{numDice:ge,diceType:q}=m(ee.dice);ee.numDice=ge,ee.diceType=q,ee.lifeSteal||(ee.lifeSteal={percentage:0})}),R.rerollDice?R.rerollDice.forEach(ee=>{const{numDice:ge,diceType:q}=m(ee.dice);ee.numDice=ge,ee.diceType=q}):R.rerollDice=[],d.id=R.id,d.name=R.name,d.damageRolls.splice(0,d.damageRolls.length,...R.damageRolls),d.rerollDice.splice(0,d.rerollDice.length,...R.rerollDice),i.value=!0},x=()=>{l.value=!1,v({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},w=V=>{l.value=!0,v(V)},g=V=>{o.duplicateAttackInCharacter(n.characterId,V.id)},S=()=>{i.value=!1},M=()=>{d.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},B=V=>{d.damageRolls.splice(V,1)},L=()=>{d.rerollDice||(d.rerollDice=[]),d.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},D=V=>{d.rerollDice.splice(V,1)},se=()=>{if(!d.name){$e.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const V=JSON.parse(JSON.stringify(d));V.damageRolls.forEach(R=>{R.dice=`${R.numDice||1}d${R.diceType||6}`,delete R.numDice,delete R.diceType}),V.rerollDice&&V.rerollDice.forEach(R=>{R.dice=`${R.numDice||1}d${R.diceType||6}`,delete R.numDice,delete R.diceType}),l.value?o.updateAttackInCharacter(n.characterId,V):o.addAttackToCharacter(n.characterId,V),S()},te=V=>{$e.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(R=>{R.isConfirmed&&(o.deleteAttackFromCharacter(n.characterId,V),$e.fire("Eliminado","El ataque ha sido eliminado.","success"))})},re=(V,R=!1)=>{ff(V,R,o.criticalHit)};return(V,R)=>($(),E("div",{class:"attack-manager-overlay",onClick:R[10]||(R[10]=Je(ee=>V.$emit("close"),["self"]))},[s("div",Dx,[s("div",Tx,[R[12]||(R[12]=s("h2",null,[s("i",{class:"bi bi-shield-fill"}),ue(" Gestor de Ataques del DM")],-1)),s("div",Ax,[s("button",{onClick:R[0]||(R[0]=(...ee)=>V.showSettingsForm&&V.showSettingsForm(...ee)),class:"settings-btn"},R[11]||(R[11]=[s("i",{class:"bi bi-gear-fill"},null,-1)])),s("button",{onClick:R[1]||(R[1]=ee=>V.$emit("close")),class:"close-btn"},"")])]),s("div",Ix,[s("div",Rx,[r.value.length===0?($(),E("div",Px," No hay ataques guardados para el DM. Crea uno nuevo! ")):Se("",!0),($(!0),E(Ne,null,We(r.value,ee=>($(),E("div",{key:ee.id,class:"attack-item","data-id":ee.id},[s("div",Ox,[R[13]||(R[13]=s("div",{class:"drag-handle"},[s("i",{class:"bi bi-grip-vertical"})],-1)),s("div",Bx,[s("span",Mx,K(ee.name),1),s("div",Lx,[($(!0),E(Ne,null,We(ee.damageRolls,(ge,q)=>($(),E("span",{key:q,class:"damage-tag"},K(ge.dice)+" "+K(ge.type),1))),128))])])]),s("div",Nx,[s("button",{onClick:ge=>re(ee,!1),class:"action-btn btn-execute"},"Atacar",8,Vx),s("button",{onClick:ge=>re(ee,!0),class:"action-btn btn-critical"},"Crtico",8,jx),s("button",{onClick:ge=>w(ee),class:"action-btn btn-edit"},"Editar",8,Fx),s("button",{onClick:ge=>g(ee),class:"action-btn btn-duplicate"},"Duplicar",8,Ux),s("button",{onClick:ge=>te(ee.id),class:"action-btn btn-delete"},"Eliminar",8,zx)])],8,Hx))),128))]),s("div",qx,[s("button",{onClick:R[2]||(R[2]=ee=>x()),class:"btn-new-attack"},R[14]||(R[14]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),ue(" Crear Nuevo Ataque ")]))]),i.value?($(),E("div",{key:0,class:"attack-form-overlay",onClick:Je(S,["self"])},[s("div",Wx,[s("div",Kx,[s("h3",null,K(l.value?"Editar Ataque":"Nuevo Ataque"),1),s("button",{onClick:S,class:"form-close-btn","aria-label":"Cerrar formulario"},R[15]||(R[15]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",Yx,[s("div",Xx,[R[16]||(R[16]=s("label",{for:"attack-name"},"Nombre del Ataque",-1)),oe(s("input",{id:"attack-name",type:"text","onUpdate:modelValue":R[3]||(R[3]=ee=>d.name=ee),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[ye,d.name]])]),s("div",Gx,[R[20]||(R[20]=s("h4",null,[s("i",{class:"bi bi-dice-6-fill"}),ue(" Tiradas de Dao")],-1)),($(!0),E(Ne,null,We(d.damageRolls,(ee,ge)=>($(),E("div",{key:ge,class:"damage-roll-item"},[s("div",Jx,[s("span",Qx,"Dao #"+K(ge+1),1),s("button",{onClick:q=>B(ge),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:d.damageRolls.length===1},R[17]||(R[17]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,Zx)]),s("div",e_,[s("div",t_,[s("label",{for:`dice-num-${ge}`},"Cantidad",8,n_),oe(s("input",{id:`dice-num-${ge}`,type:"number","onUpdate:modelValue":q=>ee.numDice=q,min:"1",max:"20",class:"input-narrow"},null,8,o_),[[ye,ee.numDice,void 0,{number:!0}]])]),s("div",s_,[s("label",{for:`dice-type-${ge}`},"Tipo de Dado",8,a_),oe(s("select",{id:`dice-type-${ge}`,"onUpdate:modelValue":q=>ee.diceType=q},R[18]||(R[18]=[so('<option value="4" data-v-7a55c277>d4</option><option value="6" data-v-7a55c277>d6</option><option value="8" data-v-7a55c277>d8</option><option value="10" data-v-7a55c277>d10</option><option value="12" data-v-7a55c277>d12</option><option value="20" data-v-7a55c277>d20</option><option value="100" data-v-7a55c277>d100</option>',7)]),8,r_),[[Ht,ee.diceType,void 0,{number:!0}]])]),s("div",i_,[s("label",{for:`type-${ge}`},"Tipo de Dao",8,l_),oe(s("select",{id:`type-${ge}`,"onUpdate:modelValue":q=>ee.type=q},[($(!0),E(Ne,null,We(de(oo),q=>($(),E("option",{key:q.id,value:q.id},K(q.name),9,u_))),128))],8,c_),[[Ht,ee.type]])]),s("div",d_,[s("label",{for:`bonus-${ge}`},"Bonus",8,f_),oe(s("input",{id:`bonus-${ge}`,type:"number","onUpdate:modelValue":q=>ee.bonus=q,placeholder:"+3"},null,8,p_),[[ye,ee.bonus,void 0,{number:!0}]])]),s("div",m_,[s("label",{for:`min-${ge}`},"Mnimo",8,h_),oe(s("input",{id:`min-${ge}`,type:"number","onUpdate:modelValue":q=>ee.min=q,placeholder:"1",min:"1"},null,8,g_),[[ye,ee.min,void 0,{number:!0}]])]),s("div",v_,[s("label",{for:`lifesteal-${ge}`},"Robo de Vida (%)",8,b_),oe(s("input",{id:`lifesteal-${ge}`,type:"number","onUpdate:modelValue":q=>ee.lifeSteal.percentage=q,placeholder:"0",min:"0",max:"100"},null,8,w_),[[ye,ee.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:M,class:"btn-add-roll"},R[19]||(R[19]=[s("i",{class:"bi bi-plus-circle"},null,-1),ue(" Aadir Tipo de Dao ")]))]),s("div",y_,[R[25]||(R[25]=s("h4",null,[s("i",{class:"bi bi-arrow-repeat"}),ue(" Dados de Reroll (Opcional)")],-1)),d.rerollDice.length===0?($(),E("div",C_,R[21]||(R[21]=[s("p",null,"No hay dados de reroll configurados",-1)]))):Se("",!0),($(!0),E(Ne,null,We(d.rerollDice,(ee,ge)=>($(),E("div",{key:ge,class:"damage-roll-item"},[s("div",x_,[s("span",__,"Reroll #"+K(ge+1),1),s("button",{onClick:q=>D(ge),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},R[22]||(R[22]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,k_)]),s("div",S_,[s("div",$_,[s("label",{for:`reroll-dice-num-${ge}`},"Cantidad",8,E_),oe(s("input",{id:`reroll-dice-num-${ge}`,type:"number","onUpdate:modelValue":q=>ee.numDice=q,min:"1",max:"20",class:"input-narrow"},null,8,D_),[[ye,ee.numDice,void 0,{number:!0}]])]),s("div",T_,[s("label",{for:`reroll-dice-type-${ge}`},"Tipo de Dado",8,A_),oe(s("select",{id:`reroll-dice-type-${ge}`,"onUpdate:modelValue":q=>ee.diceType=q},R[23]||(R[23]=[so('<option value="4" data-v-7a55c277>d4</option><option value="6" data-v-7a55c277>d6</option><option value="8" data-v-7a55c277>d8</option><option value="10" data-v-7a55c277>d10</option><option value="12" data-v-7a55c277>d12</option><option value="20" data-v-7a55c277>d20</option><option value="100" data-v-7a55c277>d100</option>',7)]),8,I_),[[Ht,ee.diceType,void 0,{number:!0}]])]),s("div",R_,[s("label",{for:`reroll-min-${ge}`},"Mnimo",8,P_),oe(s("input",{id:`reroll-min-${ge}`,type:"number","onUpdate:modelValue":q=>ee.min=q,placeholder:"1",min:"1"},null,8,H_),[[ye,ee.min,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:L,class:"btn-add-roll"},R[24]||(R[24]=[s("i",{class:"bi bi-plus-circle"},null,-1),ue(" Aadir Dado de Reroll ")]))]),s("div",O_,[s("button",{onClick:se,class:"btn-save"},[R[26]||(R[26]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),ue(" "+K(l.value?"Guardar Cambios":"Crear Ataque"),1)]),s("button",{onClick:S,class:"btn-cancel"},R[27]||(R[27]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),ue(" Cancelar ")]))])])])])):Se("",!0),c.value?($(),E("div",{key:1,class:"attack-form-overlay",onClick:R[9]||(R[9]=Je((...ee)=>V.hideSettingsForm&&V.hideSettingsForm(...ee),["self"]))},[s("div",B_,[s("div",M_,[R[29]||(R[29]=s("h3",null,[s("i",{class:"bi bi-gear-fill"}),ue(" Configuracin de Dao Crtico")],-1)),s("button",{onClick:R[4]||(R[4]=(...ee)=>V.hideSettingsForm&&V.hideSettingsForm(...ee)),class:"form-close-btn","aria-label":"Cerrar configuracin"},R[28]||(R[28]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",L_,[s("div",N_,[R[31]||(R[31]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),oe(s("select",{id:"critical-rule","onUpdate:modelValue":R[5]||(R[5]=ee=>u.rule=ee),class:"settings-select"},R[30]||(R[30]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[Ht,u.rule]])]),u.rule==="dad"?($(),E("div",V_,[R[34]||(R[34]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),oe(s("input",{type:"number",id:"character-level","onUpdate:modelValue":R[6]||(R[6]=ee=>u.characterLevel=ee),min:"1",max:"20",class:"settings-input"},null,512),[[ye,u.characterLevel,void 0,{number:!0}]]),p.value>0?($(),E("div",j_,[R[33]||(R[33]=s("i",{class:"bi bi-lightning-charge-fill"},null,-1)),s("p",null,[R[32]||(R[32]=ue("Bonus de dao por crtico: ")),s("strong",null,"+"+K(p.value),1)])])):Se("",!0)])):Se("",!0),s("div",F_,[s("button",{onClick:R[7]||(R[7]=(...ee)=>V.saveSettings&&V.saveSettings(...ee)),class:"btn-save"},R[35]||(R[35]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),ue(" Guardar ")])),s("button",{onClick:R[8]||(R[8]=(...ee)=>V.hideSettingsForm&&V.hideSettingsForm(...ee)),class:"btn-cancel"},R[36]||(R[36]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),ue(" Cancelar ")]))])])])])):Se("",!0)])])]))}},z_=Tt(U_,[["__scopeId","data-v-7a55c277"]]),q_={class:"player-manager-content"},W_={class:"player-manager-header"},K_={class:"player-manager-body"},Y_={class:"global-controls-player"},X_={class:"add-xp-all"},G_=["disabled"],J_={class:"add-player"},Q_=["disabled"],Z_={class:"player-list"},ek={key:0,class:"empty-state"},tk={class:"player-info"},nk={class:"player-name"},ok={class:"player-xp-total"},sk={class:"player-actions"},ak={class:"add-xp-single"},rk=["onUpdate:modelValue","onKeyup"],ik=["onClick","disabled"],lk=["onClick","disabled"],ck={class:"quick-xp-buttons"},uk=["onClick"],dk={class:"player-footer"},fk=["onClick"],pk=["onClick"],mk=["onClick"],hk=["onClick"],gk=["onClick"],vk={key:0,class:"xp-history"},bk={class:"timestamp"},wk={key:0},yk={key:1,class:"counters-section"},Ck={class:"counters-header"},xk=["onClick"],_k={class:"counters-grid"},kk={class:"counter-name"},Sk={class:"counter-controls"},$k=["onClick"],Ek={class:"counter-value"},Dk=["onClick"],Tk={key:0,class:"empty-state-small"},Ak={key:2,class:"notes-section"},Ik=["onUpdate:modelValue","onInput"],Rk={class:"player-manager-content"},Pk={class:"player-manager-header"},Hk={class:"player-manager-body"},Ok={key:0,class:"edit-form"},Bk={class:"form-group"},Mk={class:"modal-actions"},Lk={class:"player-manager-content"},Nk={class:"player-manager-body"},Vk={class:"add-counter-form"},jk={class:"counter-manage-list"},Fk=["onUpdate:modelValue","onChange"],Uk=["onUpdate:modelValue","onChange"],zk=["onUpdate:modelValue","onChange"],qk={class:"visibility-toggle"},Wk=["checked","onChange"],Kk=["onClick"],Yk={__name:"PlayerManager",emits:["close"],setup(e,{emit:t}){const n=t,o=df(),{players:a,mostUsedXpValues:r}=ko(o),i=he(""),l=he(null),c=he({}),u=he(new Set),p=he(new Set),d=he(new Set),m=he(!1),v=he(null),x=he(!1),w=he(null),g=he([]),S=he({name:"",value:0,step:1}),M=J=>{J.key==="Escape"&&(x.value?H():m.value?m.value=!1:n("close"))};qt(()=>{o.loadData(),document.body.classList.add("modal-open"),a.value.forEach(J=>{c.value[J.id]=null}),document.addEventListener("keydown",M)}),lo(()=>{document.body.classList.remove("modal-open"),document.removeEventListener("keydown",M)});const B=()=>{i.value.trim()&&(o.addPlayer(i.value),i.value="")},L=J=>{$e.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(X=>{X.isConfirmed&&(o.deletePlayer(J),$e.fire("Eliminado!","El jugador ha sido eliminado.","success"))})},D=J=>{const X=c.value[J];X&&X>0&&(o.addXpToPlayer(J,X),c.value[J]=null)},se=J=>{const X=c.value[J];X&&X>0&&(o.removeXpFromPlayer(J,X),c.value[J]=null)},te=(J,X)=>{o.addXpToPlayer(J,X)},re=()=>{l.value&&l.value>0&&(o.addXpToAllPlayers(l.value),l.value=null)},V=()=>{$e.fire({title:"Iniciar una nueva sesin?",text:"Esto resetear la XP de la sesin actual de todos los jugadores a 0.",icon:"question",showCancelButton:!0,confirmButtonText:"S, iniciar",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(J=>{J.isConfirmed&&(o.startNewSession(),$e.fire({title:"Nueva sesin iniciada!",text:"La XP de la sesin ha sido reseteada.",icon:"success",customClass:{container:"high-z-index"}}))})},R=J=>{u.value.has(J)?u.value.delete(J):u.value.add(J)},ee=J=>{v.value={...J},m.value=!0},ge=()=>{v.value&&(o.editPlayer(v.value.id,{name:v.value.name}),m.value=!1,v.value=null)},q=J=>{p.value.has(J)?p.value.delete(J):p.value.add(J)},W=J=>{o.editPlayer(J.id,{notes:J.notes})},U=J=>{d.value.has(J)?d.value.delete(J):d.value.add(J)},O=J=>{w.value=J;const X=a.value.find(pe=>pe.id===J);X&&(g.value=JSON.parse(JSON.stringify(X.counters))),x.value=!0},H=()=>{x.value=!1,w.value=null,g.value=[]},ae=()=>{if(w.value&&S.value.name.trim()){o.addCounter(w.value,{...S.value});const J=a.value.find(X=>X.id===w.value);J&&(g.value=JSON.parse(JSON.stringify(J.counters))),S.value={name:"",value:0,step:1}}},Pe=(J,X)=>{o.editCounter(w.value,J.id,{[X]:J[X]})},Y=J=>{o.editCounter(w.value,J.id,{isVisible:!J.isVisible});const X=g.value.find(pe=>pe.id===J.id);X&&(X.isVisible=!X.isVisible)},N=J=>{$e.fire({title:"Eliminar este contador?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar",customClass:{container:"high-z-index-2"}}).then(X=>{X.isConfirmed&&(o.deleteCounter(w.value,J),g.value=g.value.filter(pe=>pe.id!==J))})};return(J,X)=>($(),E("div",{class:"player-manager-overlay",onClick:X[10]||(X[10]=Je(pe=>J.$emit("close"),["self"]))},[s("div",q_,[s("div",W_,[X[12]||(X[12]=s("h2",null,[s("i",{class:"bi bi-person-badge"}),ue(" Gestin de Jugadores")],-1)),s("button",{onClick:X[0]||(X[0]=pe=>J.$emit("close")),class:"btn-close"},X[11]||(X[11]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",K_,[s("div",Y_,[s("button",{onClick:V,class:"btn btn-warning"},X[13]||(X[13]=[s("i",{class:"bi bi-play-circle"},null,-1),ue(" Iniciar Nueva Sesin ")])),s("div",X_,[oe(s("input",{type:"number","onUpdate:modelValue":X[1]||(X[1]=pe=>l.value=pe),placeholder:"XP para todos",min:"1",onKeyup:xn(re,["enter"])},null,544),[[ye,l.value,void 0,{number:!0}]]),s("button",{onClick:re,disabled:!l.value||l.value<=0,class:"btn btn-info"},X[14]||(X[14]=[s("i",{class:"bi bi-people-fill"},null,-1),ue(" Dar a Todos ")]),8,G_)])]),s("div",J_,[oe(s("input",{type:"text","onUpdate:modelValue":X[2]||(X[2]=pe=>i.value=pe),placeholder:"Nombre del nuevo jugador",onKeyup:xn(B,["enter"])},null,544),[[ye,i.value]]),s("button",{onClick:B,disabled:!i.value.trim(),class:"btn btn-primary"},X[15]||(X[15]=[s("i",{class:"bi bi-plus-circle"},null,-1),ue(" Aadir Jugador ")]),8,Q_)]),s("div",Z_,[de(a).length===0?($(),E("div",ek,X[16]||(X[16]=[s("p",null,"An no hay jugadores. Aade el primero para empezar!",-1)]))):Se("",!0),($(!0),E(Ne,null,We(de(a),pe=>($(),E("div",{key:pe.id,class:"player-card"},[s("div",tk,[s("h3",nk,K(pe.name),1),s("div",ok,[X[17]||(X[17]=ue(" XP Sesin: ")),s("strong",null,K(pe.sessionXp),1)])]),s("div",sk,[s("div",ak,[oe(s("input",{type:"number","onUpdate:modelValue":Ae=>c.value[pe.id]=Ae,placeholder:"Aadir XP",min:"1",class:"xp-input",onKeyup:xn(Ae=>D(pe.id),["enter"])},null,40,rk),[[ye,c.value[pe.id],void 0,{number:!0}]]),s("button",{onClick:Ae=>D(pe.id),disabled:!c.value[pe.id]||c.value[pe.id]<=0,class:"btn btn-success btn-sm"},X[18]||(X[18]=[s("i",{class:"bi bi-plus"},null,-1)]),8,ik),s("button",{onClick:Ae=>se(pe.id),disabled:!c.value[pe.id]||c.value[pe.id]<=0,class:"btn btn-danger btn-sm"},X[19]||(X[19]=[s("i",{class:"bi bi-dash"},null,-1)]),8,lk)]),s("div",ck,[($(!0),E(Ne,null,We(de(r),Ae=>($(),E("button",{key:Ae,onClick:st=>te(pe.id,Ae),class:"btn btn-outline-primary btn-sm"}," +"+K(Ae)+" XP ",9,uk))),128))])]),s("div",dk,[s("button",{onClick:Ae=>R(pe.id),class:"btn btn-link btn-sm"},X[20]||(X[20]=[s("i",{class:"bi bi-clock-history"},null,-1),ue(" Ver Historial ")]),8,fk),s("button",{onClick:Ae=>U(pe.id),class:"btn btn-link btn-sm"},X[21]||(X[21]=[s("i",{class:"bi bi-plus-slash-minus"},null,-1),ue(" Contadores ")]),8,pk),s("button",{onClick:Ae=>q(pe.id),class:"btn btn-link btn-sm"},X[22]||(X[22]=[s("i",{class:"bi bi-journal-text"},null,-1),ue(" Notas ")]),8,mk),s("div",null,[s("button",{onClick:Ae=>ee(pe),class:"btn btn-secondary btn-sm"},X[23]||(X[23]=[s("i",{class:"bi bi-pencil"},null,-1),ue(" Editar ")]),8,hk),s("button",{onClick:Ae=>L(pe.id),class:"btn btn-danger btn-sm"},X[24]||(X[24]=[s("i",{class:"bi bi-trash"},null,-1)]),8,gk)])]),u.value.has(pe.id)?($(),E("div",vk,[X[25]||(X[25]=s("h4",null,"Historial de XP (Sesin)",-1)),s("ul",null,[($(!0),E(Ne,null,We(pe.xpHistory,(Ae,st)=>($(),E("li",{key:st,class:it({"xp-gain":Ae.amount>0,"xp-loss":Ae.amount<0})},[ue(K(Ae.amount>0?"+":"")+K(Ae.amount)+" XP ",1),s("span",bk,K(new Date(Ae.timestamp).toLocaleTimeString()),1)],2))),128)),pe.xpHistory.length===0?($(),E("li",wk," No hay entradas de XP en esta sesin. ")):Se("",!0)])])):Se("",!0),d.value.has(pe.id)?($(),E("div",yk,[s("div",Ck,[X[27]||(X[27]=s("h4",null,"Contadores",-1)),s("button",{onClick:Ae=>O(pe.id),class:"btn btn-secondary btn-sm"},X[26]||(X[26]=[s("i",{class:"bi bi-gear"},null,-1),ue(" Gestionar ")]),8,xk)]),s("div",_k,[($(!0),E(Ne,null,We(pe.counters.filter(Ae=>Ae.isVisible),Ae=>($(),E("div",{key:Ae.id,class:"counter-item"},[s("span",kk,K(Ae.name),1),s("div",Sk,[s("button",{onClick:st=>de(o).updateCounterValue(pe.id,Ae.id,-Ae.step),class:"btn btn-danger btn-sm"},"-",8,$k),s("span",Ek,K(Ae.value),1),s("button",{onClick:st=>de(o).updateCounterValue(pe.id,Ae.id,Ae.step),class:"btn btn-success btn-sm"},"+",8,Dk)])]))),128)),pe.counters.filter(Ae=>Ae.isVisible).length===0?($(),E("div",Tk," No hay contadores visibles. ")):Se("",!0)])])):Se("",!0),p.value.has(pe.id)?($(),E("div",Ak,[oe(s("textarea",{"onUpdate:modelValue":Ae=>pe.notes=Ae,onInput:Ae=>W(pe),placeholder:"Aade tus notas aqu...",class:"notes-textarea"},null,40,Ik),[[ye,pe.notes]])])):Se("",!0)]))),128))])])]),m.value?($(),E("div",{key:0,class:"player-manager-overlay edit-modal",onClick:X[6]||(X[6]=Je(pe=>m.value=!1,["self"]))},[s("div",Rk,[s("div",Pk,[X[29]||(X[29]=s("h2",null,[s("i",{class:"bi bi-pencil-square"}),ue(" Editar Jugador")],-1)),s("button",{onClick:X[3]||(X[3]=pe=>m.value=!1),class:"btn-close"},X[28]||(X[28]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",Hk,[v.value?($(),E("div",Ok,[s("div",Bk,[X[30]||(X[30]=s("label",{for:"playerName"},"Nombre del Jugador",-1)),oe(s("input",{id:"playerName",type:"text","onUpdate:modelValue":X[4]||(X[4]=pe=>v.value.name=pe),class:"form-control"},null,512),[[ye,v.value.name]])]),s("div",Mk,[s("button",{onClick:X[5]||(X[5]=pe=>m.value=!1),class:"btn btn-secondary"}," Cancelar "),s("button",{onClick:ge,class:"btn btn-primary"}," Guardar Cambios ")])])):Se("",!0)])])])):Se("",!0),x.value?($(),E("div",{key:1,class:"player-manager-overlay edit-modal",onClick:Je(H,["self"])},[s("div",Lk,[s("div",{class:"player-manager-header"},[X[32]||(X[32]=s("h2",null,[s("i",{class:"bi bi-gear"}),ue(" Gestionar Contadores")],-1)),s("button",{onClick:H,class:"btn-close"},X[31]||(X[31]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",Nk,[s("div",Vk,[oe(s("input",{type:"text","onUpdate:modelValue":X[7]||(X[7]=pe=>S.value.name=pe),placeholder:"Nombre"},null,512),[[ye,S.value.name]]),oe(s("input",{type:"number","onUpdate:modelValue":X[8]||(X[8]=pe=>S.value.value=pe),placeholder:"Valor inicial"},null,512),[[ye,S.value.value,void 0,{number:!0}]]),oe(s("input",{type:"number","onUpdate:modelValue":X[9]||(X[9]=pe=>S.value.step=pe),placeholder:"Paso (+/-)"},null,512),[[ye,S.value.step,void 0,{number:!0}]]),s("button",{onClick:ae,class:"btn btn-primary"},"Aadir")]),s("div",jk,[X[35]||(X[35]=s("div",{class:"counter-manage-header-labels"},[s("span",null,"Nombre"),s("span",null,"Valor"),s("span",null,"Paso"),s("span",null,"Visible"),s("span",null,"Acciones")],-1)),($(!0),E(Ne,null,We(g.value,pe=>($(),E("div",{key:pe.id,class:"counter-manage-item"},[oe(s("input",{type:"text","onUpdate:modelValue":Ae=>pe.name=Ae,onChange:Ae=>Pe(pe,"name")},null,40,Fk),[[ye,pe.name]]),oe(s("input",{type:"number","onUpdate:modelValue":Ae=>pe.value=Ae,onChange:Ae=>Pe(pe,"value")},null,40,Uk),[[ye,pe.value,void 0,{number:!0}]]),oe(s("input",{type:"number","onUpdate:modelValue":Ae=>pe.step=Ae,onChange:Ae=>Pe(pe,"step")},null,40,zk),[[ye,pe.step,void 0,{number:!0}]]),s("label",qk,[s("input",{type:"checkbox",checked:pe.isVisible,onChange:Ae=>Y(pe)},null,40,Wk),X[33]||(X[33]=s("span",{class:"slider"},null,-1))]),s("button",{onClick:Ae=>N(pe.id),class:"btn btn-danger btn-sm"},X[34]||(X[34]=[s("i",{class:"bi bi-trash"},null,-1)]),8,Kk)]))),128))])])])])):Se("",!0)]))}},Xk=Tt(Yk,[["__scopeId","data-v-6a40332d"]]),Gk={class:"dm-view"},Jk={class:"dm-header"},Qk={class:"dm-header-top"},Zk={class:"turn-controls"},eS={class:"turn-label"},tS=["disabled"],nS=["disabled"],oS={class:"global-controls"},sS={class:"stats-overview"},aS={class:"stat-card"},rS={class:"stat-content"},iS={class:"stat-value"},lS={class:"stat-card alive"},cS={class:"stat-content"},uS={class:"stat-value"},dS={class:"stat-card dead"},fS={class:"stat-content"},pS={class:"stat-value"},mS={class:"stat-card"},hS={class:"stat-content"},gS={class:"stat-value"},vS={class:"create-character-section"},bS={class:"characters-section"},wS={class:"section-header"},yS={class:"sort-controls"},CS={key:0,class:"no-characters"},xS={key:1,class:"characters-grid"},_S={class:"character-header"},kS={class:"character-name"},SS={class:"character-actions"},$S=["onClick"],ES=["onClick"],DS=["onClick"],TS={class:"character-stats"},AS={class:"hp-section"},IS={class:"hp-bar-container"},RS={class:"hp-bar"},PS={class:"hp-text"},HS={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},OS={key:0,class:"temp-hp"},BS={class:"temp-hp-value"},MS={key:1,class:"defeated-by"},LS={class:"defeated-by-hero"},NS={class:"character-details"},VS={class:"detail-item"},jS={class:"detail-value"},FS={class:"detail-item"},US={key:0,class:"detail-item"},zS={class:"detail-value"},qS={key:1,class:"detail-item"},WS={class:"detail-value"},KS={key:2,class:"detail-item"},YS={class:"detail-value"},XS={key:3,class:"detail-item"},GS={class:"detail-value"},JS={key:4,class:"detail-item"},QS={class:"detail-value"},ZS={key:5,class:"attributes-display"},e$={class:"attributes-list"},t$={key:0,class:"attribute-item fuerza"},n$={class:"attribute-value"},o$={key:1,class:"attribute-item inteligencia"},s$={class:"attribute-value"},a$={key:2,class:"attribute-item destreza"},r$={class:"attribute-value"},i$={key:3,class:"attribute-item sabiduria"},l$={class:"attribute-value"},c$={key:4,class:"attribute-item constitucion"},u$={class:"attribute-value"},d$={key:5,class:"attribute-item carisma"},f$={class:"attribute-value"},p$={key:6,class:"detail-item notas"},m$={class:"detail-value"},h$={class:"actions-toggle"},g$=["onClick"],v$={class:"action-group"},b$={class:"action-inputs"},w$=["onUpdate:modelValue","onKeyup"],y$=["onClick","disabled"],C$={class:"necro-checkbox"},x$={class:"necro-label"},_$=["onUpdate:modelValue"],k$={class:"action-group"},S$={class:"action-inputs"},$$=["onUpdate:modelValue","onKeyup"],E$=["onClick","disabled"],D$={class:"necro-checkbox"},T$={class:"necro-label"},A$=["onUpdate:modelValue"],I$={class:"action-group"},R$={class:"action-inputs"},P$=["onUpdate:modelValue","onKeyup"],H$=["onClick","disabled"],O$={class:"action-group"},B$={class:"action-inputs"},M$=["onUpdate:modelValue","onKeyup"],L$=["onClick","disabled"],N$={class:"reset-buttons"},V$=["onClick"],j$=["onClick"],F$=["onClick"],U$={class:"character-attacks-section"},z$={class:"attacks-header"},q$=["onClick"],W$={key:0,class:"attack-search-bar"},K$=["onUpdate:modelValue"],Y$={key:1,class:"attacks-preview-list"},X$={class:"attack-preview-info"},G$={class:"attack-preview-name"},J$={class:"attack-preview-summary"},Q$={class:"attack-preview-actions"},Z$=["onClick"],eE=["onClick"],tE={key:2,class:"no-attacks-preview"},nE=["onClick"],oE={class:"modal-header"},sE={class:"modal-body"},aE={class:"form-group"},rE={class:"form-group"},iE={class:"form-group"},lE={class:"form-group"},cE={class:"form-group"},uE={class:"form-group"},dE={class:"form-group"},fE={class:"attributes-section"},pE={class:"attributes-grid",id:"tiradas-salvacion"},mE={class:"attribute-column"},hE={class:"form-group attribute-input"},gE={class:"form-group attribute-input"},vE={class:"form-group attribute-input"},bE={class:"attribute-column"},wE={class:"form-group attribute-input"},yE={class:"form-group attribute-input"},CE={class:"form-group attribute-input"},xE={class:"form-group"},_E={class:"modal-actions"},kE={class:"modal-header"},SE={class:"modal-body"},$E={class:"form-group"},EE={class:"form-group"},DE={class:"form-group"},TE=["max"],AE={class:"form-group"},IE={class:"form-group"},RE={class:"form-group"},PE={class:"form-group"},HE={class:"form-group"},OE={class:"attributes-section"},BE={class:"attributes-grid"},ME={class:"attribute-column"},LE={class:"form-group attribute-input"},NE={class:"form-group attribute-input"},VE={class:"form-group attribute-input"},jE={class:"attribute-column"},FE={class:"form-group attribute-input"},UE={class:"form-group attribute-input"},zE={class:"form-group attribute-input"},qE={class:"form-group"},WE={class:"modal-actions"},KE={class:"modal-header"},YE={class:"modal-body"},XE={class:"form-group"},GE={key:0,class:"form-group"},JE={class:"modal-header"},QE={class:"modal-body"},ZE={class:"import-options"},eD={class:"import-option"},tD={class:"modal-actions"},nD=["disabled"],oD={class:"modal-header"},sD={class:"modal-body"},aD={class:"death-notification"},rD={class:"hp-status"},iD={class:"hp-dead"},lD={class:"form-group"},cD={class:"modal-actions"},uD=["disabled"],dD={class:"modal-header"},fD={class:"modal-body"},pD={class:"add-todo"},mD={class:"todo-list"},hD=["onUpdate:modelValue","onChange"],gD=["onClick"],vD={__name:"DMView",setup(e){const t=uf(),n=df(),{players:o}=ko(n),a=he({}),r=he({}),i=F=>{a.value[F]=!a.value[F]},l=F=>{const f=(r.value[F.id]||"").toLowerCase();return f?F.attacks.filter(y=>y.name.toLowerCase().includes(f)):F.attacks},c=(F,f)=>{ff(F,f,t.criticalHit)},u=he(!1),p=he(!1),d=he(null),m=he(!1),v=he(!1),x=he(!1),w=he({rule:t.criticalHit.rule,characterLevel:t.criticalHit.characterLevel}),g=()=>{t.updateCriticalHitConfig(w.value),x.value=!1,$e.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},S=he(!1),M=he(!1),B=he(!1),L=he(!1),D=he(!1),se=he("name"),te=he(""),re=he(null),V=he(""),R=he([]),ee=he(""),ge=he(null),q=he(null),W=he({name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",necroDamage:!1,necroResistantDamage:!1}),U=Qe(()=>{switch(se.value){case"hp":return t.charactersByHp;case"created":return[...t.characters].sort((F,f)=>new Date(f.createdAt)-new Date(F.createdAt));default:return t.charactersByName}}),O=()=>{W.value.name&&W.value.maxHp&&(t.createCharacter(W.value.name,W.value.maxHp,W.value.regeneration,W.value.xp,W.value.resistencias,W.value.inmunidades,W.value.fuerza,W.value.destreza,W.value.constitucion,W.value.inteligencia,W.value.sabiduria,W.value.carisma,W.value.notas,W.value.ca),W.value={name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",necroDamage:!1,necroResistantDamage:!1},S.value=!1)},H=F=>{q.value={...F},M.value=!0},ae=()=>{q.value&&(t.editCharacter(q.value.id,{name:q.value.name,maxHp:q.value.maxHp,currentHp:q.value.currentHp,regeneration:q.value.regeneration,xp:q.value.xp,resistencias:q.value.resistencias,inmunidades:q.value.inmunidades,fuerza:q.value.fuerza,destreza:q.value.destreza,constitucion:q.value.constitucion,inteligencia:q.value.inteligencia,sabiduria:q.value.sabiduria,carisma:q.value.carisma,notas:q.value.notas,ca:q.value.ca}),M.value=!1,q.value=null)},Pe=F=>{confirm("Ests seguro de que quieres eliminar este personaje?")&&t.deleteCharacter(F)},Y=F=>{t.duplicateCharacter(F.id)},N=F=>{d.value=F},J=F=>{if(F.damageInput&&F.damageInput>0){const f=F.currentHp,y=F.necroDamage||!1,Ee=t.damageCharacter(F.id,F.damageInput,y);F.damageInput="",f>0&&Ee&&Ee.remainingHp<=0&&(re.value=F,L.value=!0)}},X=F=>{if(F.resistantDamageInput&&F.resistantDamageInput>0){const f=Math.floor(F.resistantDamageInput/2),y=F.currentHp,Ee=F.necroResistantDamage||!1,rt=t.damageCharacter(F.id,f,Ee);F.resistantDamageInput="",y>0&&rt&&rt.remainingHp<=0&&(re.value=F,L.value=!0)}},pe=()=>{if(V.value.trim()&&re.value){const F=V.value.trim();if(F.toLowerCase()===re.value.name.toLowerCase()){alert("El nombre del hroe no puede ser el mismo que el personaje derrotado.");return}t.setDefeatedBy(re.value.id,F),t.addLogToCharacter(re.value.id,"Derrotado por",`Derrotado por ${F}`),Ae()}else alert("Por favor, escribe el nombre del hroe que derrot al personaje.")},Ae=()=>{L.value=!1,re.value=null,V.value=""},st=()=>{V.value.trim()?confirm("Ests seguro de que quieres cerrar? Se perder el nombre del hroe ingresado.")&&Ae():Ae()};un(L,F=>{F&&$o(()=>{const f=document.getElementById("heroName");f&&f.focus()})}),qt(()=>{const F=f=>{f.key==="Escape"&&L.value&&st()};document.addEventListener("keydown",F),lo(()=>{document.removeEventListener("keydown",F)})});const j=F=>{F.healInput&&F.healInput>0&&(t.healCharacter(F.id,F.healInput),F.healInput="")},ie=F=>{F.tempHpInput&&F.tempHpInput>0&&(t.addTempHpToCharacter(F.id,F.tempHpInput),F.tempHpInput="")},ve=F=>{const f=t.getCharacterById(F);if(f&&f.maxHp<f.originalMaxHp){const y=f.maxHp;f.maxHp=f.originalMaxHp,t.addLogToCharacter(F,"Restaurar HP Mximo",`HP mximo restaurado de ${y} a ${f.originalMaxHp} (dao necro revertido)`),$e.fire({icon:"success",title:"HP Mximo Restaurado",text:`El HP mximo de ${f.name} ha sido restaurado de ${y} a ${f.originalMaxHp}`,timer:2e3,showConfirmButton:!1})}},we=async F=>{const f=t.getCharacterById(F);if(!f)return;if(f.maxHp<f.originalMaxHp){const Ee=f.maxHp;f.maxHp=f.originalMaxHp,t.addLogToCharacter(F,"Restaurar HP Mximo",`HP mximo restaurado de ${Ee} a ${f.originalMaxHp} (dao necro revertido)`)}const{value:y}=await $e.fire({title:`Cmo quieres revivir a ${f.name}?`,html:`
      <div style='text-align:left;'>
        <label><input type='radio' name='reviveOption' value='1' checked> Revivir con 1 HP</label><br>
        <label><input type='radio' name='reviveOption' value='half'> Revivir con la mitad de la vida mxima (${Math.floor(f.maxHp/2)} HP)</label><br>
        <label><input type='radio' name='reviveOption' value='custom'> Revivir con cantidad personalizada:</label>
        <input id='customHpInput' type='number' min='1' max='${f.maxHp}' class='swal2-input' style='width:100%;margin:0;' placeholder='HP' disabled>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Revivir",cancelButtonText:"Cancelar",preConfirm:()=>{const Ee=document.querySelector('input[name="reviveOption"]:checked').value;if(Ee==="custom"){const rt=parseInt(document.getElementById("customHpInput").value);return isNaN(rt)||rt<1||rt>f.maxHp?($e.showValidationMessage(`Introduce un valor entre 1 y ${f.maxHp}`),!1):rt}return Ee==="half"?Math.floor(f.maxHp/2):1},didOpen:()=>{const Ee=$e.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),rt=$e.getHtmlContainer().querySelector("#customHpInput");Ee.forEach(uo=>{uo.addEventListener("change",()=>{uo.value==="custom"?(rt.disabled=!1,rt.focus()):rt.disabled=!0})})}});y&&y>0&&t.reviveCharacter(F,y)},Fe=F=>{const f=F.currentHp/F.maxHp*100;return f>75?"hp-high":f>50?"hp-medium":f>25?"hp-low":"hp-critical"},C=F=>F.currentHp<=0?"status-dead":F.currentHp<=F.maxHp*.25?"status-critical":F.currentHp<=F.maxHp*.5?"status-wounded":"status-healthy",_=F=>F.currentHp<=0?"Muerto":F.currentHp<=F.maxHp*.25?"Crtico":F.currentHp<=F.maxHp*.5?"Herido":"Saludable",I=F=>{const f=parseInt(F);return isNaN(f)?F:f>=0?`+${f}`:`${f}`},G=F=>F.fuerza||F.destreza||F.constitucion||F.inteligencia||F.sabiduria||F.carisma,ne=()=>{const F=t.exportCharacters(),f=new Blob([F],{type:"application/json"}),y=URL.createObjectURL(f),Ee=document.createElement("a");Ee.href=y,Ee.download=`dnd-characters-${new Date().toISOString().split("T")[0]}.json`,Ee.click(),URL.revokeObjectURL(y)},Q=()=>{ge.value&&ge.value.click()},_e=F=>{const f=F.target.files[0];if(f){const y=new FileReader;y.onload=Ee=>{try{const rt=Ee.target.result;t.importCharacters(rt)?(alert("Personajes importados correctamente desde el archivo"),B.value=!1,F.target.value=""):alert("Error al importar los personajes. Verifica que el archivo contenga datos vlidos.")}catch(rt){alert("Error al leer el archivo. Verifica que sea un archivo JSON vlido."),console.error("Error importing file:",rt)}},y.onerror=()=>{alert("Error al leer el archivo. Intntalo de nuevo.")},y.readAsText(f)}},Ce=()=>{te.value.trim()&&(t.importCharacters(te.value)?(alert("Personajes importados correctamente"),te.value="",B.value=!1):alert("Error al importar los personajes. Verifica el formato JSON."))},be=()=>{v.value=!v.value},le=()=>{$e.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs de todos los personajes. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(F=>{F.isConfirmed&&(t.clearAllLogs(),$e.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})},Re=()=>{const F=[];t.characters.forEach(y=>{y.logs.forEach(Ee=>{F.push({...Ee,characterName:y.name})})}),F.sort((y,Ee)=>new Date(Ee.timestamp)-new Date(y.timestamp));let f='<div style="max-height: 400px; overflow-y: auto;">';F.length===0?f+='<p style="text-align: center; color: #666;">No hay logs para mostrar</p>':F.forEach(y=>{f+=`
        <div style="border-bottom: 1px solid #eee; padding: 10px 0; margin-bottom: 10px;">
          <div style="font-weight: bold; color: #f39c12;">${y.characterName}</div>
          <div style="color: #333;">${y.action}: ${y.details}</div>
          <div style="font-size: 0.8em; color: #666;">Turno ${y.turn} - ${y.timestamp}</div>
        </div>
      `}),f+="</div>",$e.fire({title:"Historial de Logs - Todos los Personajes",html:f,width:"800px",confirmButtonText:"Cerrar",confirmButtonColor:"#3085d6"})},De=()=>{t.characters.forEach(F=>{F.damageInput="",F.healInput="",F.tempHpInput="",F.resistantDamageInput="",F.necroDamage=!1,F.necroResistantDamage=!1})},Te=he(new Set),Be=F=>{const f=new Set(Te.value);f.has(F)?f.delete(F):f.add(F),Te.value=f},Ue=()=>{u.value=!u.value},Xe=F=>Te.value.has(F);un(Te,F=>{const f=Array.from(F);localStorage.setItem("collapsedCharacters",JSON.stringify(f))},{deep:!0});const Ke=()=>{if(ee.value.trim()==="")return;const F={id:Date.now(),text:ee.value.trim(),completed:!1,createdAt:new Date().toISOString()};R.value.push(F),ee.value="",At()},Et=F=>{R.value=R.value.filter(f=>f.id!==F),At()},$t=F=>{R.value.find(y=>y.id===F)&&At()},At=()=>{localStorage.setItem("dnd-todo-items",JSON.stringify(R.value))},Vt=()=>{const F=localStorage.getItem("dnd-todo-items");if(F)try{R.value=JSON.parse(F)}catch(f){console.error("Error loading todo items:",f),R.value=[]}};return qt(()=>{const F=localStorage.getItem("collapsedCharacters");if(F)try{const f=JSON.parse(F);Te.value=new Set(f)}catch(f){console.error("Error loading collapsed characters state:",f),Te.value=new Set}Vt(),t.loadData(),n.loadData(),De()}),(F,f)=>($(),E("div",Gk,[s("div",Jk,[s("div",Qk,[f[68]||(f[68]=s("h1",{class:"dm-title"},[s("i",{class:"bi bi-shield-fill"}),ue(" Panel del Dungeon Master ")],-1)),s("button",{onClick:be,class:"mobile-menu-toggle"},[s("i",{class:it(["bi",v.value?"bi-x-lg":"bi-list"])},null,2)])]),s("div",{class:it(["dm-controls",{"mobile-open":v.value}])},[s("div",Zk,[s("span",eS,"Turno: "+K(de(t).currentTurn),1),s("button",{onClick:f[0]||(f[0]=y=>de(t).startTurn()),class:"btn btn-success",disabled:de(t).isTurnActive},f[69]||(f[69]=[s("i",{class:"bi bi-play-fill"},null,-1),s("span",{class:"btn-text"},"Iniciar Turno",-1)]),8,tS),s("button",{onClick:f[1]||(f[1]=y=>de(t).endTurn()),class:"btn btn-warning",disabled:!de(t).isTurnActive},f[70]||(f[70]=[s("i",{class:"bi bi-stop-fill"},null,-1),s("span",{class:"btn-text"},"Finalizar Turno",-1)]),8,nS),s("button",{onClick:f[2]||(f[2]=y=>de(t).resetAllTurns()),class:"btn btn-secondary"},f[71]||(f[71]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1),s("span",{class:"btn-text"},"Reset Turnos",-1)]))]),s("div",oS,[s("button",{onClick:f[3]||(f[3]=y=>de(t).resetAllCharacters()),class:"btn btn-info"},f[72]||(f[72]=[s("i",{class:"bi bi-heart-fill"},null,-1),s("span",{class:"btn-text"},"Reset Todos",-1)])),s("button",{onClick:le,class:"btn btn-warning"},f[73]||(f[73]=[s("i",{class:"bi bi-trash"},null,-1),s("span",{class:"btn-text"},"Limpiar Logs",-1)])),s("button",{onClick:Re,class:"btn btn-outline-info"},f[74]||(f[74]=[s("i",{class:"bi bi-journal-text"},null,-1),s("span",{class:"btn-text"},"Ver Logs",-1)])),s("button",{onClick:Q,class:"btn btn-outline-primary"},f[75]||(f[75]=[s("i",{class:"bi bi-upload"},null,-1),s("span",{class:"btn-text"},"Importar",-1)])),s("button",{onClick:ne,class:"btn btn-outline-success"},f[76]||(f[76]=[s("i",{class:"bi bi-download"},null,-1),s("span",{class:"btn-text"},"Exportar",-1)])),s("button",{onClick:Ue,class:"btn btn-outline-secondary"},f[77]||(f[77]=[s("i",{class:"bi bi-list"},null,-1),s("span",{class:"btn-text"},"Lista Iniciativa",-1)])),s("button",{onClick:f[4]||(f[4]=y=>D.value=!0),class:"btn btn-outline-primary"},f[78]||(f[78]=[s("i",{class:"bi bi-check-circle"},null,-1),s("span",{class:"btn-text"},"Todo List",-1)])),s("button",{onClick:f[5]||(f[5]=y=>p.value=!0),class:"btn btn-outline-info"},f[79]||(f[79]=[s("i",{class:"bi bi-dice-6"},null,-1),s("span",{class:"btn-text"},"Lanzar Dados",-1)])),s("button",{onClick:f[6]||(f[6]=y=>m.value=!0),class:"btn btn-outline-info"},f[80]||(f[80]=[s("i",{class:"bi bi-person-badge"},null,-1),s("span",{class:"btn-text"},"Gestin de Jugadores",-1)])),s("button",{onClick:f[7]||(f[7]=y=>x.value=!0),class:"btn btn-outline-secondary"},f[81]||(f[81]=[s("i",{class:"bi bi-gear-fill"},null,-1),s("span",{class:"btn-text"},"Configuracin",-1)]))])],2)]),p.value?($(),On(Ex,{key:0,characters:de(t).characters,onClose:f[8]||(f[8]=y=>p.value=!1)},null,8,["characters"])):Se("",!0),d.value?($(),On(z_,{key:1,"character-id":d.value,onClose:f[9]||(f[9]=y=>d.value=null)},null,8,["character-id"])):Se("",!0),m.value?($(),On(Xk,{key:2,onClose:f[10]||(f[10]=y=>m.value=!1)})):Se("",!0),s("div",sS,[s("div",aS,[f[83]||(f[83]=s("div",{class:"stat-icon"},"",-1)),s("div",rS,[s("div",iS,K(de(t).characters.length),1),f[82]||(f[82]=s("div",{class:"stat-label"},"Total Personajes",-1))])]),s("div",lS,[f[85]||(f[85]=s("div",{class:"stat-icon"},"",-1)),s("div",cS,[s("div",uS,K(de(t).aliveCount),1),f[84]||(f[84]=s("div",{class:"stat-label"},"Vivos",-1))])]),s("div",dS,[f[87]||(f[87]=s("div",{class:"stat-icon"},"",-1)),s("div",fS,[s("div",pS,K(de(t).deadCount),1),f[86]||(f[86]=s("div",{class:"stat-label"},"Muertos",-1))])]),s("div",mS,[f[89]||(f[89]=s("div",{class:"stat-icon"},"",-1)),s("div",hS,[s("div",gS,K(de(t).currentTurn),1),f[88]||(f[88]=s("div",{class:"stat-label"},"Turno Actual",-1))])])]),s("div",vS,[s("button",{onClick:f[11]||(f[11]=y=>S.value=!0),class:"btn btn-primary btn-lg"},f[90]||(f[90]=[s("i",{class:"bi bi-plus-circle"},null,-1),ue(" Crear Nuevo Personaje ")]))]),s("div",bS,[s("div",wS,[s("h2",null,"Personajes ("+K(de(t).characters.length)+")",1),s("div",yS,[oe(s("select",{"onUpdate:modelValue":f[12]||(f[12]=y=>se.value=y),class:"form-select"},f[91]||(f[91]=[s("option",{value:"name"},"Ordenar por Nombre",-1),s("option",{value:"hp"},"Ordenar por HP",-1),s("option",{value:"created"},"Ordenar por Creacin",-1)]),512),[[Ht,se.value]])])]),de(t).characters.length===0?($(),E("div",CS,f[92]||(f[92]=[s("div",{class:"no-characters-icon"},"",-1),s("h3",null,"No hay personajes creados",-1),s("p",null,"Crea tu primer personaje para comenzar a gestionar la partida",-1)]))):($(),E("div",xS,[($(!0),E(Ne,null,We(U.value,y=>($(),E("div",{key:y.id,class:it(["character-card",{dead:y.currentHp<=0,"low-hp":y.currentHp>0&&y.currentHp<=y.maxHp*.25}])},[s("div",_S,[s("h3",kS,K(y.name),1),s("div",SS,[s("button",{onClick:Ee=>H(y),class:"btn btn-sm btn-outline-primary"},f[93]||(f[93]=[s("i",{class:"bi bi-pencil"},null,-1)]),8,$S),s("button",{onClick:Ee=>Y(y),class:"btn btn-sm btn-outline-info",title:"Duplicar personaje"},f[94]||(f[94]=[s("i",{class:"bi bi-copy"},null,-1)]),8,ES),s("button",{onClick:Ee=>Pe(y.id),class:"btn btn-sm btn-outline-danger"},f[95]||(f[95]=[s("i",{class:"bi bi-trash"},null,-1)]),8,DS)])]),s("div",TS,[s("div",AS,[s("div",IS,[s("div",RS,[s("div",{class:it(["hp-fill",y.tempHp>0?"temp-hp":Fe(y)]),style:kn({width:`${y.currentHp/y.maxHp*100}%`})},null,6),y.maxHp<y.originalMaxHp?($(),E("div",{key:0,class:"necro-bar-indicator",style:kn({left:`${y.maxHp/y.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):Se("",!0)]),s("div",PS,[ue(K(y.currentHp)+" / "+K(y.maxHp)+" HP ("+K(Math.round(y.currentHp/y.maxHp*100))+"%) ",1),y.maxHp<y.originalMaxHp?($(),E("span",HS,"  ")):Se("",!0)])]),y.tempHp>0?($(),E("div",OS,[f[96]||(f[96]=s("span",{class:"temp-hp-label"},"Temporal:",-1)),s("span",BS,"+"+K(y.tempHp),1)])):Se("",!0),y.defeatedBy?($(),E("div",MS,[f[97]||(f[97]=s("span",{class:"defeated-by-label"},"Derrotado por:",-1)),s("span",LS,K(y.defeatedBy),1)])):Se("",!0)]),s("div",NS,[s("div",VS,[f[98]||(f[98]=s("span",{class:"detail-label"},"Regeneracin:",-1)),s("span",jS,K(y.regeneration||0)+" HP/turno",1)]),s("div",FS,[f[99]||(f[99]=s("span",{class:"detail-label"},"Estado:",-1)),s("span",{class:it(["detail-value",C(y)])},K(_(y)),3)]),y.xp?($(),E("div",US,[f[100]||(f[100]=s("span",{class:"detail-label"},"XP:",-1)),s("span",zS,K(y.xp),1)])):Se("",!0),y.ca?($(),E("div",qS,[f[101]||(f[101]=s("span",{class:"detail-label"},"CA:",-1)),s("span",WS,K(y.ca),1)])):Se("",!0),y.resistencias?($(),E("div",KS,[f[102]||(f[102]=s("span",{class:"detail-label"},"Resistencias:",-1)),s("span",YS,K(y.resistencias),1)])):Se("",!0),y.inmunidades?($(),E("div",XS,[f[103]||(f[103]=s("span",{class:"detail-label"},"Inmunidades:",-1)),s("span",GS,K(y.inmunidades),1)])):Se("",!0),y.bonoTiradasSalvacion?($(),E("div",JS,[f[104]||(f[104]=s("span",{class:"detail-label"},"Bono Tiradas de Salvacion:",-1)),s("span",QS,K(y.bonoTiradasSalvacion),1)])):Se("",!0),G(y)?($(),E("div",ZS,[f[111]||(f[111]=s("div",{class:"attributes-header"},"Tiradas de Salvacin",-1)),s("div",e$,[y.fuerza?($(),E("div",t$,[f[105]||(f[105]=s("span",{class:"attribute-label"},"FUE:",-1)),s("span",n$,K(I(y.fuerza)),1)])):Se("",!0),y.inteligencia?($(),E("div",o$,[f[106]||(f[106]=s("span",{class:"attribute-label"},"INT:",-1)),s("span",s$,K(I(y.inteligencia)),1)])):Se("",!0),y.destreza?($(),E("div",a$,[f[107]||(f[107]=s("span",{class:"attribute-label"},"DES:",-1)),s("span",r$,K(I(y.destreza)),1)])):Se("",!0),y.sabiduria?($(),E("div",i$,[f[108]||(f[108]=s("span",{class:"attribute-label"},"SAB:",-1)),s("span",l$,K(I(y.sabiduria)),1)])):Se("",!0),y.constitucion?($(),E("div",c$,[f[109]||(f[109]=s("span",{class:"attribute-label"},"CON:",-1)),s("span",u$,K(I(y.constitucion)),1)])):Se("",!0),y.carisma?($(),E("div",d$,[f[110]||(f[110]=s("span",{class:"attribute-label"},"CAR:",-1)),s("span",f$,K(I(y.carisma)),1)])):Se("",!0)])])):Se("",!0),y.notas?($(),E("div",p$,[f[112]||(f[112]=s("span",{class:"detail-label"},"Notas:",-1)),s("span",m$,K(y.notas),1)])):Se("",!0)])]),s("div",h$,[s("button",{onClick:Ee=>Be(y.id),class:it(["toggle-actions-btn",{collapsed:Xe(y.id)}])},[f[113]||(f[113]=s("i",{class:"bi bi-chevron-up"},null,-1)),ue(" "+K(Xe(y.id)?"Mostrar Acciones":"Ocultar Acciones"),1)],10,g$)]),s("div",{class:it(["character-actions-panel",{collapsed:Xe(y.id)}])},[s("div",v$,[f[117]||(f[117]=s("label",{class:"action-label"},"Dao:",-1)),s("div",b$,[oe(s("input",{"onUpdate:modelValue":Ee=>y.damageInput=Ee,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:xn(Ee=>J(y),["enter"])},null,40,w$),[[ye,y.damageInput]]),s("button",{onClick:Ee=>J(y),class:"btn btn-sm btn-danger",disabled:!y.damageInput||y.damageInput<=0},f[114]||(f[114]=[s("i",{class:"bi bi-lightning"},null,-1)]),8,y$)]),s("div",C$,[s("label",x$,[oe(s("input",{"onUpdate:modelValue":Ee=>y.necroDamage=Ee,type:"checkbox",class:"necro-input"},null,8,_$),[[ws,y.necroDamage]]),f[115]||(f[115]=s("span",{class:"necro-text"},"Dao Necro",-1)),f[116]||(f[116]=s("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),s("div",k$,[f[121]||(f[121]=s("label",{class:"action-label"},"Dao Resistente:",-1)),s("div",S$,[oe(s("input",{"onUpdate:modelValue":Ee=>y.resistantDamageInput=Ee,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:xn(Ee=>X(y),["enter"])},null,40,$$),[[ye,y.resistantDamageInput]]),s("button",{onClick:Ee=>X(y),class:"btn btn-sm btn-danger",disabled:!y.resistantDamageInput||y.resistantDamageInput<=0},f[118]||(f[118]=[s("i",{class:"bi bi-shield-slash"},null,-1)]),8,E$)]),s("div",D$,[s("label",T$,[oe(s("input",{"onUpdate:modelValue":Ee=>y.necroResistantDamage=Ee,type:"checkbox",class:"necro-input"},null,8,A$),[[ws,y.necroResistantDamage]]),f[119]||(f[119]=s("span",{class:"necro-text"},"Dao Necro",-1)),f[120]||(f[120]=s("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),s("div",I$,[f[123]||(f[123]=s("label",{class:"action-label"},"Curacin:",-1)),s("div",R$,[oe(s("input",{"onUpdate:modelValue":Ee=>y.healInput=Ee,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:xn(Ee=>j(y),["enter"])},null,40,P$),[[ye,y.healInput]]),s("button",{onClick:Ee=>j(y),class:"btn btn-sm btn-success",disabled:!y.healInput||y.healInput<=0},f[122]||(f[122]=[s("i",{class:"bi bi-heart"},null,-1)]),8,H$)])]),s("div",O$,[f[125]||(f[125]=s("label",{class:"action-label"},"Vida Temp:",-1)),s("div",B$,[oe(s("input",{"onUpdate:modelValue":Ee=>y.tempHpInput=Ee,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:xn(Ee=>ie(y),["enter"])},null,40,M$),[[ye,y.tempHpInput]]),s("button",{onClick:Ee=>ie(y),class:"btn btn-sm btn-info",disabled:!y.tempHpInput||y.tempHpInput<=0},f[124]||(f[124]=[s("i",{class:"bi bi-shield"},null,-1)]),8,L$)])]),s("div",N$,[s("button",{onClick:Ee=>de(t).resetCharacterToMaxHp(y.id),class:it(["btn btn-sm btn-outline-warning",{"w-100":y.maxHp>=y.originalMaxHp}])},f[126]||(f[126]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1),ue(" Reset HP ")]),10,V$),y.maxHp<y.originalMaxHp?($(),E("button",{key:0,onClick:Ee=>ve(y.id),class:"btn btn-sm btn-outline-danger",title:"Restaurar solo el HP mximo (dao necro)"},f[127]||(f[127]=[s("i",{class:"bi bi-heart-pulse"},null,-1),ue(" Restaurar HP Mx ")]),8,j$)):Se("",!0)]),y.currentHp<=0?($(),E("button",{key:0,onClick:Ee=>we(y.id),class:"btn btn-sm btn-success w-100"},f[128]||(f[128]=[s("i",{class:"bi bi-heart-pulse"},null,-1),ue(" Revivir ")]),8,F$)):Se("",!0)],2),s("div",U$,[s("div",z$,[f[130]||(f[130]=s("h4",null,"Ataques",-1)),s("button",{onClick:Ee=>i(y.id),class:"btn btn-sm btn-outline-secondary"},f[129]||(f[129]=[s("i",{class:"bi bi-search"},null,-1)]),8,q$)]),a.value[y.id]?($(),E("div",W$,[oe(s("input",{type:"text","onUpdate:modelValue":Ee=>r.value[y.id]=Ee,placeholder:"Buscar ataque...",class:"form-control form-control-sm"},null,8,K$),[[ye,r.value[y.id]]])])):Se("",!0),y.attacks&&y.attacks.length>0?($(),E("div",Y$,[($(!0),E(Ne,null,We(l(y),Ee=>($(),E("div",{key:Ee.id,class:"attack-preview-item"},[s("div",X$,[s("span",G$,K(Ee.name),1),s("div",J$,[($(!0),E(Ne,null,We(Ee.damageRolls,(rt,uo)=>($(),E("span",{key:uo,class:"damage-tag"},K(rt.dice)+" "+K(rt.type),1))),128))])]),s("div",Q$,[s("button",{onClick:rt=>c(Ee,!1),class:"btn btn-sm btn-primary"},"Lanzar",8,Z$),s("button",{onClick:rt=>c(Ee,!0),class:"btn btn-sm btn-danger"},"Crtico",8,eE)])]))),128))])):($(),E("div",tE,f[131]||(f[131]=[s("p",null,"No hay ataques definidos.",-1)]))),s("button",{onClick:Ee=>N(y.id),class:"btn btn-sm btn-outline-warning w-100 mt-2"},f[132]||(f[132]=[s("i",{class:"bi bi-hammer"},null,-1),ue(" Gestionar Ataques ")]),8,nE)])],2))),128))])),S.value?($(),E("div",{key:2,class:"modal-overlay",onClick:f[30]||(f[30]=y=>S.value=!1)},[s("div",{class:"modal-content",onClick:f[29]||(f[29]=Je(()=>{},["stop"]))},[s("div",oE,[f[134]||(f[134]=s("h3",null,"Crear Nuevo Personaje",-1)),s("button",{onClick:f[13]||(f[13]=y=>S.value=!1),class:"btn-close"},f[133]||(f[133]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",sE,[s("form",{onSubmit:Je(O,["prevent"])},[s("div",aE,[f[135]||(f[135]=s("label",{for:"characterName"},"Nombre del Personaje",-1)),oe(s("input",{id:"characterName","onUpdate:modelValue":f[14]||(f[14]=y=>W.value.name=y),type:"text",class:"form-control",placeholder:"Ej: Gandalf",required:""},null,512),[[ye,W.value.name]])]),s("div",rE,[f[136]||(f[136]=s("label",{for:"characterMaxHp"},"HP Mximo",-1)),oe(s("input",{id:"characterMaxHp","onUpdate:modelValue":f[15]||(f[15]=y=>W.value.maxHp=y),type:"number",class:"form-control",placeholder:"100",min:"1",required:""},null,512),[[ye,W.value.maxHp]])]),s("div",iE,[f[137]||(f[137]=s("label",{for:"characterRegeneration"},"Regeneracin por Turno (opcional)",-1)),oe(s("input",{id:"characterRegeneration","onUpdate:modelValue":f[16]||(f[16]=y=>W.value.regeneration=y),type:"number",class:"form-control",placeholder:"0",min:"0"},null,512),[[ye,W.value.regeneration]])]),s("div",lE,[f[138]||(f[138]=s("label",{for:"xp"},"XP:",-1)),oe(s("input",{id:"xp","onUpdate:modelValue":f[17]||(f[17]=y=>W.value.xp=y),type:"text",class:"form-control",placeholder:""},null,512),[[ye,W.value.xp]])]),s("div",cE,[f[139]||(f[139]=s("label",{for:"ca"},"CA (Clase de Armadura):",-1)),oe(s("input",{id:"ca","onUpdate:modelValue":f[18]||(f[18]=y=>W.value.ca=y),type:"text",class:"form-control",placeholder:""},null,512),[[ye,W.value.ca]])]),s("div",uE,[f[140]||(f[140]=s("label",{for:"resistencias"},"Resistencias:",-1)),oe(s("input",{id:"resistencias","onUpdate:modelValue":f[19]||(f[19]=y=>W.value.resistencias=y),type:"text",class:"form-control",placeholder:""},null,512),[[ye,W.value.resistencias]])]),s("div",dE,[f[141]||(f[141]=s("label",{for:"inmunidades"},"Inmunidades:",-1)),oe(s("input",{id:"inmunidades","onUpdate:modelValue":f[20]||(f[20]=y=>W.value.inmunidades=y),type:"text",class:"form-control",placeholder:""},null,512),[[ye,W.value.inmunidades]])]),s("div",fE,[f[148]||(f[148]=s("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),s("div",pE,[s("div",mE,[s("div",hE,[f[142]||(f[142]=s("label",{for:"fuerza"},"Fuerza:",-1)),oe(s("input",{id:"fuerza","onUpdate:modelValue":f[21]||(f[21]=y=>W.value.fuerza=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,W.value.fuerza]])]),s("div",gE,[f[143]||(f[143]=s("label",{for:"destreza"},"Destreza:",-1)),oe(s("input",{id:"destreza","onUpdate:modelValue":f[22]||(f[22]=y=>W.value.destreza=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,W.value.destreza]])]),s("div",vE,[f[144]||(f[144]=s("label",{for:"constitucion"},"Constitucin:",-1)),oe(s("input",{id:"constitucion","onUpdate:modelValue":f[23]||(f[23]=y=>W.value.constitucion=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,W.value.constitucion]])])]),s("div",bE,[s("div",wE,[f[145]||(f[145]=s("label",{for:"inteligencia"},"Inteligencia:",-1)),oe(s("input",{id:"inteligencia","onUpdate:modelValue":f[24]||(f[24]=y=>W.value.inteligencia=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,W.value.inteligencia]])]),s("div",yE,[f[146]||(f[146]=s("label",{for:"sabiduria"},"Sabidura:",-1)),oe(s("input",{id:"sabiduria","onUpdate:modelValue":f[25]||(f[25]=y=>W.value.sabiduria=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,W.value.sabiduria]])]),s("div",CE,[f[147]||(f[147]=s("label",{for:"carisma"},"Carisma:",-1)),oe(s("input",{id:"carisma","onUpdate:modelValue":f[26]||(f[26]=y=>W.value.carisma=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,W.value.carisma]])])])])]),s("div",xE,[f[149]||(f[149]=s("label",{for:"notas"},"Notas:",-1)),oe(s("textarea",{id:"notas","onUpdate:modelValue":f[27]||(f[27]=y=>W.value.notas=y),class:"form-control",rows:"3",placeholder:""},null,512),[[ye,W.value.notas]])]),s("div",_E,[s("button",{type:"button",onClick:f[28]||(f[28]=y=>S.value=!1),class:"btn btn-secondary"}," Cancelar "),f[150]||(f[150]=s("button",{type:"submit",class:"btn btn-primary"}," Crear Personaje ",-1))])],32)])])])):Se("",!0),M.value&&q.value?($(),E("div",{key:3,class:"modal-overlay",onClick:f[49]||(f[49]=y=>M.value=!1)},[s("div",{class:"modal-content",onClick:f[48]||(f[48]=Je(()=>{},["stop"]))},[s("div",kE,[f[152]||(f[152]=s("h3",null,"Editar Personaje",-1)),s("button",{onClick:f[31]||(f[31]=y=>M.value=!1),class:"btn-close"},f[151]||(f[151]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",SE,[s("form",{onSubmit:Je(ae,["prevent"])},[s("div",$E,[f[153]||(f[153]=s("label",{for:"editCharacterName"},"Nombre del Personaje",-1)),oe(s("input",{id:"editCharacterName","onUpdate:modelValue":f[32]||(f[32]=y=>q.value.name=y),type:"text",class:"form-control",required:""},null,512),[[ye,q.value.name]])]),s("div",EE,[f[154]||(f[154]=s("label",{for:"editCharacterMaxHp"},"HP Mximo",-1)),oe(s("input",{id:"editCharacterMaxHp","onUpdate:modelValue":f[33]||(f[33]=y=>q.value.maxHp=y),type:"number",class:"form-control",min:"1",required:""},null,512),[[ye,q.value.maxHp]])]),s("div",DE,[f[155]||(f[155]=s("label",{for:"editCharacterCurrentHp"},"HP Actual",-1)),oe(s("input",{id:"editCharacterCurrentHp","onUpdate:modelValue":f[34]||(f[34]=y=>q.value.currentHp=y),type:"number",class:"form-control",min:"0",max:q.value.maxHp,required:""},null,8,TE),[[ye,q.value.currentHp]])]),s("div",AE,[f[156]||(f[156]=s("label",{for:"editCharacterRegeneration"},"Regeneracin por Turno",-1)),oe(s("input",{id:"editCharacterRegeneration","onUpdate:modelValue":f[35]||(f[35]=y=>q.value.regeneration=y),type:"number",class:"form-control",min:"0"},null,512),[[ye,q.value.regeneration]])]),s("div",IE,[f[157]||(f[157]=s("label",{for:"editXp"},"XP:",-1)),oe(s("input",{id:"editXp","onUpdate:modelValue":f[36]||(f[36]=y=>q.value.xp=y),type:"text",class:"form-control"},null,512),[[ye,q.value.xp]])]),s("div",RE,[f[158]||(f[158]=s("label",{for:"editCa"},"CA (Clase de Armadura):",-1)),oe(s("input",{id:"editCa","onUpdate:modelValue":f[37]||(f[37]=y=>q.value.ca=y),type:"text",class:"form-control"},null,512),[[ye,q.value.ca]])]),s("div",PE,[f[159]||(f[159]=s("label",{for:"editResistencias"},"Resistencias:",-1)),oe(s("input",{id:"editResistencias","onUpdate:modelValue":f[38]||(f[38]=y=>q.value.resistencias=y),type:"text",class:"form-control"},null,512),[[ye,q.value.resistencias]])]),s("div",HE,[f[160]||(f[160]=s("label",{for:"editInmunidades"},"Inmunidades:",-1)),oe(s("input",{id:"editInmunidades","onUpdate:modelValue":f[39]||(f[39]=y=>q.value.inmunidades=y),type:"text",class:"form-control"},null,512),[[ye,q.value.inmunidades]])]),s("div",OE,[f[167]||(f[167]=s("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),s("div",BE,[s("div",ME,[s("div",LE,[f[161]||(f[161]=s("label",{for:"editFuerza"},"Fuerza:",-1)),oe(s("input",{id:"editFuerza","onUpdate:modelValue":f[40]||(f[40]=y=>q.value.fuerza=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,q.value.fuerza]])]),s("div",NE,[f[162]||(f[162]=s("label",{for:"editDestreza"},"Destreza:",-1)),oe(s("input",{id:"editDestreza","onUpdate:modelValue":f[41]||(f[41]=y=>q.value.destreza=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,q.value.destreza]])]),s("div",VE,[f[163]||(f[163]=s("label",{for:"editConstitucion"},"Constitucin:",-1)),oe(s("input",{id:"editConstitucion","onUpdate:modelValue":f[42]||(f[42]=y=>q.value.constitucion=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,q.value.constitucion]])])]),s("div",jE,[s("div",FE,[f[164]||(f[164]=s("label",{for:"editInteligencia"},"Inteligencia:",-1)),oe(s("input",{id:"editInteligencia","onUpdate:modelValue":f[43]||(f[43]=y=>q.value.inteligencia=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,q.value.inteligencia]])]),s("div",UE,[f[165]||(f[165]=s("label",{for:"editSabiduria"},"Sabidura:",-1)),oe(s("input",{id:"editSabiduria","onUpdate:modelValue":f[44]||(f[44]=y=>q.value.sabiduria=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,q.value.sabiduria]])]),s("div",zE,[f[166]||(f[166]=s("label",{for:"editCarisma"},"Carisma:",-1)),oe(s("input",{id:"editCarisma","onUpdate:modelValue":f[45]||(f[45]=y=>q.value.carisma=y),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ye,q.value.carisma]])])])])]),s("div",qE,[f[168]||(f[168]=s("label",{for:"editNotas"},"Notas:",-1)),oe(s("textarea",{id:"editNotas","onUpdate:modelValue":f[46]||(f[46]=y=>q.value.notas=y),class:"form-control",rows:"3"},null,512),[[ye,q.value.notas]])]),s("div",WE,[s("button",{type:"button",onClick:f[47]||(f[47]=y=>M.value=!1),class:"btn btn-secondary"}," Cancelar "),f[169]||(f[169]=s("button",{type:"submit",class:"btn btn-primary"}," Guardar Cambios ",-1))])],32)])])])):Se("",!0),s("input",{ref_key:"fileInput",ref:ge,type:"file",accept:".json",onChange:_e,style:{display:"none"}},null,544),x.value?($(),E("div",{key:4,class:"modal-overlay",onClick:f[54]||(f[54]=y=>x.value=!1)},[s("div",{class:"modal-content",onClick:f[53]||(f[53]=Je(()=>{},["stop"]))},[s("div",KE,[f[171]||(f[171]=s("h3",null,"Configuracin de Crticos",-1)),s("button",{onClick:f[50]||(f[50]=y=>x.value=!1),class:"btn-close"},f[170]||(f[170]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",YE,[s("div",XE,[f[173]||(f[173]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),oe(s("select",{id:"critical-rule","onUpdate:modelValue":f[51]||(f[51]=y=>w.value.rule=y),class:"form-control"},f[172]||(f[172]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[Ht,w.value.rule]])]),w.value.rule==="dad"?($(),E("div",GE,[f[174]||(f[174]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),oe(s("input",{type:"number",id:"character-level","onUpdate:modelValue":f[52]||(f[52]=y=>w.value.characterLevel=y),min:"1",max:"20",class:"form-control"},null,512),[[ye,w.value.characterLevel,void 0,{number:!0}]])])):Se("",!0),s("div",{class:"modal-actions"},[s("button",{onClick:g,class:"btn btn-primary"},"Guardar")])])])])):Se("",!0),B.value?($(),E("div",{key:5,class:"modal-overlay",onClick:f[59]||(f[59]=y=>B.value=!1)},[s("div",{class:"modal-content",onClick:f[58]||(f[58]=Je(()=>{},["stop"]))},[s("div",JE,[f[176]||(f[176]=s("h3",null,"Importar Personajes",-1)),s("button",{onClick:f[55]||(f[55]=y=>B.value=!1),class:"btn-close"},f[175]||(f[175]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",QE,[s("div",ZE,[s("div",{class:"import-option"},[f[178]||(f[178]=s("h4",null,"Opcin 1: Seleccionar Archivo",-1)),f[179]||(f[179]=s("p",null,"Selecciona un archivo JSON exportado previamente",-1)),s("button",{onClick:Q,class:"btn btn-primary"},f[177]||(f[177]=[s("i",{class:"bi bi-folder2-open"},null,-1),ue(" Seleccionar Archivo ")]))]),f[182]||(f[182]=s("div",{class:"import-divider"},[s("span",null,"o")],-1)),s("div",eD,[f[180]||(f[180]=s("h4",null,"Opcin 2: Pegar JSON",-1)),f[181]||(f[181]=s("p",null,"Pega aqu el contenido JSON exportado",-1)),oe(s("textarea",{"onUpdate:modelValue":f[56]||(f[56]=y=>te.value=y),class:"form-control",rows:"6",placeholder:"Pega aqu el JSON exportado..."},null,512),[[ye,te.value]])])]),s("div",tD,[s("button",{type:"button",onClick:f[57]||(f[57]=y=>B.value=!1),class:"btn btn-secondary"}," Cancelar "),s("button",{onClick:Ce,class:"btn btn-primary",disabled:!te.value.trim()}," Importar desde Texto ",8,nD)])])])])):Se("",!0),L.value?($(),E("div",{key:6,class:"modal-overlay",onClick:st},[s("div",{class:"modal-content death-modal",onClick:f[62]||(f[62]=Je(()=>{},["stop"]))},[s("div",oD,[f[184]||(f[184]=s("h3",null,"Personaje Derrotado!",-1)),s("button",{onClick:f[60]||(f[60]=y=>L.value=!1),class:"btn-close"},f[183]||(f[183]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",sD,[s("div",aD,[f[188]||(f[188]=s("div",{class:"death-icon"},"",-1)),s("p",null,[f[185]||(f[185]=ue(" El personaje ")),s("strong",null,K(re.value.name),1),f[186]||(f[186]=ue(" ha sido derrotado! "))]),s("p",rD,[f[187]||(f[187]=ue(" HP: ")),s("span",iD,K(re.value.currentHp),1),ue(" / "+K(re.value.maxHp),1)]),f[189]||(f[189]=s("p",null,"Quin fue el hroe que lo derrot?",-1))]),s("div",lD,[f[190]||(f[190]=s("label",{for:"heroName"},"Nombre del Hroe:",-1)),oe(s("input",{id:"heroName","onUpdate:modelValue":f[61]||(f[61]=y=>V.value=y),type:"text",class:"form-control",placeholder:"Escribe el nombre del hroe...",onKeyup:xn(pe,["enter"])},null,544),[[ye,V.value]])]),s("div",cD,[s("button",{onClick:pe,class:"btn btn-primary",disabled:!V.value.trim()},f[191]||(f[191]=[s("i",{class:"bi bi-save"},null,-1),ue(" Guardar ")]),8,uD),s("button",{onClick:Ae,class:"btn btn-secondary"}," Cancelar ")])])])])):Se("",!0)]),D.value?($(),E("div",{key:3,class:"modal-overlay",id:"todo-list",onClick:f[66]||(f[66]=y=>D.value=!1)},[s("div",{class:"modal-content",onClick:f[65]||(f[65]=Je(()=>{},["stop"]))},[s("div",dD,[f[193]||(f[193]=s("h3",null,"Lista de Tareas",-1)),s("button",{onClick:f[63]||(f[63]=y=>D.value=!1),class:"btn-close"},f[192]||(f[192]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",fD,[s("div",pD,[oe(s("input",{"onUpdate:modelValue":f[64]||(f[64]=y=>ee.value=y),type:"text",class:"form-control",placeholder:"Nueva tarea",onKeyup:xn(Ke,["enter"])},null,544),[[ye,ee.value]]),s("button",{onClick:Ke,class:"btn btn-primary"},"Agregar")]),s("ul",mD,[($(!0),E(Ne,null,We(R.value,y=>($(),E("li",{key:y.id},[oe(s("input",{type:"checkbox","onUpdate:modelValue":Ee=>y.completed=Ee,onChange:Ee=>$t(y.id)},null,40,hD),[[ws,y.completed]]),s("span",{class:it({completed:y.completed})},K(y.text),3),s("button",{onClick:Ee=>Et(y.id),class:"btn btn-danger btn-sm"},"Eliminar",8,gD)]))),128))])])])])):Se("",!0),u.value?($(),On(ox,{key:4,characters:de(t).characters,players:de(o),onClose:f[67]||(f[67]=y=>u.value=!1)},null,8,["characters","players"])):Se("",!0)]))}},bD=Tt(vD,[["__scopeId","data-v-e1a0d2ca"]]),wD={class:"account-view-container fade-in"},yD={class:"account-sections"},CD={class:"account-section character-management-section"},xD={class:"section-content"},_D={class:"account-section import-section"},kD={class:"section-content"},SD={class:"file-upload-container"},$D={for:"file-upload",class:"file-upload-label"},ED={key:0,class:"preview-section"},DD=["disabled"],TD={__name:"AccountView",setup(e){const t=yt(),n=he(""),o=he(""),a=c=>{const u=c.target.files[0];if(!u)return;o.value=u.name;const p=new FileReader;p.onload=d=>{n.value=d.target.result},p.readAsText(u)},r=()=>{try{const c=t.exportData(),u=new Blob([c],{type:"application/json"}),p=URL.createObjectURL(u),d=document.createElement("a");d.href=p,d.download=`dnd-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(p),$e.fire({icon:"success",title:"Exportado!",text:"Copia de seguridad guardada correctamente.",timer:2e3,showConfirmButton:!1})}catch{$e.fire({icon:"error",title:"Error",text:"No se pudieron exportar los datos."})}},i=()=>{$e.fire({title:"Restaurar datos?",text:"Se reemplazarn todos los datos actuales por los del archivo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2ecc71",cancelButtonColor:"#d33",confirmButtonText:"S, restaurar",cancelButtonText:"Cancelar"}).then(c=>{if(c.isConfirmed){const{success:u,error:p}=t.importData(n.value);u?$e.fire({title:"Restaurado!",text:"Los datos se han cargado correctamente.",icon:"success",timer:1500,showConfirmButton:!1}):$e.fire({title:"Error",text:p||"El archivo no es vlido.",icon:"error"})}})},l=()=>{$e.fire({title:"Ests seguro?",text:"Se borrarn todos los personajes y configuraciones. No se puede deshacer.",icon:"error",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, borrar todo",cancelButtonText:"Cancelar"}).then(c=>{c.isConfirmed&&t.clearAllData()})};return(c,u)=>{const p=Ei("router-link");return $(),E("div",wD,[u[14]||(u[14]=s("div",{class:"account-header"},[s("h1",null,[s("i",{class:"bi bi-person-badge-fill"}),ue(" Gestin de Cuenta")]),s("p",{class:"account-subtitle"},"Administra tus datos y configuraciones")],-1)),s("div",yD,[s("div",CD,[u[2]||(u[2]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-people-fill"}),ue(" Gestor de Personajes")])],-1)),s("div",xD,[u[1]||(u[1]=s("p",null,"Administra todos tus personajes: crea, elimina, importa, exporta y selecciona cul quieres usar.",-1)),ft(p,{to:"/character-manager",class:"btn btn-primary"},{default:Kn(()=>u[0]||(u[0]=[s("i",{class:"bi bi-folder-symlink"},null,-1),s("span",null,"Ir al Gestor de Personajes",-1)])),_:1})])]),s("div",{class:"account-section export-section"},[u[5]||(u[5]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-cloud-download-fill"}),ue(" Exportar Cuenta Completa")])],-1)),s("div",{class:"section-content"},[u[4]||(u[4]=s("p",null,"Guarda una copia de seguridad de todos tus personajes y configuraciones en un archivo JSON.",-1)),s("button",{onClick:r,class:"btn btn-primary"},u[3]||(u[3]=[s("i",{class:"bi bi-download"},null,-1),s("span",null,"Descargar Copia de Seguridad",-1)]))])]),s("div",_D,[u[10]||(u[10]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-cloud-upload-fill"}),ue(" Importar Datos")])],-1)),s("div",kD,[u[9]||(u[9]=s("p",null,[ue("Restaura tus datos desde un archivo de copia de seguridad. "),s("strong",null,"Esto reemplazar los datos actuales.")],-1)),s("div",SD,[s("label",$D,[u[6]||(u[6]=s("i",{class:"bi bi-folder2-open"},null,-1)),s("span",null,K(o.value||"Seleccionar archivo JSON..."),1)]),s("input",{id:"file-upload",type:"file",accept:".json",onChange:a,class:"file-input"},null,32)]),n.value?($(),E("div",ED,u[7]||(u[7]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),s("span",null,"Archivo cargado y listo para importar",-1)]))):Se("",!0),s("button",{onClick:i,disabled:!n.value,class:"btn btn-success"},u[8]||(u[8]=[s("i",{class:"bi bi-upload"},null,-1),s("span",null,"Restaurar Datos",-1)]),8,DD)])]),s("div",{class:"account-section danger-section"},[u[13]||(u[13]=s("div",{class:"section-header danger-header"},[s("h2",null,[s("i",{class:"bi bi-exclamation-triangle-fill"}),ue(" Zona de Peligro")])],-1)),s("div",{class:"section-content"},[u[12]||(u[12]=s("p",null,[ue("Eliminar todos los datos guardados en este navegador. "),s("strong",null,"Esta accin no se puede deshacer.")],-1)),s("button",{onClick:l,class:"btn btn-danger"},u[11]||(u[11]=[s("i",{class:"bi bi-trash-fill"},null,-1),s("span",null,"Borrar Todos los Datos",-1)]))])])])])}}},AD=Tt(TD,[["__scopeId","data-v-0ab84876"]]),ID={class:"manager-container fade-in"},RD={class:"manager-section"},PD={class:"section-content"},HD={key:0,class:"character-list"},OD={class:"character-info"},BD={class:"character-name"},MD={class:"character-actions"},LD=["onClick","disabled"],ND=["onClick"],VD=["onClick"],jD={key:1,class:"no-characters-message"},FD={__name:"CharacterManager",setup(e){const t=yt(),n=Eo(),o=Vs(),a=Qe(()=>t.accountData.characters),r=Qe(()=>t.accountData.activeCharacterId),i=d=>{n.setActiveCharacter(d),$e.fire({toast:!0,position:"top-end",icon:"success",title:"Personaje cargado",showConfirmButton:!1,timer:1500,timerProgressBar:!0})},l=()=>{const d=ht(),m={id:d,characterData:{character:{isConfigured:!1,name:"Nuevo Personaje"},turn:{current:0,isActive:!1},logs:[]},attacks:[],passiveDamages:[],counters:[],characterState:[]};t.accountData.characters.push(m),n.setActiveCharacter(d),o.push("/config")},c=d=>{$e.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, brralo!",cancelButtonText:"Cancelar"}).then(m=>{if(m.isConfirmed){if(t.accountData.characters=t.accountData.characters.filter(v=>v.id!==d),t.accountData.activeCharacterId===d){const v=t.accountData.characters.length>0?t.accountData.characters[0].id:null;n.setActiveCharacter(v)}else t.saveDataToLocalStorage();$e.fire("Eliminado!","El personaje ha sido eliminado.","success")}})},u=d=>{const m=a.value.find(v=>v.id===d);if(m){const v=JSON.stringify(m,null,2),x="data:application/json;charset=utf-8,"+encodeURIComponent(v),w=`${m.characterData.character.name||"character"}.json`,g=document.createElement("a");g.setAttribute("href",x),g.setAttribute("download",w),g.click()}},p=()=>{const d=document.createElement("input");d.type="file",d.accept=".json",d.onchange=m=>{const v=m.target.files[0],x=new FileReader;x.onload=w=>{try{const g=w.target.result,S=JSON.parse(g);S.id&&S.characterData?(S.id=ht(),t.accountData.characters.push(S),t.saveDataToLocalStorage(),$e.fire("xito!","Personaje importado correctamente.","success")):$e.fire("Error","El archivo no tiene el formato de personaje esperado.","error")}catch{$e.fire("Error","No se pudo leer o procesar el archivo.","error")}},x.readAsText(v,"UTF-8")},d.click()};return(d,m)=>($(),E("div",ID,[m[9]||(m[9]=s("div",{class:"manager-header"},[s("h1",null,[s("i",{class:"bi bi-people-fill"}),ue(" Gestor de Personajes")]),s("p",{class:"manager-subtitle"},"Administra, crea, carga y comparte tus personajes")],-1)),s("div",RD,[m[5]||(m[5]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-person-lines-fill"}),ue(" Mis Personajes")])],-1)),s("div",PD,[a.value.length>0?($(),E("ul",HD,[($(!0),E(Ne,null,We(a.value,v=>($(),E("li",{key:v.id,class:it(["character-item",{active:v.id===r.value}])},[s("div",OD,[m[0]||(m[0]=s("i",{class:"bi bi-person-circle character-icon"},null,-1)),s("span",BD,K(v.characterData.character.name||"Personaje sin nombre"),1)]),s("div",MD,[s("button",{onClick:x=>i(v.id),class:"btn btn-sm btn-primary",disabled:v.id===r.value},[m[1]||(m[1]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),s("span",null,K(v.id===r.value?"Cargado":"Cargar"),1)],8,LD),s("button",{onClick:x=>u(v.id),class:"btn btn-sm btn-secondary"},m[2]||(m[2]=[s("i",{class:"bi bi-box-arrow-up"},null,-1),s("span",null,"Exportar",-1)]),8,ND),s("button",{onClick:x=>c(v.id),class:"btn btn-sm btn-danger"},m[3]||(m[3]=[s("i",{class:"bi bi-trash-fill"},null,-1),s("span",null,"Eliminar",-1)]),8,VD)])],2))),128))])):($(),E("div",jD,m[4]||(m[4]=[s("i",{class:"bi bi-emoji-dizzy"},null,-1),s("p",null,"No tienes ningn personaje todava. Crea uno para empezar!",-1)])))])]),s("div",{class:"manager-section"},[m[8]||(m[8]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-plus-circle-fill"}),ue(" Nuevas Aventuras")])],-1)),s("div",{class:"section-content action-buttons"},[s("button",{onClick:l,class:"btn btn-success"},m[6]||(m[6]=[s("i",{class:"bi bi-person-plus-fill"},null,-1),s("span",null,"Crear Nuevo Personaje",-1)])),s("button",{onClick:p,class:"btn btn-info"},m[7]||(m[7]=[s("i",{class:"bi bi-box-arrow-down"},null,-1),s("span",null,"Importar Personaje",-1)]))])])]))}},UD=Tt(FD,[["__scopeId","data-v-a8b1242e"]]),zD={class:"character-manager-view"},qD={__name:"CharacterManagerView",setup(e){return(t,n)=>($(),E("div",zD,[ft(UD)]))}},WD=Tt(qD,[["__scopeId","data-v-22bb6cd8"]]),KD=[{path:"/",component:Lg,name:"home"},{path:"/account",component:AD,name:"account"},{path:"/character-manager",component:WD,name:"character-manager"},{path:"/config",component:Z1,name:"config"},{path:"/character",component:lC,name:"character"},{path:"/logs",component:LC,name:"logs"},{path:"/dm",component:bD,name:"dm"},{path:"/:pathMatch(.*)*",redirect:"/"}],YD=Sg({history:eg("/DyD/"),routes:KD}),XD={class:"app-header"},GD={class:"navbar"},JD={class:"navbar-brand"},QD={__name:"AppHeader",setup(e){const t=Eo(),n=he(!1),o=Qe(()=>t.character.isConfigured),a=()=>{n.value=!n.value},r=()=>{n.value=!1};return(i,l)=>{const c=Ei("router-link");return $(),E("header",XD,[l[7]||(l[7]=s("div",{class:"header-background"},[s("div",{class:"header-glow"}),s("div",{class:"header-pattern"})],-1)),s("nav",GD,[s("div",JD,[ft(c,{to:"/",class:"brand-link"},{default:Kn(()=>l[0]||(l[0]=[s("div",{class:"brand-icon-container"},[s("span",{class:"brand-icon"},""),s("div",{class:"brand-icon-glow"})],-1),s("span",{class:"brand-text"},"D&D Life Tracker",-1)])),_:1})]),s("button",{onClick:a,class:it(["mobile-menu-toggle",{active:n.value}]),"aria-label":"Toggle mobile menu"},l[1]||(l[1]=[s("span",{class:"hamburger-line"},null,-1),s("span",{class:"hamburger-line"},null,-1),s("span",{class:"hamburger-line"},null,-1)]),2),s("div",{class:it(["navbar-nav",{"mobile-open":n.value}])},[ft(c,{to:"/",class:"nav-link","active-class":"active",onClick:r},{default:Kn(()=>l[2]||(l[2]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-house-door"})],-1),s("span",null,"Inicio",-1)])),_:1}),o.value?($(),On(c,{key:0,to:"/character",class:"nav-link","active-class":"active",onClick:r},{default:Kn(()=>l[3]||(l[3]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-person"})],-1),s("span",null,"Personaje",-1)])),_:1})):($(),On(c,{key:1,to:"/config",class:"nav-link","active-class":"active",onClick:r},{default:Kn(()=>l[4]||(l[4]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-plus-circle"})],-1),s("span",null,"Crear Personaje",-1)])),_:1})),ft(c,{to:"/dm",class:"nav-link","active-class":"active",onClick:r},{default:Kn(()=>l[5]||(l[5]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-shield-fill"})],-1),s("span",null,"DM",-1)])),_:1}),ft(c,{to:"/account",class:"nav-link","active-class":"active",onClick:r},{default:Kn(()=>l[6]||(l[6]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-person-badge"})],-1),s("span",null,"Cuenta",-1)])),_:1})],2)])])}}},ZD=Tt(QD,[["__scopeId","data-v-88619630"]]),eT={class:"app-container"},tT={class:"main-content"},nT={__name:"App",setup(e){const t=yt(),{isLoading:n}=ko(t);return qt(()=>{t.loadInitialData()}),un(n,o=>{o||Eo().loadAllCharacterData()}),(o,a)=>{const r=Ei("RouterView");return $(),E("div",eT,[ft(ZD),s("main",tT,[ft(r)])])}}},Gi=hh(nT),oT=bh();Gi.use(oT);const sT=yt();sT.loadInitialData();Gi.use(YD);Gi.mount("#app");
