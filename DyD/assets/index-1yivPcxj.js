(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Li(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const qe={},yo=[],rn=()=>{},Hd=()=>!1,Ca=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vi=e=>e.startsWith("onUpdate:"),Ct=Object.assign,ji=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Rd=Object.prototype.hasOwnProperty,Fe=(e,t)=>Rd.call(e,t),_e=Array.isArray,Co=e=>hs(e)==="[object Map]",Po=e=>hs(e)==="[object Set]",kr=e=>hs(e)==="[object Date]",Te=e=>typeof e=="function",ct=e=>typeof e=="string",dn=e=>typeof e=="symbol",Ge=e=>e!==null&&typeof e=="object",Ul=e=>(Ge(e)||Te(e))&&Te(e.then)&&Te(e.catch),Fl=Object.prototype.toString,hs=e=>Fl.call(e),Pd=e=>hs(e).slice(8,-1),zl=e=>hs(e)==="[object Object]",Ui=e=>ct(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Wo=Li(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Od=/-(\w)/g,Wt=xa(e=>e.replace(Od,(t,n)=>n?n.toUpperCase():"")),Md=/\B([A-Z])/g,Un=xa(e=>e.replace(Md,"-$1").toLowerCase()),_a=xa(e=>e.charAt(0).toUpperCase()+e.slice(1)),ja=xa(e=>e?`on${_a(e)}`:""),Vn=(e,t)=>!Object.is(e,t),Ls=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ql=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Ys=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Sr;const ka=()=>Sr||(Sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ln(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=ct(o)?Vd(o):ln(o);if(a)for(const i in a)t[i]=a[i]}return t}else if(ct(e)||Ge(e))return e}const Bd=/;(?![^(]*\))/g,Nd=/:([^]+)/,Ld=/\/\*[^]*?\*\//g;function Vd(e){const t={};return e.replace(Ld,"").split(Bd).forEach(n=>{if(n){const o=n.split(Nd);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function ze(e){let t="";if(ct(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const o=ze(e[n]);o&&(t+=o+" ")}else if(Ge(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const jd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ud=Li(jd);function Gl(e){return!!e||e===""}function Fd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=gs(e[o],t[o]);return n}function gs(e,t){if(e===t)return!0;let n=kr(e),o=kr(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=dn(e),o=dn(t),n||o)return e===t;if(n=_e(e),o=_e(t),n||o)return n&&o?Fd(e,t):!1;if(n=Ge(e),o=Ge(t),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const r in e){const l=e.hasOwnProperty(r),c=t.hasOwnProperty(r);if(l&&!c||!l&&c||!gs(e[r],t[r]))return!1}}return String(e)===String(t)}function Fi(e,t){return e.findIndex(n=>gs(n,t))}const Wl=e=>!!(e&&e.__v_isRef===!0),B=e=>ct(e)?e:e==null?"":_e(e)||Ge(e)&&(e.toString===Fl||!Te(e.toString))?Wl(e)?B(e.value):JSON.stringify(e,Kl,2):String(e),Kl=(e,t)=>Wl(t)?Kl(e,t.value):Co(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,a],i)=>(n[Ua(o,i)+" =>"]=a,n),{})}:Po(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ua(n))}:dn(t)?Ua(t):Ge(t)&&!_e(t)&&!zl(t)?String(t):t,Ua=(e,t="")=>{var n;return dn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class Xl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dt,!t&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Dt;try{return Dt=this,t()}finally{Dt=n}}}on(){Dt=this}off(){Dt=this.parent}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Yl(e){return new Xl(e)}function Jl(){return Dt}function zd(e,t=!1){Dt&&Dt.cleanups.push(e)}let We;const Fa=new WeakSet;class Ql{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dt&&Dt.active&&Dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fa.has(this)&&(Fa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ec(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$r(this),tc(this);const t=We,n=Qt;We=this,Qt=!0;try{return this.fn()}finally{nc(this),We=t,Qt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Gi(t);this.deps=this.depsTail=void 0,$r(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hi(this)&&this.run()}get dirty(){return hi(this)}}let Zl=0,Ko,Xo;function ec(e,t=!1){if(e.flags|=8,t){e.next=Xo,Xo=e;return}e.next=Ko,Ko=e}function zi(){Zl++}function qi(){if(--Zl>0)return;if(Xo){let t=Xo;for(Xo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ko;){let t=Ko;for(Ko=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function tc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function nc(e){let t,n=e.depsTail,o=n;for(;o;){const a=o.prevDep;o.version===-1?(o===n&&(n=a),Gi(o),qd(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=a}e.deps=t,e.depsTail=n}function hi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(oc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function oc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ls))return;e.globalVersion=ls;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!hi(e)){e.flags&=-3;return}const n=We,o=Qt;We=e,Qt=!0;try{tc(e);const a=e.fn(e._value);(t.version===0||Vn(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{We=n,Qt=o,nc(e),e.flags&=-3}}function Gi(e,t=!1){const{dep:n,prevSub:o,nextSub:a}=e;if(o&&(o.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Gi(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function qd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Qt=!0;const sc=[];function Fn(){sc.push(Qt),Qt=!1}function zn(){const e=sc.pop();Qt=e===void 0?!0:e}function $r(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=We;We=void 0;try{t()}finally{We=n}}}let ls=0;class Gd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!We||!Qt||We===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==We)n=this.activeLink=new Gd(We,this),We.deps?(n.prevDep=We.depsTail,We.depsTail.nextDep=n,We.depsTail=n):We.deps=We.depsTail=n,ac(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=We.depsTail,n.nextDep=void 0,We.depsTail.nextDep=n,We.depsTail=n,We.deps===n&&(We.deps=o)}return n}trigger(t){this.version++,ls++,this.notify(t)}notify(t){zi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{qi()}}}function ac(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)ac(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Js=new WeakMap,to=Symbol(""),gi=Symbol(""),cs=Symbol("");function wt(e,t,n){if(Qt&&We){let o=Js.get(e);o||Js.set(e,o=new Map);let a=o.get(n);a||(o.set(n,a=new Wi),a.map=o,a.key=n),a.track()}}function bn(e,t,n,o,a,i){const r=Js.get(e);if(!r){ls++;return}const l=c=>{c&&c.trigger()};if(zi(),t==="clear")r.forEach(l);else{const c=_e(e),u=c&&Ui(n);if(c&&n==="length"){const f=Number(o);r.forEach((p,m)=>{(m==="length"||m===cs||!dn(m)&&m>=f)&&l(p)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),u&&l(r.get(cs)),t){case"add":c?u&&l(r.get("length")):(l(r.get(to)),Co(e)&&l(r.get(gi)));break;case"delete":c||(l(r.get(to)),Co(e)&&l(r.get(gi)));break;case"set":Co(e)&&l(r.get(to));break}}qi()}function Wd(e,t){const n=Js.get(e);return n&&n.get(t)}function fo(e){const t=Oe(e);return t===e?t:(wt(t,"iterate",cs),Gt(e)?t:t.map(yt))}function Sa(e){return wt(e=Oe(e),"iterate",cs),e}const Kd={__proto__:null,[Symbol.iterator](){return za(this,Symbol.iterator,yt)},concat(...e){return fo(this).concat(...e.map(t=>_e(t)?fo(t):t))},entries(){return za(this,"entries",e=>(e[1]=yt(e[1]),e))},every(e,t){return hn(this,"every",e,t,void 0,arguments)},filter(e,t){return hn(this,"filter",e,t,n=>n.map(yt),arguments)},find(e,t){return hn(this,"find",e,t,yt,arguments)},findIndex(e,t){return hn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return hn(this,"findLast",e,t,yt,arguments)},findLastIndex(e,t){return hn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return hn(this,"forEach",e,t,void 0,arguments)},includes(...e){return qa(this,"includes",e)},indexOf(...e){return qa(this,"indexOf",e)},join(e){return fo(this).join(e)},lastIndexOf(...e){return qa(this,"lastIndexOf",e)},map(e,t){return hn(this,"map",e,t,void 0,arguments)},pop(){return Lo(this,"pop")},push(...e){return Lo(this,"push",e)},reduce(e,...t){return Dr(this,"reduce",e,t)},reduceRight(e,...t){return Dr(this,"reduceRight",e,t)},shift(){return Lo(this,"shift")},some(e,t){return hn(this,"some",e,t,void 0,arguments)},splice(...e){return Lo(this,"splice",e)},toReversed(){return fo(this).toReversed()},toSorted(e){return fo(this).toSorted(e)},toSpliced(...e){return fo(this).toSpliced(...e)},unshift(...e){return Lo(this,"unshift",e)},values(){return za(this,"values",yt)}};function za(e,t,n){const o=Sa(e),a=o[t]();return o!==e&&!Gt(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const Xd=Array.prototype;function hn(e,t,n,o,a,i){const r=Sa(e),l=r!==e&&!Gt(e),c=r[t];if(c!==Xd[t]){const p=c.apply(e,i);return l?yt(p):p}let u=n;r!==e&&(l?u=function(p,m){return n.call(this,yt(p),m,e)}:n.length>2&&(u=function(p,m){return n.call(this,p,m,e)}));const f=c.call(r,u,o);return l&&a?a(f):f}function Dr(e,t,n,o){const a=Sa(e);let i=n;return a!==e&&(Gt(e)?n.length>3&&(i=function(r,l,c){return n.call(this,r,l,c,e)}):i=function(r,l,c){return n.call(this,r,yt(l),c,e)}),a[t](i,...o)}function qa(e,t,n){const o=Oe(e);wt(o,"iterate",cs);const a=o[t](...n);return(a===-1||a===!1)&&Yi(n[0])?(n[0]=Oe(n[0]),o[t](...n)):a}function Lo(e,t,n=[]){Fn(),zi();const o=Oe(e)[t].apply(e,n);return qi(),zn(),o}const Yd=Li("__proto__,__v_isRef,__isVue"),ic=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dn));function Jd(e){dn(e)||(e=String(e));const t=Oe(this);return wt(t,"has",e),t.hasOwnProperty(e)}class rc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(a?i?lf:dc:i?uc:cc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=_e(t);if(!a){let c;if(r&&(c=Kd[n]))return c;if(n==="hasOwnProperty")return Jd}const l=Reflect.get(t,n,et(t)?t:o);return(dn(n)?ic.has(n):Yd(n))||(a||wt(t,"get",n),i)?l:et(l)?r&&Ui(n)?l:l.value:Ge(l)?a?pc(l):Kt(l):l}}class lc extends rc{constructor(t=!1){super(!1,t)}set(t,n,o,a){let i=t[n];if(!this._isShallow){const c=so(i);if(!Gt(o)&&!so(o)&&(i=Oe(i),o=Oe(o)),!_e(t)&&et(i)&&!et(o))return c?!1:(i.value=o,!0)}const r=_e(t)&&Ui(n)?Number(n)<t.length:Fe(t,n),l=Reflect.set(t,n,o,et(t)?t:a);return t===Oe(a)&&(r?Vn(o,i)&&bn(t,"set",n,o):bn(t,"add",n,o)),l}deleteProperty(t,n){const o=Fe(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&o&&bn(t,"delete",n,void 0),a}has(t,n){const o=Reflect.has(t,n);return(!dn(n)||!ic.has(n))&&wt(t,"has",n),o}ownKeys(t){return wt(t,"iterate",_e(t)?"length":to),Reflect.ownKeys(t)}}class Qd extends rc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zd=new lc,ef=new Qd,tf=new lc(!0);const vi=e=>e,Is=e=>Reflect.getPrototypeOf(e);function nf(e,t,n){return function(...o){const a=this.__v_raw,i=Oe(a),r=Co(i),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,u=a[e](...o),f=n?vi:t?bi:yt;return!t&&wt(i,"iterate",c?gi:to),{next(){const{value:p,done:m}=u.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function Hs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function of(e,t){const n={get(a){const i=this.__v_raw,r=Oe(i),l=Oe(a);e||(Vn(a,l)&&wt(r,"get",a),wt(r,"get",l));const{has:c}=Is(r),u=t?vi:e?bi:yt;if(c.call(r,a))return u(i.get(a));if(c.call(r,l))return u(i.get(l));i!==r&&i.get(a)},get size(){const a=this.__v_raw;return!e&&wt(Oe(a),"iterate",to),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,r=Oe(i),l=Oe(a);return e||(Vn(a,l)&&wt(r,"has",a),wt(r,"has",l)),a===l?i.has(a):i.has(a)||i.has(l)},forEach(a,i){const r=this,l=r.__v_raw,c=Oe(l),u=t?vi:e?bi:yt;return!e&&wt(c,"iterate",to),l.forEach((f,p)=>a.call(i,u(f),u(p),r))}};return Ct(n,e?{add:Hs("add"),set:Hs("set"),delete:Hs("delete"),clear:Hs("clear")}:{add(a){!t&&!Gt(a)&&!so(a)&&(a=Oe(a));const i=Oe(this);return Is(i).has.call(i,a)||(i.add(a),bn(i,"add",a,a)),this},set(a,i){!t&&!Gt(i)&&!so(i)&&(i=Oe(i));const r=Oe(this),{has:l,get:c}=Is(r);let u=l.call(r,a);u||(a=Oe(a),u=l.call(r,a));const f=c.call(r,a);return r.set(a,i),u?Vn(i,f)&&bn(r,"set",a,i):bn(r,"add",a,i),this},delete(a){const i=Oe(this),{has:r,get:l}=Is(i);let c=r.call(i,a);c||(a=Oe(a),c=r.call(i,a)),l&&l.call(i,a);const u=i.delete(a);return c&&bn(i,"delete",a,void 0),u},clear(){const a=Oe(this),i=a.size!==0,r=a.clear();return i&&bn(a,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=nf(a,e,t)}),n}function Ki(e,t){const n=of(e,t);return(o,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(Fe(n,a)&&a in o?n:o,a,i)}const sf={get:Ki(!1,!1)},af={get:Ki(!1,!0)},rf={get:Ki(!0,!1)};const cc=new WeakMap,uc=new WeakMap,dc=new WeakMap,lf=new WeakMap;function cf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uf(e){return e.__v_skip||!Object.isExtensible(e)?0:cf(Pd(e))}function Kt(e){return so(e)?e:Xi(e,!1,Zd,sf,cc)}function fc(e){return Xi(e,!1,tf,af,uc)}function pc(e){return Xi(e,!0,ef,rf,dc)}function Xi(e,t,n,o,a){if(!Ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const r=uf(e);if(r===0)return e;const l=new Proxy(e,r===2?o:n);return a.set(e,l),l}function Cn(e){return so(e)?Cn(e.__v_raw):!!(e&&e.__v_isReactive)}function so(e){return!!(e&&e.__v_isReadonly)}function Gt(e){return!!(e&&e.__v_isShallow)}function Yi(e){return e?!!e.__v_raw:!1}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function Ji(e){return!Fe(e,"__v_skip")&&Object.isExtensible(e)&&ql(e,"__v_skip",!0),e}const yt=e=>Ge(e)?Kt(e):e,bi=e=>Ge(e)?pc(e):e;function et(e){return e?e.__v_isRef===!0:!1}function Z(e){return mc(e,!1)}function df(e){return mc(e,!0)}function mc(e,t){return et(e)?e:new ff(e,t)}class ff{constructor(t,n){this.dep=new Wi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Oe(t),this._value=n?t:yt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Gt(t)||so(t);t=o?t:Oe(t),Vn(t,n)&&(this._rawValue=t,this._value=o?t:yt(t),this.dep.trigger())}}function Q(e){return et(e)?e.value:e}const pf={get:(e,t,n)=>t==="__v_raw"?e:Q(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return et(a)&&!et(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function hc(e){return Cn(e)?e:new Proxy(e,pf)}function mf(e){const t=_e(e)?new Array(e.length):{};for(const n in e)t[n]=vc(e,n);return t}class hf{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Wd(Oe(this._object),this._key)}}class gf{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gc(e,t,n){return et(e)?e:Te(e)?new gf(e):Ge(e)&&arguments.length>1?vc(e,t,n):Z(e)}function vc(e,t,n){const o=e[t];return et(o)?o:new hf(e,t,n)}class vf{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Wi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ls-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return ec(this,!0),!0}get value(){const t=this.dep.track();return oc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function bf(e,t,n=!1){let o,a;return Te(e)?o=e:(o=e.get,a=e.set),new vf(o,a,n)}const Rs={},Qs=new WeakMap;let Qn;function wf(e,t=!1,n=Qn){if(n){let o=Qs.get(n);o||Qs.set(n,o=[]),o.push(e)}}function yf(e,t,n=qe){const{immediate:o,deep:a,once:i,scheduler:r,augmentJob:l,call:c}=n,u=I=>a?I:Gt(I)||a===!1||a===0?wn(I,1):wn(I);let f,p,m,g,D=!1,y=!1;if(et(e)?(p=()=>e.value,D=Gt(e)):Cn(e)?(p=()=>u(e),D=!0):_e(e)?(y=!0,D=e.some(I=>Cn(I)||Gt(I)),p=()=>e.map(I=>{if(et(I))return I.value;if(Cn(I))return u(I);if(Te(I))return c?c(I,2):I()})):Te(e)?t?p=c?()=>c(e,2):e:p=()=>{if(m){Fn();try{m()}finally{zn()}}const I=Qn;Qn=f;try{return c?c(e,3,[g]):e(g)}finally{Qn=I}}:p=rn,t&&a){const I=p,L=a===!0?1/0:a;p=()=>wn(I(),L)}const h=Jl(),k=()=>{f.stop(),h&&h.active&&ji(h.effects,f)};if(i&&t){const I=t;t=(...L)=>{I(...L),k()}}let O=y?new Array(e.length).fill(Rs):Rs;const E=I=>{if(!(!(f.flags&1)||!f.dirty&&!I))if(t){const L=f.run();if(a||D||(y?L.some((ie,pe)=>Vn(ie,O[pe])):Vn(L,O))){m&&m();const ie=Qn;Qn=f;try{const pe=[L,O===Rs?void 0:y&&O[0]===Rs?[]:O,g];c?c(t,3,pe):t(...pe),O=L}finally{Qn=ie}}}else f.run()};return l&&l(E),f=new Ql(p),f.scheduler=r?()=>r(E,!1):E,g=I=>wf(I,!1,f),m=f.onStop=()=>{const I=Qs.get(f);if(I){if(c)c(I,4);else for(const L of I)L();Qs.delete(f)}},t?o?E(!0):O=f.run():r?r(E.bind(null,!0),!0):f.run(),k.pause=f.pause.bind(f),k.resume=f.resume.bind(f),k.stop=k,k}function wn(e,t=1/0,n){if(t<=0||!Ge(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,et(e))wn(e.value,t,n);else if(_e(e))for(let o=0;o<e.length;o++)wn(e[o],t,n);else if(Po(e)||Co(e))e.forEach(o=>{wn(o,t,n)});else if(zl(e)){for(const o in e)wn(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&wn(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vs(e,t,n,o){try{return o?e(...o):e()}catch(a){$a(a,t,n)}}function fn(e,t,n,o){if(Te(e)){const a=vs(e,t,n,o);return a&&Ul(a)&&a.catch(i=>{$a(i,t,n)}),a}if(_e(e)){const a=[];for(let i=0;i<e.length;i++)a.push(fn(e[i],t,n,o));return a}}function $a(e,t,n,o=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||qe;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](e,c,u)===!1)return}l=l.parent}if(i){Fn(),vs(i,null,10,[e,c,u]),zn();return}}Cf(e,n,a,o,r)}function Cf(e,t,n,o=!0,a=!1){if(a)throw e;console.error(e)}const Et=[];let nn=-1;const xo=[];let An=null,go=0;const bc=Promise.resolve();let Zs=null;function ro(e){const t=Zs||bc;return e?t.then(this?e.bind(this):e):t}function xf(e){let t=nn+1,n=Et.length;for(;t<n;){const o=t+n>>>1,a=Et[o],i=us(a);i<e||i===e&&a.flags&2?t=o+1:n=o}return t}function Qi(e){if(!(e.flags&1)){const t=us(e),n=Et[Et.length-1];!n||!(e.flags&2)&&t>=us(n)?Et.push(e):Et.splice(xf(t),0,e),e.flags|=1,wc()}}function wc(){Zs||(Zs=bc.then(Cc))}function _f(e){_e(e)?xo.push(...e):An&&e.id===-1?An.splice(go+1,0,e):e.flags&1||(xo.push(e),e.flags|=1),wc()}function Er(e,t,n=nn+1){for(;n<Et.length;n++){const o=Et[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Et.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function yc(e){if(xo.length){const t=[...new Set(xo)].sort((n,o)=>us(n)-us(o));if(xo.length=0,An){An.push(...t);return}for(An=t,go=0;go<An.length;go++){const n=An[go];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}An=null,go=0}}const us=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Cc(e){try{for(nn=0;nn<Et.length;nn++){const t=Et[nn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),vs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;nn<Et.length;nn++){const t=Et[nn];t&&(t.flags&=-2)}nn=-1,Et.length=0,yc(),Zs=null,(Et.length||xo.length)&&Cc()}}let Pt=null,xc=null;function ea(e){const t=Pt;return Pt=e,xc=e&&e.type.__scopeId||null,t}function In(e,t=Pt,n){if(!t||e._n)return e;const o=(...a)=>{o._d&&Nr(-1);const i=ea(t);let r;try{r=e(...a)}finally{ea(i),o._d&&Nr(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function z(e,t){if(Pt===null)return e;const n=Aa(Pt),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,r,l,c=qe]=t[a];i&&(Te(i)&&(i={mounted:i,updated:i}),i.deep&&wn(r),o.push({dir:i,instance:n,value:r,oldValue:void 0,arg:l,modifiers:c}))}return e}function Wn(e,t,n,o){const a=e.dirs,i=t&&t.dirs;for(let r=0;r<a.length;r++){const l=a[r];i&&(l.oldValue=i[r].value);let c=l.dir[o];c&&(Fn(),fn(c,n,8,[e.el,l,e,t]),zn())}}const kf=Symbol("_vte"),Sf=e=>e.__isTeleport;function Zi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Zi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function _c(e,t){return Te(e)?Ct({name:e.name},t,{setup:e}):e}function kc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ta(e,t,n,o,a=!1){if(_e(e)){e.forEach((D,y)=>ta(D,t&&(_e(t)?t[y]:t),n,o,a));return}if(Yo(o)&&!a){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&ta(e,t,n,o.component.subTree);return}const i=o.shapeFlag&4?Aa(o.component):o.el,r=a?null:i,{i:l,r:c}=e,u=t&&t.r,f=l.refs===qe?l.refs={}:l.refs,p=l.setupState,m=Oe(p),g=p===qe?()=>!1:D=>Fe(m,D);if(u!=null&&u!==c&&(ct(u)?(f[u]=null,g(u)&&(p[u]=null)):et(u)&&(u.value=null)),Te(c))vs(c,l,12,[r,f]);else{const D=ct(c),y=et(c);if(D||y){const h=()=>{if(e.f){const k=D?g(c)?p[c]:f[c]:c.value;a?_e(k)&&ji(k,i):_e(k)?k.includes(i)||k.push(i):D?(f[c]=[i],g(c)&&(p[c]=f[c])):(c.value=[i],e.k&&(f[e.k]=c.value))}else D?(f[c]=r,g(c)&&(p[c]=r)):y&&(c.value=r,e.k&&(f[e.k]=r))};r?(h.id=-1,Nt(h,n)):h()}}}ka().requestIdleCallback;ka().cancelIdleCallback;const Yo=e=>!!e.type.__asyncLoader,Sc=e=>e.type.__isKeepAlive;function $f(e,t){$c(e,"a",t)}function Df(e,t){$c(e,"da",t)}function $c(e,t,n=ht){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Da(t,o,n),n){let a=n.parent;for(;a&&a.parent;)Sc(a.parent.vnode)&&Ef(o,t,n,a),a=a.parent}}function Ef(e,t,n,o){const a=Da(t,e,o,!0);qn(()=>{ji(o[t],a)},n)}function Da(e,t,n=ht,o=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Fn();const l=bs(n),c=fn(t,n,e,r);return l(),zn(),c});return o?a.unshift(i):a.push(i),i}}const $n=e=>(t,n=ht)=>{(!fs||e==="sp")&&Da(e,(...o)=>t(...o),n)},Tf=$n("bm"),Mt=$n("m"),Af=$n("bu"),If=$n("u"),Hf=$n("bum"),qn=$n("um"),Rf=$n("sp"),Pf=$n("rtg"),Of=$n("rtc");function Mf(e,t=ht){Da("ec",e,t)}const Bf="components";function er(e,t){return Lf(Bf,e,!0,t)||e}const Nf=Symbol.for("v-ndc");function Lf(e,t,n=!0,o=!1){const a=Pt||ht;if(a){const i=a.type;{const l=$p(i,!1);if(l&&(l===t||l===Wt(t)||l===_a(Wt(t))))return i}const r=Tr(a[e]||i[e],t)||Tr(a.appContext[e],t);return!r&&o?i:r}}function Tr(e,t){return e&&(e[t]||e[Wt(t)]||e[_a(Wt(t))])}function Re(e,t,n,o){let a;const i=n,r=_e(e);if(r||ct(e)){const l=r&&Cn(e);let c=!1;l&&(c=!Gt(e),e=Sa(e)),a=new Array(e.length);for(let u=0,f=e.length;u<f;u++)a[u]=t(c?yt(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,i)}else if(Ge(e))if(e[Symbol.iterator])a=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);a=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const f=l[c];a[c]=t(e[f],f,c,i)}}else a=[];return a}const wi=e=>e?Wc(e)?Aa(e):wi(e.parent):null,Jo=Ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wi(e.parent),$root:e=>wi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ec(e),$forceUpdate:e=>e.f||(e.f=()=>{Qi(e.update)}),$nextTick:e=>e.n||(e.n=ro.bind(e.proxy)),$watch:e=>rp.bind(e)}),Ga=(e,t)=>e!==qe&&!e.__isScriptSetup&&Fe(e,t),Vf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:a,props:i,accessCache:r,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const g=r[t];if(g!==void 0)switch(g){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(Ga(o,t))return r[t]=1,o[t];if(a!==qe&&Fe(a,t))return r[t]=2,a[t];if((u=e.propsOptions[0])&&Fe(u,t))return r[t]=3,i[t];if(n!==qe&&Fe(n,t))return r[t]=4,n[t];yi&&(r[t]=0)}}const f=Jo[t];let p,m;if(f)return t==="$attrs"&&wt(e.attrs,"get",""),f(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==qe&&Fe(n,t))return r[t]=4,n[t];if(m=c.config.globalProperties,Fe(m,t))return m[t]},set({_:e},t,n){const{data:o,setupState:a,ctx:i}=e;return Ga(a,t)?(a[t]=n,!0):o!==qe&&Fe(o,t)?(o[t]=n,!0):Fe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:i}},r){let l;return!!n[r]||e!==qe&&Fe(e,r)||Ga(t,r)||(l=i[0])&&Fe(l,r)||Fe(o,r)||Fe(Jo,r)||Fe(a.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Fe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ar(e){return _e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let yi=!0;function jf(e){const t=Ec(e),n=e.proxy,o=e.ctx;yi=!1,t.beforeCreate&&Ir(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:r,watch:l,provide:c,inject:u,created:f,beforeMount:p,mounted:m,beforeUpdate:g,updated:D,activated:y,deactivated:h,beforeDestroy:k,beforeUnmount:O,destroyed:E,unmounted:I,render:L,renderTracked:ie,renderTriggered:pe,errorCaptured:de,serverPrefetch:N,expose:T,inheritAttrs:H,components:$,directives:_,filters:V}=t;if(u&&Uf(u,o,null),r)for(const W in r){const ve=r[W];Te(ve)&&(o[W]=ve.bind(n))}if(a){const W=a.call(n,n);Ge(W)&&(e.data=Kt(W))}if(yi=!0,i)for(const W in i){const ve=i[W],q=Te(ve)?ve.bind(n,n):Te(ve.get)?ve.get.bind(n,n):rn,A=!Te(ve)&&Te(ve.set)?ve.set.bind(n):rn,re=Le({get:q,set:A});Object.defineProperty(o,W,{enumerable:!0,configurable:!0,get:()=>re.value,set:J=>re.value=J})}if(l)for(const W in l)Dc(l[W],o,n,W);if(c){const W=Te(c)?c.call(n):c;Reflect.ownKeys(W).forEach(ve=>{Vs(ve,W[ve])})}f&&Ir(f,e,"c");function K(W,ve){_e(ve)?ve.forEach(q=>W(q.bind(n))):ve&&W(ve.bind(n))}if(K(Tf,p),K(Mt,m),K(Af,g),K(If,D),K($f,y),K(Df,h),K(Mf,de),K(Of,ie),K(Pf,pe),K(Hf,O),K(qn,I),K(Rf,N),_e(T))if(T.length){const W=e.exposed||(e.exposed={});T.forEach(ve=>{Object.defineProperty(W,ve,{get:()=>n[ve],set:q=>n[ve]=q})})}else e.exposed||(e.exposed={});L&&e.render===rn&&(e.render=L),H!=null&&(e.inheritAttrs=H),$&&(e.components=$),_&&(e.directives=_),N&&kc(e)}function Uf(e,t,n=rn){_e(e)&&(e=Ci(e));for(const o in e){const a=e[o];let i;Ge(a)?"default"in a?i=Zt(a.from||o,a.default,!0):i=Zt(a.from||o):i=Zt(a),et(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function Ir(e,t,n){fn(_e(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Dc(e,t,n,o){let a=o.includes(".")?Uc(n,o):()=>n[o];if(ct(e)){const i=t[e];Te(i)&&cn(a,i)}else if(Te(e))cn(a,e.bind(n));else if(Ge(e))if(_e(e))e.forEach(i=>Dc(i,t,n,o));else{const i=Te(e.handler)?e.handler.bind(n):t[e.handler];Te(i)&&cn(a,i,e)}}function Ec(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let c;return l?c=l:!a.length&&!n&&!o?c=t:(c={},a.length&&a.forEach(u=>na(c,u,r,!0)),na(c,t,r)),Ge(t)&&i.set(t,c),c}function na(e,t,n,o=!1){const{mixins:a,extends:i}=t;i&&na(e,i,n,!0),a&&a.forEach(r=>na(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const l=Ff[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Ff={data:Hr,props:Rr,emits:Rr,methods:Fo,computed:Fo,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:Fo,directives:Fo,watch:qf,provide:Hr,inject:zf};function Hr(e,t){return t?e?function(){return Ct(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function zf(e,t){return Fo(Ci(e),Ci(t))}function Ci(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kt(e,t){return e?[...new Set([].concat(e,t))]:t}function Fo(e,t){return e?Ct(Object.create(null),e,t):t}function Rr(e,t){return e?_e(e)&&_e(t)?[...new Set([...e,...t])]:Ct(Object.create(null),Ar(e),Ar(t??{})):t}function qf(e,t){if(!e)return t;if(!t)return e;const n=Ct(Object.create(null),e);for(const o in t)n[o]=kt(e[o],t[o]);return n}function Tc(){return{app:null,config:{isNativeTag:Hd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gf=0;function Wf(e,t){return function(o,a=null){Te(o)||(o=Ct({},o)),a!=null&&!Ge(a)&&(a=null);const i=Tc(),r=new WeakSet,l=[];let c=!1;const u=i.app={_uid:Gf++,_component:o,_props:a,_container:null,_context:i,_instance:null,version:Ep,get config(){return i.config},set config(f){},use(f,...p){return r.has(f)||(f&&Te(f.install)?(r.add(f),f.install(u,...p)):Te(f)&&(r.add(f),f(u,...p))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,p){return p?(i.components[f]=p,u):i.components[f]},directive(f,p){return p?(i.directives[f]=p,u):i.directives[f]},mount(f,p,m){if(!c){const g=u._ceVNode||Xe(o,a);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(g,f,m),c=!0,u._container=f,f.__vue_app__=u,Aa(g.component)}},onUnmount(f){l.push(f)},unmount(){c&&(fn(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(f,p){return i.provides[f]=p,u},runWithContext(f){const p=no;no=u;try{return f()}finally{no=p}}};return u}}let no=null;function Vs(e,t){if(ht){let n=ht.provides;const o=ht.parent&&ht.parent.provides;o===n&&(n=ht.provides=Object.create(o)),n[e]=t}}function Zt(e,t,n=!1){const o=ht||Pt;if(o||no){const a=no?no._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Te(t)?t.call(o&&o.proxy):t}}function Kf(){return!!(ht||Pt||no)}const Ac={},Ic=()=>Object.create(Ac),Hc=e=>Object.getPrototypeOf(e)===Ac;function Xf(e,t,n,o=!1){const a={},i=Ic();e.propsDefaults=Object.create(null),Rc(e,t,a,i);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=o?a:fc(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function Yf(e,t,n,o){const{props:a,attrs:i,vnode:{patchFlag:r}}=e,l=Oe(a),[c]=e.propsOptions;let u=!1;if((o||r>0)&&!(r&16)){if(r&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(Ea(e.emitsOptions,m))continue;const g=t[m];if(c)if(Fe(i,m))g!==i[m]&&(i[m]=g,u=!0);else{const D=Wt(m);a[D]=xi(c,l,D,g,e,!1)}else g!==i[m]&&(i[m]=g,u=!0)}}}else{Rc(e,t,a,i)&&(u=!0);let f;for(const p in l)(!t||!Fe(t,p)&&((f=Un(p))===p||!Fe(t,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(a[p]=xi(c,l,p,void 0,e,!0)):delete a[p]);if(i!==l)for(const p in i)(!t||!Fe(t,p))&&(delete i[p],u=!0)}u&&bn(e.attrs,"set","")}function Rc(e,t,n,o){const[a,i]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(Wo(c))continue;const u=t[c];let f;a&&Fe(a,f=Wt(c))?!i||!i.includes(f)?n[f]=u:(l||(l={}))[f]=u:Ea(e.emitsOptions,c)||(!(c in o)||u!==o[c])&&(o[c]=u,r=!0)}if(i){const c=Oe(n),u=l||qe;for(let f=0;f<i.length;f++){const p=i[f];n[p]=xi(a,c,p,u[p],e,!Fe(u,p))}}return r}function xi(e,t,n,o,a,i){const r=e[n];if(r!=null){const l=Fe(r,"default");if(l&&o===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&Te(c)){const{propsDefaults:u}=a;if(n in u)o=u[n];else{const f=bs(a);o=u[n]=c.call(null,t),f()}}else o=c;a.ce&&a.ce._setProp(n,o)}r[0]&&(i&&!l?o=!1:r[1]&&(o===""||o===Un(n))&&(o=!0))}return o}const Jf=new WeakMap;function Pc(e,t,n=!1){const o=n?Jf:t.propsCache,a=o.get(e);if(a)return a;const i=e.props,r={},l=[];let c=!1;if(!Te(e)){const f=p=>{c=!0;const[m,g]=Pc(p,t,!0);Ct(r,m),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!c)return Ge(e)&&o.set(e,yo),yo;if(_e(i))for(let f=0;f<i.length;f++){const p=Wt(i[f]);Pr(p)&&(r[p]=qe)}else if(i)for(const f in i){const p=Wt(f);if(Pr(p)){const m=i[f],g=r[p]=_e(m)||Te(m)?{type:m}:Ct({},m),D=g.type;let y=!1,h=!0;if(_e(D))for(let k=0;k<D.length;++k){const O=D[k],E=Te(O)&&O.name;if(E==="Boolean"){y=!0;break}else E==="String"&&(h=!1)}else y=Te(D)&&D.name==="Boolean";g[0]=y,g[1]=h,(y||Fe(g,"default"))&&l.push(p)}}const u=[r,l];return Ge(e)&&o.set(e,u),u}function Pr(e){return e[0]!=="$"&&!Wo(e)}const Oc=e=>e[0]==="_"||e==="$stable",tr=e=>_e(e)?e.map(sn):[sn(e)],Qf=(e,t,n)=>{if(t._n)return t;const o=In((...a)=>tr(t(...a)),n);return o._c=!1,o},Mc=(e,t,n)=>{const o=e._ctx;for(const a in e){if(Oc(a))continue;const i=e[a];if(Te(i))t[a]=Qf(a,i,o);else if(i!=null){const r=tr(i);t[a]=()=>r}}},Bc=(e,t)=>{const n=tr(t);e.slots.default=()=>n},Nc=(e,t,n)=>{for(const o in t)(n||o!=="_")&&(e[o]=t[o])},Zf=(e,t,n)=>{const o=e.slots=Ic();if(e.vnode.shapeFlag&32){const a=t._;a?(Nc(o,t,n),n&&ql(o,"_",a,!0)):Mc(t,o)}else t&&Bc(e,t)},ep=(e,t,n)=>{const{vnode:o,slots:a}=e;let i=!0,r=qe;if(o.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Nc(a,t,n):(i=!t.$stable,Mc(t,a)),r=t}else t&&(Bc(e,t),r={default:1});if(i)for(const l in a)!Oc(l)&&r[l]==null&&delete a[l]},Nt=mp;function tp(e){return np(e)}function np(e,t){const n=ka();n.__VUE__=!0;const{insert:o,remove:a,patchProp:i,createElement:r,createText:l,createComment:c,setText:u,setElementText:f,parentNode:p,nextSibling:m,setScopeId:g=rn,insertStaticContent:D}=e,y=(b,w,S,U=null,G=null,F=null,ue=void 0,ae=null,ne=!!w.dynamicChildren)=>{if(b===w)return;b&&!Vo(b,w)&&(U=j(b),J(b,G,F,!0),b=null),w.patchFlag===-2&&(ne=!1,w.dynamicChildren=null);const{type:Y,ref:xe,shapeFlag:me}=w;switch(Y){case Ta:h(b,w,S,U);break;case ao:k(b,w,S,U);break;case js:b==null&&O(w,S,U,ue);break;case De:$(b,w,S,U,G,F,ue,ae,ne);break;default:me&1?L(b,w,S,U,G,F,ue,ae,ne):me&6?_(b,w,S,U,G,F,ue,ae,ne):(me&64||me&128)&&Y.process(b,w,S,U,G,F,ue,ae,ne,ye)}xe!=null&&G&&ta(xe,b&&b.ref,F,w||b,!w)},h=(b,w,S,U)=>{if(b==null)o(w.el=l(w.children),S,U);else{const G=w.el=b.el;w.children!==b.children&&u(G,w.children)}},k=(b,w,S,U)=>{b==null?o(w.el=c(w.children||""),S,U):w.el=b.el},O=(b,w,S,U)=>{[b.el,b.anchor]=D(b.children,w,S,U,b.el,b.anchor)},E=({el:b,anchor:w},S,U)=>{let G;for(;b&&b!==w;)G=m(b),o(b,S,U),b=G;o(w,S,U)},I=({el:b,anchor:w})=>{let S;for(;b&&b!==w;)S=m(b),a(b),b=S;a(w)},L=(b,w,S,U,G,F,ue,ae,ne)=>{w.type==="svg"?ue="svg":w.type==="math"&&(ue="mathml"),b==null?ie(w,S,U,G,F,ue,ae,ne):N(b,w,G,F,ue,ae,ne)},ie=(b,w,S,U,G,F,ue,ae)=>{let ne,Y;const{props:xe,shapeFlag:me,transition:we,dirs:$e}=b;if(ne=b.el=r(b.type,F,xe&&xe.is,xe),me&8?f(ne,b.children):me&16&&de(b.children,ne,null,U,G,Wa(b,F),ue,ae),$e&&Wn(b,null,U,"created"),pe(ne,b,b.scopeId,ue,U),xe){for(const je in xe)je!=="value"&&!Wo(je)&&i(ne,je,null,xe[je],F,U);"value"in xe&&i(ne,"value",null,xe.value,F),(Y=xe.onVnodeBeforeMount)&&tn(Y,U,b)}$e&&Wn(b,null,U,"beforeMount");const Ie=op(G,we);Ie&&we.beforeEnter(ne),o(ne,w,S),((Y=xe&&xe.onVnodeMounted)||Ie||$e)&&Nt(()=>{Y&&tn(Y,U,b),Ie&&we.enter(ne),$e&&Wn(b,null,U,"mounted")},G)},pe=(b,w,S,U,G)=>{if(S&&g(b,S),U)for(let F=0;F<U.length;F++)g(b,U[F]);if(G){let F=G.subTree;if(w===F||zc(F.type)&&(F.ssContent===w||F.ssFallback===w)){const ue=G.vnode;pe(b,ue,ue.scopeId,ue.slotScopeIds,G.parent)}}},de=(b,w,S,U,G,F,ue,ae,ne=0)=>{for(let Y=ne;Y<b.length;Y++){const xe=b[Y]=ae?Hn(b[Y]):sn(b[Y]);y(null,xe,w,S,U,G,F,ue,ae)}},N=(b,w,S,U,G,F,ue)=>{const ae=w.el=b.el;let{patchFlag:ne,dynamicChildren:Y,dirs:xe}=w;ne|=b.patchFlag&16;const me=b.props||qe,we=w.props||qe;let $e;if(S&&Kn(S,!1),($e=we.onVnodeBeforeUpdate)&&tn($e,S,w,b),xe&&Wn(w,b,S,"beforeUpdate"),S&&Kn(S,!0),(me.innerHTML&&we.innerHTML==null||me.textContent&&we.textContent==null)&&f(ae,""),Y?T(b.dynamicChildren,Y,ae,S,U,Wa(w,G),F):ue||ve(b,w,ae,null,S,U,Wa(w,G),F,!1),ne>0){if(ne&16)H(ae,me,we,S,G);else if(ne&2&&me.class!==we.class&&i(ae,"class",null,we.class,G),ne&4&&i(ae,"style",me.style,we.style,G),ne&8){const Ie=w.dynamicProps;for(let je=0;je<Ie.length;je++){const Me=Ie[je],_t=me[Me],vt=we[Me];(vt!==_t||Me==="value")&&i(ae,Me,_t,vt,G,S)}}ne&1&&b.children!==w.children&&f(ae,w.children)}else!ue&&Y==null&&H(ae,me,we,S,G);(($e=we.onVnodeUpdated)||xe)&&Nt(()=>{$e&&tn($e,S,w,b),xe&&Wn(w,b,S,"updated")},U)},T=(b,w,S,U,G,F,ue)=>{for(let ae=0;ae<w.length;ae++){const ne=b[ae],Y=w[ae],xe=ne.el&&(ne.type===De||!Vo(ne,Y)||ne.shapeFlag&70)?p(ne.el):S;y(ne,Y,xe,null,U,G,F,ue,!0)}},H=(b,w,S,U,G)=>{if(w!==S){if(w!==qe)for(const F in w)!Wo(F)&&!(F in S)&&i(b,F,w[F],null,G,U);for(const F in S){if(Wo(F))continue;const ue=S[F],ae=w[F];ue!==ae&&F!=="value"&&i(b,F,ae,ue,G,U)}"value"in S&&i(b,"value",w.value,S.value,G)}},$=(b,w,S,U,G,F,ue,ae,ne)=>{const Y=w.el=b?b.el:l(""),xe=w.anchor=b?b.anchor:l("");let{patchFlag:me,dynamicChildren:we,slotScopeIds:$e}=w;$e&&(ae=ae?ae.concat($e):$e),b==null?(o(Y,S,U),o(xe,S,U),de(w.children||[],S,xe,G,F,ue,ae,ne)):me>0&&me&64&&we&&b.dynamicChildren?(T(b.dynamicChildren,we,S,G,F,ue,ae),(w.key!=null||G&&w===G.subTree)&&Lc(b,w,!0)):ve(b,w,S,xe,G,F,ue,ae,ne)},_=(b,w,S,U,G,F,ue,ae,ne)=>{w.slotScopeIds=ae,b==null?w.shapeFlag&512?G.ctx.activate(w,S,U,ue,ne):V(w,S,U,G,F,ue,ne):be(b,w,ne)},V=(b,w,S,U,G,F,ue)=>{const ae=b.component=Cp(b,U,G);if(Sc(b)&&(ae.ctx.renderer=ye),xp(ae,!1,ue),ae.asyncDep){if(G&&G.registerDep(ae,K,ue),!b.el){const ne=ae.subTree=Xe(ao);k(null,ne,w,S)}}else K(ae,b,w,S,G,F,ue)},be=(b,w,S)=>{const U=w.component=b.component;if(fp(b,w,S))if(U.asyncDep&&!U.asyncResolved){W(U,w,S);return}else U.next=w,U.update();else w.el=b.el,U.vnode=w},K=(b,w,S,U,G,F,ue)=>{const ae=()=>{if(b.isMounted){let{next:me,bu:we,u:$e,parent:Ie,vnode:je}=b;{const zt=Vc(b);if(zt){me&&(me.el=je.el,W(b,me,ue)),zt.asyncDep.then(()=>{b.isUnmounted||ae()});return}}let Me=me,_t;Kn(b,!1),me?(me.el=je.el,W(b,me,ue)):me=je,we&&Ls(we),(_t=me.props&&me.props.onVnodeBeforeUpdate)&&tn(_t,Ie,me,je),Kn(b,!0);const vt=Mr(b),It=b.subTree;b.subTree=vt,y(It,vt,p(It.el),j(It),b,G,F),me.el=vt.el,Me===null&&pp(b,vt.el),$e&&Nt($e,G),(_t=me.props&&me.props.onVnodeUpdated)&&Nt(()=>tn(_t,Ie,me,je),G)}else{let me;const{el:we,props:$e}=w,{bm:Ie,m:je,parent:Me,root:_t,type:vt}=b,It=Yo(w);Kn(b,!1),Ie&&Ls(Ie),!It&&(me=$e&&$e.onVnodeBeforeMount)&&tn(me,Me,w),Kn(b,!0);{_t.ce&&_t.ce._injectChildStyle(vt);const zt=b.subTree=Mr(b);y(null,zt,S,U,b,G,F),w.el=zt.el}if(je&&Nt(je,G),!It&&(me=$e&&$e.onVnodeMounted)){const zt=w;Nt(()=>tn(me,Me,zt),G)}(w.shapeFlag&256||Me&&Yo(Me.vnode)&&Me.vnode.shapeFlag&256)&&b.a&&Nt(b.a,G),b.isMounted=!0,w=S=U=null}};b.scope.on();const ne=b.effect=new Ql(ae);b.scope.off();const Y=b.update=ne.run.bind(ne),xe=b.job=ne.runIfDirty.bind(ne);xe.i=b,xe.id=b.uid,ne.scheduler=()=>Qi(xe),Kn(b,!0),Y()},W=(b,w,S)=>{w.component=b;const U=b.vnode.props;b.vnode=w,b.next=null,Yf(b,w.props,U,S),ep(b,w.children,S),Fn(),Er(b),zn()},ve=(b,w,S,U,G,F,ue,ae,ne=!1)=>{const Y=b&&b.children,xe=b?b.shapeFlag:0,me=w.children,{patchFlag:we,shapeFlag:$e}=w;if(we>0){if(we&128){A(Y,me,S,U,G,F,ue,ae,ne);return}else if(we&256){q(Y,me,S,U,G,F,ue,ae,ne);return}}$e&8?(xe&16&&Je(Y,G,F),me!==Y&&f(S,me)):xe&16?$e&16?A(Y,me,S,U,G,F,ue,ae,ne):Je(Y,G,F,!0):(xe&8&&f(S,""),$e&16&&de(me,S,U,G,F,ue,ae,ne))},q=(b,w,S,U,G,F,ue,ae,ne)=>{b=b||yo,w=w||yo;const Y=b.length,xe=w.length,me=Math.min(Y,xe);let we;for(we=0;we<me;we++){const $e=w[we]=ne?Hn(w[we]):sn(w[we]);y(b[we],$e,S,null,G,F,ue,ae,ne)}Y>xe?Je(b,G,F,!0,!1,me):de(w,S,U,G,F,ue,ae,ne,me)},A=(b,w,S,U,G,F,ue,ae,ne)=>{let Y=0;const xe=w.length;let me=b.length-1,we=xe-1;for(;Y<=me&&Y<=we;){const $e=b[Y],Ie=w[Y]=ne?Hn(w[Y]):sn(w[Y]);if(Vo($e,Ie))y($e,Ie,S,null,G,F,ue,ae,ne);else break;Y++}for(;Y<=me&&Y<=we;){const $e=b[me],Ie=w[we]=ne?Hn(w[we]):sn(w[we]);if(Vo($e,Ie))y($e,Ie,S,null,G,F,ue,ae,ne);else break;me--,we--}if(Y>me){if(Y<=we){const $e=we+1,Ie=$e<xe?w[$e].el:U;for(;Y<=we;)y(null,w[Y]=ne?Hn(w[Y]):sn(w[Y]),S,Ie,G,F,ue,ae,ne),Y++}}else if(Y>we)for(;Y<=me;)J(b[Y],G,F,!0),Y++;else{const $e=Y,Ie=Y,je=new Map;for(Y=Ie;Y<=we;Y++){const v=w[Y]=ne?Hn(w[Y]):sn(w[Y]);v.key!=null&&je.set(v.key,Y)}let Me,_t=0;const vt=we-Ie+1;let It=!1,zt=0;const R=new Array(vt);for(Y=0;Y<vt;Y++)R[Y]=0;for(Y=$e;Y<=me;Y++){const v=b[Y];if(_t>=vt){J(v,G,F,!0);continue}let fe;if(v.key!=null)fe=je.get(v.key);else for(Me=Ie;Me<=we;Me++)if(R[Me-Ie]===0&&Vo(v,w[Me])){fe=Me;break}fe===void 0?J(v,G,F,!0):(R[fe-Ie]=Y+1,fe>=zt?zt=fe:It=!0,y(v,w[fe],S,null,G,F,ue,ae,ne),_t++)}const d=It?sp(R):yo;for(Me=d.length-1,Y=vt-1;Y>=0;Y--){const v=Ie+Y,fe=w[v],Qe=v+1<xe?w[v+1].el:U;R[Y]===0?y(null,fe,S,Qe,G,F,ue,ae,ne):It&&(Me<0||Y!==d[Me]?re(fe,S,Qe,2):Me--)}}},re=(b,w,S,U,G=null)=>{const{el:F,type:ue,transition:ae,children:ne,shapeFlag:Y}=b;if(Y&6){re(b.component.subTree,w,S,U);return}if(Y&128){b.suspense.move(w,S,U);return}if(Y&64){ue.move(b,w,S,ye);return}if(ue===De){o(F,w,S);for(let me=0;me<ne.length;me++)re(ne[me],w,S,U);o(b.anchor,w,S);return}if(ue===js){E(b,w,S);return}if(U!==2&&Y&1&&ae)if(U===0)ae.beforeEnter(F),o(F,w,S),Nt(()=>ae.enter(F),G);else{const{leave:me,delayLeave:we,afterLeave:$e}=ae,Ie=()=>o(F,w,S),je=()=>{me(F,()=>{Ie(),$e&&$e()})};we?we(F,Ie,je):je()}else o(F,w,S)},J=(b,w,S,U=!1,G=!1)=>{const{type:F,props:ue,ref:ae,children:ne,dynamicChildren:Y,shapeFlag:xe,patchFlag:me,dirs:we,cacheIndex:$e}=b;if(me===-2&&(G=!1),ae!=null&&ta(ae,null,S,b,!0),$e!=null&&(w.renderCache[$e]=void 0),xe&256){w.ctx.deactivate(b);return}const Ie=xe&1&&we,je=!Yo(b);let Me;if(je&&(Me=ue&&ue.onVnodeBeforeUnmount)&&tn(Me,w,b),xe&6)ge(b.component,S,U);else{if(xe&128){b.suspense.unmount(S,U);return}Ie&&Wn(b,null,w,"beforeUnmount"),xe&64?b.type.remove(b,w,S,ye,U):Y&&!Y.hasOnce&&(F!==De||me>0&&me&64)?Je(Y,w,S,!1,!0):(F===De&&me&384||!G&&xe&16)&&Je(ne,w,S),U&&P(b)}(je&&(Me=ue&&ue.onVnodeUnmounted)||Ie)&&Nt(()=>{Me&&tn(Me,w,b),Ie&&Wn(b,null,w,"unmounted")},S)},P=b=>{const{type:w,el:S,anchor:U,transition:G}=b;if(w===De){te(S,U);return}if(w===js){I(b);return}const F=()=>{a(S),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(b.shapeFlag&1&&G&&!G.persisted){const{leave:ue,delayLeave:ae}=G,ne=()=>ue(S,F);ae?ae(b.el,F,ne):ne()}else F()},te=(b,w)=>{let S;for(;b!==w;)S=m(b),a(b),b=S;a(w)},ge=(b,w,S)=>{const{bum:U,scope:G,job:F,subTree:ue,um:ae,m:ne,a:Y}=b;Or(ne),Or(Y),U&&Ls(U),G.stop(),F&&(F.flags|=8,J(ue,b,w,S)),ae&&Nt(ae,w),Nt(()=>{b.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Je=(b,w,S,U=!1,G=!1,F=0)=>{for(let ue=F;ue<b.length;ue++)J(b[ue],w,S,U,G)},j=b=>{if(b.shapeFlag&6)return j(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const w=m(b.anchor||b.el),S=w&&w[kf];return S?m(S):w};let he=!1;const ce=(b,w,S)=>{b==null?w._vnode&&J(w._vnode,null,null,!0):y(w._vnode||null,b,w,null,null,null,S),w._vnode=b,he||(he=!0,Er(),yc(),he=!1)},ye={p:y,um:J,m:re,r:P,mt:V,mc:de,pc:ve,pbc:T,n:j,o:e};return{render:ce,hydrate:void 0,createApp:Wf(ce)}}function Wa({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Kn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function op(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Lc(e,t,n=!1){const o=e.children,a=t.children;if(_e(o)&&_e(a))for(let i=0;i<o.length;i++){const r=o[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=Hn(a[i]),l.el=r.el),!n&&l.patchFlag!==-2&&Lc(r,l)),l.type===Ta&&(l.el=r.el)}}function sp(e){const t=e.slice(),n=[0];let o,a,i,r,l;const c=e.length;for(o=0;o<c;o++){const u=e[o];if(u!==0){if(a=n[n.length-1],e[a]<u){t[o]=a,n.push(o);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<u?i=l+1:r=l;u<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function Vc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Vc(t)}function Or(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ap=Symbol.for("v-scx"),ip=()=>Zt(ap);function cn(e,t,n){return jc(e,t,n)}function jc(e,t,n=qe){const{immediate:o,deep:a,flush:i,once:r}=n,l=Ct({},n),c=t&&o||!t&&i!=="post";let u;if(fs){if(i==="sync"){const g=ip();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=rn,g.resume=rn,g.pause=rn,g}}const f=ht;l.call=(g,D,y)=>fn(g,f,D,y);let p=!1;i==="post"?l.scheduler=g=>{Nt(g,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(g,D)=>{D?g():Qi(g)}),l.augmentJob=g=>{t&&(g.flags|=4),p&&(g.flags|=2,f&&(g.id=f.uid,g.i=f))};const m=yf(e,t,l);return fs&&(u?u.push(m):c&&m()),m}function rp(e,t,n){const o=this.proxy,a=ct(e)?e.includes(".")?Uc(o,e):()=>o[e]:e.bind(o,o);let i;Te(t)?i=t:(i=t.handler,n=t);const r=bs(this),l=jc(a,i.bind(o),n);return r(),l}function Uc(e,t){const n=t.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}const lp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Wt(t)}Modifiers`]||e[`${Un(t)}Modifiers`];function cp(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||qe;let a=n;const i=t.startsWith("update:"),r=i&&lp(o,t.slice(7));r&&(r.trim&&(a=n.map(f=>ct(f)?f.trim():f)),r.number&&(a=n.map(Ys)));let l,c=o[l=ja(t)]||o[l=ja(Wt(t))];!c&&i&&(c=o[l=ja(Un(t))]),c&&fn(c,e,6,a);const u=o[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,fn(u,e,6,a)}}function Fc(e,t,n=!1){const o=t.emitsCache,a=o.get(e);if(a!==void 0)return a;const i=e.emits;let r={},l=!1;if(!Te(e)){const c=u=>{const f=Fc(u,t,!0);f&&(l=!0,Ct(r,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Ge(e)&&o.set(e,null),null):(_e(i)?i.forEach(c=>r[c]=null):Ct(r,i),Ge(e)&&o.set(e,r),r)}function Ea(e,t){return!e||!Ca(t)?!1:(t=t.slice(2).replace(/Once$/,""),Fe(e,t[0].toLowerCase()+t.slice(1))||Fe(e,Un(t))||Fe(e,t))}function Mr(e){const{type:t,vnode:n,proxy:o,withProxy:a,propsOptions:[i],slots:r,attrs:l,emit:c,render:u,renderCache:f,props:p,data:m,setupState:g,ctx:D,inheritAttrs:y}=e,h=ea(e);let k,O;try{if(n.shapeFlag&4){const I=a||o,L=I;k=sn(u.call(L,I,f,p,g,m,D)),O=l}else{const I=t;k=sn(I.length>1?I(p,{attrs:l,slots:r,emit:c}):I(p,null)),O=t.props?l:up(l)}}catch(I){Qo.length=0,$a(I,e,1),k=Xe(ao)}let E=k;if(O&&y!==!1){const I=Object.keys(O),{shapeFlag:L}=E;I.length&&L&7&&(i&&I.some(Vi)&&(O=dp(O,i)),E=$o(E,O,!1,!0))}return n.dirs&&(E=$o(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Zi(E,n.transition),k=E,ea(h),k}const up=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ca(n))&&((t||(t={}))[n]=e[n]);return t},dp=(e,t)=>{const n={};for(const o in e)(!Vi(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function fp(e,t,n){const{props:o,children:a,component:i}=e,{props:r,children:l,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?Br(o,r,u):!!r;if(c&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(r[m]!==o[m]&&!Ea(u,m))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:o===r?!1:o?r?Br(o,r,u):!0:!!r;return!1}function Br(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const i=o[a];if(t[i]!==e[i]&&!Ea(n,i))return!0}return!1}function pp({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const zc=e=>e.__isSuspense;function mp(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):_f(e)}const De=Symbol.for("v-fgt"),Ta=Symbol.for("v-txt"),ao=Symbol.for("v-cmt"),js=Symbol.for("v-stc"),Qo=[];let Vt=null;function C(e=!1){Qo.push(Vt=e?null:[])}function hp(){Qo.pop(),Vt=Qo[Qo.length-1]||null}let ds=1;function Nr(e,t=!1){ds+=e,e<0&&Vt&&t&&(Vt.hasOnce=!0)}function qc(e){return e.dynamicChildren=ds>0?Vt||yo:null,hp(),ds>0&&Vt&&Vt.push(e),e}function x(e,t,n,o,a,i){return qc(s(e,t,n,o,a,i,!0))}function yn(e,t,n,o,a){return qc(Xe(e,t,n,o,a,!0))}function oa(e){return e?e.__v_isVNode===!0:!1}function Vo(e,t){return e.type===t.type&&e.key===t.key}const Gc=({key:e})=>e??null,Us=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ct(e)||et(e)||Te(e)?{i:Pt,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,a=null,i=e===De?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gc(t),ref:t&&Us(t),scopeId:xc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Pt};return l?(nr(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=ct(n)?8:16),ds>0&&!r&&Vt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Vt.push(c),c}const Xe=gp;function gp(e,t=null,n=null,o=0,a=null,i=!1){if((!e||e===Nf)&&(e=ao),oa(e)){const l=$o(e,t,!0);return n&&nr(l,n),ds>0&&!i&&Vt&&(l.shapeFlag&6?Vt[Vt.indexOf(e)]=l:Vt.push(l)),l.patchFlag=-2,l}if(Dp(e)&&(e=e.__vccOpts),t){t=vp(t);let{class:l,style:c}=t;l&&!ct(l)&&(t.class=ze(l)),Ge(c)&&(Yi(c)&&!_e(c)&&(c=Ct({},c)),t.style=ln(c))}const r=ct(e)?1:zc(e)?128:Sf(e)?64:Ge(e)?4:Te(e)?2:0;return s(e,t,n,o,a,r,i,!0)}function vp(e){return e?Yi(e)||Hc(e)?Ct({},e):e:null}function $o(e,t,n=!1,o=!1){const{props:a,ref:i,patchFlag:r,children:l,transition:c}=e,u=t?bp(a||{},t):a,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Gc(u),ref:t&&t.ref?n&&i?_e(i)?i.concat(Us(t)):[i,Us(t)]:Us(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==De?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$o(e.ssContent),ssFallback:e.ssFallback&&$o(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&Zi(f,c.clone(f)),f}function X(e=" ",t=0){return Xe(Ta,null,e,t)}function jn(e,t){const n=Xe(js,null,e);return n.staticCount=t,n}function se(e="",t=!1){return t?(C(),yn(ao,null,e)):Xe(ao,null,e)}function sn(e){return e==null||typeof e=="boolean"?Xe(ao):_e(e)?Xe(De,null,e.slice()):oa(e)?Hn(e):Xe(Ta,null,String(e))}function Hn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$o(e)}function nr(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),nr(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Hc(t)?t._ctx=Pt:a===3&&Pt&&(Pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:Pt},n=32):(t=String(t),o&64?(n=16,t=[X(t)]):n=8);e.children=t,e.shapeFlag|=n}function bp(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=ze([t.class,o.class]));else if(a==="style")t.style=ln([t.style,o.style]);else if(Ca(a)){const i=t[a],r=o[a];r&&i!==r&&!(_e(i)&&i.includes(r))&&(t[a]=i?[].concat(i,r):r)}else a!==""&&(t[a]=o[a])}return t}function tn(e,t,n,o=null){fn(e,t,7,[n,o])}const wp=Tc();let yp=0;function Cp(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||wp,i={uid:yp++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pc(o,a),emitsOptions:Fc(o,a),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:o.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=cp.bind(null,i),e.ce&&e.ce(i),i}let ht=null,sa,_i;{const e=ka(),t=(n,o)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(o),i=>{a.length>1?a.forEach(r=>r(i)):a[0](i)}};sa=t("__VUE_INSTANCE_SETTERS__",n=>ht=n),_i=t("__VUE_SSR_SETTERS__",n=>fs=n)}const bs=e=>{const t=ht;return sa(e),e.scope.on(),()=>{e.scope.off(),sa(t)}},Lr=()=>{ht&&ht.scope.off(),sa(null)};function Wc(e){return e.vnode.shapeFlag&4}let fs=!1;function xp(e,t=!1,n=!1){t&&_i(t);const{props:o,children:a}=e.vnode,i=Wc(e);Xf(e,o,i,t),Zf(e,a,n);const r=i?_p(e,t):void 0;return t&&_i(!1),r}function _p(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vf);const{setup:o}=n;if(o){Fn();const a=e.setupContext=o.length>1?Sp(e):null,i=bs(e),r=vs(o,e,0,[e.props,a]),l=Ul(r);if(zn(),i(),(l||e.sp)&&!Yo(e)&&kc(e),l){if(r.then(Lr,Lr),t)return r.then(c=>{Vr(e,c)}).catch(c=>{$a(c,e,0)});e.asyncDep=r}else Vr(e,r)}else Kc(e)}function Vr(e,t,n){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ge(t)&&(e.setupState=hc(t)),Kc(e)}function Kc(e,t,n){const o=e.type;e.render||(e.render=o.render||rn);{const a=bs(e);Fn();try{jf(e)}finally{zn(),a()}}}const kp={get(e,t){return wt(e,"get",""),e[t]}};function Sp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,kp),slots:e.slots,emit:e.emit,expose:t}}function Aa(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(hc(Ji(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Jo)return Jo[n](e)},has(t,n){return n in t||n in Jo}})):e.proxy}function $p(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function Dp(e){return Te(e)&&"__vccOpts"in e}const Le=(e,t)=>bf(e,t,fs);function Xc(e,t,n){const o=arguments.length;return o===2?Ge(t)&&!_e(t)?oa(t)?Xe(e,null,[t]):Xe(e,t):Xe(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&oa(n)&&(n=[n]),Xe(e,t,n))}const Ep="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ki;const jr=typeof window<"u"&&window.trustedTypes;if(jr)try{ki=jr.createPolicy("vue",{createHTML:e=>e})}catch{}const Yc=ki?e=>ki.createHTML(e):e=>e,Tp="http://www.w3.org/2000/svg",Ap="http://www.w3.org/1998/Math/MathML",vn=typeof document<"u"?document:null,Ur=vn&&vn.createElement("template"),Ip={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t==="svg"?vn.createElementNS(Tp,e):t==="mathml"?vn.createElementNS(Ap,e):n?vn.createElement(e,{is:n}):vn.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>vn.createTextNode(e),createComment:e=>vn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,a,i){const r=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{Ur.innerHTML=Yc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Ur.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Hp=Symbol("_vtc");function Rp(e,t,n){const o=e[Hp];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const aa=Symbol("_vod"),Jc=Symbol("_vsh"),Ka={beforeMount(e,{value:t},{transition:n}){e[aa]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):jo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),jo(e,!0),o.enter(e)):o.leave(e,()=>{jo(e,!1)}):jo(e,t))},beforeUnmount(e,{value:t}){jo(e,t)}};function jo(e,t){e.style.display=t?e[aa]:"none",e[Jc]=!t}const Pp=Symbol(""),Op=/(^|;)\s*display\s*:/;function Mp(e,t,n){const o=e.style,a=ct(n);let i=!1;if(n&&!a){if(t)if(ct(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&Fs(o,l,"")}else for(const r in t)n[r]==null&&Fs(o,r,"");for(const r in n)r==="display"&&(i=!0),Fs(o,r,n[r])}else if(a){if(t!==n){const r=o[Pp];r&&(n+=";"+r),o.cssText=n,i=Op.test(n)}}else t&&e.removeAttribute("style");aa in e&&(e[aa]=i?o.display:"",e[Jc]&&(o.display="none"))}const Fr=/\s*!important$/;function Fs(e,t,n){if(_e(n))n.forEach(o=>Fs(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Bp(e,t);Fr.test(n)?e.setProperty(Un(o),n.replace(Fr,""),"important"):e[o]=n}}const zr=["Webkit","Moz","ms"],Xa={};function Bp(e,t){const n=Xa[t];if(n)return n;let o=Wt(t);if(o!=="filter"&&o in e)return Xa[t]=o;o=_a(o);for(let a=0;a<zr.length;a++){const i=zr[a]+o;if(i in e)return Xa[t]=i}return t}const qr="http://www.w3.org/1999/xlink";function Gr(e,t,n,o,a,i=Ud(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qr,t.slice(6,t.length)):e.setAttributeNS(qr,t,n):n==null||i&&!Gl(n)?e.removeAttribute(t):e.setAttribute(t,i?"":dn(n)?String(n):n)}function Wr(e,t,n,o,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Yc(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Gl(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(a||t)}function On(e,t,n,o){e.addEventListener(t,n,o)}function Np(e,t,n,o){e.removeEventListener(t,n,o)}const Kr=Symbol("_vei");function Lp(e,t,n,o,a=null){const i=e[Kr]||(e[Kr]={}),r=i[t];if(o&&r)r.value=o;else{const[l,c]=Vp(t);if(o){const u=i[t]=Fp(o,a);On(e,l,u,c)}else r&&(Np(e,l,r,c),i[t]=void 0)}}const Xr=/(?:Once|Passive|Capture)$/;function Vp(e){let t;if(Xr.test(e)){t={};let o;for(;o=e.match(Xr);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Un(e.slice(2)),t]}let Ya=0;const jp=Promise.resolve(),Up=()=>Ya||(jp.then(()=>Ya=0),Ya=Date.now());function Fp(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;fn(zp(o,n.value),t,5,[o])};return n.value=e,n.attached=Up(),n}function zp(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const Yr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,qp=(e,t,n,o,a,i)=>{const r=a==="svg";t==="class"?Rp(e,o,r):t==="style"?Mp(e,n,o):Ca(t)?Vi(t)||Lp(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gp(e,t,o,r))?(Wr(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Gr(e,t,o,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ct(o))?Wr(e,Wt(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Gr(e,t,o,r))};function Gp(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yr(t)&&Te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Yr(t)&&ct(n)?!1:t in e}const Do=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?n=>Ls(t,n):t};function Wp(e){e.target.composing=!0}function Jr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xn=Symbol("_assign"),ee={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e[xn]=Do(a);const i=o||a.props&&a.props.type==="number";On(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=Ys(l)),e[xn](l)}),n&&On(e,"change",()=>{e.value=e.value.trim()}),t||(On(e,"compositionstart",Wp),On(e,"compositionend",Jr),On(e,"change",Jr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:a,number:i}},r){if(e[xn]=Do(r),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ys(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||a&&e.value.trim()===c)||(e.value=c))}},Zo={deep:!0,created(e,t,n){e[xn]=Do(n),On(e,"change",()=>{const o=e._modelValue,a=ps(e),i=e.checked,r=e[xn];if(_e(o)){const l=Fi(o,a),c=l!==-1;if(i&&!c)r(o.concat(a));else if(!i&&c){const u=[...o];u.splice(l,1),r(u)}}else if(Po(o)){const l=new Set(o);i?l.add(a):l.delete(a),r(l)}else r(Qc(e,i))})},mounted:Qr,beforeUpdate(e,t,n){e[xn]=Do(n),Qr(e,t,n)}};function Qr(e,{value:t,oldValue:n},o){e._modelValue=t;let a;if(_e(t))a=Fi(t,o.props.value)>-1;else if(Po(t))a=t.has(o.props.value);else{if(t===n)return;a=gs(t,Qc(e,!0))}e.checked!==a&&(e.checked=a)}const gt={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=Po(t);On(e,"change",()=>{const i=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?Ys(ps(r)):ps(r));e[xn](e.multiple?a?new Set(i):i:i[0]),e._assigning=!0,ro(()=>{e._assigning=!1})}),e[xn]=Do(o)},mounted(e,{value:t}){Zr(e,t)},beforeUpdate(e,t,n){e[xn]=Do(n)},updated(e,{value:t}){e._assigning||Zr(e,t)}};function Zr(e,t){const n=e.multiple,o=_e(t);if(!(n&&!o&&!Po(t))){for(let a=0,i=e.options.length;a<i;a++){const r=e.options[a],l=ps(r);if(n)if(o){const c=typeof l;c==="string"||c==="number"?r.selected=t.some(u=>String(u)===String(l)):r.selected=Fi(t,l)>-1}else r.selected=t.has(l);else if(gs(ps(r),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ps(e){return"_value"in e?e._value:e.value}function Qc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Kp=["ctrl","shift","alt","meta"],Xp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Kp.some(n=>e[`${n}Key`]&&!t.includes(n))},Be=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(a,...i)=>{for(let r=0;r<t.length;r++){const l=Xp[t[r]];if(l&&l(a,t))return}return e(a,...i)})},Yp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},an=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=a=>{if(!("key"in a))return;const i=Un(a.key);if(t.some(r=>r===i||Yp[r]===i))return e(a)})},Jp=Ct({patchProp:qp},Ip);let el;function Qp(){return el||(el=tp(Jp))}const Zp=(...e)=>{const t=Qp().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=tm(o);if(!a)return;const i=t._component;!Te(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const r=n(a,!1,em(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t};function em(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function tm(e){return ct(e)?document.querySelector(e):e}/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Zc;const Ia=e=>Zc=e,eu=Symbol();function Si(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var es;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(es||(es={}));function nm(){const e=Yl(!0),t=e.run(()=>Z({}));let n=[],o=[];const a=Ji({install(i){Ia(a),a._a=i,i.provide(eu,a),i.config.globalProperties.$pinia=a,o.forEach(r=>n.push(r)),o=[]},use(i){return this._a?n.push(i):o.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const tu=()=>{};function tl(e,t,n,o=tu){e.add(t);const a=()=>{e.delete(t)&&o()};return!n&&Jl()&&zd(a),a}function po(e,...t){e.forEach(n=>{n(...t)})}const om=e=>e(),nl=Symbol(),Ja=Symbol();function $i(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],a=e[n];Si(a)&&Si(o)&&e.hasOwnProperty(n)&&!et(o)&&!Cn(o)?e[n]=$i(a,o):e[n]=o}return e}const sm=Symbol();function am(e){return!Si(e)||!Object.prototype.hasOwnProperty.call(e,sm)}const{assign:Tn}=Object;function im(e){return!!(et(e)&&e.effect)}function rm(e,t,n,o){const{state:a,actions:i,getters:r}=t,l=n.state.value[e];let c;function u(){l||(n.state.value[e]=a?a():{});const f=mf(n.state.value[e]);return Tn(f,i,Object.keys(r||{}).reduce((p,m)=>(p[m]=Ji(Le(()=>{Ia(n);const g=n._s.get(e);return r[m].call(g,g)})),p),{}))}return c=nu(e,u,t,n,o,!0),c}function nu(e,t,n={},o,a,i){let r;const l=Tn({actions:{}},n),c={deep:!0};let u,f,p=new Set,m=new Set,g;const D=o.state.value[e];!i&&!D&&(o.state.value[e]={}),Z({});let y;function h(de){let N;u=f=!1,typeof de=="function"?(de(o.state.value[e]),N={type:es.patchFunction,storeId:e,events:g}):($i(o.state.value[e],de),N={type:es.patchObject,payload:de,storeId:e,events:g});const T=y=Symbol();ro().then(()=>{y===T&&(u=!0)}),f=!0,po(p,N,o.state.value[e])}const k=i?function(){const{state:N}=n,T=N?N():{};this.$patch(H=>{Tn(H,T)})}:tu;function O(){r.stop(),p.clear(),m.clear(),o._s.delete(e)}const E=(de,N="")=>{if(nl in de)return de[Ja]=N,de;const T=function(){Ia(o);const H=Array.from(arguments),$=new Set,_=new Set;function V(W){$.add(W)}function be(W){_.add(W)}po(m,{args:H,name:T[Ja],store:L,after:V,onError:be});let K;try{K=de.apply(this&&this.$id===e?this:L,H)}catch(W){throw po(_,W),W}return K instanceof Promise?K.then(W=>(po($,W),W)).catch(W=>(po(_,W),Promise.reject(W))):(po($,K),K)};return T[nl]=!0,T[Ja]=N,T},I={_p:o,$id:e,$onAction:tl.bind(null,m),$patch:h,$reset:k,$subscribe(de,N={}){const T=tl(p,de,N.detached,()=>H()),H=r.run(()=>cn(()=>o.state.value[e],$=>{(N.flush==="sync"?f:u)&&de({storeId:e,type:es.direct,events:g},$)},Tn({},c,N)));return T},$dispose:O},L=Kt(I);o._s.set(e,L);const pe=(o._a&&o._a.runWithContext||om)(()=>o._e.run(()=>(r=Yl()).run(()=>t({action:E}))));for(const de in pe){const N=pe[de];if(et(N)&&!im(N)||Cn(N))i||(D&&am(N)&&(et(N)?N.value=D[de]:$i(N,D[de])),o.state.value[e][de]=N);else if(typeof N=="function"){const T=E(N,de);pe[de]=T,l.actions[de]=N}}return Tn(L,pe),Tn(Oe(L),pe),Object.defineProperty(L,"$state",{get:()=>o.state.value[e],set:de=>{h(N=>{Tn(N,de)})}}),o._p.forEach(de=>{Tn(L,r.run(()=>de({store:L,app:o._a,pinia:o,options:l})))}),D&&i&&n.hydrate&&n.hydrate(L.$state,D),u=!0,f=!0,L}/*! #__NO_SIDE_EFFECTS__ */function Gn(e,t,n){let o;const a=typeof t=="function";o=a?n:t;function i(r,l){const c=Kf();return r=r||(c?Zt(eu,null):null),r&&Ia(r),r=Zc,r._s.has(e)||(a?nu(e,t,o,r):rm(e,o,r)),r._s.get(e)}return i.$id=e,i}function ws(e){const t=Oe(e),n={};for(const o in t){const a=t[o];a.effect?n[o]=Le({get:()=>e[o],set(i){e[o]=i}}):(et(a)||Cn(a))&&(n[o]=gc(e,o))}return n}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const vo=typeof document<"u";function ou(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function lm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ou(e.default)}const Ue=Object.assign;function Qa(e,t){const n={};for(const o in t){const a=t[o];n[o]=en(a)?a.map(e):e(a)}return n}const ts=()=>{},en=Array.isArray;function ol(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}const su=/#/g,cm=/&/g,um=/\//g,dm=/=/g,fm=/\?/g,au=/\+/g,pm=/%5B/g,mm=/%5D/g,iu=/%5E/g,hm=/%60/g,ru=/%7B/g,gm=/%7C/g,lu=/%7D/g,vm=/%20/g;function or(e){return e==null?"":encodeURI(""+e).replace(gm,"|").replace(pm,"[").replace(mm,"]")}function bm(e){return or(e).replace(ru,"{").replace(lu,"}").replace(iu,"^")}function Di(e){return or(e).replace(au,"%2B").replace(vm,"+").replace(su,"%23").replace(cm,"%26").replace(hm,"`").replace(ru,"{").replace(lu,"}").replace(iu,"^")}function wm(e){return Di(e).replace(dm,"%3D")}function ym(e){return or(e).replace(su,"%23").replace(fm,"%3F")}function Cm(e){return ym(e).replace(um,"%2F")}function ms(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const xm=/\/$/,_m=e=>e.replace(xm,"");function Za(e,t,n="/"){let o,a={},i="",r="";const l=t.indexOf("#");let c=t.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(o=t.slice(0,c),i=t.slice(c,l>0?l:t.length),a=e(i.slice(1))),l>=0&&(o=o||t.slice(0,l),r=t.slice(l,t.length)),o=Dm(o??t,n),{fullPath:o+i+r,path:o,query:a,hash:ms(r)}}function km(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function sl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Sm(e,t,n){const o=t.matched.length-1,a=n.matched.length-1;return o>-1&&o===a&&Eo(t.matched[o],n.matched[a])&&cu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Eo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function cu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!$m(e[n],t[n]))return!1;return!0}function $m(e,t){return en(e)?al(e,t):en(t)?al(t,e):e===t}function al(e,t){return en(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Dm(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),a=o[o.length-1];(a===".."||a===".")&&o.push("");let i=n.length-1,r,l;for(r=0;r<o.length;r++)if(l=o[r],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+o.slice(r).join("/")}const En={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ei=(function(e){return e.pop="pop",e.push="push",e})({}),ei=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function Em(e){if(!e)if(vo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_m(e)}const Tm=/^[^#]+#/;function Am(e,t){return e.replace(Tm,"#")+t}function Im(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Ha=()=>({left:window.scrollX,top:window.scrollY});function Hm(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Im(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function il(e,t){return(history.state?history.state.position-t:-1)+e}const Ti=new Map;function Rm(e,t){Ti.set(e,t)}function Pm(e){const t=Ti.get(e);return Ti.delete(e),t}function Om(e){return typeof e=="string"||e&&typeof e=="object"}function uu(e){return typeof e=="string"||typeof e=="symbol"}let nt=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const du=Symbol("");nt.MATCHER_NOT_FOUND+"",nt.NAVIGATION_GUARD_REDIRECT+"",nt.NAVIGATION_ABORTED+"",nt.NAVIGATION_CANCELLED+"",nt.NAVIGATION_DUPLICATED+"";function To(e,t){return Ue(new Error,{type:e,[du]:!0},t)}function gn(e,t){return e instanceof Error&&du in e&&(t==null||!!(e.type&t))}const Mm=["params","query","hash"];function Bm(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Mm)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Nm(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<n.length;++o){const a=n[o].replace(au," "),i=a.indexOf("="),r=ms(i<0?a:a.slice(0,i)),l=i<0?null:ms(a.slice(i+1));if(r in t){let c=t[r];en(c)||(c=t[r]=[c]),c.push(l)}else t[r]=l}return t}function rl(e){let t="";for(let n in e){const o=e[n];if(n=wm(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(en(o)?o.map(a=>a&&Di(a)):[o&&Di(o)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Lm(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=en(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const Vm=Symbol(""),ll=Symbol(""),Ra=Symbol(""),fu=Symbol(""),Ai=Symbol("");function Uo(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Rn(e,t,n,o,a,i=r=>r()){const r=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((l,c)=>{const u=m=>{m===!1?c(To(nt.NAVIGATION_ABORTED,{from:n,to:t})):m instanceof Error?c(m):Om(m)?c(To(nt.NAVIGATION_GUARD_REDIRECT,{from:t,to:m})):(r&&o.enterCallbacks[a]===r&&typeof m=="function"&&r.push(m),l())},f=i(()=>e.call(o&&o.instances[a],t,n,u));let p=Promise.resolve(f);e.length<3&&(p=p.then(u)),p.catch(m=>c(m))})}function ti(e,t,n,o,a=i=>i()){const i=[];for(const r of e)for(const l in r.components){let c=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(ou(c)){const u=(c.__vccOpts||c)[t];u&&i.push(Rn(u,n,o,r,l,a))}else{let u=c();i.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${r.path}"`);const p=lm(f)?f.default:f;r.mods[l]=f,r.components[l]=p;const m=(p.__vccOpts||p)[t];return m&&Rn(m,n,o,r,l,a)()}))}}return i}function jm(e,t){const n=[],o=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let r=0;r<i;r++){const l=t.matched[r];l&&(e.matched.find(u=>Eo(u,l))?o.push(l):n.push(l));const c=e.matched[r];c&&(t.matched.find(u=>Eo(u,c))||a.push(c))}return[n,o,a]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Um=()=>location.protocol+"//"+location.host;function pu(e,t){const{pathname:n,search:o,hash:a}=t,i=e.indexOf("#");if(i>-1){let r=a.includes(e.slice(i))?e.slice(i).length:1,l=a.slice(r);return l[0]!=="/"&&(l="/"+l),sl(l,"")}return sl(n,e)+o+a}function Fm(e,t,n,o){let a=[],i=[],r=null;const l=({state:m})=>{const g=pu(e,location),D=n.value,y=t.value;let h=0;if(m){if(n.value=g,t.value=m,r&&r===D){r=null;return}h=y?m.position-y.position:0}else o(g);a.forEach(k=>{k(n.value,D,{delta:h,type:Ei.pop,direction:h?h>0?ei.forward:ei.back:ei.unknown})})};function c(){r=n.value}function u(m){a.push(m);const g=()=>{const D=a.indexOf(m);D>-1&&a.splice(D,1)};return i.push(g),g}function f(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Ue({},m.state,{scroll:Ha()}),"")}}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:c,listen:u,destroy:p}}function cl(e,t,n,o=!1,a=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:a?Ha():null}}function zm(e){const{history:t,location:n}=window,o={value:pu(e,n)},a={value:t.state};a.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,u,f){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:Um()+e+c;try{t[f?"replaceState":"pushState"](u,"",m),a.value=u}catch(g){console.error(g),n[f?"replace":"assign"](m)}}function r(c,u){i(c,Ue({},t.state,cl(a.value.back,c,a.value.forward,!0),u,{position:a.value.position}),!0),o.value=c}function l(c,u){const f=Ue({},a.value,t.state,{forward:c,scroll:Ha()});i(f.current,f,!0),i(c,Ue({},cl(o.value,c,null),{position:f.position+1},u),!1),o.value=c}return{location:o,state:a,push:l,replace:r}}function qm(e){e=Em(e);const t=zm(e),n=Fm(e,t.state,t.location,t.replace);function o(i,r=!0){r||n.pauseListeners(),history.go(i)}const a=Ue({location:"",base:e,go:o,createHref:Am.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}let eo=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var ut=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(ut||{});const Gm={type:eo.Static,value:""},Wm=/[a-zA-Z0-9_]/;function Km(e){if(!e)return[[]];if(e==="/")return[[Gm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=ut.Static,o=n;const a=[];let i;function r(){i&&a.push(i),i=[]}let l=0,c,u="",f="";function p(){u&&(n===ut.Static?i.push({type:eo.Static,value:u}):n===ut.Param||n===ut.ParamRegExp||n===ut.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:eo.Param,value:u,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function m(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==ut.ParamRegExp){o=n,n=ut.EscapeNext;continue}switch(n){case ut.Static:c==="/"?(u&&p(),r()):c===":"?(p(),n=ut.Param):m();break;case ut.EscapeNext:m(),n=o;break;case ut.Param:c==="("?n=ut.ParamRegExp:Wm.test(c)?m():(p(),n=ut.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case ut.ParamRegExp:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=ut.ParamRegExpEnd:f+=c;break;case ut.ParamRegExpEnd:p(),n=ut.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===ut.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),p(),r(),a}const ul="[^/]+?",Xm={sensitive:!1,strict:!1,start:!0,end:!0};var $t=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})($t||{});const Ym=/[.+*?^${}()[\]/\\]/g;function Jm(e,t){const n=Ue({},Xm,t),o=[];let a=n.start?"^":"";const i=[];for(const u of e){const f=u.length?[]:[$t.Root];n.strict&&!u.length&&(a+="/");for(let p=0;p<u.length;p++){const m=u[p];let g=$t.Segment+(n.sensitive?$t.BonusCaseSensitive:0);if(m.type===eo.Static)p||(a+="/"),a+=m.value.replace(Ym,"\\$&"),g+=$t.Static;else if(m.type===eo.Param){const{value:D,repeatable:y,optional:h,regexp:k}=m;i.push({name:D,repeatable:y,optional:h});const O=k||ul;if(O!==ul){g+=$t.BonusCustomRegExp;try{`${O}`}catch(I){throw new Error(`Invalid custom RegExp for param "${D}" (${O}): `+I.message)}}let E=y?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;p||(E=h&&u.length<2?`(?:/${E})`:"/"+E),h&&(E+="?"),a+=E,g+=$t.Dynamic,h&&(g+=$t.BonusOptional),y&&(g+=$t.BonusRepeatable),O===".*"&&(g+=$t.BonusWildcard)}f.push(g)}o.push(f)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=$t.BonusStrict}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const r=new RegExp(a,n.sensitive?"":"i");function l(u){const f=u.match(r),p={};if(!f)return null;for(let m=1;m<f.length;m++){const g=f[m]||"",D=i[m-1];p[D.name]=g&&D.repeatable?g.split("/"):g}return p}function c(u){let f="",p=!1;for(const m of e){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const g of m)if(g.type===eo.Static)f+=g.value;else if(g.type===eo.Param){const{value:D,repeatable:y,optional:h}=g,k=D in u?u[D]:"";if(en(k)&&!y)throw new Error(`Provided param "${D}" is an array but it is not repeatable (* or + modifiers)`);const O=en(k)?k.join("/"):k;if(!O)if(h)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${D}"`);f+=O}}return f||"/"}return{re:r,score:o,keys:i,parse:l,stringify:c}}function Qm(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===$t.Static+$t.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===$t.Static+$t.Segment?1:-1:0}function mu(e,t){let n=0;const o=e.score,a=t.score;for(;n<o.length&&n<a.length;){const i=Qm(o[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-o.length)===1){if(dl(o))return 1;if(dl(a))return-1}return a.length-o.length}function dl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Zm={strict:!1,end:!0,sensitive:!1};function eh(e,t,n){const o=Jm(Km(e.path),n),a=Ue(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function th(e,t){const n=[],o=new Map;t=ol(Zm,t);function a(p){return o.get(p)}function i(p,m,g){const D=!g,y=pl(p);y.aliasOf=g&&g.record;const h=ol(t,p),k=[y];if("alias"in p){const I=typeof p.alias=="string"?[p.alias]:p.alias;for(const L of I)k.push(pl(Ue({},y,{components:g?g.record.components:y.components,path:L,aliasOf:g?g.record:y})))}let O,E;for(const I of k){const{path:L}=I;if(m&&L[0]!=="/"){const ie=m.record.path,pe=ie[ie.length-1]==="/"?"":"/";I.path=m.record.path+(L&&pe+L)}if(O=eh(I,m,h),g?g.alias.push(O):(E=E||O,E!==O&&E.alias.push(O),D&&p.name&&!ml(O)&&r(p.name)),hu(O)&&c(O),y.children){const ie=y.children;for(let pe=0;pe<ie.length;pe++)i(ie[pe],O,g&&g.children[pe])}g=g||O}return E?()=>{r(E)}:ts}function r(p){if(uu(p)){const m=o.get(p);m&&(o.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(r),m.alias.forEach(r))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&o.delete(p.record.name),p.children.forEach(r),p.alias.forEach(r))}}function l(){return n}function c(p){const m=sh(p,n);n.splice(m,0,p),p.record.name&&!ml(p)&&o.set(p.record.name,p)}function u(p,m){let g,D={},y,h;if("name"in p&&p.name){if(g=o.get(p.name),!g)throw To(nt.MATCHER_NOT_FOUND,{location:p});h=g.record.name,D=Ue(fl(m.params,g.keys.filter(E=>!E.optional).concat(g.parent?g.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),p.params&&fl(p.params,g.keys.map(E=>E.name))),y=g.stringify(D)}else if(p.path!=null)y=p.path,g=n.find(E=>E.re.test(y)),g&&(D=g.parse(y),h=g.record.name);else{if(g=m.name?o.get(m.name):n.find(E=>E.re.test(m.path)),!g)throw To(nt.MATCHER_NOT_FOUND,{location:p,currentLocation:m});h=g.record.name,D=Ue({},m.params,p.params),y=g.stringify(D)}const k=[];let O=g;for(;O;)k.unshift(O.record),O=O.parent;return{name:h,path:y,params:D,matched:k,meta:oh(k)}}e.forEach(p=>i(p));function f(){n.length=0,o.clear()}return{addRoute:i,resolve:u,removeRoute:r,clearRoutes:f,getRoutes:l,getRecordMatcher:a}}function fl(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function pl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:nh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function nh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function ml(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function oh(e){return e.reduce((t,n)=>Ue(t,n.meta),{})}function sh(e,t){let n=0,o=t.length;for(;n!==o;){const i=n+o>>1;mu(e,t[i])<0?o=i:n=i+1}const a=ah(e);return a&&(o=t.lastIndexOf(a,o-1)),o}function ah(e){let t=e;for(;t=t.parent;)if(hu(t)&&mu(e,t)===0)return t}function hu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function hl(e){const t=Zt(Ra),n=Zt(fu),o=Le(()=>{const c=Q(e.to);return t.resolve(c)}),a=Le(()=>{const{matched:c}=o.value,{length:u}=c,f=c[u-1],p=n.matched;if(!f||!p.length)return-1;const m=p.findIndex(Eo.bind(null,f));if(m>-1)return m;const g=gl(c[u-2]);return u>1&&gl(f)===g&&p[p.length-1].path!==g?p.findIndex(Eo.bind(null,c[u-2])):m}),i=Le(()=>a.value>-1&&uh(n.params,o.value.params)),r=Le(()=>a.value>-1&&a.value===n.matched.length-1&&cu(n.params,o.value.params));function l(c={}){if(ch(c)){const u=t[Q(e.replace)?"replace":"push"](Q(e.to)).catch(ts);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:Le(()=>o.value.href),isActive:i,isExactActive:r,navigate:l}}function ih(e){return e.length===1?e[0]:e}const rh=_c({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:hl,setup(e,{slots:t}){const n=Kt(hl(e)),{options:o}=Zt(Ra),a=Le(()=>({[vl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[vl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&ih(t.default(n));return e.custom?i:Xc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),lh=rh;function ch(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function uh(e,t){for(const n in t){const o=t[n],a=e[n];if(typeof o=="string"){if(o!==a)return!1}else if(!en(a)||a.length!==o.length||o.some((i,r)=>i!==a[r]))return!1}return!0}function gl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vl=(e,t,n)=>e??t??n,dh=_c({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=Zt(Ai),a=Le(()=>e.route||o.value),i=Zt(ll,0),r=Le(()=>{let u=Q(i);const{matched:f}=a.value;let p;for(;(p=f[u])&&!p.components;)u++;return u}),l=Le(()=>a.value.matched[r.value]);Vs(ll,Le(()=>r.value+1)),Vs(Vm,l),Vs(Ai,a);const c=Z();return cn(()=>[c.value,l.value,e.name],([u,f,p],[m,g,D])=>{f&&(f.instances[p]=u,g&&g!==f&&u&&u===m&&(f.leaveGuards.size||(f.leaveGuards=g.leaveGuards),f.updateGuards.size||(f.updateGuards=g.updateGuards))),u&&f&&(!g||!Eo(f,g)||!m)&&(f.enterCallbacks[p]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=a.value,f=e.name,p=l.value,m=p&&p.components[f];if(!m)return bl(n.default,{Component:m,route:u});const g=p.props[f],D=g?g===!0?u.params:typeof g=="function"?g(u):g:null,h=Xc(m,Ue({},D,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(p.instances[f]=null)},ref:c}));return bl(n.default,{Component:h,route:u})||h}}});function bl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const fh=dh;function ph(e){const t=th(e.routes,e),n=e.parseQuery||Nm,o=e.stringifyQuery||rl,a=e.history,i=Uo(),r=Uo(),l=Uo(),c=df(En);let u=En;vo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Qa.bind(null,j=>""+j),p=Qa.bind(null,Cm),m=Qa.bind(null,ms);function g(j,he){let ce,ye;return uu(j)?(ce=t.getRecordMatcher(j),ye=he):ye=j,t.addRoute(ye,ce)}function D(j){const he=t.getRecordMatcher(j);he&&t.removeRoute(he)}function y(){return t.getRoutes().map(j=>j.record)}function h(j){return!!t.getRecordMatcher(j)}function k(j,he){if(he=Ue({},he||c.value),typeof j=="string"){const S=Za(n,j,he.path),U=t.resolve({path:S.path},he),G=a.createHref(S.fullPath);return Ue(S,U,{params:m(U.params),hash:ms(S.hash),redirectedFrom:void 0,href:G})}let ce;if(j.path!=null)ce=Ue({},j,{path:Za(n,j.path,he.path).path});else{const S=Ue({},j.params);for(const U in S)S[U]==null&&delete S[U];ce=Ue({},j,{params:p(S)}),he.params=p(he.params)}const ye=t.resolve(ce,he),Ae=j.hash||"";ye.params=f(m(ye.params));const b=km(o,Ue({},j,{hash:bm(Ae),path:ye.path})),w=a.createHref(b);return Ue({fullPath:b,hash:Ae,query:o===rl?Lm(j.query):j.query||{}},ye,{redirectedFrom:void 0,href:w})}function O(j){return typeof j=="string"?Za(n,j,c.value.path):Ue({},j)}function E(j,he){if(u!==j)return To(nt.NAVIGATION_CANCELLED,{from:he,to:j})}function I(j){return pe(j)}function L(j){return I(Ue(O(j),{replace:!0}))}function ie(j,he){const ce=j.matched[j.matched.length-1];if(ce&&ce.redirect){const{redirect:ye}=ce;let Ae=typeof ye=="function"?ye(j,he):ye;return typeof Ae=="string"&&(Ae=Ae.includes("?")||Ae.includes("#")?Ae=O(Ae):{path:Ae},Ae.params={}),Ue({query:j.query,hash:j.hash,params:Ae.path!=null?{}:j.params},Ae)}}function pe(j,he){const ce=u=k(j),ye=c.value,Ae=j.state,b=j.force,w=j.replace===!0,S=ie(ce,ye);if(S)return pe(Ue(O(S),{state:typeof S=="object"?Ue({},Ae,S.state):Ae,force:b,replace:w}),he||ce);const U=ce;U.redirectedFrom=he;let G;return!b&&Sm(o,ye,ce)&&(G=To(nt.NAVIGATION_DUPLICATED,{to:U,from:ye}),re(ye,ye,!0,!1)),(G?Promise.resolve(G):T(U,ye)).catch(F=>gn(F)?gn(F,nt.NAVIGATION_GUARD_REDIRECT)?F:A(F):ve(F,U,ye)).then(F=>{if(F){if(gn(F,nt.NAVIGATION_GUARD_REDIRECT))return pe(Ue({replace:w},O(F.to),{state:typeof F.to=="object"?Ue({},Ae,F.to.state):Ae,force:b}),he||U)}else F=$(U,ye,!0,w,Ae);return H(U,ye,F),F})}function de(j,he){const ce=E(j,he);return ce?Promise.reject(ce):Promise.resolve()}function N(j){const he=te.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(j):j()}function T(j,he){let ce;const[ye,Ae,b]=jm(j,he);ce=ti(ye.reverse(),"beforeRouteLeave",j,he);for(const S of ye)S.leaveGuards.forEach(U=>{ce.push(Rn(U,j,he))});const w=de.bind(null,j,he);return ce.push(w),Je(ce).then(()=>{ce=[];for(const S of i.list())ce.push(Rn(S,j,he));return ce.push(w),Je(ce)}).then(()=>{ce=ti(Ae,"beforeRouteUpdate",j,he);for(const S of Ae)S.updateGuards.forEach(U=>{ce.push(Rn(U,j,he))});return ce.push(w),Je(ce)}).then(()=>{ce=[];for(const S of b)if(S.beforeEnter)if(en(S.beforeEnter))for(const U of S.beforeEnter)ce.push(Rn(U,j,he));else ce.push(Rn(S.beforeEnter,j,he));return ce.push(w),Je(ce)}).then(()=>(j.matched.forEach(S=>S.enterCallbacks={}),ce=ti(b,"beforeRouteEnter",j,he,N),ce.push(w),Je(ce))).then(()=>{ce=[];for(const S of r.list())ce.push(Rn(S,j,he));return ce.push(w),Je(ce)}).catch(S=>gn(S,nt.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function H(j,he,ce){l.list().forEach(ye=>N(()=>ye(j,he,ce)))}function $(j,he,ce,ye,Ae){const b=E(j,he);if(b)return b;const w=he===En,S=vo?history.state:{};ce&&(ye||w?a.replace(j.fullPath,Ue({scroll:w&&S&&S.scroll},Ae)):a.push(j.fullPath,Ae)),c.value=j,re(j,he,ce,w),A()}let _;function V(){_||(_=a.listen((j,he,ce)=>{if(!ge.listening)return;const ye=k(j),Ae=ie(ye,ge.currentRoute.value);if(Ae){pe(Ue(Ae,{replace:!0,force:!0}),ye).catch(ts);return}u=ye;const b=c.value;vo&&Rm(il(b.fullPath,ce.delta),Ha()),T(ye,b).catch(w=>gn(w,nt.NAVIGATION_ABORTED|nt.NAVIGATION_CANCELLED)?w:gn(w,nt.NAVIGATION_GUARD_REDIRECT)?(pe(Ue(O(w.to),{force:!0}),ye).then(S=>{gn(S,nt.NAVIGATION_ABORTED|nt.NAVIGATION_DUPLICATED)&&!ce.delta&&ce.type===Ei.pop&&a.go(-1,!1)}).catch(ts),Promise.reject()):(ce.delta&&a.go(-ce.delta,!1),ve(w,ye,b))).then(w=>{w=w||$(ye,b,!1),w&&(ce.delta&&!gn(w,nt.NAVIGATION_CANCELLED)?a.go(-ce.delta,!1):ce.type===Ei.pop&&gn(w,nt.NAVIGATION_ABORTED|nt.NAVIGATION_DUPLICATED)&&a.go(-1,!1)),H(ye,b,w)}).catch(ts)}))}let be=Uo(),K=Uo(),W;function ve(j,he,ce){A(j);const ye=K.list();return ye.length?ye.forEach(Ae=>Ae(j,he,ce)):console.error(j),Promise.reject(j)}function q(){return W&&c.value!==En?Promise.resolve():new Promise((j,he)=>{be.add([j,he])})}function A(j){return W||(W=!j,V(),be.list().forEach(([he,ce])=>j?ce(j):he()),be.reset()),j}function re(j,he,ce,ye){const{scrollBehavior:Ae}=e;if(!vo||!Ae)return Promise.resolve();const b=!ce&&Pm(il(j.fullPath,0))||(ye||!ce)&&history.state&&history.state.scroll||null;return ro().then(()=>Ae(j,he,b)).then(w=>w&&Hm(w)).catch(w=>ve(w,j,he))}const J=j=>a.go(j);let P;const te=new Set,ge={currentRoute:c,listening:!0,addRoute:g,removeRoute:D,clearRoutes:t.clearRoutes,hasRoute:h,getRoutes:y,resolve:k,options:e,push:I,replace:L,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:i.add,beforeResolve:r.add,afterEach:l.add,onError:K.add,isReady:q,install(j){j.component("RouterLink",lh),j.component("RouterView",fh),j.config.globalProperties.$router=ge,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(c)}),vo&&!P&&c.value===En&&(P=!0,I(a.location).catch(ye=>{}));const he={};for(const ye in En)Object.defineProperty(he,ye,{get:()=>c.value[ye],enumerable:!0});j.provide(Ra,ge),j.provide(fu,fc(he)),j.provide(Ai,c);const ce=j.unmount;te.add(j),j.unmount=function(){te.delete(j),te.size<1&&(u=En,_&&_(),_=null,c.value=En,P=!1,W=!1),ce()}}};function Je(j){return j.reduce((he,ce)=>he.then(()=>N(ce)),Promise.resolve())}return ge}function ys(){return Zt(Ra)}const pt=[];for(let e=0;e<256;++e)pt.push((e+256).toString(16).slice(1));function mh(e,t=0){return(pt[e[t+0]]+pt[e[t+1]]+pt[e[t+2]]+pt[e[t+3]]+"-"+pt[e[t+4]]+pt[e[t+5]]+"-"+pt[e[t+6]]+pt[e[t+7]]+"-"+pt[e[t+8]]+pt[e[t+9]]+"-"+pt[e[t+10]]+pt[e[t+11]]+pt[e[t+12]]+pt[e[t+13]]+pt[e[t+14]]+pt[e[t+15]]).toLowerCase()}let ni;const hh=new Uint8Array(16);function gh(){if(!ni){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ni=crypto.getRandomValues.bind(crypto)}return ni(hh)}const vh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wl={randomUUID:vh};function bh(e,t,n){var a;e=e||{};const o=e.random??((a=e.rng)==null?void 0:a.call(e))??gh();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,mh(o)}function st(e,t,n){return wl.randomUUID&&!e?wl.randomUUID():bh(e)}const lt=Gn("account",{state:()=>({accountData:{version:2,characters:[],activeCharacterId:null,dm:null,players:null,characterFolds:null,diceHistory:null,dmTodoItems:null,dmCollapsedCharacters:null,criticalHitRule:"default"},migrationCompleted:!1,isLoading:!0}),getters:{characters:e=>e.accountData.characters,isDataLoading:e=>e.isLoading},actions:{loadInitialData(){try{const e=localStorage.getItem("dnd-account-data");let t;if(e)t=JSON.parse(e);else{const n=this._migrateDataFromLegacyLocalStorage();n&&(t=n,this.clearOldLocalStorageData(),console.log("Datos antiguos de localStorage cargados para migracin."))}t&&(!t.version||t.version<2?(this.accountData=this._migrateV1toV2(t),console.log("Migracin de V1 a V2 completada."),this.saveDataToLocalStorage()):this.accountData=t)}catch(e){console.error("Error al cargar o migrar los datos. Empezando con un estado limpio.",e),localStorage.removeItem("dnd-account-data")}finally{this.migrationCompleted=!0,this.isLoading=!1}},_migrateV1toV2(e){const t={version:2,characters:[],activeCharacterId:null,dm:e.dm||null,players:e.players||null,characterFolds:e.characterFolds||null,diceHistory:e.diceHistory||null,dmTodoItems:e.dmTodoItems||null,dmCollapsedCharacters:e.dmCollapsedCharacters||null,criticalHitRule:"default"};if(e.character){const n=st(),o={id:n,characterData:e.character,attacks:e.attacks?e.attacks.attacks||[]:[],criticalHit:e.attacks?e.attacks.criticalHit||{rule:"default",characterLevel:1}:{rule:"default",characterLevel:1},passiveDamages:e.passiveDamages||[],counters:e.counters?e.counters.counters:[],characterState:e.counters?e.counters.states:[]};t.characters.push(o),t.activeCharacterId=n}return t},_migrateDataFromLegacyLocalStorage(){const e=o=>{const a=localStorage.getItem(o);try{return a?JSON.parse(a):null}catch(i){return console.error(`Error parsing ${o} from localStorage:`,i),null}},t=e("dnd-character-data");return t?{version:1,character:t,dm:e("dnd-dm-data"),players:e("dnd-player-data"),attacks:e("dnd-attacks-data"),passiveDamages:e("dnd-passive-damages-data"),counters:{counters:e("dnd-counters"),states:e("dnd-states")},characterFolds:e("dnd-character-folds"),diceHistory:e("dice-roller-history"),dmTodoItems:e("dnd-todo-items"),dmCollapsedCharacters:e("collapsedCharacters")}:null},clearOldLocalStorageData(){localStorage.removeItem("dnd-character-data"),localStorage.removeItem("dnd-dm-data"),localStorage.removeItem("dnd-player-data"),localStorage.removeItem("dnd-attacks-data"),localStorage.removeItem("dnd-passive-damages-data"),localStorage.removeItem("dnd-counters"),localStorage.removeItem("dnd-states"),localStorage.removeItem("a_very_long_list_of_items_that_is_used_now_in_the_new_version"),localStorage.removeItem("dnd-character-folds"),localStorage.removeItem("dice-roller-history"),localStorage.removeItem("dnd-todo-items"),localStorage.removeItem("collapsedCharacters"),localStorage.removeItem("dnd-critical-hit-config")},saveDataToLocalStorage(){localStorage.setItem("dnd-account-data",JSON.stringify(this.accountData))},updateSection(e,t){this.accountData.hasOwnProperty(e)?(this.accountData[e]=t,this.saveDataToLocalStorage()):console.warn(`La clave '${e}' no existe en accountData.`)},getSection(e){return this.accountData[e]},updateCriticalHitRule(e){this.accountData.criticalHitRule=e,this.saveDataToLocalStorage()},exportData(){return JSON.stringify(this.accountData,null,2)},importData(e){try{const t=JSON.parse(e);return t&&typeof t=="object"&&"version"in t?(this.accountData=t,this.saveDataToLocalStorage(),window.location.reload(),{success:!0}):{success:!1,error:"El archivo no tiene el formato esperado."}}catch(t){return console.error("Error importando datos:",t),{success:!1,error:"El archivo JSON no es vlido."}}},clearAllData(){this.$reset(),localStorage.removeItem("dnd-account-data"),this.clearOldLocalStorageData(),window.location.reload()}}}),ft=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},wh={class:"home-container fade-in"},yh={class:"welcome-card"},Ch={key:0,class:"loading-spinner"},xh={key:1,class:"welcome-content"},_h={class:"action-buttons"},kh={__name:"HomeView",setup(e){const t=ys(),n=lt(),o=Le(()=>n.characters),a=Le(()=>n.isDataLoading),i=Le(()=>o.value&&o.value.length>0),r=()=>{t.push("/config")},l=()=>{t.push("/character-manager")},c=()=>{t.push("/dm")};return(u,f)=>(C(),x("div",wh,[s("div",yh,[f[5]||(f[5]=s("h1",{class:"welcome-title"}," D&D Life Tracker",-1)),f[6]||(f[6]=s("p",{class:"welcome-subtitle"},"Control de vida para personajes de Dungeons & Dragons",-1)),a.value?(C(),x("div",Ch,f[0]||(f[0]=[s("div",{class:"spinner"},null,-1),s("p",null,"Cargando...",-1)]))):(C(),x("div",xh,[f[4]||(f[4]=jn('<div class="feature-list" data-v-13dce25d><div class="feature-item" data-v-13dce25d><span class="feature-icon" data-v-13dce25d></span><span class="feature-text" data-v-13dce25d>Control de vida mxima y actual</span></div><div class="feature-item" data-v-13dce25d><span class="feature-icon" data-v-13dce25d></span><span class="feature-text" data-v-13dce25d>Vida temporal que se consume primero</span></div><div class="feature-item" data-v-13dce25d><span class="feature-icon" data-v-13dce25d></span><span class="feature-text" data-v-13dce25d>Regeneracin pasiva por turno</span></div><div class="feature-item" data-v-13dce25d><span class="feature-icon" data-v-13dce25d></span><span class="feature-text" data-v-13dce25d>Panel del DM para gestionar mltiples personajes</span></div></div>',1)),s("div",_h,[s("button",{onClick:r,class:"btn btn-primary"},f[1]||(f[1]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Crear Nuevo Personaje",-1)])),i.value?(C(),x("button",{key:0,onClick:l,class:"btn btn-secondary"},f[2]||(f[2]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Gestionar Personajes",-1)]))):se("",!0),s("button",{onClick:c,class:"btn btn-success"},f[3]||(f[3]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Panel del DM",-1)]))])]))])]))}},Sh=ft(kh,[["__scopeId","data-v-13dce25d"]]),zs=Gn("passiveDamage",{state:()=>({passiveDamages:[]}),actions:{loadData(){const e=lt(),t=e.accountData.activeCharacterId;if(!t){this.passiveDamages=[];return}const n=e.accountData.characters.find(o=>o.id===t);n&&n.passiveDamages?this.passiveDamages=n.passiveDamages.map(o=>({...o,id:o.id||st(),duration:o.duration!==void 0?o.duration:0,damageRolls:o.damageRolls||[]})):this.passiveDamages=[]},saveData(){const e=lt(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);n!==-1&&(e.accountData.characters[n].passiveDamages=this.passiveDamages,e.saveDataToLocalStorage())},addPassiveDamage(e){const t={...e,id:st()};this.passiveDamages.push(t),this.saveData()},updatePassiveDamage(e){const t=this.passiveDamages.findIndex(n=>n.id===e.id);t!==-1&&(this.passiveDamages[t]=e,this.saveData())},duplicatePassiveDamage(e){const t=this.passiveDamages.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=st(),n.name=`${t.name} (Copia)`;const o=this.passiveDamages.findIndex(a=>a.id===e);this.passiveDamages.splice(o+1,0,n),this.saveData()}},deletePassiveDamage(e){this.passiveDamages=this.passiveDamages.filter(t=>t.id!==e),this.saveData()},decrementDurations(){let e=!1;this.passiveDamages.forEach(n=>{n.duration>0&&(n.duration--,e=!0)});const t=this.passiveDamages.length;this.passiveDamages=this.passiveDamages.filter(n=>n.duration!==0),(e||this.passiveDamages.length!==t)&&this.saveData()}}});function $h(e,t,n){let o=0;for(let a=0;a<e;a++)o+=Math.floor(Math.random()*t)+1;return o+n}const gu=Gn("attack",{state:()=>({attacks:[],criticalHit:{rule:"default",characterLevel:1}}),actions:{loadData(){const e=lt(),t=e.accountData.activeCharacterId;if(!t){this.attacks=[],this.criticalHit={rule:"default",characterLevel:1};return}const n=e.accountData.characters.find(o=>o.id===t);n?(this.attacks=(n.attacks||[]).map(o=>({...o,id:o.id||st(),rerollDice:o.rerollDice||[],damageRolls:(o.damageRolls||[]).map(a=>({...a,lifeSteal:a.lifeSteal||{percentage:0}}))})),this.criticalHit=n.criticalHit||{rule:"default",characterLevel:1}):(this.attacks=[],this.criticalHit={rule:"default",characterLevel:1})},saveData(){const e=lt(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);n!==-1&&(e.accountData.characters[n].attacks=this.attacks,e.accountData.characters[n].criticalHit=this.criticalHit,e.saveDataToLocalStorage())},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveData()},addAttack(e){const t={...e,id:st()};this.attacks.push(t),this.saveData()},updateAttack(e){const t=this.attacks.findIndex(n=>n.id===e.id);t!==-1&&(this.attacks[t]=e,this.saveData())},duplicateAttack(e){const t=this.attacks.find(n=>n.id===e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=st(),n.name=`${t.name} (Copia)`;const o=this.attacks.findIndex(a=>a.id===e);this.attacks.splice(o+1,0,n),this.saveData()}},deleteAttack(e){this.attacks=this.attacks.filter(t=>t.id!==e),this.saveData()},getAttackById(e){return this.attacks.find(t=>t.id===e)},updateAttackOrder(e){this.attacks=e.map(t=>this.attacks.find(n=>n.id===t)).filter(Boolean),this.saveData()}}}),Pa=Gn("characterState",()=>{const e=Z([]),t=Cs();function n(){const c=lt(),u=c.accountData.activeCharacterId;if(!u)return;const f=c.accountData.characters.findIndex(p=>p.id===u);f!==-1&&(c.accountData.characters[f].characterState=e.value,c.saveDataToLocalStorage())}function o(){const c=lt(),u=c.accountData.activeCharacterId;if(!u){e.value=[];return}const f=c.accountData.characters.find(p=>p.id===u);e.value=f&&Array.isArray(f.characterState)?f.characterState:[]}function a({name:c,linkedCounterId:u,discountOnActivate:f,discountType:p}){e.value.push({id:st(),name:c,linkedCounterId:u||null,discountOnActivate:f||0,discountType:p||"resta",active:!1}),n()}function i(c){const u=e.value.find(f=>f.id===c);if(u){if(u.active=!u.active,u.active&&u.linkedCounterId){const f=Math.abs(u.discountOnActivate||1),p=u.discountType==="suma"?f:-f;t.updateCounterValue(u.linkedCounterId,p)}n()}}function r(c){e.value=e.value.filter(u=>u.id!==c),n()}function l(){e.value.forEach(c=>{c.active=!1}),n()}return{states:e,loadData:o,addState:a,removeState:r,toggleStateActive:i,resetStatesOnRest:l}}),Cs=Gn("counter",()=>{const e=Z([]);function t(){const c=lt(),u=c.accountData.activeCharacterId;if(!u)return;const f=c.accountData.characters.findIndex(p=>p.id===u);f!==-1&&(c.accountData.characters[f].counters=e.value,c.saveDataToLocalStorage())}function n(){const c=lt(),u=c.accountData.activeCharacterId;if(!u){e.value=[];return}const f=c.accountData.characters.find(p=>p.id===u);e.value=f&&Array.isArray(f.counters)?f.counters:[]}function o({name:c,initial:u,min:f,max:p,buttons:m,shortRest:g=0,longRest:D=0}){e.value.push({id:st(),name:c,value:u,min:f,max:p,shortRest:g,shortRestReset:arguments[0].shortRestReset||!1,longRest:D,longRestReset:arguments[0].longRestReset||!1,buttons:m||[{label:"+1",increment:1},{label:"-1",increment:-1}]}),t()}function a(c,u){const f=e.value.find(m=>m.id===c);if(!f)return;let p=f.value+u;f.max!==void 0&&(p=Math.min(p,f.max)),f.min!==void 0&&(p=Math.max(p,f.min)),f.value=p,t()}function i(c){const u=e.value.find(f=>f.id===c);u&&u.max!==void 0&&(u.value=u.max,t())}function r(c){e.value=e.value.filter(u=>u.id!==c),t()}function l(c="short"){e.value.forEach(f=>{const p=c==="short"?"shortRest":"longRest";f[c==="short"?"shortRestReset":"longRestReset"]?f.value=f[p]:typeof f[p]=="number"&&(f.value=Math.min(f.max,f.value+f[p]))}),t(),Pa().resetStatesOnRest()}return{counters:e,loadData:n,addCounter:o,updateCounterValue:a,setCounterToMax:i,removeCounter:r,regenerateCountersByRest:l}}),lo=Gn("character",{state:()=>({character:{name:"",level:1,maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},turn:{current:0,isActive:!1},logs:[]}),getters:{hpPercentage:e=>e.character.maxHp===0?0:e.character.currentHp/e.character.maxHp*100,tempHpPercentage:e=>e.character.maxHp===0?0:e.character.tempHp/e.character.maxHp*100,hpBarColor:e=>{const t=e.character.currentHp/e.character.maxHp*100;return t>75?"success":t>50?"warning":t>25?"danger":"dark"},isAlive:e=>e.character.currentHp>0,hasTempHp:e=>e.character.tempHp>0,totalHp:e=>e.character.currentHp+e.character.tempHp,logsByTurn:e=>{const t={};return e.logs.forEach(n=>{t[n.turn]||(t[n.turn]=[]),t[n.turn].push(n)}),t},currentTurnLogs:e=>e.logs.filter(t=>t.turn===e.turn.current)},actions:{addLog(e,t,n=null){const o={id:st(),timestamp:new Date().toLocaleTimeString(),turn:n!==null?n:this.turn.current,action:e,details:t,hpBefore:this.character.currentHp,hpAfter:this.character.currentHp,tempHpBefore:this.character.tempHp,tempHpAfter:this.character.tempHp};this.logs.unshift(o),this.logs.length>100&&(this.logs.length=100)},configureCharacter(e,t,n=0,o){this.character.name=e,this.character.maxHp=t,this.character.originalMaxHp=t,this.character.currentHp=t,this.character.tempHp=0,this.character.regeneration=n,this.character.level=o,this.character.isConfigured=!0,this.addLog("Configuracin",`${e} configurado con ${t} HP mximo${n>0?` y regeneracin de ${n} HP/turno`:""}`,0),this.saveData()},startTurn(){if(this.turn.current++,this.turn.isActive=!0,this.addLog("Inicio de Turno",`Turno ${this.turn.current} iniciado`,this.turn.current),this.character.regeneration>0){const o=this.character.currentHp,a=this.character.maxHp;let i=0;if(this.character.maxHp<this.character.originalMaxHp){const c=this.character.originalMaxHp-this.character.maxHp,u=Math.min(this.character.regeneration,c);u>0&&(this.character.maxHp=Math.min(this.character.originalMaxHp,this.character.maxHp+u),i=this.character.maxHp-a)}this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+this.character.regeneration);const r=this.character.currentHp-o;let l="";i>0&&r>0?l=`+${r} HP (${o}  ${this.character.currentHp}) | HP mximo restaurado: +${i} (${a}  ${this.character.maxHp})`:i>0?l=`HP mximo restaurado: +${i} (${a}  ${this.character.maxHp})`:r>0&&(l=`+${r} HP (${o}  ${this.character.currentHp})`),l&&this.addLog("Regeneracin Automtica",l)}const e=zs();e.loadData();let t=0;const n=[];return e.passiveDamages.forEach(o=>{if(o.duration===0||o.duration>0){let a=0;o.damageRolls.forEach(i=>{a+=$h(i.numDice,i.diceType,i.bonus)}),a>0&&(t+=a,n.push({name:o.name,damage:a}))}}),this.saveData(),t>0?{totalDamage:t,damageDetails:n}:null},applyPassiveDamage(e,t){this.takeDamage(e,!1);const n=t.map(o=>`${o.damage} por ${o.name}`).join("; ");this.addLog("Dao Pasivo",`-${e} HP en total. Desglose: ${n}`)},endTurn(){this.turn.isActive=!1,zs().decrementDurations(),this.addLog("Fin de Turno",`Turno ${this.turn.current} finalizado`,this.turn.current),this.saveData()},heal(e,t=!1){const n=this.character.currentHp;this.character.currentHp=Math.min(this.character.maxHp,this.character.currentHp+e);const o=this.character.currentHp-n;if(o>0){const a=t?"Regeneracin Automtica":"Curacin";this.addLog(a,`+${o} HP (${n}  ${this.character.currentHp})`)}return n!==this.character.currentHp&&this.saveData(),o},addTempHp(e){const t=this.character.tempHp;this.character.tempHp+=e,this.addLog("Vida Temporal",`+${e} HP temporal (${t}  ${this.character.tempHp})`),this.saveData()},takeDamage(e,t=!1){let n=e;const o=this.character.currentHp,a=this.character.tempHp,i=this.character.maxHp;if(this.character.tempHp>0){const l=Math.min(n,this.character.tempHp);this.character.tempHp-=l,n-=l}n>0&&(this.character.currentHp=Math.max(0,this.character.currentHp-n),t&&(this.character.maxHp=Math.max(1,this.character.maxHp-n)));let r=`-${e} HP${t?" (Necro)":""}`;a>0&&(r+=` | Temp HP: ${a}  ${this.character.tempHp}`),r+=` | HP: ${o}  ${this.character.currentHp}`,t&&i!==this.character.maxHp&&(r+=` | Max HP: ${i}  ${this.character.maxHp}`),this.addLog("Dao Recibido",r),this.saveData()},resetToMaxHp(){const e=this.character.currentHp,t=this.character.tempHp,n=this.character.maxHp;this.character.currentHp=this.character.originalMaxHp,this.character.maxHp=this.character.originalMaxHp,this.character.tempHp=0,this.addLog("Reset HP",`HP restaurado (${e}  ${this.character.originalMaxHp}), Max HP restaurado (${n}  ${this.character.originalMaxHp}), Temp HP eliminado (${t}  0)`),this.saveData()},revive(e=1){if(this.character.currentHp<=0){const t=this.character.currentHp;return this.character.currentHp=Math.min(parseInt(e)||1,this.character.maxHp),this.character.tempHp=0,this.addLog("Revivir",`Personaje revivido (${t}  ${this.character.currentHp} HP)`),this.saveData(),!0}return!1},resetTurn(){const e=this.turn.current;this.turn.current=0,this.turn.isActive=!1,this.addLog("Reset Turno",`Contador de turnos reiniciado (${e}  0)`),this.saveData()},clearLogs(){this.logs=[]},clearAllLogs(){this.logs=[],this.saveData()},saveData(){const e=lt(),t=e.accountData.activeCharacterId;if(!t)return;const n=e.accountData.characters.findIndex(o=>o.id===t);if(n!==-1){const o={character:this.character,turn:this.turn,logs:this.logs};e.accountData.characters[n].characterData=o,e.saveDataToLocalStorage()}},loadData(){const e=lt(),t=e.accountData.activeCharacterId;if(!t){this._clearLocalState();return}const n=e.accountData.characters.find(o=>o.id===t);if(n&&n.characterData){const o=n.characterData;this.character={...this.character,...o.character},this.character.originalMaxHp===void 0&&(this.character.originalMaxHp=this.character.maxHp),this.turn={...this.turn,...o.turn},this.logs=o.logs||[]}else this._clearLocalState()},setActiveCharacter(e){const t=lt();t.accountData.activeCharacterId=e,t.saveDataToLocalStorage(),this.loadAllCharacterData()},loadAllCharacterData(){this.loadData(),gu().loadData(),zs().loadData(),Cs().loadData(),Pa().loadData()},_clearLocalState(){this.character={name:"",maxHp:0,originalMaxHp:0,currentHp:0,tempHp:0,regeneration:0,isConfigured:!1},this.turn={current:0,isActive:!1},this.clearLogs()},clearData(){this._clearLocalState(),this.saveData()}}});/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function vu(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Dh(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yl(e,t){return e.get(vu(e,t))}function Eh(e,t,n){Dh(e,t),t.set(e,n)}function Th(e,t,n){return e.set(vu(e,t),n),n}const Ah=100,Ce={},Ih=()=>{Ce.previousActiveElement instanceof HTMLElement?(Ce.previousActiveElement.focus(),Ce.previousActiveElement=null):document.body&&document.body.focus()},Hh=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,o=window.scrollY;Ce.restoreFocusTimeout=setTimeout(()=>{Ih(),t()},Ah),window.scrollTo(n,o)}),bu="swal2-",Rh=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],M=Rh.reduce((e,t)=>(e[t]=bu+t,e),{}),Ph=["success","warning","info","question","error"],ia=Ph.reduce((e,t)=>(e[t]=bu+t,e),{}),wu="SweetAlert2:",sr=e=>e.charAt(0).toUpperCase()+e.slice(1),Tt=e=>{console.warn(`${wu} ${typeof e=="object"?e.join(" "):e}`)},co=e=>{console.error(`${wu} ${e}`)},Cl=[],Oh=e=>{Cl.includes(e)||(Cl.push(e),Tt(e))},yu=(e,t=null)=>{Oh(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Oa=e=>typeof e=="function"?e():e,ar=e=>e&&typeof e.toPromise=="function",xs=e=>ar(e)?e.toPromise():Promise.resolve(e),ir=e=>e&&Promise.resolve(e)===e,At=()=>document.body.querySelector(`.${M.container}`),_s=e=>{const t=At();return t?t.querySelector(e):null},Ut=e=>_s(`.${e}`),Ne=()=>Ut(M.popup),Oo=()=>Ut(M.icon),Mh=()=>Ut(M["icon-content"]),Cu=()=>Ut(M.title),rr=()=>Ut(M["html-container"]),xu=()=>Ut(M.image),lr=()=>Ut(M["progress-steps"]),Ma=()=>Ut(M["validation-message"]),pn=()=>_s(`.${M.actions} .${M.confirm}`),Mo=()=>_s(`.${M.actions} .${M.cancel}`),uo=()=>_s(`.${M.actions} .${M.deny}`),Bh=()=>Ut(M["input-label"]),Bo=()=>_s(`.${M.loader}`),ks=()=>Ut(M.actions),_u=()=>Ut(M.footer),Ba=()=>Ut(M["timer-progress-bar"]),cr=()=>Ut(M.close),Nh=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ur=()=>{const e=Ne();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((i,r)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(r.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),o=e.querySelectorAll(Nh),a=Array.from(o).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(a))].filter(i=>Ot(i))},dr=()=>_n(document.body,M.shown)&&!_n(document.body,M["toast-shown"])&&!_n(document.body,M["no-backdrop"]),Na=()=>{const e=Ne();return e?_n(e,M.toast):!1},Lh=()=>{const e=Ne();return e?e.hasAttribute("data-loading"):!1},Ft=(e,t)=>{if(e.textContent="",t){const o=new DOMParser().parseFromString(t,"text/html"),a=o.querySelector("head");a&&Array.from(a.childNodes).forEach(r=>{e.appendChild(r)});const i=o.querySelector("body");i&&Array.from(i.childNodes).forEach(r=>{r instanceof HTMLVideoElement||r instanceof HTMLAudioElement?e.appendChild(r.cloneNode(!0)):e.appendChild(r)})}},_n=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let o=0;o<n.length;o++)if(!e.classList.contains(n[o]))return!1;return!0},Vh=(e,t)=>{Array.from(e.classList).forEach(n=>{!Object.values(M).includes(n)&&!Object.values(ia).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&e.classList.remove(n)})},jt=(e,t,n)=>{if(Vh(e,t),!t.customClass)return;const o=t.customClass[n];if(o){if(typeof o!="string"&&!o.forEach){Tt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof o}"`);return}Ve(e,o)}},La=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${M.popup} > .${M[t]}`);case"checkbox":return e.querySelector(`.${M.popup} > .${M.checkbox} input`);case"radio":return e.querySelector(`.${M.popup} > .${M.radio} input:checked`)||e.querySelector(`.${M.popup} > .${M.radio} input:first-child`);case"range":return e.querySelector(`.${M.popup} > .${M.range} input`);default:return e.querySelector(`.${M.popup} > .${M.input}`)}},ku=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},Su=(e,t,n)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(o=>{Array.isArray(e)?e.forEach(a=>{n?a.classList.add(o):a.classList.remove(o)}):n?e.classList.add(o):e.classList.remove(o)}))},Ve=(e,t)=>{Su(e,t,!0)},Xt=(e,t)=>{Su(e,t,!1)},Bn=(e,t)=>{const n=Array.from(e.children);for(let o=0;o<n.length;o++){const a=n[o];if(a instanceof HTMLElement&&_n(a,t))return a}},oo=(e,t,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?e.style.setProperty(t,typeof n=="number"?`${n}px`:n):e.style.removeProperty(t)},dt=(e,t="flex")=>{e&&(e.style.display=t)},xt=e=>{e&&(e.style.display="none")},fr=(e,t="block")=>{e&&new MutationObserver(()=>{Ss(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},xl=(e,t,n,o)=>{const a=e.querySelector(t);a&&a.style.setProperty(n,o)},Ss=(e,t,n="flex")=>{t?dt(e,n):xt(e)},Ot=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),jh=()=>!Ot(pn())&&!Ot(uo())&&!Ot(Mo()),Ii=e=>e.scrollHeight>e.clientHeight,Uh=(e,t)=>{let n=e;for(;n&&n!==t;){if(Ii(n))return!0;n=n.parentElement}return!1},$u=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},pr=(e,t=!1)=>{const n=Ba();n&&Ot(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},Fh=()=>{const e=Ba();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),o=t/n*100;e.style.width=`${o}%`},zh=()=>typeof window>"u"||typeof document>"u",qh=`
 <div aria-labelledby="${M.title}" aria-describedby="${M["html-container"]}" class="${M.popup}" tabindex="-1">
   <button type="button" class="${M.close}"></button>
   <ul class="${M["progress-steps"]}"></ul>
   <div class="${M.icon}"></div>
   <img class="${M.image}" />
   <h2 class="${M.title}" id="${M.title}"></h2>
   <div class="${M["html-container"]}" id="${M["html-container"]}"></div>
   <input class="${M.input}" id="${M.input}" />
   <input type="file" class="${M.file}" />
   <div class="${M.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${M.select}" id="${M.select}"></select>
   <div class="${M.radio}"></div>
   <label class="${M.checkbox}">
     <input type="checkbox" id="${M.checkbox}" />
     <span class="${M.label}"></span>
   </label>
   <textarea class="${M.textarea}" id="${M.textarea}"></textarea>
   <div class="${M["validation-message"]}" id="${M["validation-message"]}"></div>
   <div class="${M.actions}">
     <div class="${M.loader}"></div>
     <button type="button" class="${M.confirm}"></button>
     <button type="button" class="${M.deny}"></button>
     <button type="button" class="${M.cancel}"></button>
   </div>
   <div class="${M.footer}"></div>
   <div class="${M["timer-progress-bar-container"]}">
     <div class="${M["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Gh=()=>{const e=At();return e?(e.remove(),Xt([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0):!1},Xn=()=>{Ce.currentInstance.resetValidationMessage()},Wh=()=>{const e=Ne(),t=Bn(e,M.input),n=Bn(e,M.file),o=e.querySelector(`.${M.range} input`),a=e.querySelector(`.${M.range} output`),i=Bn(e,M.select),r=e.querySelector(`.${M.checkbox} input`),l=Bn(e,M.textarea);t.oninput=Xn,n.onchange=Xn,i.onchange=Xn,r.onchange=Xn,l.oninput=Xn,o.oninput=()=>{Xn(),a.value=o.value},o.onchange=()=>{Xn(),a.value=o.value}},Kh=e=>typeof e=="string"?document.querySelector(e):e,Xh=e=>{const t=Ne();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Yh=e=>{window.getComputedStyle(e).direction==="rtl"&&Ve(At(),M.rtl)},Jh=e=>{const t=Gh();if(zh()){co("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=M.container,t&&Ve(n,M["no-transition"]),Ft(n,qh),n.dataset.swal2Theme=e.theme;const o=Kh(e.target);o.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Xh(e),Yh(o),Wh()},mr=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?Qh(e,t):e&&Ft(t,e)},Qh=(e,t)=>{e.jquery?Zh(t,e):Ft(t,e.toString())},Zh=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},eg=(e,t)=>{const n=ks(),o=Bo();!n||!o||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?xt(n):dt(n),jt(n,t,"actions"),tg(n,o,t),Ft(o,t.loaderHtml||""),jt(o,t,"loader"))};function tg(e,t,n){const o=pn(),a=uo(),i=Mo();!o||!a||!i||(si(o,"confirm",n),si(a,"deny",n),si(i,"cancel",n),ng(o,a,i,n),n.reverseButtons&&(n.toast?(e.insertBefore(i,o),e.insertBefore(a,o)):(e.insertBefore(i,t),e.insertBefore(a,t),e.insertBefore(o,t))))}function ng(e,t,n,o){if(!o.buttonsStyling){Xt([e,t,n],M.styled);return}Ve([e,t,n],M.styled),o.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor),o.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor),o.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor),oi(e),oi(t),oi(n)}function oi(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function si(e,t,n){const o=sr(t);Ss(e,n[`show${o}Button`],"inline-block"),Ft(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=M[t],jt(e,n,`${t}Button`)}const og=(e,t)=>{const n=cr();n&&(Ft(n,t.closeButtonHtml||""),jt(n,t,"closeButton"),Ss(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},sg=(e,t)=>{const n=At();n&&(ag(n,t.backdrop),ig(n,t.position),rg(n,t.grow),jt(n,t,"container"))};function ag(e,t){typeof t=="string"?e.style.background=t:t||Ve([document.documentElement,document.body],M["no-backdrop"])}function ig(e,t){t&&(t in M?Ve(e,M[t]):(Tt('The "position" parameter is not valid, defaulting to "center"'),Ve(e,M.center)))}function rg(e,t){t&&Ve(e,M[`grow-${t}`])}var Ke={innerParams:new WeakMap,domCache:new WeakMap};const lg=["input","file","range","select","radio","checkbox","textarea"],cg=(e,t)=>{const n=Ne();if(!n)return;const o=Ke.innerParams.get(e),a=!o||t.input!==o.input;lg.forEach(i=>{const r=Bn(n,M[i]);r&&(fg(i,t.inputAttributes),r.className=M[i],a&&xt(r))}),t.input&&(a&&ug(t),pg(t))},ug=e=>{if(!e.input)return;if(!ot[e.input]){co(`Unexpected type of input! Expected ${Object.keys(ot).join(" | ")}, got "${e.input}"`);return}const t=Du(e.input);if(!t)return;const n=ot[e.input](t,e);dt(t),e.inputAutoFocus&&setTimeout(()=>{ku(n)})},dg=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},fg=(e,t)=>{const n=Ne();if(!n)return;const o=La(n,e);if(o){dg(o);for(const a in t)o.setAttribute(a,t[a])}},pg=e=>{if(!e.input)return;const t=Du(e.input);t&&jt(t,e,"input")},hr=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},$s=(e,t,n)=>{if(n.inputLabel){const o=document.createElement("label"),a=M["input-label"];o.setAttribute("for",e.id),o.className=a,typeof n.customClass=="object"&&Ve(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},Du=e=>{const t=Ne();if(t)return Bn(t,M[e]||M.input)},ra=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:ir(t)||Tt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},ot={};ot.text=ot.email=ot.password=ot.number=ot.tel=ot.url=ot.search=ot.date=ot["datetime-local"]=ot.time=ot.week=ot.month=(e,t)=>(ra(e,t.inputValue),$s(e,e,t),hr(e,t),e.type=t.input,e);ot.file=(e,t)=>($s(e,e,t),hr(e,t),e);ot.range=(e,t)=>{const n=e.querySelector("input"),o=e.querySelector("output");return ra(n,t.inputValue),n.type=t.input,ra(o,t.inputValue),$s(n,e,t),e};ot.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");Ft(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return $s(e,e,t),e};ot.radio=e=>(e.textContent="",e);ot.checkbox=(e,t)=>{const n=La(Ne(),"checkbox");n.value="1",n.checked=!!t.inputValue;const o=e.querySelector("span");return Ft(o,t.inputPlaceholder||t.inputLabel),n};ot.textarea=(e,t)=>{ra(e,t.inputValue),hr(e,t),$s(e,e,t);const n=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(Ne()).width),a=()=>{if(!document.body.contains(e))return;const i=e.offsetWidth+n(e);i>o?Ne().style.width=`${i}px`:oo(Ne(),"width",t.width)};new MutationObserver(a).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const mg=(e,t)=>{const n=rr();n&&(fr(n),jt(n,t,"htmlContainer"),t.html?(mr(t.html,n),dt(n,"block")):t.text?(n.textContent=t.text,dt(n,"block")):xt(n),cg(e,t))},hg=(e,t)=>{const n=_u();n&&(fr(n),Ss(n,!!t.footer,"block"),t.footer&&mr(t.footer,n),jt(n,t,"footer"))},gg=(e,t)=>{const n=Ke.innerParams.get(e),o=Oo();if(!o)return;if(n&&t.icon===n.icon){kl(o,t),_l(o,t);return}if(!t.icon&&!t.iconHtml){xt(o);return}if(t.icon&&Object.keys(ia).indexOf(t.icon)===-1){co(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),xt(o);return}dt(o),kl(o,t),_l(o,t),Ve(o,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Eu)},_l=(e,t)=>{for(const[n,o]of Object.entries(ia))t.icon!==n&&Xt(e,o);Ve(e,t.icon&&ia[t.icon]),wg(e,t),Eu(),jt(e,t,"icon")},Eu=()=>{const e=Ne();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<n.length;o++)n[o].style.backgroundColor=t},vg=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,bg=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,kl=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,o="";t.iconHtml?o=Sl(t.iconHtml):t.icon==="success"?(o=vg(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?o=bg:t.icon&&(o=Sl({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==o.trim()&&Ft(e,o)},wg=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])xl(e,n,"background-color",t.iconColor);xl(e,".swal2-success-ring","border-color",t.iconColor)}},Sl=e=>`<div class="${M["icon-content"]}">${e}</div>`,yg=(e,t)=>{const n=xu();if(n){if(!t.imageUrl){xt(n);return}dt(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),oo(n,"width",t.imageWidth),oo(n,"height",t.imageHeight),n.className=M.image,jt(n,t,"image")}};let gr=!1,Tu=0,Au=0,Iu=0,Hu=0;const Cg=e=>{e.addEventListener("mousedown",la),document.body.addEventListener("mousemove",ca),e.addEventListener("mouseup",ua),e.addEventListener("touchstart",la),document.body.addEventListener("touchmove",ca),e.addEventListener("touchend",ua)},xg=e=>{e.removeEventListener("mousedown",la),document.body.removeEventListener("mousemove",ca),e.removeEventListener("mouseup",ua),e.removeEventListener("touchstart",la),document.body.removeEventListener("touchmove",ca),e.removeEventListener("touchend",ua)},la=e=>{const t=Ne();if(e.target===t||Oo().contains(e.target)){gr=!0;const n=Ru(e);Tu=n.clientX,Au=n.clientY,Iu=parseInt(t.style.insetInlineStart)||0,Hu=parseInt(t.style.insetBlockStart)||0,Ve(t,"swal2-dragging")}},ca=e=>{const t=Ne();if(gr){let{clientX:n,clientY:o}=Ru(e);t.style.insetInlineStart=`${Iu+(n-Tu)}px`,t.style.insetBlockStart=`${Hu+(o-Au)}px`}},ua=()=>{const e=Ne();gr=!1,Xt(e,"swal2-dragging")},Ru=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},_g=(e,t)=>{const n=At(),o=Ne();if(!(!n||!o)){if(t.toast){oo(n,"width",t.width),o.style.width="100%";const a=Bo();a&&o.insertBefore(a,Oo())}else oo(o,"width",t.width);oo(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),xt(Ma()),kg(o,t),t.draggable&&!t.toast?(Ve(o,M.draggable),Cg(o)):(Xt(o,M.draggable),xg(o))}},kg=(e,t)=>{const n=t.showClass||{};e.className=`${M.popup} ${Ot(e)?n.popup:""}`,t.toast?(Ve([document.documentElement,document.body],M["toast-shown"]),Ve(e,M.toast)):Ve(e,M.modal),jt(e,t,"popup"),typeof t.customClass=="string"&&Ve(e,t.customClass),t.icon&&Ve(e,M[`icon-${t.icon}`])},Sg=(e,t)=>{const n=lr();if(!n)return;const{progressSteps:o,currentProgressStep:a}=t;if(!o||o.length===0||a===void 0){xt(n);return}dt(n),n.textContent="",a>=o.length&&Tt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((i,r)=>{const l=$g(i);if(n.appendChild(l),r===a&&Ve(l,M["active-progress-step"]),r!==o.length-1){const c=Dg(t);n.appendChild(c)}})},$g=e=>{const t=document.createElement("li");return Ve(t,M["progress-step"]),Ft(t,e),t},Dg=e=>{const t=document.createElement("li");return Ve(t,M["progress-step-line"]),e.progressStepsDistance&&oo(t,"width",e.progressStepsDistance),t},Eg=(e,t)=>{const n=Cu();n&&(fr(n),Ss(n,!!(t.title||t.titleText),"block"),t.title&&mr(t.title,n),t.titleText&&(n.innerText=t.titleText),jt(n,t,"title"))},Pu=(e,t)=>{_g(e,t),sg(e,t),Sg(e,t),gg(e,t),yg(e,t),Eg(e,t),og(e,t),mg(e,t),eg(e,t),hg(e,t);const n=Ne();typeof t.didRender=="function"&&n&&t.didRender(n),Ce.eventEmitter.emit("didRender",n)},Tg=()=>Ot(Ne()),Ou=()=>{var e;return(e=pn())===null||e===void 0?void 0:e.click()},Ag=()=>{var e;return(e=uo())===null||e===void 0?void 0:e.click()},Ig=()=>{var e;return(e=Mo())===null||e===void 0?void 0:e.click()},No=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Mu=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Hg=(e,t,n)=>{Mu(e),t.toast||(e.keydownHandler=o=>Pg(t,o,n),e.keydownTarget=t.keydownListenerCapture?window:Ne(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Hi=(e,t)=>{var n;const o=ur();if(o.length){e=e+t,e===-2&&(e=o.length-1),e===o.length?e=0:e===-1&&(e=o.length-1),o[e].focus();return}(n=Ne())===null||n===void 0||n.focus()},Bu=["ArrowRight","ArrowDown"],Rg=["ArrowLeft","ArrowUp"],Pg=(e,t,n)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?Og(t,e):t.key==="Tab"?Mg(t):[...Bu,...Rg].includes(t.key)?Bg(t.key):t.key==="Escape"&&Ng(t,e,n)))},Og=(e,t)=>{if(!Oa(t.allowEnterKey))return;const n=La(Ne(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Ou(),e.preventDefault()}},Mg=e=>{const t=e.target,n=ur();let o=-1;for(let a=0;a<n.length;a++)if(t===n[a]){o=a;break}e.shiftKey?Hi(o,-1):Hi(o,1),e.stopPropagation(),e.preventDefault()},Bg=e=>{const t=ks(),n=pn(),o=uo(),a=Mo();if(!t||!n||!o||!a)return;const i=[n,o,a];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const r=Bu.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<t.children.length;c++){if(l=l[r],!l)return;if(l instanceof HTMLButtonElement&&Ot(l))break}l instanceof HTMLButtonElement&&l.focus()}},Ng=(e,t,n)=>{e.preventDefault(),Oa(t.allowEscapeKey)&&n(No.esc)};var Ao={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Lg=()=>{const e=At();Array.from(document.body.children).forEach(n=>{n.contains(e)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Nu=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Lu=typeof window<"u"&&!!window.GestureEvent,Vg=()=>{if(Lu&&!_n(document.body,M.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,Ve(document.body,M.iosfix),jg()}},jg=()=>{const e=At();if(!e)return;let t;e.ontouchstart=n=>{t=Ug(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},Ug=e=>{const t=e.target,n=At(),o=rr();return!n||!o||Fg(e)||zg(e)?!1:t===n||!Ii(n)&&t instanceof HTMLElement&&!Uh(t,o)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Ii(o)&&o.contains(t))},Fg=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",zg=e=>e.touches&&e.touches.length>1,qg=()=>{if(_n(document.body,M.iosfix)){const e=parseInt(document.body.style.top,10);Xt(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},Gg=()=>{const e=document.createElement("div");e.className=M["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let _o=null;const Wg=e=>{_o===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(_o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${_o+Gg()}px`)},Kg=()=>{_o!==null&&(document.body.style.paddingRight=`${_o}px`,_o=null)};function Vu(e,t,n,o){Na()?$l(e,o):(Hh(n).then(()=>$l(e,o)),Mu(Ce)),Lu?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),dr()&&(Kg(),qg(),Nu()),Xg()}function Xg(){Xt([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"]])}function Nn(e){e=Jg(e);const t=Ao.swalPromiseResolve.get(this),n=Yg(this);this.isAwaitingPromise?e.isDismissed||(Ds(this),t(e)):n&&t(e)}const Yg=e=>{const t=Ne();if(!t)return!1;const n=Ke.innerParams.get(e);if(!n||_n(t,n.hideClass.popup))return!1;Xt(t,n.showClass.popup),Ve(t,n.hideClass.popup);const o=At();return Xt(o,n.showClass.backdrop),Ve(o,n.hideClass.backdrop),Qg(e,t,n),!0};function ju(e){const t=Ao.swalPromiseReject.get(this);Ds(this),t&&t(e)}const Ds=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Ke.innerParams.get(e)||e._destroy())},Jg=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Qg=(e,t,n)=>{var o;const a=At(),i=$u(t);typeof n.willClose=="function"&&n.willClose(t),(o=Ce.eventEmitter)===null||o===void 0||o.emit("willClose",t),i?Zg(e,t,a,n.returnFocus,n.didClose):Vu(e,a,n.returnFocus,n.didClose)},Zg=(e,t,n,o,a)=>{Ce.swalCloseEventFinishedCallback=Vu.bind(null,e,n,o,a);const i=function(r){if(r.target===t){var l;(l=Ce.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Ce),delete Ce.swalCloseEventFinishedCallback,t.removeEventListener("animationend",i),t.removeEventListener("transitionend",i)}};t.addEventListener("animationend",i),t.addEventListener("transitionend",i)},$l=(e,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(e.params)(),(n=Ce.eventEmitter)===null||n===void 0||n.emit("didClose"),e._destroy&&e._destroy()})},Io=e=>{let t=Ne();if(t||new le,t=Ne(),!t)return;const n=Bo();Na()?xt(Oo()):ev(t,e),dt(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},ev=(e,t)=>{const n=ks(),o=Bo();!n||!o||(!t&&Ot(pn())&&(t=pn()),dt(n),t&&(xt(t),o.setAttribute("data-button-to-replace",t.className),n.insertBefore(o,t)),Ve([e,n],M.loading))},tv=(e,t)=>{t.input==="select"||t.input==="radio"?iv(e,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(ar(t.inputValue)||ir(t.inputValue))&&(Io(pn()),rv(e,t))},nv=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return ov(n);case"radio":return sv(n);case"file":return av(n);default:return t.inputAutoTrim?n.value.trim():n.value}},ov=e=>e.checked?1:0,sv=e=>e.checked?e.value:null,av=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,iv=(e,t)=>{const n=Ne();if(!n)return;const o=a=>{t.input==="select"?lv(n,da(a),t):t.input==="radio"&&cv(n,da(a),t)};ar(t.inputOptions)||ir(t.inputOptions)?(Io(pn()),xs(t.inputOptions).then(a=>{e.hideLoading(),o(a)})):typeof t.inputOptions=="object"?o(t.inputOptions):co(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},rv=(e,t)=>{const n=e.getInput();n&&(xt(n),xs(t.inputValue).then(o=>{n.value=t.input==="number"?`${parseFloat(o)||0}`:`${o}`,dt(n),n.focus(),e.hideLoading()}).catch(o=>{co(`Error in inputValue promise: ${o}`),n.value="",dt(n),n.focus(),e.hideLoading()}))};function lv(e,t,n){const o=Bn(e,M.select);if(!o)return;const a=(i,r,l)=>{const c=document.createElement("option");c.value=l,Ft(c,r),c.selected=Uu(l,n.inputValue),i.appendChild(c)};t.forEach(i=>{const r=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=r,c.disabled=!1,o.appendChild(c),l.forEach(u=>a(c,u[1],u[0]))}else a(o,l,r)}),o.focus()}function cv(e,t,n){const o=Bn(e,M.radio);if(!o)return;t.forEach(i=>{const r=i[0],l=i[1],c=document.createElement("input"),u=document.createElement("label");c.type="radio",c.name=M.radio,c.value=r,Uu(r,n.inputValue)&&(c.checked=!0);const f=document.createElement("span");Ft(f,l),f.className=M.label,u.appendChild(c),u.appendChild(f),o.appendChild(u)});const a=o.querySelectorAll("input");a.length&&a[0].focus()}const da=e=>{const t=[];return e instanceof Map?e.forEach((n,o)=>{let a=n;typeof a=="object"&&(a=da(a)),t.push([o,a])}):Object.keys(e).forEach(n=>{let o=e[n];typeof o=="object"&&(o=da(o)),t.push([n,o])}),t},Uu=(e,t)=>!!t&&t.toString()===e.toString(),uv=e=>{const t=Ke.innerParams.get(e);e.disableButtons(),t.input?Fu(e,"confirm"):br(e,!0)},dv=e=>{const t=Ke.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Fu(e,"deny"):vr(e,!1)},fv=(e,t)=>{e.disableButtons(),t(No.cancel)},Fu=(e,t)=>{const n=Ke.innerParams.get(e);if(!n.input){co(`The "input" parameter is needed to be set when using returnInputValueOn${sr(t)}`);return}const o=e.getInput(),a=nv(e,n);n.inputValidator?pv(e,a,t):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||o.validationMessage)):t==="deny"?vr(e,a):br(e,a)},pv=(e,t,n)=>{const o=Ke.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>xs(o.inputValidator(t,o.validationMessage))).then(i=>{e.enableButtons(),e.enableInput(),i?e.showValidationMessage(i):n==="deny"?vr(e,t):br(e,t)})},vr=(e,t)=>{const n=Ke.innerParams.get(e||void 0);n.showLoaderOnDeny&&Io(uo()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>xs(n.preDeny(t,n.validationMessage))).then(a=>{a===!1?(e.hideLoading(),Ds(e)):e.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>zu(e||void 0,a))):e.close({isDenied:!0,value:t})},Dl=(e,t)=>{e.close({isConfirmed:!0,value:t})},zu=(e,t)=>{e.rejectPromise(t)},br=(e,t)=>{const n=Ke.innerParams.get(e||void 0);n.showLoaderOnConfirm&&Io(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>xs(n.preConfirm(t,n.validationMessage))).then(a=>{Ot(Ma())||a===!1?(e.hideLoading(),Ds(e)):Dl(e,typeof a>"u"?t:a)}).catch(a=>zu(e||void 0,a))):Dl(e,t)};function fa(){const e=Ke.innerParams.get(this);if(!e)return;const t=Ke.domCache.get(this);xt(t.loader),Na()?e.icon&&dt(Oo()):mv(t),Xt([t.popup,t.actions],M.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const mv=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?dt(t[0],"inline-block"):jh()&&xt(e.actions)};function qu(){const e=Ke.innerParams.get(this),t=Ke.domCache.get(this);return t?La(t.popup,e.input):null}function Gu(e,t,n){const o=Ke.domCache.get(e);t.forEach(a=>{o[a].disabled=n})}function Wu(e,t){const n=Ne();if(!(!n||!e))if(e.type==="radio"){const o=n.querySelectorAll(`[name="${M.radio}"]`);for(let a=0;a<o.length;a++)o[a].disabled=t}else e.disabled=t}function Ku(){Gu(this,["confirmButton","denyButton","cancelButton"],!1)}function Xu(){Gu(this,["confirmButton","denyButton","cancelButton"],!0)}function Yu(){Wu(this.getInput(),!1)}function Ju(){Wu(this.getInput(),!0)}function Qu(e){const t=Ke.domCache.get(this),n=Ke.innerParams.get(this);Ft(t.validationMessage,e),t.validationMessage.className=M["validation-message"],n.customClass&&n.customClass.validationMessage&&Ve(t.validationMessage,n.customClass.validationMessage),dt(t.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",M["validation-message"]),ku(o),Ve(o,M.inputerror))}function Zu(){const e=Ke.domCache.get(this);e.validationMessage&&xt(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Xt(t,M.inputerror))}const ko={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},hv=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],gv={allowEnterKey:void 0},vv=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ed=e=>Object.prototype.hasOwnProperty.call(ko,e),td=e=>hv.indexOf(e)!==-1,nd=e=>gv[e],bv=e=>{ed(e)||Tt(`Unknown parameter "${e}"`)},wv=e=>{vv.includes(e)&&Tt(`The parameter "${e}" is incompatible with toasts`)},yv=e=>{const t=nd(e);t&&yu(e,t)},od=e=>{e.backdrop===!1&&e.allowOutsideClick&&Tt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Tt(`Invalid theme "${e.theme}"`);for(const t in e)bv(t),e.toast&&wv(t),yv(t)};function sd(e){const t=At(),n=Ne(),o=Ke.innerParams.get(this);if(!n||_n(n,o.hideClass.popup)){Tt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=Cv(e),i=Object.assign({},o,a);od(i),t.dataset.swal2Theme=i.theme,Pu(this,i),Ke.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const Cv=e=>{const t={};return Object.keys(e).forEach(n=>{td(n)?t[n]=e[n]:Tt(`Invalid parameter to update: ${n}`)}),t};function ad(){const e=Ke.domCache.get(this),t=Ke.innerParams.get(this);if(!t){id(this);return}e.popup&&Ce.swalCloseEventFinishedCallback&&(Ce.swalCloseEventFinishedCallback(),delete Ce.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Ce.eventEmitter.emit("didDestroy"),xv(this)}const xv=e=>{id(e),delete e.params,delete Ce.keydownHandler,delete Ce.keydownTarget,delete Ce.currentInstance},id=e=>{e.isAwaitingPromise?(ai(Ke,e),e.isAwaitingPromise=!0):(ai(Ao,e),ai(Ke,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},ai=(e,t)=>{for(const n in e)e[n].delete(t)};var _v=Object.freeze({__proto__:null,_destroy:ad,close:Nn,closeModal:Nn,closePopup:Nn,closeToast:Nn,disableButtons:Xu,disableInput:Ju,disableLoading:fa,enableButtons:Ku,enableInput:Yu,getInput:qu,handleAwaitingPromise:Ds,hideLoading:fa,rejectPromise:ju,resetValidationMessage:Zu,showValidationMessage:Qu,update:sd});const kv=(e,t,n)=>{e.toast?Sv(e,t,n):(Dv(t),Ev(t),Tv(e,t,n))},Sv=(e,t,n)=>{t.popup.onclick=()=>{e&&($v(e)||e.timer||e.input)||n(No.close)}},$v=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let pa=!1;const Dv=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(pa=!0)}}},Ev=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(n){e.popup.onmouseup=()=>{},(n.target===e.popup||n.target instanceof HTMLElement&&e.popup.contains(n.target))&&(pa=!0)}}},Tv=(e,t,n)=>{t.container.onclick=o=>{if(pa){pa=!1;return}o.target===t.container&&Oa(e.allowOutsideClick)&&n(No.backdrop)}},Av=e=>typeof e=="object"&&e.jquery,El=e=>e instanceof Element||Av(e),Iv=e=>{const t={};return typeof e[0]=="object"&&!El(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((n,o)=>{const a=e[o];typeof a=="string"||El(a)?t[n]=a:a!==void 0&&co(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof a}`)}),t};function Hv(...e){return new this(...e)}function Rv(e){class t extends this{_main(o,a){return super._main(o,Object.assign({},e,a))}}return t}const Pv=()=>Ce.timeout&&Ce.timeout.getTimerLeft(),rd=()=>{if(Ce.timeout)return Fh(),Ce.timeout.stop()},ld=()=>{if(Ce.timeout){const e=Ce.timeout.start();return pr(e),e}},Ov=()=>{const e=Ce.timeout;return e&&(e.running?rd():ld())},Mv=e=>{if(Ce.timeout){const t=Ce.timeout.increase(e);return pr(t,!0),t}},Bv=()=>!!(Ce.timeout&&Ce.timeout.isRunning());let Tl=!1;const Ri={};function Nv(e="data-swal-template"){Ri[e]=this,Tl||(document.body.addEventListener("click",Lv),Tl=!0)}const Lv=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in Ri){const o=t.getAttribute(n);if(o){Ri[n].fire({template:o});return}}};class Vv{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const o=this._getHandlersByEventName(t);o.includes(n)||o.push(n)}once(t,n){const o=(...a)=>{this.removeListener(t,o),n.apply(this,a)};this.on(t,o)}emit(t,...n){this._getHandlersByEventName(t).forEach(o=>{try{o.apply(this,n)}catch(a){console.error(a)}})}removeListener(t,n){const o=this._getHandlersByEventName(t),a=o.indexOf(n);a>-1&&o.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}Ce.eventEmitter=new Vv;const jv=(e,t)=>{Ce.eventEmitter.on(e,t)},Uv=(e,t)=>{Ce.eventEmitter.once(e,t)},Fv=(e,t)=>{if(!e){Ce.eventEmitter.reset();return}t?Ce.eventEmitter.removeListener(e,t):Ce.eventEmitter.removeAllListeners(e)};var zv=Object.freeze({__proto__:null,argsToParams:Iv,bindClickHandler:Nv,clickCancel:Ig,clickConfirm:Ou,clickDeny:Ag,enableLoading:Io,fire:Hv,getActions:ks,getCancelButton:Mo,getCloseButton:cr,getConfirmButton:pn,getContainer:At,getDenyButton:uo,getFocusableElements:ur,getFooter:_u,getHtmlContainer:rr,getIcon:Oo,getIconContent:Mh,getImage:xu,getInputLabel:Bh,getLoader:Bo,getPopup:Ne,getProgressSteps:lr,getTimerLeft:Pv,getTimerProgressBar:Ba,getTitle:Cu,getValidationMessage:Ma,increaseTimer:Mv,isDeprecatedParameter:nd,isLoading:Lh,isTimerRunning:Bv,isUpdatableParameter:td,isValidParameter:ed,isVisible:Tg,mixin:Rv,off:Fv,on:jv,once:Uv,resumeTimer:ld,showLoading:Io,stopTimer:rd,toggleTimer:Ov});class qv{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const cd=["swal-title","swal-html","swal-footer"],Gv=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return eb(n),Object.assign(Wv(n),Kv(n),Xv(n),Yv(n),Jv(n),Qv(n),Zv(n,cd))},Wv=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(o=>{io(o,["name","value"]);const a=o.getAttribute("name"),i=o.getAttribute("value");!a||!i||(typeof ko[a]=="boolean"?t[a]=i!=="false":typeof ko[a]=="object"?t[a]=JSON.parse(i):t[a]=i)}),t},Kv=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(o=>{const a=o.getAttribute("name"),i=o.getAttribute("value");!a||!i||(t[a]=new Function(`return ${i}`)())}),t},Xv=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(o=>{io(o,["type","color","aria-label"]);const a=o.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=o.innerHTML,t[`show${sr(a)}Button`]=!0,o.hasAttribute("color")&&(t[`${a}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=o.getAttribute("aria-label")))}),t},Yv=e=>{const t={},n=e.querySelector("swal-image");return n&&(io(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Jv=e=>{const t={},n=e.querySelector("swal-icon");return n&&(io(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Qv=e=>{const t={},n=e.querySelector("swal-input");n&&(io(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(t.inputOptions={},o.forEach(a=>{io(a,["value"]);const i=a.getAttribute("value");if(!i)return;const r=a.innerHTML;t.inputOptions[i]=r})),t},Zv=(e,t)=>{const n={};for(const o in t){const a=t[o],i=e.querySelector(a);i&&(io(i,[]),n[a.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},eb=e=>{const t=cd.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(n=>{const o=n.tagName.toLowerCase();t.includes(o)||Tt(`Unrecognized element <${o}>`)})},io=(e,t)=>{Array.from(e.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Tt([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},ud=10,tb=e=>{const t=At(),n=Ne();typeof e.willOpen=="function"&&e.willOpen(n),Ce.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;sb(t,n,e),setTimeout(()=>{nb(t,n)},ud),dr()&&(ob(t,e.scrollbarPadding,a),Lg()),!Na()&&!Ce.previousActiveElement&&(Ce.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(n)),Ce.eventEmitter.emit("didOpen",n)},ma=e=>{const t=Ne();if(e.target!==t)return;const n=At();t.removeEventListener("animationend",ma),t.removeEventListener("transitionend",ma),n.style.overflowY="auto",Xt(n,M["no-transition"])},nb=(e,t)=>{$u(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",ma),t.addEventListener("transitionend",ma)):e.style.overflowY="auto"},ob=(e,t,n)=>{Vg(),t&&n!=="hidden"&&Wg(n),setTimeout(()=>{e.scrollTop=0})},sb=(e,t,n)=>{Ve(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),dt(t,"grid"),setTimeout(()=>{Ve(t,n.showClass.popup),t.style.removeProperty("opacity")},ud)):dt(t,"grid"),Ve([document.documentElement,document.body],M.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ve([document.documentElement,document.body],M["height-auto"])};var Al={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function ab(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Al.email),e.input==="url"&&(e.inputValidator=Al.url))}function ib(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Tt('Target parameter is not valid, defaulting to "body"'),e.target="body")}function rb(e){ab(e),e.showLoaderOnConfirm&&!e.preConfirm&&Tt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ib(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Jh(e)}let on;var Ps=new WeakMap;class at{constructor(...t){if(Eh(this,Ps,void 0),typeof window>"u")return;on=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,Th(Ps,this,this._main(on.params))}_main(t,n={}){if(od(Object.assign({},n,t)),Ce.currentInstance){const i=Ao.swalPromiseResolve.get(Ce.currentInstance),{isAwaitingPromise:r}=Ce.currentInstance;Ce.currentInstance._destroy(),r||i({isDismissed:!0}),dr()&&Nu()}Ce.currentInstance=on;const o=cb(t,n);rb(o),Object.freeze(o),Ce.timeout&&(Ce.timeout.stop(),delete Ce.timeout),clearTimeout(Ce.restoreFocusTimeout);const a=ub(on);return Pu(on,o),Ke.innerParams.set(on,o),lb(on,a,o)}then(t){return yl(Ps,this).then(t)}finally(t){return yl(Ps,this).finally(t)}}const lb=(e,t,n)=>new Promise((o,a)=>{const i=r=>{e.close({isDismissed:!0,dismiss:r,isConfirmed:!1,isDenied:!1})};Ao.swalPromiseResolve.set(e,o),Ao.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>{uv(e)},t.denyButton.onclick=()=>{dv(e)},t.cancelButton.onclick=()=>{fv(e,i)},t.closeButton.onclick=()=>{i(No.close)},kv(n,t,i),Hg(Ce,n,i),tv(e,n),tb(n),db(Ce,n,i),fb(t,n),setTimeout(()=>{t.container.scrollTop=0})}),cb=(e,t)=>{const n=Gv(e),o=Object.assign({},ko,t,n,e);return o.showClass=Object.assign({},ko.showClass,o.showClass),o.hideClass=Object.assign({},ko.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},ub=e=>{const t={popup:Ne(),container:At(),actions:ks(),confirmButton:pn(),denyButton:uo(),cancelButton:Mo(),loader:Bo(),closeButton:cr(),validationMessage:Ma(),progressSteps:lr()};return Ke.domCache.set(e,t),t},db=(e,t,n)=>{const o=Ba();xt(o),t.timer&&(e.timeout=new qv(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(dt(o),jt(o,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&pr(t.timer)})))},fb=(e,t)=>{if(!t.toast){if(!Oa(t.allowEnterKey)){yu("allowEnterKey"),hb();return}pb(e)||mb(e,t)||Hi(-1,1)}},pb=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&Ot(n))return n.focus(),!0;return!1},mb=(e,t)=>t.focusDeny&&Ot(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Ot(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&Ot(e.confirmButton)?(e.confirmButton.focus(),!0):!1,hb=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};at.prototype.disableButtons=Xu;at.prototype.enableButtons=Ku;at.prototype.getInput=qu;at.prototype.disableInput=Ju;at.prototype.enableInput=Yu;at.prototype.hideLoading=fa;at.prototype.disableLoading=fa;at.prototype.showValidationMessage=Qu;at.prototype.resetValidationMessage=Zu;at.prototype.close=Nn;at.prototype.closePopup=Nn;at.prototype.closeModal=Nn;at.prototype.closeToast=Nn;at.prototype.rejectPromise=ju;at.prototype.update=sd;at.prototype._destroy=ad;Object.assign(at,zv);Object.keys(_v).forEach(e=>{at[e]=function(...t){return on&&on[e]?on[e](...t):null}});at.DismissReason=No;at.version="11.26.3";const le=at;le.default=le;typeof document<"u"&&(function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const gb={class:"character-state-manager"},vb={class:"form-group"},bb={class:"form-group"},wb=["disabled"],yb={class:"storage-usage"},Cb=["value","max"],xb={class:"storage-text"},_b={class:"state-list"},kb={key:0,class:"empty-list"},Sb={key:1,class:"states-grid"},$b=["onClick"],Db=["src","alt"],Eb={class:"state-title"},Tb=["onClick"],Ab={__name:"CharacterStateManager",setup(e){const t=Pa(),{states:n,selectedStateId:o,isLoading:a}=ws(t),i=Z(""),r=Z(null),l=Z(0),c=Z(50*1024*1024),u=async()=>{l.value=await t.getStorageUsage()};Mt(async()=>{await t.loadStates(),await u()});const f=y=>{const h=y.target.files[0];h&&(r.value=h)},p=async()=>{if(!i.value.trim()||!r.value){le.fire("Error","Por favor, completa todos los campos.","error");return}await t.addState(i.value,r.value),i.value="",r.value=null,document.getElementById("stateImage").value="",await u(),le.fire("xito!","Nuevo estado aadido correctamente.","success")},m=async y=>{await t.setSelectedState(y)},g=async y=>{(await le.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(await t.deleteState(y),await u(),le.fire("Eliminado","El estado ha sido eliminado.","success"))},D=y=>y instanceof Blob?URL.createObjectURL(y):"";return(y,h)=>(C(),x("div",gb,[h[5]||(h[5]=s("h2",{class:"section-title"},"Estados del Personaje",-1)),s("form",{onSubmit:Be(p,["prevent"]),class:"state-form"},[s("div",vb,[h[1]||(h[1]=s("label",{for:"stateTitle",class:"form-label"},"Ttulo del Estado",-1)),z(s("input",{id:"stateTitle","onUpdate:modelValue":h[0]||(h[0]=k=>i.value=k),type:"text",class:"form-control",placeholder:"Ej: Herido, Furioso...",required:""},null,512),[[ee,i.value]])]),s("div",bb,[h[2]||(h[2]=s("label",{for:"stateImage",class:"form-label"},"Imagen del Estado",-1)),s("input",{id:"stateImage",onChange:f,type:"file",class:"form-control",accept:"image/*",required:""},null,32)]),s("button",{type:"submit",class:"btn btn-primary",disabled:Q(a)},B(Q(a)?"Guardando...":"Aadir Estado"),9,wb)],32),s("div",yb,[h[3]||(h[3]=s("h3",{class:"storage-title"},"Uso del Almacenamiento",-1)),s("progress",{value:l.value,max:c.value,class:"storage-bar"},null,8,Cb),s("p",xb,B((l.value/1024/1024).toFixed(2))+" MB / "+B((c.value/1024/1024).toFixed(2))+" MB ",1)]),s("div",_b,[h[4]||(h[4]=s("h3",{class:"list-title"},"Estados Guardados",-1)),Q(n).length===0?(C(),x("div",kb," No hay estados guardados. ")):(C(),x("div",Sb,[(C(!0),x(De,null,Re(Q(n),k=>(C(),x("div",{key:k.id,class:ze(["state-card",{selected:k.id===Q(o)}]),onClick:O=>m(k.id)},[s("img",{src:D(k.image),alt:k.title,class:"state-image"},null,8,Db),s("p",Eb,B(k.title),1),s("button",{onClick:Be(O=>g(k.id),["stop"]),class:"btn-delete"}," Eliminar ",8,Tb)],10,$b))),128))]))])]))}},Ib=ft(Ab,[["__scopeId","data-v-0eb687f8"]]),Hb={class:"character-config-container fade-in"},Rb={class:"config-card"},Pb={class:"form-group"},Ob={class:"form-group"},Mb={class:"form-group"},Bb={class:"form-group"},Nb={key:0,class:"existing-data"},Lb={__name:"CharacterConfigView",setup(e){const t=ys(),n=lo(),o=Z(""),a=Z(50),i=Z(0),r=Z(1),l=Z(!1);Mt(()=>{n.loadData(),n.character.isConfigured&&(l.value=!0,o.value=n.character.name,r.value=n.character.level,a.value=n.character.maxHp,i.value=n.character.regeneration)});const c=()=>{if(!o.value.trim()||a.value<=0){le.fire({icon:"error",title:"Error",text:"Por favor completa todos los campos correctamente"});return}try{n.configureCharacter(o.value.trim(),a.value,i.value,r.value),le.fire({icon:"success",title:"Configuracin Guardada!",text:`${o.value} est listo para la aventura`,showConfirmButton:!0}).then(()=>{t.push("/character")})}catch{le.fire({icon:"error",title:"Error",text:"No se pudo guardar la configuracin"})}},u=()=>{t.push("/character")},f=()=>{le.fire({title:"Ests seguro?",text:"Esto eliminar todos los datos del personaje actual",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(p=>{p.isConfirmed&&(n.clearData(),l.value=!1,o.value="",r.value=1,a.value=50,i.value=0,le.fire({icon:"success",title:"Datos Eliminados",text:"Puedes crear un nuevo personaje"}))})};return(p,m)=>(C(),x("div",Hb,[s("div",Rb,[m[12]||(m[12]=s("h1",{class:"config-title"},"Configuracin del Personaje",-1)),s("form",{onSubmit:Be(c,["prevent"]),class:"config-form"},[s("div",Pb,[m[4]||(m[4]=s("label",{for:"characterName",class:"form-label"},"Nombre del Personaje",-1)),z(s("input",{id:"characterName","onUpdate:modelValue":m[0]||(m[0]=g=>o.value=g),type:"text",class:"form-control",placeholder:"Ej: Gandalf, Aragorn...",required:""},null,512),[[ee,o.value]])]),s("div",Ob,[m[5]||(m[5]=s("label",{for:"level",class:"form-label"},"Nivel del Personaje",-1)),z(s("input",{id:"level","onUpdate:modelValue":m[1]||(m[1]=g=>r.value=g),type:"number",class:"form-control",min:"0",max:"100",placeholder:"Ej: 1",required:""},null,512),[[ee,r.value,void 0,{number:!0}]])]),s("div",Mb,[m[6]||(m[6]=s("label",{for:"maxHp",class:"form-label"},"Puntos de Vida Mximos",-1)),z(s("input",{id:"maxHp","onUpdate:modelValue":m[2]||(m[2]=g=>a.value=g),type:"number",class:"form-control",min:"1",max:"999",placeholder:"Ej: 50",required:""},null,512),[[ee,a.value,void 0,{number:!0}]])]),s("div",Bb,[m[7]||(m[7]=s("label",{for:"regeneration",class:"form-label"},"Regeneracin Pasiva por Turno",-1)),z(s("input",{id:"regeneration","onUpdate:modelValue":m[3]||(m[3]=g=>i.value=g),type:"number",class:"form-control",min:"0",max:"50",placeholder:"Ej: 5 (opcional)"},null,512),[[ee,i.value,void 0,{number:!0}]]),m[8]||(m[8]=s("small",{class:"form-text"},"Deja en 0 si no hay regeneracin",-1))]),m[9]||(m[9]=s("button",{type:"submit",class:"btn btn-primary btn-save"}," Guardar Configuracin ",-1))],32),Xe(Ib),l.value?(C(),x("div",Nb,[m[10]||(m[10]=s("h3",null,"Datos Existentes",-1)),m[11]||(m[11]=s("p",null,"Ya tienes un personaje configurado. Quieres cargarlo o crear uno nuevo?",-1)),s("div",{class:"btn-group"},[s("button",{onClick:u,class:"btn btn-secondary"}," Cargar Existente "),s("button",{onClick:f,class:"btn btn-danger"}," Crear Nuevo ")])])):se("",!0)])]))}},Vb=ft(Lb,[["__scopeId","data-v-dd999632"]]),jb={class:"counter-grid"},Ub={class:"counter-card-header"},Fb={class:"counter-name"},zb=["onClick"],qb=["onClick"],Gb={class:"counter-btns"},Wb=["onClick"],Kb=["onClick"],Xb={class:"counter-values"},Yb={class:"counter-minmax"},Jb={class:"counter-card counter-add-card"},Qb={class:"counter-modal"},Zb={class:"counter-modal-title"},e1={class:"counter-modal-label"},t1={class:"counter-modal-label"},n1={class:"counter-modal-label"},o1={class:"counter-modal-label"},s1={class:"counter-modal-label"},a1={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},i1={class:"counter-modal-label"},r1={style:{display:"flex","align-items":"center","margin-top":"4px","font-size":"0.95em"}},l1={type:"submit",class:"counter-modal-btn"},c1={__name:"CounterManager",setup(e){const t=Cs(),n=gc(t,"counters"),{addCounter:o,updateCounterValue:a,setCounterToMax:i,removeCounter:r}=t,l=Z({name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}),c=Z(!1);function u(){o({name:l.value.name,initial:l.value.initial,min:l.value.min,max:l.value.max,shortRest:l.value.shortRest,shortRestReset:l.value.shortRestReset,longRest:l.value.longRest,longRestReset:l.value.longRestReset}),l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1},c.value=!1}const f=Z(!1);let p=null;function m(y){f.value=!0,p=y.id,l.value={name:y.name,initial:y.value,min:y.min,max:y.max,shortRest:y.shortRest,shortRestReset:y.shortRestReset||!1,longRest:y.longRest,longRestReset:y.longRestReset||!1},c.value=!0}function g(){const y=n.value.findIndex(h=>h.id===p);y!==-1&&(n.value[y].name=l.value.name,n.value[y].min=l.value.min,n.value[y].max=l.value.max,n.value[y].shortRest=l.value.shortRest,n.value[y].shortRestReset=l.value.shortRestReset,n.value[y].longRest=l.value.longRest,n.value[y].longRestReset=l.value.longRestReset,n.value[y].value=l.value.initial),D()}function D(){c.value=!1,f.value=!1,p=null,l.value={name:"",initial:0,min:0,max:10,shortRest:0,shortRestReset:!1,longRest:0,longRestReset:!1}}return(y,h)=>(C(),x("div",null,[h[23]||(h[23]=s("h2",{class:"text-lg font-bold mb-2 title-conter"},"Contadores",-1)),s("div",jb,[(C(!0),x(De,null,Re(n.value,k=>(C(),x("div",{key:k.id,class:"counter-card"},[s("div",Ub,[s("span",Fb,B(k.name),1),s("div",null,[s("button",{onClick:O=>m(k),class:"counter-edit",title:"Editar contador"},h[10]||(h[10]=[s("span",{"aria-label":"Editar"},"",-1)]),8,zb),s("button",{onClick:O=>Q(r)(k.id),class:"counter-remove",title:"Eliminar contador"},h[11]||(h[11]=[s("span",{"aria-label":"Eliminar"},"",-1)]),8,qb)])]),s("div",Gb,[(C(!0),x(De,null,Re(k.buttons,O=>(C(),x("button",{key:O.label,onClick:E=>Q(a)(k.id,O.increment),class:"counter-action-btn"},B(O.label),9,Wb))),128)),s("button",{onClick:O=>Q(i)(k.id),class:"counter-action-btn counter-max-btn"},"Mx",8,Kb)]),s("div",Xb,[s("span",null,[h[12]||(h[12]=X("Valor: ")),s("b",null,B(k.value),1),h[13]||(h[13]=X()),s("span",Yb,"(min: "+B(k.min)+", mx: "+B(k.max)+")",1)])])]))),128)),s("div",Jb,[s("button",{onClick:h[0]||(h[0]=k=>c.value=!0),class:"counter-add-btn",title:"Agregar contador"},h[14]||(h[14]=[s("span",{class:"counter-fab-plus"},"",-1),s("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),c.value?(C(),x("div",{key:0,class:"counter-modal-overlay",onClick:Be(D,["self"])},[s("div",Qb,[s("button",{onClick:D,class:"counter-modal-close"},""),s("form",{onSubmit:h[9]||(h[9]=Be(k=>f.value?g():u(),["prevent"]))},[s("h3",Zb,B(f.value?"Editar contador":"Nuevo contador"),1),s("label",e1,[h[15]||(h[15]=X(" Nombre ")),z(s("input",{"onUpdate:modelValue":h[1]||(h[1]=k=>l.value.name=k),placeholder:"Ej: Furias",class:"counter-modal-input",required:""},null,512),[[ee,l.value.name]])]),s("label",t1,[h[16]||(h[16]=X(" Valor inicial ")),z(s("input",{"onUpdate:modelValue":h[2]||(h[2]=k=>l.value.initial=k),type:"number",placeholder:"Ej: 3",class:"counter-modal-input",required:""},null,512),[[ee,l.value.initial,void 0,{number:!0}]])]),s("label",n1,[h[17]||(h[17]=X(" Valor mnimo ")),z(s("input",{"onUpdate:modelValue":h[3]||(h[3]=k=>l.value.min=k),type:"number",placeholder:"Ej: 0",class:"counter-modal-input",required:""},null,512),[[ee,l.value.min,void 0,{number:!0}]])]),s("label",o1,[h[18]||(h[18]=X(" Valor mximo ")),z(s("input",{"onUpdate:modelValue":h[4]||(h[4]=k=>l.value.max=k),type:"number",placeholder:"Ej: 5",class:"counter-modal-input",required:""},null,512),[[ee,l.value.max,void 0,{number:!0}]])]),s("label",s1,[h[20]||(h[20]=X(" Recarga por descanso corto ")),z(s("input",{"onUpdate:modelValue":h[5]||(h[5]=k=>l.value.shortRest=k),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[ee,l.value.shortRest,void 0,{number:!0}]]),s("label",a1,[z(s("input",{type:"checkbox","onUpdate:modelValue":h[6]||(h[6]=k=>l.value.shortRestReset=k),style:{"margin-right":"6px"}},null,512),[[Zo,l.value.shortRestReset]]),h[19]||(h[19]=X(" Reset al valor introducido "))])]),s("label",i1,[h[22]||(h[22]=X(" Recarga por descanso largo ")),z(s("input",{"onUpdate:modelValue":h[7]||(h[7]=k=>l.value.longRest=k),type:"number",placeholder:"Ej: 0",class:"counter-modal-input"},null,512),[[ee,l.value.longRest,void 0,{number:!0}]]),s("label",r1,[z(s("input",{type:"checkbox","onUpdate:modelValue":h[8]||(h[8]=k=>l.value.longRestReset=k),style:{"margin-right":"6px"}},null,512),[[Zo,l.value.longRestReset]]),h[21]||(h[21]=X(" Reset al valor introducido "))])]),s("button",l1,B(f.value?"Guardar cambios":"Agregar"),1)],32)])])):se("",!0)]))}},u1=ft(c1,[["__scopeId","data-v-fb731789"]]),d1={class:"state-grid"},f1={class:"state-card-header"},p1={class:"state-name"},m1=["onClick"],h1=["onClick"],g1={key:0,class:"state-link"},v1=["onClick","disabled","title"],b1={class:"state-card state-add-card"},w1={class:"dnd-modal"},y1={class:"dnd-modal-title"},C1={class:"dnd-modal-label"},x1={class:"dnd-modal-label"},_1=["value"],k1={class:"dnd-modal-label"},S1={class:"dnd-modal-label"},$1={type:"submit",class:"dnd-modal-btn"},D1={__name:"StateManager",setup(e){const t=Cs(),{states:n,addState:o,activateState:a,removeState:i,counters:r,updateCounterValue:l}=t,c=Z(!1),u=Z({name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"});function f(E){t.toggleStateActive(E.id)}function p(){o({name:u.value.name,linkedCounterId:u.value.linkedCounterId||null,discountOnActivate:u.value.discountOnActivate,discountType:u.value.discountType}),u.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"},c.value=!1}function m(E){if(!E.linkedCounterId)return!0;const I=r.find(ie=>ie.id===E.linkedCounterId);if(!I)return!1;const L=Math.abs(E.discountOnActivate||1);return!(E.discountType==="resta"&&I.value-L<I.min)}function g(E){const I=r.find(L=>L.id===E);return I?I.name:"Desconocido"}const D=Z(!1);let y=null;function h(E){D.value=!0,y=E.id,u.value={name:E.name,linkedCounterId:E.linkedCounterId||"",discountOnActivate:E.discountOnActivate,discountType:E.discountType||"resta"},c.value=!0}function k(){const E=n.findIndex(I=>I.id===y);E!==-1&&(n[E].name=u.value.name,n[E].linkedCounterId=u.value.linkedCounterId||null,n[E].discountOnActivate=u.value.discountOnActivate,n[E].discountType=u.value.discountType),O()}function O(){c.value=!1,D.value=!1,y=null,u.value={name:"",linkedCounterId:"",discountOnActivate:0,discountType:"resta"}}return(E,I)=>(C(),x("div",null,[I[16]||(I[16]=s("h2",{class:"title-state"},"Estados",-1)),s("div",d1,[(C(!0),x(De,null,Re(Q(n),L=>(C(),x("div",{key:L.id,class:ze(["state-card","dnd-theme-card",L.active?"active-state":""])},[s("div",f1,[s("span",p1,B(L.name),1),s("div",null,[s("button",{onClick:ie=>h(L),class:"state-edit",title:"Editar estado"},I[6]||(I[6]=[s("span",{"aria-label":"Editar"},"",-1)]),8,m1),s("button",{onClick:ie=>Q(i)(L.id),class:"state-remove",title:"Eliminar estado"},I[7]||(I[7]=[s("span",{"aria-label":"Eliminar"},"",-1)]),8,h1)])]),L.linkedCounterId?(C(),x("div",g1,[s("span",null,[I[8]||(I[8]=X("Vinculado a: ")),s("b",null,B(g(L.linkedCounterId)),1),X(" (desc. "+B(L.discountOnActivate)+")",1)])])):se("",!0),s("button",{onClick:ie=>f(L),class:ze(["state-activate","dnd-theme-btn",L.active?"active-btn":""]),disabled:!L.active&&L.linkedCounterId&&!m(L),title:!L.active&&L.linkedCounterId&&!m(L)?"No quedan usos en el contador vinculado":""},B(L.active?"Desactivar":"Activar"),11,v1)],2))),128)),s("div",b1,[s("button",{onClick:I[0]||(I[0]=L=>c.value=!0),class:"state-add-btn",title:"Agregar estado"},I[9]||(I[9]=[s("span",{class:"state-fab-plus"},"",-1),s("span",{style:{display:"block","font-size":"1rem","margin-top":"0.3rem"}},"Nuevo",-1)]))])]),c.value?(C(),x("div",{key:0,class:"dnd-modal-overlay",onClick:Be(O,["self"])},[s("div",w1,[s("button",{onClick:O,class:"dnd-modal-close"},""),s("form",{onSubmit:I[5]||(I[5]=Be(L=>D.value?k():p(),["prevent"]))},[s("h3",y1,B(D.value?"Editar Estado":"Nuevo Estado"),1),s("label",C1,[I[10]||(I[10]=X(" Nombre del estado ")),z(s("input",{"onUpdate:modelValue":I[1]||(I[1]=L=>u.value.name=L),placeholder:"Ej: Furia",class:"dnd-modal-input",required:""},null,512),[[ee,u.value.name]])]),s("label",x1,[I[12]||(I[12]=X(" Vincular a contador ")),z(s("select",{"onUpdate:modelValue":I[2]||(I[2]=L=>u.value.linkedCounterId=L),class:"dnd-modal-input"},[I[11]||(I[11]=s("option",{value:""},"Sin vincular",-1)),(C(!0),x(De,null,Re(Q(r),L=>(C(),x("option",{key:L.id,value:L.id},B(L.name),9,_1))),128))],512),[[gt,u.value.linkedCounterId]])]),s("label",k1,[I[13]||(I[13]=X(" Descuento al activar ")),z(s("input",{"onUpdate:modelValue":I[3]||(I[3]=L=>u.value.discountOnActivate=L),type:"number",placeholder:"Ej: 1",class:"dnd-modal-input"},null,512),[[ee,u.value.discountOnActivate,void 0,{number:!0}]])]),s("label",S1,[I[15]||(I[15]=X(" Tipo de descuento ")),z(s("select",{"onUpdate:modelValue":I[4]||(I[4]=L=>u.value.discountType=L),class:"dnd-modal-input"},I[14]||(I[14]=[s("option",{value:"resta"},"Resta",-1),s("option",{value:"suma"},"Suma",-1)]),512),[[gt,u.value.discountType]])]),s("button",$1,B(D.value?"Guardar cambios":"Crear Estado"),1)],32)])])):se("",!0)]))}},E1=ft(D1,[["__scopeId","data-v-7c64964a"]]);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Il(Object(n),!0).forEach(function(o){T1(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function qs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qs=function(t){return typeof t}:qs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function T1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(){return Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Sn.apply(this,arguments)}function A1(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,i;for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function I1(e,t){if(e==null)return{};var n=A1(e,t),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)o=i[a],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var H1="1.15.6";function kn(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Dn=kn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Es=kn(/Edge/i),Hl=kn(/firefox/i),ns=kn(/safari/i)&&!kn(/chrome/i)&&!kn(/android/i),wr=kn(/iP(ad|od|hone)/i),dd=kn(/chrome/i)&&kn(/android/i),fd={capture:!1,passive:!1};function Pe(e,t,n){e.addEventListener(t,n,!Dn&&fd)}function He(e,t,n){e.removeEventListener(t,n,!Dn&&fd)}function ha(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function pd(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Jt(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ha(e,t):ha(e,t))||o&&e===n)return e;if(e===n)break}while(e=pd(e))}return null}var Rl=/\s+/g;function Bt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Rl," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Rl," ")}}function Se(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function So(e,t){var n="";if(typeof e=="string")n=e;else do{var o=Se(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function md(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,i=o.length;if(n)for(;a<i;a++)n(o[a],a);return o}return[]}function un(){var e=document.scrollingElement;return e||document.documentElement}function rt(e,t,n,o,a){if(!(!e.getBoundingClientRect&&e!==window)){var i,r,l,c,u,f,p;if(e!==window&&e.parentNode&&e!==un()?(i=e.getBoundingClientRect(),r=i.top,l=i.left,c=i.bottom,u=i.right,f=i.height,p=i.width):(r=0,l=0,c=window.innerHeight,u=window.innerWidth,f=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!Dn))do if(a&&a.getBoundingClientRect&&(Se(a,"transform")!=="none"||n&&Se(a,"position")!=="static")){var m=a.getBoundingClientRect();r-=m.top+parseInt(Se(a,"border-top-width")),l-=m.left+parseInt(Se(a,"border-left-width")),c=r+i.height,u=l+i.width;break}while(a=a.parentNode);if(o&&e!==window){var g=So(a||e),D=g&&g.a,y=g&&g.d;g&&(r/=y,l/=D,p/=D,f/=y,c=r+f,u=l+p)}return{top:r,left:l,bottom:c,right:u,width:p,height:f}}}function Pl(e,t,n){for(var o=Ln(e,!0),a=rt(e)[t];o;){var i=rt(o)[n],r=void 0;if(r=a>=i,!r)return o;if(o===un())break;o=Ln(o,!1)}return!1}function Ho(e,t,n,o){for(var a=0,i=0,r=e.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==ke.ghost&&(o||r[i]!==ke.dragged)&&Jt(r[i],n.draggable,e,!1)){if(a===t)return r[i];a++}i++}return null}function yr(e,t){for(var n=e.lastElementChild;n&&(n===ke.ghost||Se(n,"display")==="none"||t&&!ha(n,t));)n=n.previousElementSibling;return n||null}function qt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==ke.clone&&(!t||ha(e,t))&&n++;return n}function Ol(e){var t=0,n=0,o=un();if(e)do{var a=So(e),i=a.a,r=a.d;t+=e.scrollLeft*i,n+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[t,n]}function R1(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function Ln(e,t){if(!e||!e.getBoundingClientRect)return un();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=Se(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return un();if(o||t)return n;o=!0}}while(n=n.parentNode);return un()}function P1(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ii(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var os;function hd(e,t){return function(){if(!os){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),os=setTimeout(function(){os=void 0},t)}}}function O1(){clearTimeout(os),os=void 0}function gd(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function vd(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function bd(e,t,n){var o={};return Array.from(e.children).forEach(function(a){var i,r,l,c;if(!(!Jt(a,t.draggable,e,!1)||a.animated||a===n)){var u=rt(a);o.left=Math.min((i=o.left)!==null&&i!==void 0?i:1/0,u.left),o.top=Math.min((r=o.top)!==null&&r!==void 0?r:1/0,u.top),o.right=Math.max((l=o.right)!==null&&l!==void 0?l:-1/0,u.right),o.bottom=Math.max((c=o.bottom)!==null&&c!==void 0?c:-1/0,u.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var Rt="Sortable"+new Date().getTime();function M1(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(Se(a,"display")==="none"||a===ke.ghost)){e.push({target:a,rect:rt(a)});var i=mn({},e[e.length-1].rect);if(a.thisAnimationDuration){var r=So(a,!0);r&&(i.top-=r.f,i.left-=r.e)}a.fromRect=i}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(R1(e,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var i=!1,r=0;e.forEach(function(l){var c=0,u=l.target,f=u.fromRect,p=rt(u),m=u.prevFromRect,g=u.prevToRect,D=l.rect,y=So(u,!0);y&&(p.top-=y.f,p.left-=y.e),u.toRect=p,u.thisAnimationDuration&&ii(m,p)&&!ii(f,p)&&(D.top-p.top)/(D.left-p.left)===(f.top-p.top)/(f.left-p.left)&&(c=N1(D,m,g,a.options)),ii(p,f)||(u.prevFromRect=f,u.prevToRect=p,c||(c=a.options.animation),a.animate(u,D,p,c)),c&&(i=!0,r=Math.max(r,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(t),i?t=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),e=[]},animate:function(o,a,i,r){if(r){Se(o,"transition",""),Se(o,"transform","");var l=So(this.el),c=l&&l.a,u=l&&l.d,f=(a.left-i.left)/(c||1),p=(a.top-i.top)/(u||1);o.animatingX=!!f,o.animatingY=!!p,Se(o,"transform","translate3d("+f+"px,"+p+"px,0)"),this.forRepaintDummy=B1(o),Se(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),Se(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Se(o,"transition",""),Se(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function B1(e){return e.offsetWidth}function N1(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var mo=[],ri={initializeByDefault:!0},Ts={mount:function(t){for(var n in ri)ri.hasOwnProperty(n)&&!(n in t)&&(t[n]=ri[n]);mo.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),mo.push(t)},pluginEvent:function(t,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var i=t+"Global";mo.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][i]&&n[r.pluginName][i](mn({sortable:n},o)),n.options[r.pluginName]&&n[r.pluginName][t]&&n[r.pluginName][t](mn({sortable:n},o)))})},initializePlugins:function(t,n,o,a){mo.forEach(function(l){var c=l.pluginName;if(!(!t.options[c]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[c]=u,Sn(o,u.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var r=this.modifyOption(t,i,t.options[i]);typeof r<"u"&&(t.options[i]=r)}},getEventProperties:function(t,n){var o={};return mo.forEach(function(a){typeof a.eventProperties=="function"&&Sn(o,a.eventProperties.call(n[a.pluginName],t))}),o},modifyOption:function(t,n,o){var a;return mo.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(a=i.optionListeners[n].call(t[i.pluginName],o))}),a}};function L1(e){var t=e.sortable,n=e.rootEl,o=e.name,a=e.targetEl,i=e.cloneEl,r=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,f=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,D=e.extraEventProperties;if(t=t||n&&n[Rt],!!t){var y,h=t.options,k="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Dn&&!Es?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=r||n,y.from=l||n,y.item=a||n,y.clone=i,y.oldIndex=c,y.newIndex=u,y.oldDraggableIndex=f,y.newDraggableIndex=p,y.originalEvent=m,y.pullMode=g?g.lastPutMode:void 0;var O=mn(mn({},D),Ts.getEventProperties(o,t));for(var E in O)y[E]=O[E];n&&n.dispatchEvent(y),h[k]&&h[k].call(t,y)}}var V1=["evt"],Ht=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,i=I1(o,V1);Ts.pluginEvent.bind(ke)(t,n,mn({dragEl:oe,parentEl:tt,ghostEl:Ee,rootEl:Ye,nextEl:Zn,lastDownEl:Gs,cloneEl:Ze,cloneHidden:Mn,dragStarted:zo,putSortable:mt,activeSortable:ke.active,originalEvent:a,oldIndex:wo,oldDraggableIndex:ss,newIndex:Lt,newDraggableIndex:Pn,hideGhostForTarget:xd,unhideGhostForTarget:_d,cloneNowHidden:function(){Mn=!0},cloneNowShown:function(){Mn=!1},dispatchSortableEvent:function(l){St({sortable:n,name:l,originalEvent:a})}},i))};function St(e){L1(mn({putSortable:mt,cloneEl:Ze,targetEl:oe,rootEl:Ye,oldIndex:wo,oldDraggableIndex:ss,newIndex:Lt,newDraggableIndex:Pn},e))}var oe,tt,Ee,Ye,Zn,Gs,Ze,Mn,wo,Lt,ss,Pn,Os,mt,bo=!1,ga=!1,va=[],Yn,Yt,li,ci,Ml,Bl,zo,ho,as,is=!1,Ms=!1,Ws,bt,ui=[],Pi=!1,ba=[],Va=typeof document<"u",Bs=wr,Nl=Es||Dn?"cssFloat":"float",j1=Va&&!dd&&!wr&&"draggable"in document.createElement("div"),wd=(function(){if(Va){if(Dn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),yd=function(t,n){var o=Se(t),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=Ho(t,0,n),r=Ho(t,1,n),l=i&&Se(i),c=r&&Se(r),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+rt(i).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+rt(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var p=l.float==="left"?"left":"right";return r&&(c.clear==="both"||c.clear===p)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&o[Nl]==="none"||r&&o[Nl]==="none"&&u+f>a)?"vertical":"horizontal"},U1=function(t,n,o){var a=o?t.left:t.top,i=o?t.right:t.bottom,r=o?t.width:t.height,l=o?n.left:n.top,c=o?n.right:n.bottom,u=o?n.width:n.height;return a===l||i===c||a+r/2===l+u/2},F1=function(t,n){var o;return va.some(function(a){var i=a[Rt].options.emptyInsertThreshold;if(!(!i||yr(a))){var r=rt(a),l=t>=r.left-i&&t<=r.right+i,c=n>=r.top-i&&n<=r.bottom+i;if(l&&c)return o=a}}),o},Cd=function(t){function n(i,r){return function(l,c,u,f){var p=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(i==null&&(r||p))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return n(i(l,c,u,f),r)(l,c,u,f);var m=(r?l:c).options.group.name;return i===!0||typeof i=="string"&&i===m||i.join&&i.indexOf(m)>-1}}var o={},a=t.group;(!a||qs(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,t.group=o},xd=function(){!wd&&Ee&&Se(Ee,"display","none")},_d=function(){!wd&&Ee&&Se(Ee,"display","")};Va&&!dd&&document.addEventListener("click",function(e){if(ga)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ga=!1,!1},!0);var Jn=function(t){if(oe){t=t.touches?t.touches[0]:t;var n=F1(t.clientX,t.clientY);if(n){var o={};for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Rt]._onDragOver(o)}}},z1=function(t){oe&&oe.parentNode[Rt]._isOutsideThisEl(t.target)};function ke(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Sn({},t),e[Rt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yd(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ke.supportPointer!==!1&&"PointerEvent"in window&&(!ns||wr),emptyInsertThreshold:5};Ts.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Cd(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:j1,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Pe(e,"pointerdown",this._onTapStart):(Pe(e,"mousedown",this._onTapStart),Pe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pe(e,"dragover",this),Pe(e,"dragenter",this)),va.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Sn(this,M1())}ke.prototype={constructor:ke,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(ho=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,oe):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,a=this.options,i=a.preventOnFilter,r=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,f=a.filter;if(Q1(o),!oe&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&ns&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Jt(c,a.draggable,o,!1),!(c&&c.animated)&&Gs!==c)){if(wo=qt(c),ss=qt(c,a.draggable),typeof f=="function"){if(f.call(this,t,c,this)){St({sortable:n,rootEl:u,name:"filter",targetEl:c,toEl:o,fromEl:o}),Ht("filter",n,{evt:t}),i&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(p){if(p=Jt(u,p.trim(),o,!1),p)return St({sortable:n,rootEl:p,name:"filter",targetEl:c,fromEl:o,toEl:o}),Ht("filter",n,{evt:t}),!0}),f)){i&&t.preventDefault();return}a.handle&&!Jt(u,a.handle,o,!1)||this._prepareDragStart(t,l,c)}}},_prepareDragStart:function(t,n,o){var a=this,i=a.el,r=a.options,l=i.ownerDocument,c;if(o&&!oe&&o.parentNode===i){var u=rt(o);if(Ye=i,oe=o,tt=oe.parentNode,Zn=oe.nextSibling,Gs=o,Os=r.group,ke.dragged=oe,Yn={target:oe,clientX:(n||t).clientX,clientY:(n||t).clientY},Ml=Yn.clientX-u.left,Bl=Yn.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,oe.style["will-change"]="all",c=function(){if(Ht("delayEnded",a,{evt:t}),ke.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Hl&&a.nativeDraggable&&(oe.draggable=!0),a._triggerDragStart(t,n),St({sortable:a,name:"choose",originalEvent:t}),Bt(oe,r.chosenClass,!0)},r.ignore.split(",").forEach(function(f){md(oe,f.trim(),di)}),Pe(l,"dragover",Jn),Pe(l,"mousemove",Jn),Pe(l,"touchmove",Jn),r.supportPointer?(Pe(l,"pointerup",a._onDrop),!this.nativeDraggable&&Pe(l,"pointercancel",a._onDrop)):(Pe(l,"mouseup",a._onDrop),Pe(l,"touchend",a._onDrop),Pe(l,"touchcancel",a._onDrop)),Hl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),Ht("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Es||Dn))){if(ke.eventCanceled){this._onDrop();return}r.supportPointer?(Pe(l,"pointerup",a._disableDelayedDrag),Pe(l,"pointercancel",a._disableDelayedDrag)):(Pe(l,"mouseup",a._disableDelayedDrag),Pe(l,"touchend",a._disableDelayedDrag),Pe(l,"touchcancel",a._disableDelayedDrag)),Pe(l,"mousemove",a._delayedDragTouchMoveHandler),Pe(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&Pe(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,r.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&di(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;He(t,"mouseup",this._disableDelayedDrag),He(t,"touchend",this._disableDelayedDrag),He(t,"touchcancel",this._disableDelayedDrag),He(t,"pointerup",this._disableDelayedDrag),He(t,"pointercancel",this._disableDelayedDrag),He(t,"mousemove",this._delayedDragTouchMoveHandler),He(t,"touchmove",this._delayedDragTouchMoveHandler),He(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Pe(document,"pointermove",this._onTouchMove):n?Pe(document,"touchmove",this._onTouchMove):Pe(document,"mousemove",this._onTouchMove):(Pe(oe,"dragend",this),Pe(Ye,"dragstart",this._onDragStart));try{document.selection?Ks(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(bo=!1,Ye&&oe){Ht("dragStarted",this,{evt:n}),this.nativeDraggable&&Pe(document,"dragover",z1);var o=this.options;!t&&Bt(oe,o.dragClass,!1),Bt(oe,o.ghostClass,!0),ke.active=this,t&&this._appendGhost(),St({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Yt){this._lastX=Yt.clientX,this._lastY=Yt.clientY,xd();for(var t=document.elementFromPoint(Yt.clientX,Yt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Yt.clientX,Yt.clientY),t!==n);)n=t;if(oe.parentNode[Rt]._isOutsideThisEl(t),n)do{if(n[Rt]){var o=void 0;if(o=n[Rt]._onDragOver({clientX:Yt.clientX,clientY:Yt.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=pd(n));_d()}},_onTouchMove:function(t){if(Yn){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,i=t.touches?t.touches[0]:t,r=Ee&&So(Ee,!0),l=Ee&&r&&r.a,c=Ee&&r&&r.d,u=Bs&&bt&&Ol(bt),f=(i.clientX-Yn.clientX+a.x)/(l||1)+(u?u[0]-ui[0]:0)/(l||1),p=(i.clientY-Yn.clientY+a.y)/(c||1)+(u?u[1]-ui[1]:0)/(c||1);if(!ke.active&&!bo){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(Ee){r?(r.e+=f-(li||0),r.f+=p-(ci||0)):r={a:1,b:0,c:0,d:1,e:f,f:p};var m="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");Se(Ee,"webkitTransform",m),Se(Ee,"mozTransform",m),Se(Ee,"msTransform",m),Se(Ee,"transform",m),li=f,ci=p,Yt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ee){var t=this.options.fallbackOnBody?document.body:Ye,n=rt(oe,!0,Bs,!0,t),o=this.options;if(Bs){for(bt=t;Se(bt,"position")==="static"&&Se(bt,"transform")==="none"&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=un()),n.top+=bt.scrollTop,n.left+=bt.scrollLeft):bt=un(),ui=Ol(bt)}Ee=oe.cloneNode(!0),Bt(Ee,o.ghostClass,!1),Bt(Ee,o.fallbackClass,!0),Bt(Ee,o.dragClass,!0),Se(Ee,"transition",""),Se(Ee,"transform",""),Se(Ee,"box-sizing","border-box"),Se(Ee,"margin",0),Se(Ee,"top",n.top),Se(Ee,"left",n.left),Se(Ee,"width",n.width),Se(Ee,"height",n.height),Se(Ee,"opacity","0.8"),Se(Ee,"position",Bs?"absolute":"fixed"),Se(Ee,"zIndex","100000"),Se(Ee,"pointerEvents","none"),ke.ghost=Ee,t.appendChild(Ee),Se(Ee,"transform-origin",Ml/parseInt(Ee.style.width)*100+"% "+Bl/parseInt(Ee.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,a=t.dataTransfer,i=o.options;if(Ht("dragStart",this,{evt:t}),ke.eventCanceled){this._onDrop();return}Ht("setupClone",this),ke.eventCanceled||(Ze=vd(oe),Ze.removeAttribute("id"),Ze.draggable=!1,Ze.style["will-change"]="",this._hideClone(),Bt(Ze,this.options.chosenClass,!1),ke.clone=Ze),o.cloneId=Ks(function(){Ht("clone",o),!ke.eventCanceled&&(o.options.removeCloneOnHide||Ye.insertBefore(Ze,oe),o._hideClone(),St({sortable:o,name:"clone"}))}),!n&&Bt(oe,i.dragClass,!0),n?(ga=!0,o._loopId=setInterval(o._emulateDragOver,50)):(He(document,"mouseup",o._onDrop),He(document,"touchend",o._onDrop),He(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(o,a,oe)),Pe(document,"drop",o),Se(oe,"transform","translateZ(0)")),bo=!0,o._dragStartId=Ks(o._dragStarted.bind(o,n,t)),Pe(document,"selectstart",o),zo=!0,window.getSelection().removeAllRanges(),ns&&Se(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,a,i,r,l=this.options,c=l.group,u=ke.active,f=Os===c,p=l.sort,m=mt||u,g,D=this,y=!1;if(Pi)return;function h(ve,q){Ht(ve,D,mn({evt:t,isOwner:f,axis:g?"vertical":"horizontal",revert:r,dragRect:a,targetRect:i,canSort:p,fromSortable:m,target:o,completed:O,onMove:function(re,J){return Ns(Ye,n,oe,a,re,rt(re),t,J)},changed:E},q))}function k(){h("dragOverAnimationCapture"),D.captureAnimationState(),D!==m&&m.captureAnimationState()}function O(ve){return h("dragOverCompleted",{insertion:ve}),ve&&(f?u._hideClone():u._showClone(D),D!==m&&(Bt(oe,mt?mt.options.ghostClass:u.options.ghostClass,!1),Bt(oe,l.ghostClass,!0)),mt!==D&&D!==ke.active?mt=D:D===ke.active&&mt&&(mt=null),m===D&&(D._ignoreWhileAnimating=o),D.animateAll(function(){h("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(o===oe&&!oe.animated||o===n&&!o.animated)&&(ho=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(oe.parentNode[Rt]._isOutsideThisEl(t.target),!ve&&Jn(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function E(){Lt=qt(oe),Pn=qt(oe,l.draggable),St({sortable:D,name:"change",toEl:n,newIndex:Lt,newDraggableIndex:Pn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=Jt(o,l.draggable,n,!0),h("dragOver"),ke.eventCanceled)return y;if(oe.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||D._ignoreWhileAnimating===o)return O(!1);if(ga=!1,u&&!l.disabled&&(f?p||(r=tt!==Ye):mt===this||(this.lastPutMode=Os.checkPull(this,u,oe,t))&&c.checkPut(this,u,oe,t))){if(g=this._getDirection(t,o)==="vertical",a=rt(oe),h("dragOverValid"),ke.eventCanceled)return y;if(r)return tt=Ye,k(),this._hideClone(),h("revert"),ke.eventCanceled||(Zn?Ye.insertBefore(oe,Zn):Ye.appendChild(oe)),O(!0);var I=yr(n,l.draggable);if(!I||K1(t,g,this)&&!I.animated){if(I===oe)return O(!1);if(I&&n===t.target&&(o=I),o&&(i=rt(o)),Ns(Ye,n,oe,a,o,i,t,!!o)!==!1)return k(),I&&I.nextSibling?n.insertBefore(oe,I.nextSibling):n.appendChild(oe),tt=n,E(),O(!0)}else if(I&&W1(t,g,this)){var L=Ho(n,0,l,!0);if(L===oe)return O(!1);if(o=L,i=rt(o),Ns(Ye,n,oe,a,o,i,t,!1)!==!1)return k(),n.insertBefore(oe,L),tt=n,E(),O(!0)}else if(o.parentNode===n){i=rt(o);var ie=0,pe,de=oe.parentNode!==n,N=!U1(oe.animated&&oe.toRect||a,o.animated&&o.toRect||i,g),T=g?"top":"left",H=Pl(o,"top","top")||Pl(oe,"top","top"),$=H?H.scrollTop:void 0;ho!==o&&(pe=i[T],is=!1,Ms=!N&&l.invertSwap||de),ie=X1(t,o,i,g,N?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ms,ho===o);var _;if(ie!==0){var V=qt(oe);do V-=ie,_=tt.children[V];while(_&&(Se(_,"display")==="none"||_===Ee))}if(ie===0||_===o)return O(!1);ho=o,as=ie;var be=o.nextElementSibling,K=!1;K=ie===1;var W=Ns(Ye,n,oe,a,o,i,t,K);if(W!==!1)return(W===1||W===-1)&&(K=W===1),Pi=!0,setTimeout(G1,30),k(),K&&!be?n.appendChild(oe):o.parentNode.insertBefore(oe,K?be:o),H&&gd(H,0,$-H.scrollTop),tt=oe.parentNode,pe!==void 0&&!Ms&&(Ws=Math.abs(pe-rt(o)[T])),E(),O(!0)}if(n.contains(oe))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){He(document,"mousemove",this._onTouchMove),He(document,"touchmove",this._onTouchMove),He(document,"pointermove",this._onTouchMove),He(document,"dragover",Jn),He(document,"mousemove",Jn),He(document,"touchmove",Jn)},_offUpEvents:function(){var t=this.el.ownerDocument;He(t,"mouseup",this._onDrop),He(t,"touchend",this._onDrop),He(t,"pointerup",this._onDrop),He(t,"pointercancel",this._onDrop),He(t,"touchcancel",this._onDrop),He(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(Lt=qt(oe),Pn=qt(oe,o.draggable),Ht("drop",this,{evt:t}),tt=oe&&oe.parentNode,Lt=qt(oe),Pn=qt(oe,o.draggable),ke.eventCanceled){this._nulling();return}bo=!1,Ms=!1,is=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Oi(this.cloneId),Oi(this._dragStartId),this.nativeDraggable&&(He(document,"drop",this),He(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ns&&Se(document.body,"user-select",""),Se(oe,"transform",""),t&&(zo&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),(Ye===tt||mt&&mt.lastPutMode!=="clone")&&Ze&&Ze.parentNode&&Ze.parentNode.removeChild(Ze),oe&&(this.nativeDraggable&&He(oe,"dragend",this),di(oe),oe.style["will-change"]="",zo&&!bo&&Bt(oe,mt?mt.options.ghostClass:this.options.ghostClass,!1),Bt(oe,this.options.chosenClass,!1),St({sortable:this,name:"unchoose",toEl:tt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ye!==tt?(Lt>=0&&(St({rootEl:tt,name:"add",toEl:tt,fromEl:Ye,originalEvent:t}),St({sortable:this,name:"remove",toEl:tt,originalEvent:t}),St({rootEl:tt,name:"sort",toEl:tt,fromEl:Ye,originalEvent:t}),St({sortable:this,name:"sort",toEl:tt,originalEvent:t})),mt&&mt.save()):Lt!==wo&&Lt>=0&&(St({sortable:this,name:"update",toEl:tt,originalEvent:t}),St({sortable:this,name:"sort",toEl:tt,originalEvent:t})),ke.active&&((Lt==null||Lt===-1)&&(Lt=wo,Pn=ss),St({sortable:this,name:"end",toEl:tt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ht("nulling",this),Ye=oe=tt=Ee=Zn=Ze=Gs=Mn=Yn=Yt=zo=Lt=Pn=wo=ss=ho=as=mt=Os=ke.dragged=ke.ghost=ke.clone=ke.active=null,ba.forEach(function(t){t.checked=!0}),ba.length=li=ci=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":oe&&(this._onDragOver(t),q1(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,a=0,i=o.length,r=this.options;a<i;a++)n=o[a],Jt(n,r.draggable,this.el,!1)&&t.push(n.getAttribute(r.dataIdAttr)||J1(n));return t},sort:function(t,n){var o={},a=this.el;this.toArray().forEach(function(i,r){var l=a.children[r];Jt(l,this.options.draggable,a,!1)&&(o[i]=l)},this),n&&this.captureAnimationState(),t.forEach(function(i){o[i]&&(a.removeChild(o[i]),a.appendChild(o[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Jt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var a=Ts.modifyOption(this,t,n);typeof a<"u"?o[t]=a:o[t]=n,t==="group"&&Cd(o)},destroy:function(){Ht("destroy",this);var t=this.el;t[Rt]=null,He(t,"mousedown",this._onTapStart),He(t,"touchstart",this._onTapStart),He(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(He(t,"dragover",this),He(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),va.splice(va.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Mn){if(Ht("hideClone",this),ke.eventCanceled)return;Se(Ze,"display","none"),this.options.removeCloneOnHide&&Ze.parentNode&&Ze.parentNode.removeChild(Ze),Mn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Mn){if(Ht("showClone",this),ke.eventCanceled)return;oe.parentNode==Ye&&!this.options.group.revertClone?Ye.insertBefore(Ze,oe):Zn?Ye.insertBefore(Ze,Zn):Ye.appendChild(Ze),this.options.group.revertClone&&this.animate(oe,Ze),Se(Ze,"display",""),Mn=!1}}};function q1(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ns(e,t,n,o,a,i,r,l){var c,u=e[Rt],f=u.options.onMove,p;return window.CustomEvent&&!Dn&&!Es?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=o,c.related=a||t,c.relatedRect=i||rt(t),c.willInsertAfter=l,c.originalEvent=r,e.dispatchEvent(c),f&&(p=f.call(u,c,r)),p}function di(e){e.draggable=!1}function G1(){Pi=!1}function W1(e,t,n){var o=rt(Ho(n.el,0,n.options,!0)),a=bd(n.el,n.options,Ee),i=10;return t?e.clientX<a.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<a.top-i||e.clientY<o.bottom&&e.clientX<o.left}function K1(e,t,n){var o=rt(yr(n.el,n.options.draggable)),a=bd(n.el,n.options,Ee),i=10;return t?e.clientX>a.right+i||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>a.bottom+i||e.clientX>o.right&&e.clientY>o.top}function X1(e,t,n,o,a,i,r,l){var c=o?e.clientY:e.clientX,u=o?n.height:n.width,f=o?n.top:n.left,p=o?n.bottom:n.right,m=!1;if(!r){if(l&&Ws<u*a){if(!is&&(as===1?c>f+u*i/2:c<p-u*i/2)&&(is=!0),is)m=!0;else if(as===1?c<f+Ws:c>p-Ws)return-as}else if(c>f+u*(1-a)/2&&c<p-u*(1-a)/2)return Y1(t)}return m=m||r,m&&(c<f+u*i/2||c>p-u*i/2)?c>f+u/2?1:-1:0}function Y1(e){return qt(oe)<qt(e)?1:-1}function J1(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Q1(e){ba.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&ba.push(o)}}function Ks(e){return setTimeout(e,0)}function Oi(e){return clearTimeout(e)}Va&&Pe(document,"touchmove",function(e){(ke.active||bo)&&e.cancelable&&e.preventDefault()});ke.utils={on:Pe,off:He,css:Se,find:md,is:function(t,n){return!!Jt(t,n,t,!1)},extend:P1,throttle:hd,closest:Jt,toggleClass:Bt,clone:vd,index:qt,nextTick:Ks,cancelNextTick:Oi,detectDirection:yd,getChild:Ho,expando:Rt};ke.get=function(e){return e[Rt]};ke.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ke.utils=mn(mn({},ke.utils),o.utils)),Ts.mount(o)})};ke.create=function(e,t){return new ke(e,t)};ke.version=H1;var it=[],qo,Mi,Bi=!1,fi,pi,wa,Go;function Z1(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Pe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Pe(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Pe(document,"touchmove",this._handleFallbackAutoScroll):Pe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?He(document,"dragover",this._handleAutoScroll):(He(document,"pointermove",this._handleFallbackAutoScroll),He(document,"touchmove",this._handleFallbackAutoScroll),He(document,"mousemove",this._handleFallbackAutoScroll)),Ll(),Xs(),O1()},nulling:function(){wa=Mi=qo=Bi=Go=fi=pi=null,it.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,i=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(i,r);if(wa=n,o||this.options.forceAutoScrollFallback||Es||Dn||ns){mi(n,this.options,l,o);var c=Ln(l,!0);Bi&&(!Go||i!==fi||r!==pi)&&(Go&&Ll(),Go=setInterval(function(){var u=Ln(document.elementFromPoint(i,r),!0);u!==c&&(c=u,Xs()),mi(n,a.options,u,o)},10),fi=i,pi=r)}else{if(!this.options.bubbleScroll||Ln(l,!0)===un()){Xs();return}mi(n,this.options,Ln(l,!1),!1)}}},Sn(e,{pluginName:"scroll",initializeByDefault:!0})}function Xs(){it.forEach(function(e){clearInterval(e.pid)}),it=[]}function Ll(){clearInterval(Go)}var mi=hd(function(e,t,n,o){if(t.scroll){var a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,c=un(),u=!1,f;Mi!==n&&(Mi=n,Xs(),qo=t.scroll,f=t.scrollFn,qo===!0&&(qo=Ln(n,!0)));var p=0,m=qo;do{var g=m,D=rt(g),y=D.top,h=D.bottom,k=D.left,O=D.right,E=D.width,I=D.height,L=void 0,ie=void 0,pe=g.scrollWidth,de=g.scrollHeight,N=Se(g),T=g.scrollLeft,H=g.scrollTop;g===c?(L=E<pe&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),ie=I<de&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(L=E<pe&&(N.overflowX==="auto"||N.overflowX==="scroll"),ie=I<de&&(N.overflowY==="auto"||N.overflowY==="scroll"));var $=L&&(Math.abs(O-a)<=r&&T+E<pe)-(Math.abs(k-a)<=r&&!!T),_=ie&&(Math.abs(h-i)<=r&&H+I<de)-(Math.abs(y-i)<=r&&!!H);if(!it[p])for(var V=0;V<=p;V++)it[V]||(it[V]={});(it[p].vx!=$||it[p].vy!=_||it[p].el!==g)&&(it[p].el=g,it[p].vx=$,it[p].vy=_,clearInterval(it[p].pid),($!=0||_!=0)&&(u=!0,it[p].pid=setInterval((function(){o&&this.layer===0&&ke.active._onTouchMove(wa);var be=it[this.layer].vy?it[this.layer].vy*l:0,K=it[this.layer].vx?it[this.layer].vx*l:0;typeof f=="function"&&f.call(ke.dragged.parentNode[Rt],K,be,e,wa,it[this.layer].el)!=="continue"||gd(it[this.layer].el,K,be)}).bind({layer:p}),24))),p++}while(t.bubbleScroll&&m!==c&&(m=Ln(m,!1)));Bi=u}},30),kd=function(t){var n=t.originalEvent,o=t.putSortable,a=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,l=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(n){var u=o||i;l();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,p=document.elementFromPoint(f.clientX,f.clientY);c(),u&&!u.el.contains(p)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Cr(){}Cr.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Ho(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:kd};Sn(Cr,{pluginName:"revertOnSpill"});function xr(){}xr.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:kd};Sn(xr,{pluginName:"removeOnSpill"});ke.mount(new Z1);ke.mount(xr,Cr);function Sd(e){if(e<=0)return 0;if(e>=1&&e<=4)return 10;if(e>=5&&e<=10)return 20;if(e>=11&&e<=16)return 30;if(e>=17&&e<=20)return 40;const t=21,n=50;if(e>=t){const o=Math.floor((e-t)/4);return n+o*10}return 0}function $d(e){const[t,n]=e.toLowerCase().split("d").map(Number),o=[];for(let a=0;a<t;a++)o.push(Math.floor(Math.random()*n)+1);return o}function ya(e){const t={};let n=0,o=0;e.damageRolls.forEach(a=>{let{dice:i,min:r=1,bonus:l=0,type:c,lifeSteal:u={percentage:0}}=a;r=Number(r)||1,l=Number(l)||0;const f=Number(u.percentage)||0,p=`d${i.split("d")[1]}`,g=$d(i).map(h=>({value:Math.max(h,r),diceType:p,originalValue:h,isReplaced:!1})),y=g.reduce((h,k)=>h+k.value,0)+l;if(n+=y,t[c]||(t[c]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),t[c].rolls.push(...g),t[c].bonus+=l,t[c].total+=y,f>0){const h=Math.floor(y*(f/100));o+=h,t[c].lifeSteal.healed+=h,t[c].lifeSteal.percentages.push(f)}});for(const a in t)if(t[a].lifeSteal.healed===0)t[a].lifeSteal=null;else{const i=[...new Set(t[a].lifeSteal.percentages)];t[a].lifeSteal.percentage_display=i.join("% / ")+"%",delete t[a].lifeSteal.percentages}return{name:e.name,results:t,grandTotal:n,totalHealed:o}}function Dd(e,t){const{rule:n,characterLevel:o}=t;if(n==="default"){const a=JSON.parse(JSON.stringify(e));return a.name=`${e.name} (Crtico)`,a.damageRolls.forEach(i=>{const[r,l]=i.dice.split("d");i.dice=`${Number(r)*2}d${l}`}),ya(a)}if(n==="dad"){const a={};let i=0,r=0;const l=Sd(o);if(e.damageRolls.forEach(c=>{let{dice:u,min:f=1,bonus:p=0,type:m,lifeSteal:g={percentage:0}}=c;const[D,y]=u.split("d").map(Number);f=Number(f)||1,p=Number(p)||0;const h=Number(g.percentage)||0;let k=0;const O=[];for(let I=0;I<D;I++){const L=Math.max(Math.floor(Math.random()*y)+1,f),ie=y;k+=ie+L,O.push({value:ie,originalValue:`${y} (Mx)`}),O.push({value:L,originalValue:`${L} (Aleatorio)`})}const E=k+p;if(i+=E,a[m]||(a[m]={rolls:[],bonus:0,total:0,lifeSteal:{healed:0,percentages:[]}}),a[m].rolls.push(...O),a[m].bonus+=p,a[m].total+=E,h>0){const I=Math.floor(E*(h/100));r+=I,a[m].lifeSteal.healed+=I,a[m].lifeSteal.percentages.push(h)}}),l>0){const c="force";a[c]?(a[c].total+=l,a[c].rolls.push({value:l,originalValue:l})):a[c]={rolls:[{value:l,originalValue:l}],bonus:0,total:l,lifeSteal:{healed:0,percentages:[]}},i+=l}for(const c in a)if(a[c].lifeSteal.healed===0)a[c].lifeSteal=null;else{const u=[...new Set(a[c].lifeSteal.percentages)];a[c].lifeSteal.percentage_display=u.join("% / ")+"%",delete a[c].lifeSteal.percentages}return{name:`${e.name} (Crtico DAD)`,results:a,grandTotal:i,totalHealed:r}}return ya(e)}function rs(e){const t={};if(!e)return t;e.forEach(n=>{const o=`d${n.dice.split("d")[1]}`,a=Number(n.min)||1,r=$d(n.dice).map(l=>Math.max(l,a));t[o]||(t[o]=[]),t[o].push(...r)});for(const n in t)t[n].sort((o,a)=>a-o);return t}function Ni(e,t){const n=JSON.parse(JSON.stringify(e));for(const i in t){const r=t[i];let l=[];for(const u in n.results)n.results[u].rolls.forEach((f,p)=>{f.diceType===i&&!f.isReplaced&&l.push({roll:f,damageType:u,index:p})});l.sort((u,f)=>u.roll.value-f.roll.value);const c=Math.min(l.length,r.length);for(let u=0;u<c;u++){const f=l[u],p=r[u];p>f.roll.value&&(f.roll.originalValue=f.roll.value,f.roll.value=p,f.roll.isReplaced=!0)}}let o=0,a=0;for(const i in n.results){const r=n.results[i],l=r.rolls.reduce((c,u)=>c+u.value,0);if(r.total=l+r.bonus,o+=r.total,r.lifeSteal){const c=r.lifeSteal.percentage_display,u=parseFloat(c);if(!isNaN(u)){const f=Math.floor(r.total*(u/100));r.lifeSteal.healed=f,a+=f}}}return n.grandTotal=o,n.totalHealed=a,n}const Ro=[{id:"bludgeoning",name:"Contundente",color:"#a1887f"},{id:"piercing",name:"Perforante",color:"#757575"},{id:"slashing",name:"Cortante",color:"#bdbdbd"},{id:"acid",name:"cido",color:"#8bc34a"},{id:"cold",name:"Fro",color:"#26c6da"},{id:"fire",name:"Fuego",color:"#ff7043"},{id:"force",name:"Fuerza",color:"#ab47bc"},{id:"lightning",name:"Elctrico",color:"#ffca28"},{id:"necrotic",name:"Necrtico",color:"#546e7a"},{id:"poison",name:"Veneno",color:"#66bb6a"},{id:"psychic",name:"Psquico",color:"#ec407a"},{id:"radiant",name:"Radiante",color:"#ffee58"},{id:"thunder",name:"Trueno",color:"#7e57c2"}],Ed=e=>{const t=Ro.find(n=>n.id===e);return t?t.color:"#ffffff"},ew={class:"attack-manager-container"},tw={class:"header"},nw={class:"header-actions"},ow={class:"content"},sw={class:"attacks-list"},aw={key:0,class:"no-attacks"},iw=["data-id"],rw={class:"header-attack"},lw={class:"attack-info"},cw={class:"attack-name"},uw={class:"attack-summary"},dw={class:"attack-actions"},fw=["onClick"],pw=["onClick"],mw=["onClick"],hw=["onClick"],gw=["onClick"],vw={class:"new-attack-area"},bw={class:"attack-form"},ww={class:"attack-form-header"},yw={class:"attack-form-content"},Cw={class:"form-group"},xw={class:"damage-rolls-section"},_w={class:"damage-roll-header"},kw={class:"damage-roll-title"},Sw=["onClick","disabled"],$w={class:"damage-roll-inputs"},Dw={class:"form-group-inline"},Ew=["for"],Tw=["id","onUpdate:modelValue"],Aw={class:"form-group-inline"},Iw=["for"],Hw=["id","onUpdate:modelValue"],Rw={class:"form-group-inline"},Pw=["for"],Ow=["id","onUpdate:modelValue"],Mw=["value"],Bw={class:"form-group-inline"},Nw=["for"],Lw=["id","onUpdate:modelValue"],Vw={class:"form-group-inline"},jw=["for"],Uw=["id","onUpdate:modelValue"],Fw={class:"form-group-inline"},zw=["for"],qw=["id","onUpdate:modelValue"],Gw={class:"damage-rolls-section"},Ww={key:0,class:"empty-state"},Kw={class:"damage-roll-header"},Xw={class:"damage-roll-title"},Yw=["onClick"],Jw={class:"damage-roll-inputs reroll-inputs"},Qw={class:"form-group-inline"},Zw=["for"],ey=["id","onUpdate:modelValue"],ty={class:"form-group-inline"},ny=["for"],oy=["id","onUpdate:modelValue"],sy={class:"form-group-inline"},ay=["for"],iy=["id","onUpdate:modelValue"],ry={class:"form-actions"},ly={class:"attack-form settings-form"},cy={class:"attack-form-content"},uy={class:"form-group"},dy={key:0,class:"form-group"},fy={key:0,class:"dad-bonus-display"},py={__name:"AttackManager",emits:["close"],setup(e,{emit:t}){const n=gu(),o=lo(),{criticalHit:a}=ws(n),i=Z(!1),r=Z(!1),l=Z(!1),c=Kt({rule:"default",characterLevel:1}),u=Le(()=>c.rule!=="dad"?0:Sd(c.characterLevel)),f=Kt({id:null,name:"",damageRolls:[],rerollDice:[]});Mt(()=>{document.body.style.overflow="hidden",n.loadData(),ro(()=>{const H=document.querySelector(".attacks-list");H&&new ke(H,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:V=>{const be=Array.from(V.target.children).map(K=>K.dataset.id).filter(K=>K);n.updateAttackOrder(be)}});const $=document.querySelector(".attack-manager-overlay"),_=document.querySelector(".content");if($&&_){const V=be=>{be.target.closest(".attack-form-overlay")||(be.preventDefault(),_.scrollTop+=be.deltaY)};$.addEventListener("wheel",V,{passive:!1}),$._wheelHandler=V}})}),qn(()=>{document.body.style.overflow="";const H=document.querySelector(".attack-manager-overlay");H&&H._wheelHandler&&H.removeEventListener("wheel",H._wheelHandler)});const p=H=>{if(!H||!H.includes("d"))return{numDice:1,diceType:6};const[$,_]=H.split("d");return{numDice:Number($)||1,diceType:Number(_)||6}},m=H=>{const $=JSON.parse(JSON.stringify(H));$.damageRolls.forEach(_=>{const{numDice:V,diceType:be}=p(_.dice);_.numDice=V,_.diceType=be,_.lifeSteal||(_.lifeSteal={percentage:0})}),$.rerollDice?$.rerollDice.forEach(_=>{const{numDice:V,diceType:be}=p(_.dice);_.numDice=V,_.diceType=be}):$.rerollDice=[],f.id=$.id,f.name=$.name,f.damageRolls.splice(0,f.damageRolls.length,...$.damageRolls),f.rerollDice.splice(0,f.rerollDice.length,...$.rerollDice),i.value=!0},g=()=>{c.rule=n.criticalHit.rule,c.characterLevel=n.criticalHit.characterLevel,l.value=!0},D=()=>{l.value=!1},y=()=>{n.updateCriticalHitConfig({rule:c.rule,characterLevel:c.characterLevel}),D(),le.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},h=()=>{r.value=!1,m({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},k=H=>{r.value=!0,m(H)},O=H=>{n.duplicateAttack(H.id)},E=()=>{i.value=!1},I=()=>{f.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},L=H=>{f.damageRolls.splice(H,1)},ie=()=>{f.rerollDice||(f.rerollDice=[]),f.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},pe=H=>{f.rerollDice.splice(H,1)},de=()=>{if(!f.name){le.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const H=JSON.parse(JSON.stringify(f));H.damageRolls.forEach($=>{$.dice=`${$.numDice||1}d${$.diceType||6}`,delete $.numDice,delete $.diceType}),H.rerollDice&&H.rerollDice.forEach($=>{$.dice=`${$.numDice||1}d${$.diceType||6}`,delete $.numDice,delete $.diceType}),r.value?n.updateAttack(H):n.addAttack(H),E()},N=H=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then($=>{$.isConfirmed&&(n.deleteAttack(H),le.fire("Eliminado","El ataque ha sido eliminado.","success"))})},T=(H,$=!1)=>{let _;$?_=Dd(H,n.criticalHit):_=ya(H);const V=re=>re.map(J=>`<span class="roll-value ${J.isReplaced?"replaced":""}">${J.value}</span>`).join(", "),be=re=>{if(!re)return"";let J='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const P in re)J+=`<div class="reroll-type"><strong>${P}:</strong> [${re[P].join(", ")}]</div>`;return J+="</div>",J},K=(re,J=null)=>{let P='<div class="attack-result-modal">';P+=`<h3 class="dnd-title-modern">${re.name}</h3>`;for(const te in re.results){const ge=re.results[te],Je=Ed(te),he=(Ro.find(ce=>ce.id===te)||{name:te}).name.toUpperCase();P+=`
        <div class="damage-type-block-modern" style="border-left-color: ${Je};">
          <div class="damage-header">
            <span class="damage-type-modern" style="color: ${Je};">${he}</span>
            <span class="damage-total-modern">${ge.total}</span>
          </div>
          <div class="damage-details">
            <span><strong>Tiradas:</strong> [${V(ge.rolls)}]</span>
            <span><strong>Bonus:</strong> ${ge.bonus>0?"+":""}${ge.bonus}</span>
          </div>
      `,ge.lifeSteal&&(P+=`
          <div class="lifesteal-details">
            <i class="bi bi-heart-fill"></i>
            <span><strong>Curado:</strong> ${ge.lifeSteal.healed} (${ge.lifeSteal.percentage_display})</span>
          </div>
        `),P+="</div>"}return P+=be(J),P+=`<div class="grand-total-modern">Dao Total: ${re.grandTotal}</div>`,re.totalHealed>0&&(P+=`<div class="total-healed-modern">Curacin Total: ${re.totalHealed}</div>`),P+="</div>",P},W="dnd-modern-modal-styles",ve=`
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Teko:wght@700&display=swap');
        .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .dnd-modern-swal-container { padding: 0 !important; }
        .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.5rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; }
        .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
        .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 15px; padding: 15px; border-radius: 4px; }
        .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.5rem; }
        .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.8rem; color: #ff4d4d; }
        .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 20px; padding: 10px; border-radius: 5px; }
        .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
        .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
        .dnd-modern-swal-popup .lifesteal-details { color: #4dff7e; }`,q=`
    .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
    .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
    .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
    .reroll-type { margin-bottom: 5px; padding-left: 10px; }
    .swal2-actions { gap: 15px !important; }
    .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
    .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`;let A=null;le.fire({width:600,html:K(_),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:H.rerollDice&&H.rerollDice.length>0,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{if(document.getElementById(W))return;const re=document.createElement("style");re.id=W,re.innerHTML=ve+q,document.head.appendChild(re)},didClose:()=>{_.totalHealed>0&&o.heal(_.totalHealed),o.addLog(`Ataque: ${H.name}`,`Dao total: ${_.grandTotal}. Curacin por robo de vida: ${_.totalHealed}.`)},preDeny:()=>(A=rs(H.rerollDice),le.update({html:K(_,A),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const re=document.getElementById("swal-replace-btn");re&&(re.onclick=()=>{A||(A=rs(H.rerollDice)),_=Ni(_,A),le.update({html:K(_,A),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1),preCancel:()=>(A||(A=rs(H.rerollDice)),_=Ni(_,A),le.update({html:K(_,A),showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Cerrar"}),!1)})};return(H,$)=>(C(),x("div",{class:"attack-manager-overlay",onClick:$[5]||($[5]=Be(_=>H.$emit("close"),["self"]))},[s("div",ew,[s("div",tw,[$[7]||($[7]=s("h2",null,[s("i",{class:"bi bi-hammer"}),X(" Gestor de Ataques")],-1)),s("div",nw,[s("button",{onClick:g,class:"settings-btn"},$[6]||($[6]=[s("i",{class:"bi bi-gear-fill"},null,-1)])),s("button",{onClick:$[0]||($[0]=_=>H.$emit("close")),class:"close-btn"},"")])]),s("div",ow,[s("div",sw,[Q(n).attacks.length===0?(C(),x("div",aw," No hay ataques guardados. Crea uno nuevo! ")):se("",!0),(C(!0),x(De,null,Re(Q(n).attacks,_=>(C(),x("div",{key:_.id,class:"attack-item","data-id":_.id},[s("div",rw,[$[8]||($[8]=s("div",{class:"drag-handle"},[s("i",{class:"bi bi-grip-vertical"})],-1)),s("div",lw,[s("span",cw,B(_.name),1),s("div",uw,[(C(!0),x(De,null,Re(_.damageRolls,(V,be)=>(C(),x("span",{key:be,class:"damage-tag"},B(V.dice)+" "+B(V.type),1))),128))])])]),s("div",dw,[s("button",{onClick:V=>T(_,!1),class:"action-btn btn-execute"},"Atacar",8,fw),s("button",{onClick:V=>T(_,!0),class:"action-btn btn-critical"},"Crtico",8,pw),s("button",{onClick:V=>k(_),class:"action-btn btn-edit"},"Editar",8,mw),s("button",{onClick:V=>O(_),class:"action-btn btn-duplicate"},"Duplicar",8,hw),s("button",{onClick:V=>N(_.id),class:"action-btn btn-delete"},"Eliminar",8,gw)])],8,iw))),128))]),s("div",vw,[s("button",{onClick:$[1]||($[1]=_=>h()),class:"btn-new-attack"},$[9]||($[9]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),X(" Crear Nuevo Ataque ")]))]),i.value?(C(),x("div",{key:0,class:"attack-form-overlay",onClick:Be(E,["self"])},[s("div",bw,[s("div",ww,[s("h3",null,B(r.value?"Editar Ataque":"Nuevo Ataque"),1),s("button",{onClick:E,class:"form-close-btn","aria-label":"Cerrar formulario"},$[10]||($[10]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",yw,[s("div",Cw,[$[11]||($[11]=s("label",{for:"attack-name"},"Nombre del Ataque",-1)),z(s("input",{id:"attack-name",type:"text","onUpdate:modelValue":$[2]||($[2]=_=>f.name=_),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[ee,f.name]])]),s("div",xw,[$[15]||($[15]=s("h4",null,[s("i",{class:"bi bi-dice-6-fill"}),X(" Tiradas de Dao")],-1)),(C(!0),x(De,null,Re(f.damageRolls,(_,V)=>(C(),x("div",{key:V,class:"damage-roll-item"},[s("div",_w,[s("span",kw,"Dao #"+B(V+1),1),s("button",{onClick:be=>L(V),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:f.damageRolls.length===1},$[12]||($[12]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,Sw)]),s("div",$w,[s("div",Dw,[s("label",{for:`dice-num-${V}`},"Cantidad",8,Ew),z(s("input",{id:`dice-num-${V}`,type:"number","onUpdate:modelValue":be=>_.numDice=be,min:"1",max:"20",class:"input-narrow"},null,8,Tw),[[ee,_.numDice,void 0,{number:!0}]])]),s("div",Aw,[s("label",{for:`dice-type-${V}`},"Tipo de Dado",8,Iw),z(s("select",{id:`dice-type-${V}`,"onUpdate:modelValue":be=>_.diceType=be},$[13]||($[13]=[jn('<option value="4" data-v-31acce8f>d4</option><option value="6" data-v-31acce8f>d6</option><option value="8" data-v-31acce8f>d8</option><option value="10" data-v-31acce8f>d10</option><option value="12" data-v-31acce8f>d12</option><option value="20" data-v-31acce8f>d20</option><option value="100" data-v-31acce8f>d100</option>',7)]),8,Hw),[[gt,_.diceType,void 0,{number:!0}]])]),s("div",Rw,[s("label",{for:`type-${V}`},"Tipo de Dao",8,Pw),z(s("select",{id:`type-${V}`,"onUpdate:modelValue":be=>_.type=be},[(C(!0),x(De,null,Re(Q(Ro),be=>(C(),x("option",{key:be.id,value:be.id},B(be.name),9,Mw))),128))],8,Ow),[[gt,_.type]])]),s("div",Bw,[s("label",{for:`bonus-${V}`},"Bonus",8,Nw),z(s("input",{id:`bonus-${V}`,type:"number","onUpdate:modelValue":be=>_.bonus=be,placeholder:"+3"},null,8,Lw),[[ee,_.bonus,void 0,{number:!0}]])]),s("div",Vw,[s("label",{for:`min-${V}`},"Mnimo",8,jw),z(s("input",{id:`min-${V}`,type:"number","onUpdate:modelValue":be=>_.min=be,placeholder:"1",min:"1"},null,8,Uw),[[ee,_.min,void 0,{number:!0}]])]),s("div",Fw,[s("label",{for:`lifesteal-${V}`},"Robo de Vida (%)",8,zw),z(s("input",{id:`lifesteal-${V}`,type:"number","onUpdate:modelValue":be=>_.lifeSteal.percentage=be,placeholder:"0",min:"0",max:"100"},null,8,qw),[[ee,_.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:I,class:"btn-add-roll"},$[14]||($[14]=[s("i",{class:"bi bi-plus-circle"},null,-1),X(" Aadir Tipo de Dao ")]))]),s("div",Gw,[$[20]||($[20]=s("h4",null,[s("i",{class:"bi bi-arrow-repeat"}),X(" Dados de Reroll (Opcional)")],-1)),f.rerollDice.length===0?(C(),x("div",Ww,$[16]||($[16]=[s("p",null,"No hay dados de reroll configurados",-1)]))):se("",!0),(C(!0),x(De,null,Re(f.rerollDice,(_,V)=>(C(),x("div",{key:V,class:"damage-roll-item"},[s("div",Kw,[s("span",Xw,"Reroll #"+B(V+1),1),s("button",{onClick:be=>pe(V),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},$[17]||($[17]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,Yw)]),s("div",Jw,[s("div",Qw,[s("label",{for:`reroll-dice-num-${V}`},"Cantidad",8,Zw),z(s("input",{id:`reroll-dice-num-${V}`,type:"number","onUpdate:modelValue":be=>_.numDice=be,min:"1",max:"20",class:"input-narrow"},null,8,ey),[[ee,_.numDice,void 0,{number:!0}]])]),s("div",ty,[s("label",{for:`reroll-dice-type-${V}`},"Tipo de Dado",8,ny),z(s("select",{id:`reroll-dice-type-${V}`,"onUpdate:modelValue":be=>_.diceType=be},$[18]||($[18]=[jn('<option value="4" data-v-31acce8f>d4</option><option value="6" data-v-31acce8f>d6</option><option value="8" data-v-31acce8f>d8</option><option value="10" data-v-31acce8f>d10</option><option value="12" data-v-31acce8f>d12</option><option value="20" data-v-31acce8f>d20</option><option value="100" data-v-31acce8f>d100</option>',7)]),8,oy),[[gt,_.diceType,void 0,{number:!0}]])]),s("div",sy,[s("label",{for:`reroll-min-${V}`},"Mnimo",8,ay),z(s("input",{id:`reroll-min-${V}`,type:"number","onUpdate:modelValue":be=>_.min=be,placeholder:"1",min:"1"},null,8,iy),[[ee,_.min,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:ie,class:"btn-add-roll"},$[19]||($[19]=[s("i",{class:"bi bi-plus-circle"},null,-1),X(" Aadir Dado de Reroll ")]))]),s("div",ry,[s("button",{onClick:de,class:"btn-save"},[$[21]||($[21]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),X(" "+B(r.value?"Guardar Cambios":"Crear Ataque"),1)]),s("button",{onClick:E,class:"btn-cancel"},$[22]||($[22]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),X(" Cancelar ")]))])])])])):se("",!0),l.value?(C(),x("div",{key:1,class:"attack-form-overlay",onClick:Be(D,["self"])},[s("div",ly,[s("div",{class:"attack-form-header"},[$[24]||($[24]=s("h3",null,[s("i",{class:"bi bi-gear-fill"}),X(" Configuracin de Dao Crtico")],-1)),s("button",{onClick:D,class:"form-close-btn","aria-label":"Cerrar configuracin"},$[23]||($[23]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",cy,[s("div",uy,[$[26]||($[26]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),z(s("select",{id:"critical-rule","onUpdate:modelValue":$[3]||($[3]=_=>c.rule=_),class:"settings-select"},$[25]||($[25]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[gt,c.rule]])]),c.rule==="dad"?(C(),x("div",dy,[$[29]||($[29]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),z(s("input",{type:"number",id:"character-level","onUpdate:modelValue":$[4]||($[4]=_=>c.characterLevel=_),min:"1",max:"20",class:"settings-input"},null,512),[[ee,c.characterLevel,void 0,{number:!0}]]),u.value>0?(C(),x("div",fy,[$[28]||($[28]=s("i",{class:"bi bi-lightning-charge-fill"},null,-1)),s("p",null,[$[27]||($[27]=X("Bonus de dao por crtico: ")),s("strong",null,"+"+B(u.value),1)])])):se("",!0)])):se("",!0),s("div",{class:"form-actions"},[s("button",{onClick:y,class:"btn-save"},$[30]||($[30]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),X(" Guardar ")])),s("button",{onClick:D,class:"btn-cancel"},$[31]||($[31]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),X(" Cancelar ")]))])])])])):se("",!0)])])]))}},my=ft(py,[["__scopeId","data-v-31acce8f"]]),hy={class:"passive-damage-manager-container"},gy={class:"header"},vy={class:"content"},by={class:"passive-damages-list"},wy={key:0,class:"no-damages"},yy={class:"damage-info"},Cy={class:"damage-name"},xy={key:0,class:"duration-tag"},_y={class:"damage-summary"},ky={class:"damage-actions"},Sy=["onClick"],$y=["onClick"],Dy=["onClick"],Ey={class:"new-damage-area"},Ty={class:"damage-form"},Ay={class:"damage-form-header"},Iy={class:"form-group"},Hy={class:"form-group"},Ry={class:"damage-rolls-section"},Py={class:"damage-roll-inputs"},Oy={class:"form-group-inline"},My=["onUpdate:modelValue"],By={class:"form-group-inline"},Ny=["onUpdate:modelValue"],Ly={class:"form-group-inline"},Vy=["onUpdate:modelValue"],jy={class:"form-group-inline"},Uy=["onUpdate:modelValue"],Fy=["value"],zy=["onClick","title"],qy={class:"form-actions"},Gy={__name:"PassiveDamageManager",emits:["close"],setup(e,{emit:t}){const n=zs(),o=Z(!1),a=Z(!1),i=Kt({id:null,name:"",duration:0,damageRolls:[]});Mt(()=>{document.body.style.overflow="hidden",n.loadData()}),qn(()=>{document.body.style.overflow=""});const r=y=>{i.id=y.id,i.name=y.name,i.duration=y.duration||0,i.damageRolls.splice(0,i.damageRolls.length,...JSON.parse(JSON.stringify(y.damageRolls||[]))),o.value=!0},l=()=>{a.value=!1,r({id:null,name:"",duration:0,damageRolls:[{numDice:1,diceType:6,bonus:0,type:"bludgeoning"}]})},c=y=>{a.value=!0,r(y)},u=()=>{o.value=!1},f=()=>{i.damageRolls.push({numDice:1,diceType:6,bonus:0,type:"bludgeoning"})},p=y=>{i.damageRolls.splice(y,1)},m=()=>{if(!i.name||i.damageRolls.length===0){le.fire("Error","El nombre y al menos una tirada de dao son requeridos.","error");return}const y=JSON.parse(JSON.stringify(i));a.value?n.updatePassiveDamage(y):n.addPassiveDamage(y),u()},g=y=>{n.duplicatePassiveDamage(y)},D=y=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(h=>{h.isConfirmed&&(n.deletePassiveDamage(y),le.fire("Eliminado","El dao pasivo ha sido eliminado.","success"))})};return(y,h)=>(C(),x("div",{class:"passive-damage-manager-overlay",onClick:h[4]||(h[4]=Be(k=>y.$emit("close"),["self"]))},[s("div",hy,[s("div",gy,[h[5]||(h[5]=s("h2",null,[s("i",{class:"bi bi-shield-fill-exclamation"}),X(" Gestor de Dao Pasivo")],-1)),s("button",{onClick:h[0]||(h[0]=k=>y.$emit("close")),class:"close-btn"},"")]),s("div",vy,[s("div",by,[Q(n).passiveDamages.length===0?(C(),x("div",wy," No hay daos pasivos configurados. ")):se("",!0),(C(!0),x(De,null,Re(Q(n).passiveDamages,k=>(C(),x("div",{key:k.id,class:"damage-item"},[s("div",yy,[s("span",Cy,B(k.name),1),k.duration>0?(C(),x("span",xy,[h[6]||(h[6]=s("i",{class:"bi bi-hourglass-split"},null,-1)),X(" "+B(k.duration)+" turnos restantes ",1)])):se("",!0),s("div",_y,[(C(!0),x(De,null,Re(k.damageRolls,(O,E)=>(C(),x("span",{key:E,class:"damage-tag"},B(O.numDice)+"d"+B(O.diceType)+B(O.bonus>0?"+"+O.bonus:"")+" "+B(O.type),1))),128))])]),s("div",ky,[s("button",{onClick:O=>c(k),class:"action-btn btn-edit"},"Editar",8,Sy),s("button",{onClick:O=>g(k.id),class:"action-btn btn-duplicate"},"Duplicar",8,$y),s("button",{onClick:O=>D(k.id),class:"action-btn btn-delete"},"Eliminar",8,Dy)])]))),128))]),s("div",Ey,[s("button",{onClick:h[1]||(h[1]=k=>l()),class:"btn-new-damage"},h[7]||(h[7]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),X(" Aadir Dao Pasivo ")]))]),o.value?(C(),x("div",{key:0,class:"damage-form-overlay",onClick:Be(u,["self"])},[s("div",Ty,[s("div",Ay,[s("h3",null,B(a.value?"Editar Dao Pasivo":"Nuevo Dao Pasivo"),1),s("button",{onClick:u,class:"form-close-btn",title:"Cerrar"},"")]),s("div",Iy,[h[8]||(h[8]=s("label",{class:"form-label"},[s("i",{class:"bi bi-tag-fill"}),X(" Nombre ")],-1)),z(s("input",{type:"text","onUpdate:modelValue":h[2]||(h[2]=k=>i.name=k),placeholder:"Ej: Aura venenosa"},null,512),[[ee,i.name]])]),s("div",Hy,[h[9]||(h[9]=s("label",{class:"form-label"},[s("i",{class:"bi bi-hourglass-split"}),X(" Duracin en Turnos "),s("span",{class:"label-hint"},"(0 para infinito)")],-1)),z(s("input",{type:"number","onUpdate:modelValue":h[3]||(h[3]=k=>i.duration=k),min:"0",placeholder:"0"},null,512),[[ee,i.duration,void 0,{number:!0}]])]),s("div",Ry,[h[17]||(h[17]=s("h4",null,[s("i",{class:"bi bi-dice-5-fill"}),X(" Tiradas de Dao")],-1)),(C(!0),x(De,null,Re(i.damageRolls,(k,O)=>(C(),x("div",{key:O,class:"damage-roll-item"},[s("div",Py,[s("div",Oy,[h[10]||(h[10]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-hash"}),X(" Cantidad ")],-1)),z(s("input",{type:"number","onUpdate:modelValue":E=>k.numDice=E,min:"1",class:"input-narrow",placeholder:"1"},null,8,My),[[ee,k.numDice,void 0,{number:!0}]])]),s("div",By,[h[12]||(h[12]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-dice-6"}),X(" Dado ")],-1)),z(s("select",{"onUpdate:modelValue":E=>k.diceType=E},h[11]||(h[11]=[jn('<option value="4" data-v-99070229>d4</option><option value="6" data-v-99070229>d6</option><option value="8" data-v-99070229>d8</option><option value="10" data-v-99070229>d10</option><option value="12" data-v-99070229>d12</option><option value="20" data-v-99070229>d20</option><option value="100" data-v-99070229>d100</option>',7)]),8,Ny),[[gt,k.diceType,void 0,{number:!0}]])]),s("div",Ly,[h[13]||(h[13]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-plus-slash-minus"}),X(" Bonus ")],-1)),z(s("input",{type:"number","onUpdate:modelValue":E=>k.bonus=E,placeholder:"0"},null,8,Vy),[[ee,k.bonus,void 0,{number:!0}]])]),s("div",jy,[h[14]||(h[14]=s("label",{class:"form-label-inline"},[s("i",{class:"bi bi-fire"}),X(" Tipo ")],-1)),z(s("select",{"onUpdate:modelValue":E=>k.type=E},[(C(!0),x(De,null,Re(Q(Ro),E=>(C(),x("option",{key:E.id,value:E.id},B(E.name),9,Fy))),128))],8,Uy),[[gt,k.type]])])]),s("button",{onClick:E=>p(O),class:"btn-remove-roll",title:"Eliminar tirada "+(O+1)},h[15]||(h[15]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,zy)]))),128)),s("button",{onClick:f,class:"btn-add-roll"},h[16]||(h[16]=[s("i",{class:"bi bi-plus-circle"},null,-1),X(" Aadir tipo de dao ")]))]),s("div",qy,[s("button",{onClick:m,class:"btn-save"},[h[18]||(h[18]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),X(" "+B(a.value?"Guardar Cambios":"Crear"),1)]),s("button",{onClick:u,class:"btn-cancel"},h[19]||(h[19]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),X(" Cancelar ")]))])])])):se("",!0)])])]))}},Wy=ft(Gy,[["__scopeId","data-v-99070229"]]),Ky={class:"character-view-container fade-in"},Xy={class:"character-header"},Yy={key:0,class:"character-state-display"},Jy=["src"],Qy={class:"character-name"},Zy={class:"state-title-display"},e0={key:1,class:"character-name"},t0={class:"turn-info"},n0={class:"turn-number"},o0={class:"health-section"},s0={class:"health-header"},a0={class:"health-stats"},i0={class:"current-hp"},r0={class:"max-hp"},l0={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},c0={class:"health-bar-container"},u0={class:"health-bar"},d0={class:"health-percentage"},f0={key:0,class:"necro-info"},p0={class:"necro-text"},m0={key:0,class:"temp-health-section"},h0={class:"temp-health-header"},g0={class:"temp-hp-value"},v0={class:"temp-health-bar-container"},b0={class:"temp-health-bar"},w0={key:1,class:"regeneration-info"},y0={class:"regeneration-text"},C0={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8 mb-2 custom-fold-row"},x0={key:0},_0={key:1},k0={key:0},S0={key:1},$0={class:"action-buttons"},D0=["disabled"],E0=["disabled"],T0=["disabled"],A0=["disabled"],I0=["disabled"],H0=["disabled"],R0={class:"secondary-actions"},P0={key:0,class:"state-selector-wrapper"},O0={key:0},M0={key:1},B0={class:"state-selector-navigation"},N0=["disabled"],L0={class:"state-indicators"},V0=["onClick"],j0={class:"state-preview"},U0=["src","alt"],F0={key:1,class:"state-preview-placeholder"},z0={class:"state-preview-title"},q0=["disabled"],G0={__name:"CharacterView",setup(e){const t=ys(),n=lo(),o=Cs(),a=Pa(),i=Le(()=>a.selectedState&&a.selectedState.image?URL.createObjectURL(a.selectedState.image):null),r=q=>q&&q.image?URL.createObjectURL(q.image):null,l=q=>{a.setSelectedState(q)},c=()=>{const q=a.states.findIndex(A=>A.id===a.selectedStateId);q>0?a.setSelectedState(a.states[q-1].id):a.setSelectedState(a.states[a.states.length-1].id)},u=()=>{const q=a.states.findIndex(A=>A.id===a.selectedStateId);q<a.states.length-1?a.setSelectedState(a.states[q+1].id):a.setSelectedState(a.states[0].id)},f=Z(!1),p=Z(!1),m=Z(!1),g=Z(!1),D=Z(!0);function y(){try{const q=localStorage.getItem("dnd-character-folds");if(q){const A=JSON.parse(q);m.value=!!A.countersFolded,g.value=!!A.statesFolded,D.value=A.stateSelectorFolded!==void 0?!!A.stateSelectorFolded:!0}}catch{}}function h(){localStorage.setItem("dnd-character-folds",JSON.stringify({countersFolded:m.value,statesFolded:g.value,stateSelectorFolded:D.value}))}function k(){m.value=!m.value,h()}function O(){g.value=!g.value,h()}function E(){D.value=!D.value,h()}Mt(async()=>{n.loadData(),o.loadData(),await a.loadStates(),y(),n.character.isConfigured||t.push("/config")});const I=()=>{const q=n.startTurn();if(q){const{totalDamage:A,damageDetails:re}=q,J=re.map(P=>`<li style="margin-bottom: 8px; color: #ecf0f1; font-size: 1rem;">
        <strong style="color: #f39c12;">${P.name}:</strong> ${P.damage} de dao (${P.details})
      </li>`).join("");le.fire({title:'<span style="color: #e74c3c;">Dao Pasivo Recibido</span>',html:`
        <div style="text-align: left; padding: 10px;">
          <p style="font-size: 1.2rem; margin-bottom: 15px; color: #ecf0f1;">
            Dao total: <strong style="color: #e74c3c; font-size: 1.5rem;">${A}</strong>
          </p>
          <ul style="list-style-type: none; padding-left: 0;">
            ${J}
          </ul>
        </div>
      `,icon:"warning",confirmButtonText:"Aceptar",customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn"},background:"#1a1a1a",color:"#ffffff"}).then(()=>{n.applyPassiveDamage(A,re)})}},L=()=>{n.endTurn()},ie=()=>{le.fire({title:"Curar Personaje",input:"number",inputLabel:"Cantidad de HP a curar",inputPlaceholder:"Ej: 10",inputAttributes:{min:"1",max:n.character.maxHp-n.character.currentHp},showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",inputValidator:q=>{if(!q||q<=0)return"Debes ingresar un nmero vlido";if(q>n.character.maxHp-n.character.currentHp)return`No puedes curar ms all del mximo (${n.character.maxHp-n.character.currentHp} HP)`}}).then(q=>{if(q.isConfirmed){const A=parseInt(q.value);n.heal(A)}})},pe=()=>{le.fire({title:"Agregar Vida Temporal",input:"number",inputLabel:"Cantidad de HP temporal",inputPlaceholder:"Ej: 15",inputAttributes:{min:"1",max:"999"},showCancelButton:!0,confirmButtonText:"Agregar",cancelButtonText:"Cancelar",inputValidator:q=>{if(!q||q<=0)return"Debes ingresar un nmero vlido"}}).then(q=>{if(q.isConfirmed){const A=parseInt(q.value);n.addTempHp(A)}})},de=()=>{le.fire({title:"Recibir Dao",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="damage-amount" type="number" placeholder="Ej: 25" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Recibir Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const q=document.getElementById("damage-amount").value,A=document.getElementById("necro-damage").checked;return!q||q<=0?(le.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(q),isNecroDamage:A}}}).then(q=>{if(q.isConfirmed){const{amount:A,isNecroDamage:re}=q.value;n.takeDamage(A,re)}})},N=()=>{le.fire({title:"Dao Resistente",html:`
      <div style="margin-bottom: 20px;display: flex;flex-direction: column;align-items: center;">
        <input id="resistant-damage-amount" type="number" placeholder="Ej: 20" min="1" max="999" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left;">
          <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none;">
            <input id="necro-resistant-damage" type="checkbox" style="width: 16px; height: 16px; accent-color: #e74c3c;">
            <span style="color: #e74c3c; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Dao Necro</span>
            <span style="color: #7f8c8d; font-size: 0.8rem; cursor: help;" title="El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."></span>
          </label>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Aplicar Dao",cancelButtonText:"Cancelar",preConfirm:()=>{const q=document.getElementById("resistant-damage-amount").value,A=document.getElementById("necro-resistant-damage").checked;return!q||q<=0?(le.showValidationMessage("Debes ingresar un nmero vlido"),!1):{amount:parseInt(q),isNecroDamage:A}}}).then(q=>{if(q.isConfirmed){const{amount:A,isNecroDamage:re}=q.value,J=Math.floor(A/2);n.takeDamage(J,re)}})},T=()=>{le.fire({title:"Resetear HP?",text:"Quieres restaurar la vida al mximo y eliminar la vida temporal?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&n.resetToMaxHp()})},H=async()=>{if(n.character.maxHp<n.character.originalMaxHp){const A=n.character.maxHp;n.character.maxHp=n.character.originalMaxHp,n.addLog("Restaurar HP Mximo",`HP mximo restaurado de ${A} a ${n.character.originalMaxHp} (dao necro revertido)`),n.saveToLocalStorage()}const{value:q}=await le.fire({title:`
      <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:8px;">
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
        <span>Ritual de Resurreccin</span>
        <i class="bi bi-magic" style="color:#d4af37;font-size:1.4em;"></i>
      </div>
    `,html:`
      <div style="background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%);
                  border: 2px solid #d4af37;
                  border-radius: 12px;
                  padding: 20px;
                  margin: 10px 0;
                  box-shadow: inset 0 0 20px rgba(212, 175, 55, 0.1);">
        <div style="text-align: center; margin-bottom: 16px;">
          <div style="color: #f39c12; font-size: 1.2em; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">
            ${n.character.name}
          </div>
          <div style="color: #bbb; font-size: 0.9em; margin-top: 4px;">
            Elige el mtodo de resurreccin
          </div>
        </div>
        <div style="text-align: left; font-size: 1.05em;">
          <!-- Opcin 1: 1 HP -->
          <label style="display: block; background: linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%); border: 1px solid rgba(39, 174, 96, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease; position: relative;"
                 onmouseover="this.style.borderColor='rgba(39, 174, 96, 0.6)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.25) 0%, rgba(39, 174, 96, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(39, 174, 96, 0.3)'; this.style.background='linear-gradient(90deg, rgba(39, 174, 96, 0.15) 0%, rgba(39, 174, 96, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="1" checked style="accent-color: #27ae60; transform: scale(1.2);">
              <i class="bi bi-heart" style="color: #27ae60; font-size: 1.1em;"></i>
              <div>
                <div style="color: #27ae60; font-weight: 700; font-size: 1.05em;">Resurreccin Bsica</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con 1 punto de vida</div>
              </div>
            </div>
          </label>
          <!-- Opcin 2: Media vida -->
          <label style="display: block; background: linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%); border: 1px solid rgba(243, 156, 18, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(243, 156, 18, 0.6)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.25) 0%, rgba(243, 156, 18, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(243, 156, 18, 0.3)'; this.style.background='linear-gradient(90deg, rgba(243, 156, 18, 0.15) 0%, rgba(243, 156, 18, 0.05) 100%)'">
            <div style="display: flex; align-items: center; gap: 10px;">
              <input type="radio" name="reviveOption" value="half" style="accent-color: #f39c12; transform: scale(1.2);">
              <i class="bi bi-heart-half" style="color: #f39c12; font-size: 1.1em;"></i>
              <div>
                <div style="color: #f39c12; font-weight: 700; font-size: 1.05em;">Resurreccin Mejorada</div>
                <div style="color: #aaa; font-size: 0.9em;">Revive con ${Math.floor(n.character.maxHp/2)} HP (50% vida mxima)</div>
              </div>
            </div>
          </label>
          <!-- Opcin 3: Personalizada -->
          <label style="display: block; background: linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%); border: 1px solid rgba(155, 89, 182, 0.3); border-radius: 8px; padding: 14px; margin-bottom: 16px; cursor: pointer; transition: all 0.3s ease;"
                 onmouseover="this.style.borderColor='rgba(155, 89, 182, 0.6)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.25) 0%, rgba(155, 89, 182, 0.08) 100%)'"
                 onmouseout="this.style.borderColor='rgba(155, 89, 182, 0.3)'; this.style.background='linear-gradient(90deg, rgba(155, 89, 182, 0.15) 0%, rgba(155, 89, 182, 0.05) 100%)'">
            <div style="display: flex; align-items: flex-start; gap: 10px;">
              <input type="radio" name="reviveOption" value="custom" style="accent-color: #9b59b6; transform: scale(1.2); margin-top: 2px;">
              <i class="bi bi-gear-fill" style="color: #9b59b6; font-size: 1.1em; margin-top: 2px;"></i>
              <div style="flex: 1;">
                <div style="color: #9b59b6; font-weight: 700; font-size: 1.05em; margin-bottom: 8px;">Resurreccin Personalizada</div>
                <input id="customHpInput" type="number" min="1" max="${n.character.maxHp}" placeholder="Cantidad de HP" disabled style="width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(155, 89, 182, 0.4); border-radius: 6px; padding: 8px 12px; color: #fff; font-size: 0.95em; transition: all 0.3s ease;" onfocus="this.style.borderColor='#9b59b6'; this.style.boxShadow='0 0 8px rgba(155, 89, 182, 0.3)'" onblur="this.style.borderColor='rgba(155, 89, 182, 0.4)'; this.style.boxShadow='none'">
                <div style="color: #aaa; font-size: 0.85em; margin-top: 4px;">Especifica la cantidad exacta de HP</div>
              </div>
            </div>
          </label>
        </div>
        <div style="background: rgba(52, 152, 219, 0.1); border: 1px solid rgba(52, 152, 219, 0.3); border-radius: 6px; padding: 12px; text-align: center;">
          <i class="bi bi-info-circle-fill" style="color: #3498db; margin-right: 8px;"></i>
          <span style="color: #bbb; font-size: 0.9em;">Vida mxima actual: <strong style="color: #3498db;">${n.character.maxHp} HP</strong></span>
        </div>
      </div>
    `,customClass:{popup:"dnd-modal-popup",title:"dnd-modal-title",htmlContainer:"dnd-modal-content",confirmButton:"dnd-confirm-btn",cancelButton:"dnd-cancel-btn"},showCancelButton:!0,confirmButtonText:`
      <i class="bi bi-magic" style="margin-right: 8px; color: #d4af37;"></i>
      Realizar Ritual
    `,cancelButtonText:`
      <i class="bi bi-x-circle" style="margin-right: 6px;"></i>
      Cancelar
    `,background:"#1a1a1a",color:"#ffffff",preConfirm:()=>{const A=document.querySelector('input[name="reviveOption"]:checked').value;if(A==="custom"){const re=parseInt(document.getElementById("customHpInput").value);return isNaN(re)||re<1||re>n.character.maxHp?(le.showValidationMessage(`Introduce un valor entre 1 y ${n.character.maxHp}`),!1):re}return A==="half"?Math.floor(n.character.maxHp/2):1},didOpen:()=>{const A=document.createElement("style");A.textContent=`
        .dnd-modal-popup {
          background: linear-gradient(145deg, #2c2c2c 0%, #1a1a1a 100%) !important;
          border: 2px solid #d4af37 !important;
          border-radius: 16px !important;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.7), 0 0 30px rgba(212, 175, 55, 0.2) !important;
        }
        .dnd-modal-title {
          color: #d4af37 !important;
          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8) !important;
          font-weight: 700 !important;
          font-size: 1.4em !important;
        }
        .dnd-confirm-btn {
          background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%) !important;
          color: #1a1a1a !important;
          border: none !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 600 !important;
          font-size: 1.05em !important;
          transition: all 0.3s ease !important;
          box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3) !important;
        }
        .dnd-confirm-btn:hover {
          background: linear-gradient(135deg, #e6c451 0%, #d4af37 100%) !important;
          transform: translateY(-2px) !important;
          box-shadow: 0 6px 16px rgba(212, 175, 55, 0.4) !important;
        }
        .dnd-cancel-btn {
          background: linear-gradient(135deg, #555 0%, #333 100%) !important;
          color: #fff !important;
          border: 1px solid #666 !important;
          padding: 12px 24px !important;
          border-radius: 8px !important;
          font-weight: 500 !important;
          transition: all 0.3s ease !important;
        }
        .dnd-cancel-btn:hover {
          background: linear-gradient(135deg, #666 0%, #444 100%) !important;
          border-color: #777 !important;
          transform: translateY(-1px) !important;
        }
        .swal2-actions {
          gap: 16px !important;
          margin-top: 24px !important;
        }
      `,document.head.appendChild(A);const re=le.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),J=le.getHtmlContainer().querySelector("#customHpInput");re.forEach(P=>{P.addEventListener("change",()=>{P.value==="custom"?(J.disabled=!1,J.focus()):J.disabled=!0})})}});q&&q>0&&n.revive(q)},$=()=>{le.fire({title:"Resetear Turno?",text:"Quieres volver al turno 0?",icon:"question",showCancelButton:!0,confirmButtonText:"S, resetear",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&n.resetTurn()})},_=()=>{t.push("/config")},V=()=>{t.push("/logs")},be=()=>{le.fire({title:"Descanso Largo",text:"Quieres restaurar la vida al mximo, reiniciar el turno y recargar contadores?",icon:"question",showCancelButton:!0,confirmButtonText:"S, descansar",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&(n.resetToMaxHp(),n.resetTurn(),o.regenerateCountersByRest("long"))})},K=()=>{le.fire({title:"Descanso Corto",text:"Quieres reiniciar el contador de turnos y recargar contadores? (La vida no se restaura)",icon:"question",showCancelButton:!0,confirmButtonText:"S, reiniciar turnos",cancelButtonText:"Cancelar"}).then(q=>{q.isConfirmed&&(n.resetTurn(),o.regenerateCountersByRest("short"))})},W=()=>{const q=n.character.originalMaxHp-n.character.maxHp;le.fire({title:"Curar Dao Necro",html:`
      <div style="margin-bottom: 20px;">
        <p style="margin-bottom: 15px; color: #ecf0f1;">Dao necro acumulado: <strong style="color: #e74c3c;">${q} HP</strong></p>
        <input id="heal-necro-amount" type="number" placeholder="Cantidad a curar" min="1" max="${q}" value="1" class="swal2-input" style="width: 100%; margin-bottom: 15px;">
        <div style="text-align: left; background: rgba(231, 76, 60, 0.2); padding: 12px; border-radius: 8px; border: 1px solid rgba(231, 76, 60, 0.3);">
          <p style="margin: 0; color: #e74c3c; font-size: 0.9rem;">
            <strong>Qu hace esta accin?</strong><br>
            - Aumenta tu HP mximo en la cantidad especificada<br>
            - Cura tu HP actual en la misma cantidad
          </p>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Curar",cancelButtonText:"Cancelar",preConfirm:()=>{const A=document.getElementById("heal-necro-amount").value;if(!A||A<=0)return le.showValidationMessage("Debes ingresar un nmero vlido"),!1;const re=parseInt(A);return re>q?(le.showValidationMessage(`No puedes curar ms dao necro del acumulado (${q} HP)`),!1):{amount:re}}}).then(A=>{if(A.isConfirmed){const{amount:re}=A.value;ve(re)}})},ve=q=>{const A=n.character.maxHp,re=n.character.currentHp;n.character.maxHp=Math.min(n.character.originalMaxHp,n.character.maxHp+q),n.character.currentHp=Math.min(n.character.maxHp,n.character.currentHp+q),n.addLog("Curar Dao Necro",`HP mximo restaurado: +${n.character.maxHp-A} (${A}  ${n.character.maxHp}) | HP actual curado: +${n.character.currentHp-re} (${re}  ${n.character.currentHp})`),n.saveToLocalStorage(),le.fire({icon:"success",title:"Dao Necro Curado",text:`Has curado ${q} puntos de dao necro`,timer:2e3,showConfirmButton:!1})};return(q,A)=>(C(),x("div",Ky,[s("div",Xy,[Q(a).selectedState?(C(),x("div",Yy,[i.value?(C(),x("img",{key:0,src:i.value,alt:"Estado del personaje",class:"state-image-display"},null,8,Jy)):se("",!0),s("h1",Qy,B(Q(n).character.name),1),s("span",Zy,B(Q(a).selectedState.title),1)])):(C(),x("h1",e0,B(Q(n).character.name),1)),s("div",t0,[A[4]||(A[4]=s("span",{class:"turn-label"},"Turno:",-1)),s("span",n0,B(Q(n).turn.current),1)])]),s("div",o0,[s("div",s0,[A[6]||(A[6]=s("h2",null,"Puntos de Vida",-1)),s("div",a0,[s("span",i0,B(Q(n).character.currentHp),1),A[5]||(A[5]=s("span",{class:"separator"},"/",-1)),s("span",r0,B(Q(n).character.maxHp),1),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("span",l0,"  ")):se("",!0)])]),s("div",c0,[s("div",u0,[s("div",{class:ze(["health-fill",Q(n).hasTempHp?"temp-hp":Q(n).hpBarColor]),style:ln({width:`${Q(n).hpPercentage}%`})},null,6),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("div",{key:0,class:"necro-bar-indicator",style:ln({left:`${Q(n).character.maxHp/Q(n).character.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):se("",!0)]),s("div",d0,B(Math.round(Q(n).hpPercentage))+"%",1)]),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("div",f0,[A[7]||(A[7]=s("span",{class:"necro-icon"},"",-1)),s("span",p0,"HP mximo reducido por dao necro: "+B(Q(n).character.maxHp)+" / "+B(Q(n).character.originalMaxHp),1)])):se("",!0)]),Q(n).hasTempHp?(C(),x("div",m0,[s("div",h0,[A[8]||(A[8]=s("h3",null,"Vida Temporal",-1)),s("span",g0,B(Q(n).character.tempHp),1)]),s("div",v0,[s("div",b0,[s("div",{class:"temp-health-fill",style:ln({width:`${Q(n).tempHpPercentage}%`})},null,4)])])])):se("",!0),Q(n).character.regeneration>0?(C(),x("div",w0,[A[9]||(A[9]=s("span",{class:"regeneration-icon"},"",-1)),s("span",y0,"Regeneracin: +"+B(Q(n).character.regeneration)+" HP/turno",1)])):se("",!0),s("div",C0,[s("div",null,[s("button",{onClick:k,class:"fold-btn"},[m.value?(C(),x("span",x0," Mostrar Contadores")):(C(),x("span",_0," Ocultar Contadores"))]),z(s("div",null,[Xe(u1)],512),[[Ka,!m.value]])]),s("div",null,[s("button",{onClick:O,class:"fold-btn"},[g.value?(C(),x("span",k0," Mostrar Estados")):(C(),x("span",S0," Ocultar Estados"))]),z(s("div",null,[Xe(E1)],512),[[Ka,!g.value]])])]),s("div",$0,[Q(n).turn.isActive?(C(),x("button",{key:1,onClick:L,class:"action-btn btn-end-turn"},A[11]||(A[11]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Finalizar Turno",-1)]))):(C(),x("button",{key:0,onClick:I,class:"action-btn btn-start-turn"},A[10]||(A[10]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Iniciar Turno",-1)]))),s("button",{onClick:ie,class:"action-btn btn-heal",disabled:!Q(n).isAlive||Q(n).character.currentHp>=Q(n).character.maxHp},A[12]||(A[12]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Curar",-1)]),8,D0),s("button",{onClick:pe,class:"action-btn btn-temp-hp",disabled:!Q(n).isAlive},A[13]||(A[13]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Vida Temporal",-1)]),8,E0),s("button",{onClick:de,class:"action-btn btn-damage",disabled:!Q(n).isAlive},A[14]||(A[14]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Recibir Dao",-1)]),8,T0),s("button",{onClick:N,class:"action-btn btn-resistant-damage",disabled:!Q(n).isAlive},A[15]||(A[15]=[s("span",{class:"btn-icon"},[s("i",{"data-v-6dd7d5c6":"",class:"bi bi-shield-slash"})],-1),s("span",{class:"btn-text"},"Dao Resistente",-1)]),8,A0),Q(n).character.maxHp<Q(n).character.originalMaxHp?(C(),x("button",{key:2,onClick:W,class:"action-btn btn-restore-max",title:"Curar una cantidad especfica de dao necro"},A[16]||(A[16]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Curar Dao Necro",-1)]))):se("",!0),s("button",{onClick:A[0]||(A[0]=re=>f.value=!0),class:"action-btn btn-attack-manager",disabled:!Q(n).isAlive},A[17]||(A[17]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Gestor de Ataques",-1)]),8,I0),s("button",{onClick:A[1]||(A[1]=re=>p.value=!0),class:"action-btn btn-passive-damage-manager",disabled:!Q(n).isAlive},A[18]||(A[18]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Dao Pasivo",-1)]),8,H0)]),f.value?(C(),yn(my,{key:2,onClose:A[2]||(A[2]=re=>f.value=!1)})):se("",!0),p.value?(C(),yn(Wy,{key:3,onClose:A[3]||(A[3]=re=>p.value=!1)})):se("",!0),s("div",R0,[s("button",{onClick:be,class:"secondary-btn btn-long-rest"},A[19]||(A[19]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Descanso Largo",-1)])),s("button",{onClick:K,class:"secondary-btn btn-short-rest"},A[20]||(A[20]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Descanso Corto",-1)])),Q(a).selectedState?(C(),x("div",P0,[s("button",{onClick:E,class:"state-selector-fold-btn"},[D.value?(C(),x("span",O0," Mostrar Selector de Estados")):(C(),x("span",M0," Ocultar Selector de Estados"))]),z(s("div",B0,[s("button",{onClick:c,class:"state-nav-btn state-nav-prev",disabled:Q(a).states.length<=1,title:"Estado anterior"},A[21]||(A[21]=[s("span",null,"",-1)]),8,N0),s("div",L0,[(C(!0),x(De,null,Re(Q(a).states,re=>(C(),x("button",{key:re.id,onClick:J=>l(re.id),class:ze(["state-indicator",{active:re.id===Q(a).selectedStateId}])},[s("div",j0,[re.image?(C(),x("img",{key:0,src:r(re),alt:re.title,class:"state-preview-image"},null,8,U0)):(C(),x("div",F0,A[22]||(A[22]=[s("span",null,"",-1)])))]),s("span",z0,B(re.title),1)],10,V0))),128))]),s("button",{onClick:u,class:"state-nav-btn state-nav-next",disabled:Q(a).states.length<=1,title:"Estado siguiente"},A[23]||(A[23]=[s("span",null,"",-1)]),8,q0)],512),[[Ka,!D.value]])])):se("",!0),s("button",{onClick:T,class:"secondary-btn btn-reset"},A[24]||(A[24]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Resetear HP",-1)])),Q(n).isAlive?se("",!0):(C(),x("button",{key:1,onClick:H,class:"secondary-btn btn-revive"},A[25]||(A[25]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Revivir",-1)]))),s("button",{onClick:$,class:"secondary-btn btn-reset-turn"},A[26]||(A[26]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Resetear Turno",-1)])),s("button",{onClick:V,class:"secondary-btn btn-logs"},A[27]||(A[27]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Ver Historial",-1)])),s("button",{onClick:_,class:"secondary-btn btn-config"},A[28]||(A[28]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Configuracin",-1)]))])]))}},W0=ft(G0,[["__scopeId","data-v-5c90fa34"]]),K0={class:"logs-view-container fade-in"},X0={class:"logs-header"},Y0={class:"logs-stats"},J0={class:"stats-item"},Q0={class:"stats-value"},Z0={class:"stats-item"},e2={class:"stats-value"},t2={class:"logs-filters"},n2={class:"filter-group"},o2={class:"filter-group"},s2=["value"],a2={class:"logs-content"},i2={key:0,class:"no-logs"},r2={key:1,class:"logs-list"},l2={class:"turn-header"},c2={class:"turn-title"},u2={class:"turn-count"},d2={class:"turn-logs"},f2={class:"log-header"},p2={class:"log-action"},m2={class:"action-icon"},h2={class:"action-name"},g2={class:"log-time"},v2={class:"log-details"},b2={class:"log-description"},w2={key:0,class:"hp-changes"},y2={key:0,class:"hp-change"},C2={key:1,class:"hp-change"},x2={__name:"LogsView",setup(e){const t=ys(),n=lo(),o=Z(""),a=Z("");Mt(()=>{n.loadData(),n.character.isConfigured||t.push("/config")});const i=Le(()=>Object.keys(n.logsByTurn).map(Number).sort((h,k)=>k-h)),r=Le(()=>{let y=n.logs;return o.value&&(y=y.filter(h=>h.action===o.value)),a.value!==""&&(y=y.filter(h=>h.turn===a.value)),y}),l=Le(()=>{const y={};return r.value.forEach(h=>{y[h.turn]||(y[h.turn]=[]),y[h.turn].push(h)}),Object.fromEntries(Object.entries(y).sort(([h],[k])=>Number(k)-Number(h)))}),c=()=>{o.value="",a.value=""},u=y=>({"Inicio de Turno":"log-turn-start","Fin de Turno":"log-turn-end",Curacin:"log-heal","Regeneracin Automtica":"log-regen","Vida Temporal":"log-temp","Dao Recibido":"log-damage","Reset HP":"log-reset","Reset Turno":"log-reset-turn",Configuracin:"log-config"})[y]||"log-default",f=y=>({"Inicio de Turno":"","Fin de Turno":"",Curacin:"","Regeneracin Automtica":"","Vida Temporal":"","Dao Recibido":"","Reset HP":"","Reset Turno":"",Configuracin:""})[y]||"",p=(y,h)=>h>y?"hp-increase":h<y?"hp-decrease":"hp-no-change",m=()=>{const y=n.logs.map(E=>`[${E.timestamp}] Turno ${E.turn} - ${E.action}: ${E.details}`).join(`
`),h=new Blob([y],{type:"text/plain"}),k=URL.createObjectURL(h),O=document.createElement("a");O.href=k,O.download=`dnd-logs-${n.character.name}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(k),le.fire({icon:"success",title:"Logs Exportados",text:"Los logs se han descargado correctamente",timer:2e3,showConfirmButton:!1})},g=()=>{t.push("/character")},D=()=>{le.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(y=>{y.isConfirmed&&(n.clearAllLogs(),le.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})};return(y,h)=>(C(),x("div",K0,[s("div",X0,[h[4]||(h[4]=s("h1",{class:"logs-title"}," Historial de Acciones",-1)),s("div",Y0,[s("span",J0,[h[2]||(h[2]=s("span",{class:"stats-label"},"Total de Acciones:",-1)),s("span",Q0,B(Q(n).logs.length),1)]),s("span",Z0,[h[3]||(h[3]=s("span",{class:"stats-label"},"Turnos Registrados:",-1)),s("span",e2,B(Object.keys(Q(n).logsByTurn).length),1)])])]),s("div",t2,[s("div",n2,[h[6]||(h[6]=s("label",{for:"actionFilter",class:"filter-label"},"Filtrar por Accin:",-1)),z(s("select",{id:"actionFilter","onUpdate:modelValue":h[0]||(h[0]=k=>o.value=k),class:"filter-select"},h[5]||(h[5]=[jn('<option value="" data-v-8b35ab23>Todas las acciones</option><option value="Inicio de Turno" data-v-8b35ab23>Inicio de Turno</option><option value="Fin de Turno" data-v-8b35ab23>Fin de Turno</option><option value="Curacin" data-v-8b35ab23>Curacin</option><option value="Regeneracin Automtica" data-v-8b35ab23>Regeneracin Automtica</option><option value="Vida Temporal" data-v-8b35ab23>Vida Temporal</option><option value="Dao Recibido" data-v-8b35ab23>Dao Recibido</option><option value="Reset HP" data-v-8b35ab23>Reset HP</option><option value="Reset Turno" data-v-8b35ab23>Reset Turno</option><option value="Configuracin" data-v-8b35ab23>Configuracin</option>',10)]),512),[[gt,o.value]])]),s("div",o2,[h[8]||(h[8]=s("label",{for:"turnFilter",class:"filter-label"},"Filtrar por Turno:",-1)),z(s("select",{id:"turnFilter","onUpdate:modelValue":h[1]||(h[1]=k=>a.value=k),class:"filter-select"},[h[7]||(h[7]=s("option",{value:""},"Todos los turnos",-1)),(C(!0),x(De,null,Re(i.value,k=>(C(),x("option",{key:k,value:k}," Turno "+B(k),9,s2))),128))],512),[[gt,a.value]])]),s("button",{onClick:c,class:"clear-filters-btn"},h[9]||(h[9]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Limpiar Filtros",-1)]))]),s("div",a2,[r.value.length===0?(C(),x("div",i2,h[10]||(h[10]=[s("div",{class:"no-logs-icon"},"",-1),s("h3",null,"No hay logs para mostrar",-1),s("p",null,"Los logs aparecern aqu cuando realices acciones con tu personaje",-1)]))):(C(),x("div",r2,[(C(!0),x(De,null,Re(l.value,(k,O)=>(C(),x("div",{key:O,class:"turn-group"},[s("div",l2,[s("h2",c2,[h[11]||(h[11]=s("span",{class:"turn-icon"},"",-1)),X(" Turno "+B(O),1)]),s("span",u2,B(k.length)+" acciones",1)]),s("div",d2,[(C(!0),x(De,null,Re(k,E=>(C(),x("div",{key:E.id,class:ze(["log-entry",u(E.action)])},[s("div",f2,[s("div",p2,[s("span",m2,B(f(E.action)),1),s("span",h2,B(E.action),1)]),s("div",g2,B(E.timestamp),1)]),s("div",v2,[s("p",b2,B(E.details),1),E.hpBefore!==E.hpAfter||E.tempHpBefore!==E.tempHpAfter?(C(),x("div",w2,[E.hpBefore!==E.hpAfter?(C(),x("div",y2,[h[12]||(h[12]=s("span",{class:"change-label"},"HP:",-1)),s("span",{class:ze(["change-value",p(E.hpBefore,E.hpAfter)])},B(E.hpBefore)+"  "+B(E.hpAfter),3)])):se("",!0),E.tempHpBefore!==E.tempHpAfter?(C(),x("div",C2,[h[13]||(h[13]=s("span",{class:"change-label"},"HP Temporal:",-1)),s("span",{class:ze(["change-value",p(E.tempHpBefore,E.tempHpAfter)])},B(E.tempHpBefore)+"  "+B(E.tempHpAfter),3)])):se("",!0)])):se("",!0)])],2))),128))])]))),128))]))]),s("div",{class:"logs-actions"},[s("button",{onClick:D,class:"action-btn btn-clear"},h[14]||(h[14]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Limpiar Logs",-1)])),s("button",{onClick:m,class:"action-btn btn-export"},h[15]||(h[15]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Exportar Logs",-1)])),s("button",{onClick:g,class:"action-btn btn-character"},h[16]||(h[16]=[s("span",{class:"btn-icon"},"",-1),s("span",{class:"btn-text"},"Volver al Personaje",-1)]))])]))}},_2=ft(x2,[["__scopeId","data-v-8b35ab23"]]),Td=Gn("dm",{state:()=>({characters:[],currentTurn:0,isTurnActive:!1,criticalHit:{rule:"default",characterLevel:1}}),getters:{aliveCharacters:e=>e.characters.filter(t=>t.currentHp>0),deadCharacters:e=>e.characters.filter(t=>t.currentHp<=0),aliveCount:e=>e.aliveCharacters.length,deadCount:e=>e.deadCharacters.length,getCharacterById:e=>t=>e.characters.find(n=>n.id===t),getCharacterByName:e=>t=>e.characters.find(n=>n.name===t),charactersByHp:e=>[...e.characters].sort((t,n)=>t.currentHp+t.tempHp-(n.currentHp+n.tempHp)),charactersByName:e=>[...e.characters].sort((t,n)=>t.name.localeCompare(n.name))},actions:{createCharacter(e,t,n=0,o="",a="",i="",r="",l="",c="",u="",f="",p="",m="",g="",D=0){const y={id:st(),name:e.trim(),challengeRating:D,maxHp:parseInt(t),originalMaxHp:parseInt(t),currentHp:parseInt(t),tempHp:0,regeneration:parseInt(n)||0,xp:o,resistencias:a,inmunidades:i,fuerza:r,destreza:l,constitucion:c,inteligencia:u,sabiduria:f,carisma:p,notas:m,ca:g,isConfigured:!0,createdAt:new Date().toISOString(),logs:[],defeatedBy:null,attacks:[]};return this.characters.push(y),this.addLogToCharacter(y.id,"Creacin",`${e} creado con ${t} HP`),this.saveData(),y},deleteCharacter(e){const t=this.characters.findIndex(n=>n.id===e);return t!==-1?(this.characters.splice(t,1),this.saveData(),!0):!1},editCharacter(e,t){const n=this.getCharacterById(e);return n?(Object.assign(n,t),t.maxHp!==void 0&&(n.maxHp=parseInt(t.maxHp,10)),t.currentHp!==void 0&&(n.currentHp=parseInt(t.currentHp,10)),t.regeneration!==void 0&&(n.regeneration=parseInt(t.regeneration,10)||0),t.challengeRating!==void 0&&(n.challengeRating=parseInt(t.challengeRating,10)||0),this.addLogToCharacter(e,"Edicin","Personaje editado"),this.saveData(),!0):!1},addLogToCharacter(e,t,n){const o=this.getCharacterById(e);if(o){const a={id:st(),timestamp:new Date().toLocaleTimeString(),turn:this.currentTurn,action:t,details:n};o.logs.unshift(a),o.logs.length>50&&(o.logs.length=50)}},healCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.currentHp;return n.currentHp=Math.min(n.maxHp,n.currentHp+parseInt(t)),n.currentHp>o&&(this.addLogToCharacter(e,"Curacin",`+${n.currentHp-o} HP`),this.saveData()),n.currentHp-o}return 0},addTempHpToCharacter(e,t){const n=this.getCharacterById(e);return n?(n.tempHp+=parseInt(t),this.addLogToCharacter(e,"Vida Temporal",`+${t} HP temporal`),this.saveData(),n.tempHp):0},damageCharacter(e,t,n=!1){const o=this.getCharacterById(e);if(o){let a=parseInt(t);const i=Math.min(a,o.tempHp);return o.tempHp-=i,a-=i,o.currentHp=Math.max(0,o.currentHp-a),n&&(o.maxHp=Math.max(1,o.maxHp-a)),this.addLogToCharacter(e,"Dao Recibido",`-${t} HP`),this.saveData(),{damageDealt:t,remainingHp:o.currentHp}}return null},setDefeatedBy(e,t){const n=this.getCharacterById(e);return n?(n.defeatedBy=t,this.saveData(),!0):!1},resetCharacterToMaxHp(e){const t=this.getCharacterById(e);return t?(t.currentHp=t.originalMaxHp,t.maxHp=t.originalMaxHp,t.tempHp=0,t.defeatedBy=null,this.addLogToCharacter(e,"Reset HP","HP restaurado al mximo"),this.saveData(),!0):!1},reviveCharacter(e,t=1){const n=this.getCharacterById(e);return n&&n.currentHp<=0?(n.currentHp=Math.min(parseInt(t)||1,n.maxHp),n.tempHp=0,n.defeatedBy=null,this.addLogToCharacter(e,"Revivir",`Personaje revivido con ${n.currentHp} HP`),this.saveData(),!0):!1},startTurn(){this.currentTurn++,this.isTurnActive=!0,this.characters.forEach(e=>{e.regeneration>0&&e.currentHp>0&&this.healCharacter(e.id,e.regeneration)}),this.saveData()},endTurn(){this.isTurnActive=!1,this.saveData()},resetAllTurns(){this.currentTurn=0,this.isTurnActive=!1,this.saveData()},resetAllCharacters(){this.characters.forEach(e=>this.resetCharacterToMaxHp(e.id))},clearAllLogs(){this.characters.forEach(e=>{e.logs=[]}),this.saveData()},duplicateCharacter(e){const t=this.getCharacterById(e);if(t){const n=JSON.parse(JSON.stringify(t));n.id=st(),n.name=`${t.name} (Copia)`,this.characters.push(n),this.addLogToCharacter(n.id,"Clonacin",`Clonado de ${t.name}`),this.saveData()}},clearAllData(){this.characters=[],this.currentTurn=0,this.isTurnActive=!1,this.saveData()},updateCriticalHitConfig(e){this.criticalHit={...this.criticalHit,...e},this.saveData()},addAttackToCharacter(e,t){const n=this.getCharacterById(e);n&&(n.attacks.push({...t,id:st()}),this.saveData())},updateAttackInCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.attacks.findIndex(a=>a.id===t.id);o!==-1&&(n.attacks[o]=t,this.saveData())}},deleteAttackFromCharacter(e,t){const n=this.getCharacterById(e);n&&(n.attacks=n.attacks.filter(o=>o.id!==t),this.saveData())},duplicateAttackInCharacter(e,t){const n=this.getCharacterById(e);if(n){const o=n.attacks.find(a=>a.id===t);if(o){const a={...o,id:st(),name:`${o.name} (Copia)`},i=n.attacks.findIndex(r=>r.id===t);n.attacks.splice(i+1,0,a),this.saveData()}}},updateCharacterAttackOrder(e,t){const n=this.getCharacterById(e);n&&(n.attacks=t.map(o=>n.attacks.find(a=>a.id===o)).filter(Boolean),this.saveData())},saveData(){const e=lt(),t={characters:this.characters,currentTurn:this.currentTurn,isTurnActive:this.isTurnActive,criticalHit:this.criticalHit};e.updateSection("dm",t)},loadData(){const t=lt().getSection("dm");t&&(this.characters=t.characters||[],this.currentTurn=t.currentTurn||0,this.isTurnActive=t.isTurnActive||!1,this.criticalHit=t.criticalHit||{rule:"default",characterLevel:1},this.characters.forEach(n=>{n.attacks||(n.attacks=[])}))}}}),k2=["Acrobacias","Arcanos","Atletismo","Engao","Historia","Interpretacin","Intimidacin","Investigacin","Juego de Manos","Medicina","Naturaleza","Percepcin","Perspicacia","Persuasin","Religin","Sigilo","Supervivencia","Trato con Animales"],Vl=()=>k2.map(e=>({id:st(),name:e,value:0,step:1,isVisible:!0})),Ad=Gn("player",{state:()=>({players:[]}),getters:{mostUsedXpValues:e=>{const t=e.players.flatMap(n=>n.xpHistory||[]).reduce((n,o)=>(n[o.amount]=(n[o.amount]||0)+1,n),{});return Object.entries(t).sort(([,n],[,o])=>o-n).slice(0,3).map(([n])=>parseInt(n))}},actions:{loadData(){const t=lt().getSection("players");t&&(this.players=t.map(n=>({...n,counters:n.counters||Vl()})))},saveData(){lt().updateSection("players",this.players)},addPlayer(e){if(!e||!e.trim())return;const t={id:st(),name:e.trim(),sessionXp:0,xpHistory:[],notes:"",counters:Vl()};this.players.push(t),this.saveData()},deletePlayer(e){this.players=this.players.filter(t=>t.id!==e),this.saveData()},addXpToPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&t>0&&(n.sessionXp=(n.sessionXp||0)+parseInt(t),n.xpHistory||(n.xpHistory=[]),n.xpHistory.push({amount:parseInt(t),timestamp:new Date().toISOString()}),this.saveData())},addXpToAllPlayers(e){e>0&&this.players.forEach(t=>this.addXpToPlayer(t.id,e))},startNewSession(){this.players.forEach(e=>{e.sessionXp=0,e.xpHistory=[]}),this.saveData()},removeXpFromPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&t>0&&(n.sessionXp-=parseInt(t),n.xpHistory.push({amount:-parseInt(t),timestamp:new Date().toISOString()}),this.saveData())},editPlayer(e,t){const n=this.players.find(o=>o.id===e);n&&(Object.assign(n,t),this.saveData())},_getPlayer(e){return this.players.find(t=>t.id===e)},addCounter(e,t){const n=this._getPlayer(e);n&&(n.counters.push({id:st(),name:t.name||"Nuevo Contador",value:t.value||0,step:t.step||1,isVisible:!0}),this.saveData())},editCounter(e,t,n){const o=this._getPlayer(e),a=o==null?void 0:o.counters.find(i=>i.id===t);a&&(Object.assign(a,n),this.saveData())},deleteCounter(e,t){const n=this._getPlayer(e);n&&(n.counters=n.counters.filter(o=>o.id!==t),this.saveData())},updateCounterValue(e,t,n){const o=this._getPlayer(e),a=o==null?void 0:o.counters.find(i=>i.id===t);a&&(a.value+=n,this.saveData())}}}),S2={key:0,class:"content"},$2={class:"turn-controls"},D2=["disabled"],E2=["disabled"],T2={key:0,class:"initiative-list"},A2=["draggable","onDragstart","onDrop","onTouchstart","onClick"],I2={class:"turn-indicator"},H2={class:"turn-number"},R2={class:"item-name"},P2={key:0,class:"mobile-reorder-buttons"},O2=["onClick","disabled"],M2=["onClick","disabled"],B2=["onClick"],N2={key:1,class:"empty-list"},L2={class:"add-character-section"},V2=["disabled"],j2={__name:"DraggableList",props:{characters:{type:Array,required:!0},players:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=e,o=t,a=Kt({x:100,y:100}),i=Z(!1),r=Z([]),l=Z(null),c=Z(""),u=Z(null),f=Z(window.innerWidth<=768);let p=!1,m=null,g=null;const D=Le(()=>window.innerWidth<=768?{}:{top:a.y+"px",left:a.x+"px"}),y=()=>{o("close")},h=()=>{window.innerWidth<=768&&o("close")},k=Le(()=>{const K=n.characters.map(ve=>({...ve,type:"character"}));return[...n.players.map(ve=>({...ve,type:"player"})),...K]});cn(k,K=>{const W=[],ve=new Set(K.map(A=>A.id));r.value.forEach(A=>{ve.has(A.id)&&W.push(A)});const q=new Set(W.map(A=>A.id));K.forEach(A=>{q.has(A.id)||W.push(A)}),r.value=W},{immediate:!0,deep:!0}),Mt(()=>{const K=()=>{f.value=window.innerWidth<=768};window.addEventListener("resize",K),qn(()=>{window.removeEventListener("resize",K)})});const O=K=>{if(window.innerWidth<=768)return;p=!0;const W=K.clientX-a.x,ve=K.clientY-a.y,q=re=>{p&&(a.x=re.clientX-W,a.y=re.clientY-ve)},A=()=>{p=!1,window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",A)};window.addEventListener("mousemove",q),window.addEventListener("mouseup",A)},E=()=>{i.value=!i.value},I=K=>{m=K},L=K=>{if(m===null||m===K)return;const W=r.value.splice(m,1)[0];r.value.splice(K,0,W),l.value!==null&&(m===l.value?l.value=K:m<l.value&&K>=l.value?l.value--:m>l.value&&K<=l.value&&l.value++),m=null,u.value=null},ie=(K,W)=>{if(W.target.closest("button"))return;const ve=W.touches[0];g={startIndex:K,startY:ve.clientY,currentIndex:K,moving:!1},u.value=K,W.preventDefault()},pe=K=>{if(!g)return;const W=K.touches[0],ve=W.clientY-g.startY;if(Math.abs(ve)>10&&(g.moving=!0),!g.moving)return;const q=document.querySelectorAll(".initiative-list li");let A=g.startIndex;if(q.forEach((re,J)=>{const P=re.getBoundingClientRect();P.top+P.height/2,W.clientY>P.top&&W.clientY<P.bottom&&(A=J)}),A!==g.currentIndex){const re=r.value.splice(g.currentIndex,1)[0];r.value.splice(A,0,re),l.value!==null&&(g.currentIndex===l.value?l.value=A:g.currentIndex<l.value&&A>=l.value?l.value--:g.currentIndex>l.value&&A<=l.value&&l.value++),g.currentIndex=A}K.preventDefault()},de=()=>{g=null,u.value=null},N=K=>{if(K===0)return;const W=r.value.splice(K,1)[0];r.value.splice(K-1,0,W),l.value!==null&&(l.value===K?l.value=K-1:l.value===K-1&&(l.value=K))},T=K=>{if(K===r.value.length-1)return;const W=r.value.splice(K,1)[0];r.value.splice(K+1,0,W),l.value!==null&&(l.value===K?l.value=K+1:l.value===K+1&&(l.value=K))},H=K=>{l.value=K},$=()=>{r.value.length!==0&&(l.value===null?l.value=0:l.value=(l.value+1)%r.value.length)},_=()=>{r.value.length>0?l.value=0:l.value=null},V=()=>{if(!c.value.trim())return;const K={id:st(),name:c.value.trim(),type:"custom"};r.value.push(K),c.value=""},be=K=>{r.value.splice(K,1),l.value!==null&&(K===l.value?r.value.length>0?l.value=Math.min(l.value,r.value.length-1):l.value=null:K<l.value&&l.value--)};return(K,W)=>(C(),x("div",{class:"draggable-list-overlay",onClick:Be(h,["self"])},[s("div",{class:"draggable-list",style:ln(D.value)},[s("div",{class:"header",onMousedown:O},[W[4]||(W[4]=s("span",null," Orden de Iniciativa",-1)),s("button",{onClick:E,class:"minimize-btn"},B(i.value?"":""),1),s("button",{onClick:y,class:"close-btn"},"")],32),i.value?se("",!0):(C(),x("div",S2,[s("div",$2,[s("button",{onClick:$,class:"btn-next-turn",disabled:r.value.length===0},W[5]||(W[5]=[s("i",{class:"bi bi-arrow-right-circle-fill"},null,-1),X(" Siguiente Turno ")]),8,D2),s("button",{onClick:_,class:"btn-reset-turn",disabled:r.value.length===0},W[6]||(W[6]=[s("i",{class:"bi bi-arrow-counterclockwise"},null,-1),X(" Resetear ")]),8,E2)]),r.value.length>0?(C(),x("ul",T2,[(C(!0),x(De,null,Re(r.value,(ve,q)=>(C(),x("li",{key:ve.id,class:ze([ve.type,{active:l.value===q,dragging:u.value===q}]),draggable:!f.value,onDragstart:A=>I(q),onDragover:W[0]||(W[0]=Be(()=>{},["prevent"])),onDrop:A=>L(q),onTouchstart:A=>f.value?null:ie(q,A),onTouchmove:W[1]||(W[1]=A=>f.value?null:pe(A)),onTouchend:W[2]||(W[2]=A=>f.value?null:de),onClick:A=>H(q)},[s("div",I2,[s("span",H2,B(q+1),1)]),s("i",{class:ze(["bi item-icon",ve.type==="player"?"bi-person-fill":"bi-shield-fill"])},null,2),s("span",R2,B(ve.name),1),f.value&&r.value.length>1?(C(),x("div",P2,[s("button",{onClick:Be(A=>N(q),["stop"]),class:"btn-reorder btn-up",disabled:q===0,title:"Mover arriba"},W[7]||(W[7]=[s("i",{class:"bi bi-chevron-up"},null,-1)]),8,O2),s("button",{onClick:Be(A=>T(q),["stop"]),class:"btn-reorder btn-down",disabled:q===r.value.length-1,title:"Mover abajo"},W[8]||(W[8]=[s("i",{class:"bi bi-chevron-down"},null,-1)]),8,M2)])):se("",!0),s("button",{onClick:Be(A=>be(q),["stop"]),class:"btn-remove",title:"Quitar de iniciativa"},W[9]||(W[9]=[s("i",{class:"bi bi-x"},null,-1)]),8,B2)],42,A2))),128))])):(C(),x("div",N2,W[10]||(W[10]=[s("p",null,"No hay personajes en la iniciativa",-1),s("small",null,"Aade jugadores desde el gestor o personajes manualmente",-1)]))),s("div",L2,[z(s("input",{"onUpdate:modelValue":W[3]||(W[3]=ve=>c.value=ve),onKeyup:an(V,["enter"]),type:"text",placeholder:"Aadir personaje/enemigo...",class:"input-add-character"},null,544),[[ee,c.value]]),s("button",{onClick:V,disabled:!c.value.trim(),class:"btn-add-character"},W[11]||(W[11]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1)]),8,V2)])]))],4)]))}},U2=ft(j2,[["__scopeId","data-v-0080f464"]]),F2={class:"header-actions"},z2={key:0,class:"content"},q2={class:"dice-config"},G2={class:"config-row"},W2={class:"config-row"},K2={class:"config-row"},X2=["disabled"],Y2={key:0,class:"bi bi-dice-1"},J2={key:1,class:"bi bi-arrow-clockwise rotating"},Q2={key:0,class:"result-section"},Z2={class:"current-result"},eC={class:"result-formula"},tC={class:"result-total"},nC={class:"dice-breakdown"},oC={class:"dice-values"},sC={key:0,class:"modifier-display"},aC={class:"history-section"},iC={class:"history-list"},rC={class:"history-formula"},lC={class:"history-result"},cC={class:"history-time"},uC={key:0,class:"no-history"},jl="diceRollerHistory",dC={__name:"DiceRoller",props:{characters:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=t,o=Kt({x:200,y:150}),a=Z(!1),i=Z(1),r=Z(20),l=Z(0),c=Z(null),u=Z([]),f=Z(!1);let p=!1;const m=Le(()=>window.innerWidth<=768?{}:{top:o.y+"px",left:o.x+"px"}),g=()=>{n("close")},D=()=>{window.innerWidth<=768&&n("close")};Mt(()=>{const L=localStorage.getItem(jl);if(L)try{u.value=JSON.parse(L)}catch(ie){console.error("Error loading dice history:",ie),u.value=[]}window.innerWidth>768&&(o.x=Math.random()*300+200,o.y=Math.random()*200+100)}),cn(u,L=>{localStorage.setItem(jl,JSON.stringify(L))},{deep:!0});const y=L=>{if(window.innerWidth<=768)return;p=!0;const ie=L.clientX-o.x,pe=L.clientY-o.y,de=T=>{p&&(o.x=Math.max(0,Math.min(window.innerWidth-320,T.clientX-ie)),o.y=Math.max(0,Math.min(window.innerHeight-100,T.clientY-pe)))},N=()=>{p=!1,window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",de),window.addEventListener("mouseup",N)},h=()=>{a.value=!a.value},k=L=>Math.floor(Math.random()*L)+1,O=async()=>{f.value=!0,await new Promise(N=>setTimeout(N,500));const L=[];for(let N=0;N<i.value;N++)L.push(k(r.value));const pe=L.reduce((N,T)=>N+T,0)+l.value,de={id:Date.now(),rolls:L,modifier:l.value,total:pe,formula:`${i.value}d${r.value}${l.value>0?"+"+l.value:l.value<0?l.value:""}`,time:new Date().toLocaleTimeString()};c.value=de,u.value.push(de),u.value.length>50&&(u.value=u.value.slice(-50)),f.value=!1},E=L=>{if(r.value===20){if(L===20)return"crit-success";if(L===1)return"crit-fail"}const ie=L/r.value;return ie>=.8?"high-roll":ie<=.2?"low-roll":"normal-roll"},I=()=>{confirm("Ests seguro de que quieres limpiar el historial?")&&(u.value=[],c.value=null)};return(L,ie)=>(C(),x("div",{class:"dice-roller-overlay",onClick:Be(D,["self"])},[s("div",{class:"dice-roller",style:ln(m.value)},[s("div",{class:"header",onMousedown:y},[ie[3]||(ie[3]=s("span",null,[s("i",{class:"bi bi-dice-6"}),X(" Lanzar Dados")],-1)),s("div",F2,[s("button",{onClick:h,class:"minimize-btn"},B(a.value?"+":"-"),1),s("button",{onClick:g,class:"close-btn"},"")])],32),a.value?se("",!0):(C(),x("div",z2,[s("div",q2,[s("div",G2,[ie[4]||(ie[4]=s("label",null,"Cantidad:",-1)),z(s("input",{type:"number","onUpdate:modelValue":ie[0]||(ie[0]=pe=>i.value=pe),class:"dice-count-input"},null,512),[[ee,i.value]])]),s("div",W2,[ie[6]||(ie[6]=s("label",null,"Tipo:",-1)),z(s("select",{"onUpdate:modelValue":ie[1]||(ie[1]=pe=>r.value=pe)},ie[5]||(ie[5]=[jn('<option value="4" data-v-8b11b9f4>d4</option><option value="6" data-v-8b11b9f4>d6</option><option value="8" data-v-8b11b9f4>d8</option><option value="10" data-v-8b11b9f4>d10</option><option value="12" data-v-8b11b9f4>d12</option><option value="20" data-v-8b11b9f4>d20</option><option value="100" data-v-8b11b9f4>d100</option>',7)]),512),[[gt,r.value]])]),s("div",K2,[ie[7]||(ie[7]=s("label",null,"Modificador:",-1)),z(s("input",{"onUpdate:modelValue":ie[2]||(ie[2]=pe=>l.value=pe),type:"number",class:"modifier-input",placeholder:"+0"},null,512),[[ee,l.value,void 0,{number:!0}]])])]),s("button",{onClick:O,class:"roll-button",disabled:f.value},[f.value?(C(),x("i",J2)):(C(),x("i",Y2)),X(" "+B(f.value?"Lanzando...":"Lanzar Dados"),1)],8,X2),c.value?(C(),x("div",Q2,[s("div",Z2,[s("div",eC,B(i.value)+"d"+B(r.value)+B(l.value>0?"+"+l.value:l.value<0?l.value:""),1),s("div",tC,B(c.value.total),1)]),s("div",nC,[s("div",oC,[(C(!0),x(De,null,Re(c.value.rolls,(pe,de)=>(C(),x("span",{key:de,class:ze(["dice-value",E(pe)])},B(pe),3))),128))]),l.value!==0?(C(),x("div",sC,B(l.value>0?"+":"")+B(l.value),1)):se("",!0)])])):se("",!0),s("div",aC,[s("div",{class:"history-header"},[ie[8]||(ie[8]=s("span",null,"Historial",-1)),s("button",{onClick:I,class:"clear-btn"},"Limpiar")]),s("div",iC,[(C(!0),x(De,null,Re(u.value.slice().reverse(),pe=>(C(),x("div",{key:pe.id,class:"history-item"},[s("div",rC,B(pe.formula),1),s("div",lC,B(pe.total),1),s("div",cC,B(pe.time),1)]))),128)),u.value.length===0?(C(),x("div",uC," Sin tiradas an ")):se("",!0)])])]))],4)]))}},fC=ft(dC,[["__scopeId","data-v-8b11b9f4"]]);function Id(e,t=!1,n={rule:"default",characterLevel:1}){let o;t?o=Dd(e,n):o=ya(e);const a=c=>c.map(u=>`<span class="roll-value ${u.isReplaced?"replaced":""}">${u.value}</span>`).join(", "),i=c=>{if(!c)return"";let u='<div class="reroll-results-block-modern"><h4><i class="bi bi-dice-5"></i> Resultados del Reroll</h4>';for(const f in c)u+=`<div class="reroll-type"><strong>${f}:</strong> [${c[f].join(", ")}]</div>`;return u+="</div>",u},r=(c,u=null)=>{let f='<div class="attack-result-modal">';f+=`<h3 class="dnd-title-modern">${c.name}</h3>`;for(const p in c.results){const m=c.results[p],g=Ed(p),y=(Ro.find(h=>h.id===p)||{name:p}).name.toUpperCase();f+=`
                <div class="damage-type-block-modern" style="border-left-color: ${g};">
                    <div class="damage-header">
                        <span class="damage-type-modern" style="color: ${g};">${y}</span>
                        <span class="damage-total-modern">${m.total}</span>
                    </div>
                    <div class="damage-details">
                        <span><strong>Tiradas:</strong> [${a(m.rolls)}]</span>
                        <span><strong>Bonus:</strong> ${m.bonus>0?"+":""}${m.bonus}</span>
                    </div>
            `,m.lifeSteal&&(f+=`
                    <div class="lifesteal-details">
                        <i class="bi bi-heart-fill"></i>
                        <span><strong>Curado:</strong> ${m.lifeSteal.healed} (${m.lifeSteal.percentage_display})</span>
                    </div>
                `),f+="</div>"}return f+=i(u),f+=`<div class="grand-total-modern">Dao Total: ${c.grandTotal}</div>`,c.totalHealed>0&&(f+=`<div class="total-healed-modern">Curacin Total: ${c.totalHealed}</div>`),f+="</div>",f};let l=null;le.fire({width:600,html:r(o),showConfirmButton:!0,confirmButtonText:"Cerrar",showDenyButton:e.rerollDice&&e.rerollDice.length>0,denyButtonText:"Lanzar Reroll",showCancelButton:!1,showCloseButton:!0,customClass:{popup:"dnd-modern-swal-popup",htmlContainer:"dnd-modern-swal-container",denyButton:"dnd-reroll-button",cancelButton:"dnd-replace-button"},didOpen:()=>{const c="dnd-modern-modal-styles";if(document.getElementById(c))return;const u=document.createElement("style");u.id=c,u.innerHTML=`
                .dnd-modern-swal-popup { background: #1e1e1e; border: 1px solid #444; border-radius: 10px; color: #f0f0f0; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
                .dnd-modern-swal-container { padding: 0 !important; }
                .dnd-title-modern { font-family: 'Teko', sans-serif; font-size: 2.5rem; color: #f0f0f0; text-align: center; padding: 15px; background: #111; border-top-left-radius: 9px; border-top-right-radius: 9px; }
                .dnd-modern-swal-popup .attack-result-modal { padding: 20px; font-family: 'Roboto', sans-serif; }
                .damage-type-block-modern { background: #2a2a2a; border-left: 4px solid; margin-bottom: 15px; padding: 15px; border-radius: 4px; }
                .damage-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
                .damage-type-modern { font-family: 'Teko', sans-serif; font-size: 1.5rem; }
                .damage-total-modern { font-family: 'Teko', sans-serif; font-size: 2.8rem; color: #ff4d4d; }
                .grand-total-modern, .total-healed-modern { font-family: 'Teko', sans-serif; font-size: 2rem; text-align: center; margin-top: 20px; padding: 10px; border-radius: 5px; }
                .grand-total-modern { background: rgba(255, 77, 77, 0.1); color: #ff4d4d; }
                .total-healed-modern { background: rgba(77, 255, 126, 0.1); color: #4dff7e; }
                .lifesteal-details { color: #4dff7e; }
                .roll-value.replaced { color: #ffd700; font-weight: bold; text-shadow: 0 0 5px #ffd700; background-color: rgba(255, 215, 0, 0.1); padding: 2px 4px; border-radius: 3px; }
                .reroll-results-block-modern { background: #2a2a2a; padding: 15px; border-radius: 6px; margin: 20px 0; border: 1px solid #444; }
                .reroll-results-block-modern h4 { color: #f39c12; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
                .reroll-type { margin-bottom: 5px; padding-left: 10px; }
                .swal2-actions { gap: 15px !important; }
                .dnd-reroll-button { background-color: #9b59b6 !important; color: white !important; }
                .dnd-replace-button { background-color: #f39c12 !important; color: white !important; }`,document.head.appendChild(u)},preDeny:()=>(l=rs(e.rerollDice),le.update({html:r(o,l),showDenyButton:!1,showCancelButton:!1,footer:'<button id="swal-replace-btn" class="swal2-styled dnd-replace-button">Reemplazar Dados</button>'}),setTimeout(()=>{const c=document.getElementById("swal-replace-btn");c&&(c.onclick=()=>{l||(l=rs(e.rerollDice)),o=Ni(o,l),le.update({html:r(o,l),showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,footer:""})})},0),!1)})}const pC={class:"attack-manager-container"},mC={class:"header"},hC={class:"header-actions"},gC={class:"content"},vC={class:"attacks-list"},bC={key:0,class:"no-attacks"},wC=["data-id"],yC={class:"header-attack"},CC={class:"attack-info"},xC={class:"attack-name"},_C={class:"attack-summary"},kC={class:"attack-actions"},SC=["onClick"],$C=["onClick"],DC=["onClick"],EC=["onClick"],TC=["onClick"],AC={class:"new-attack-area"},IC={class:"attack-form"},HC={class:"attack-form-header"},RC={class:"attack-form-content"},PC={class:"form-group"},OC={class:"damage-rolls-section"},MC={class:"damage-roll-header"},BC={class:"damage-roll-title"},NC=["onClick","disabled"],LC={class:"damage-roll-inputs"},VC={class:"form-group-inline"},jC=["for"],UC=["id","onUpdate:modelValue"],FC={class:"form-group-inline"},zC=["for"],qC=["id","onUpdate:modelValue"],GC={class:"form-group-inline"},WC=["for"],KC=["id","onUpdate:modelValue"],XC=["value"],YC={class:"form-group-inline"},JC=["for"],QC=["id","onUpdate:modelValue"],ZC={class:"form-group-inline"},ex=["for"],tx=["id","onUpdate:modelValue"],nx={class:"form-group-inline"},ox=["for"],sx=["id","onUpdate:modelValue"],ax={class:"damage-rolls-section"},ix={key:0,class:"empty-state"},rx={class:"damage-roll-header"},lx={class:"damage-roll-title"},cx=["onClick"],ux={class:"damage-roll-inputs reroll-inputs"},dx={class:"form-group-inline"},fx=["for"],px=["id","onUpdate:modelValue"],mx={class:"form-group-inline"},hx=["for"],gx=["id","onUpdate:modelValue"],vx={class:"form-group-inline"},bx=["for"],wx=["id","onUpdate:modelValue"],yx={class:"form-actions"},Cx={class:"attack-form settings-form"},xx={class:"attack-form-header"},_x={class:"attack-form-content"},kx={class:"form-group"},Sx={key:0,class:"form-group"},$x={key:0,class:"dad-bonus-display"},Dx={class:"form-actions"},Ex={__name:"DMAttackManager",props:{characterId:{type:[String,Number],required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,o=Td(),a=Le(()=>o.getCharacterById(n.characterId)),i=Le(()=>a.value?a.value.attacks:[]),r=Z(!1),l=Z(!1),c=Z(!1),u=Kt({rule:"default",characterLevel:1}),f=Le(()=>u.rule!=="dad"?0:calculateDadBonus(u.characterLevel)),p=Kt({id:null,name:"",damageRolls:[],rerollDice:[]});Mt(()=>{document.body.style.overflow="hidden",ro(()=>{const N=document.querySelector(".attacks-list");N&&new ke(N,{animation:150,handle:".drag-handle",ghostClass:"sortable-ghost",onEnd:$=>{const _=Array.from($.target.children).map(V=>V.dataset.id).filter(V=>V);o.updateCharacterAttackOrder(n.characterId,_)}});const T=document.querySelector(".attack-manager-overlay"),H=document.querySelector(".content");if(T&&H){const $=_=>{_.target.closest(".attack-form-overlay")||(_.preventDefault(),H.scrollTop+=_.deltaY)};T.addEventListener("wheel",$,{passive:!1}),T._wheelHandler=$}})}),qn(()=>{document.body.style.overflow="";const N=document.querySelector(".attack-manager-overlay");N&&N._wheelHandler&&N.removeEventListener("wheel",N._wheelHandler)});const m=N=>{if(!N||!N.includes("d"))return{numDice:1,diceType:6};const[T,H]=N.split("d");return{numDice:Number(T)||1,diceType:Number(H)||6}},g=N=>{const T=JSON.parse(JSON.stringify(N));T.damageRolls.forEach(H=>{const{numDice:$,diceType:_}=m(H.dice);H.numDice=$,H.diceType=_,H.lifeSteal||(H.lifeSteal={percentage:0})}),T.rerollDice?T.rerollDice.forEach(H=>{const{numDice:$,diceType:_}=m(H.dice);H.numDice=$,H.diceType=_}):T.rerollDice=[],p.id=T.id,p.name=T.name,p.damageRolls.splice(0,p.damageRolls.length,...T.damageRolls),p.rerollDice.splice(0,p.rerollDice.length,...T.rerollDice),r.value=!0},D=()=>{l.value=!1,g({id:null,name:"",damageRolls:[{dice:"1d6",type:"slashing",bonus:0,min:1,lifeSteal:{percentage:0}}],rerollDice:[]})},y=N=>{l.value=!0,g(N)},h=N=>{o.duplicateAttackInCharacter(n.characterId,N.id)},k=()=>{r.value=!1},O=()=>{p.damageRolls.push({dice:"1d6",type:"slashing",bonus:0,min:1,numDice:1,diceType:6,lifeSteal:{percentage:0}})},E=N=>{p.damageRolls.splice(N,1)},I=()=>{p.rerollDice||(p.rerollDice=[]),p.rerollDice.push({dice:"1d6",numDice:1,diceType:6,min:1})},L=N=>{p.rerollDice.splice(N,1)},ie=()=>{if(!p.name){le.fire("Error","El nombre del ataque no puede estar vaco.","error");return}const N=JSON.parse(JSON.stringify(p));N.damageRolls.forEach(T=>{T.dice=`${T.numDice||1}d${T.diceType||6}`,delete T.numDice,delete T.diceType}),N.rerollDice&&N.rerollDice.forEach(T=>{T.dice=`${T.numDice||1}d${T.diceType||6}`,delete T.numDice,delete T.diceType}),l.value?o.updateAttackInCharacter(n.characterId,N):o.addAttackToCharacter(n.characterId,N),k()},pe=N=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar"}).then(T=>{T.isConfirmed&&(o.deleteAttackFromCharacter(n.characterId,N),le.fire("Eliminado","El ataque ha sido eliminado.","success"))})},de=(N,T=!1)=>{Id(N,T,o.criticalHit)};return(N,T)=>(C(),x("div",{class:"attack-manager-overlay",onClick:T[10]||(T[10]=Be(H=>N.$emit("close"),["self"]))},[s("div",pC,[s("div",mC,[T[12]||(T[12]=s("h2",null,[s("i",{class:"bi bi-shield-fill"}),X(" Gestor de Ataques del DM")],-1)),s("div",hC,[s("button",{onClick:T[0]||(T[0]=(...H)=>N.showSettingsForm&&N.showSettingsForm(...H)),class:"settings-btn"},T[11]||(T[11]=[s("i",{class:"bi bi-gear-fill"},null,-1)])),s("button",{onClick:T[1]||(T[1]=H=>N.$emit("close")),class:"close-btn"},"")])]),s("div",gC,[s("div",vC,[i.value.length===0?(C(),x("div",bC," No hay ataques guardados para el DM. Crea uno nuevo! ")):se("",!0),(C(!0),x(De,null,Re(i.value,H=>(C(),x("div",{key:H.id,class:"attack-item","data-id":H.id},[s("div",yC,[T[13]||(T[13]=s("div",{class:"drag-handle"},[s("i",{class:"bi bi-grip-vertical"})],-1)),s("div",CC,[s("span",xC,B(H.name),1),s("div",_C,[(C(!0),x(De,null,Re(H.damageRolls,($,_)=>(C(),x("span",{key:_,class:"damage-tag"},B($.dice)+" "+B($.type),1))),128))])])]),s("div",kC,[s("button",{onClick:$=>de(H,!1),class:"action-btn btn-execute"},"Atacar",8,SC),s("button",{onClick:$=>de(H,!0),class:"action-btn btn-critical"},"Crtico",8,$C),s("button",{onClick:$=>y(H),class:"action-btn btn-edit"},"Editar",8,DC),s("button",{onClick:$=>h(H),class:"action-btn btn-duplicate"},"Duplicar",8,EC),s("button",{onClick:$=>pe(H.id),class:"action-btn btn-delete"},"Eliminar",8,TC)])],8,wC))),128))]),s("div",AC,[s("button",{onClick:T[2]||(T[2]=H=>D()),class:"btn-new-attack"},T[14]||(T[14]=[s("i",{class:"bi bi-plus-circle-fill"},null,-1),X(" Crear Nuevo Ataque ")]))]),r.value?(C(),x("div",{key:0,class:"attack-form-overlay",onClick:Be(k,["self"])},[s("div",IC,[s("div",HC,[s("h3",null,B(l.value?"Editar Ataque":"Nuevo Ataque"),1),s("button",{onClick:k,class:"form-close-btn","aria-label":"Cerrar formulario"},T[15]||(T[15]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",RC,[s("div",PC,[T[16]||(T[16]=s("label",{for:"attack-name"},"Nombre del Ataque",-1)),z(s("input",{id:"attack-name",type:"text","onUpdate:modelValue":T[3]||(T[3]=H=>p.name=H),placeholder:"Ej: Espadazo flamgero",autocomplete:"off"},null,512),[[ee,p.name]])]),s("div",OC,[T[20]||(T[20]=s("h4",null,[s("i",{class:"bi bi-dice-6-fill"}),X(" Tiradas de Dao")],-1)),(C(!0),x(De,null,Re(p.damageRolls,(H,$)=>(C(),x("div",{key:$,class:"damage-roll-item"},[s("div",MC,[s("span",BC,"Dao #"+B($+1),1),s("button",{onClick:_=>E($),class:"btn-remove-roll","aria-label":"Eliminar tirada de dao",disabled:p.damageRolls.length===1},T[17]||(T[17]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,NC)]),s("div",LC,[s("div",VC,[s("label",{for:`dice-num-${$}`},"Cantidad",8,jC),z(s("input",{id:`dice-num-${$}`,type:"number","onUpdate:modelValue":_=>H.numDice=_,min:"1",max:"20",class:"input-narrow"},null,8,UC),[[ee,H.numDice,void 0,{number:!0}]])]),s("div",FC,[s("label",{for:`dice-type-${$}`},"Tipo de Dado",8,zC),z(s("select",{id:`dice-type-${$}`,"onUpdate:modelValue":_=>H.diceType=_},T[18]||(T[18]=[jn('<option value="4" data-v-695f8264>d4</option><option value="6" data-v-695f8264>d6</option><option value="8" data-v-695f8264>d8</option><option value="10" data-v-695f8264>d10</option><option value="12" data-v-695f8264>d12</option><option value="20" data-v-695f8264>d20</option><option value="100" data-v-695f8264>d100</option>',7)]),8,qC),[[gt,H.diceType,void 0,{number:!0}]])]),s("div",GC,[s("label",{for:`type-${$}`},"Tipo de Dao",8,WC),z(s("select",{id:`type-${$}`,"onUpdate:modelValue":_=>H.type=_},[(C(!0),x(De,null,Re(Q(Ro),_=>(C(),x("option",{key:_.id,value:_.id},B(_.name),9,XC))),128))],8,KC),[[gt,H.type]])]),s("div",YC,[s("label",{for:`bonus-${$}`},"Bonus",8,JC),z(s("input",{id:`bonus-${$}`,type:"number","onUpdate:modelValue":_=>H.bonus=_,placeholder:"+3"},null,8,QC),[[ee,H.bonus,void 0,{number:!0}]])]),s("div",ZC,[s("label",{for:`min-${$}`},"Mnimo",8,ex),z(s("input",{id:`min-${$}`,type:"number","onUpdate:modelValue":_=>H.min=_,placeholder:"1",min:"1"},null,8,tx),[[ee,H.min,void 0,{number:!0}]])]),s("div",nx,[s("label",{for:`lifesteal-${$}`},"Robo de Vida (%)",8,ox),z(s("input",{id:`lifesteal-${$}`,type:"number","onUpdate:modelValue":_=>H.lifeSteal.percentage=_,placeholder:"0",min:"0",max:"100"},null,8,sx),[[ee,H.lifeSteal.percentage,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:O,class:"btn-add-roll"},T[19]||(T[19]=[s("i",{class:"bi bi-plus-circle"},null,-1),X(" Aadir Tipo de Dao ")]))]),s("div",ax,[T[25]||(T[25]=s("h4",null,[s("i",{class:"bi bi-arrow-repeat"}),X(" Dados de Reroll (Opcional)")],-1)),p.rerollDice.length===0?(C(),x("div",ix,T[21]||(T[21]=[s("p",null,"No hay dados de reroll configurados",-1)]))):se("",!0),(C(!0),x(De,null,Re(p.rerollDice,(H,$)=>(C(),x("div",{key:$,class:"damage-roll-item"},[s("div",rx,[s("span",lx,"Reroll #"+B($+1),1),s("button",{onClick:_=>L($),class:"btn-remove-roll","aria-label":"Eliminar dado de reroll"},T[22]||(T[22]=[s("i",{class:"bi bi-trash-fill"},null,-1)]),8,cx)]),s("div",ux,[s("div",dx,[s("label",{for:`reroll-dice-num-${$}`},"Cantidad",8,fx),z(s("input",{id:`reroll-dice-num-${$}`,type:"number","onUpdate:modelValue":_=>H.numDice=_,min:"1",max:"20",class:"input-narrow"},null,8,px),[[ee,H.numDice,void 0,{number:!0}]])]),s("div",mx,[s("label",{for:`reroll-dice-type-${$}`},"Tipo de Dado",8,hx),z(s("select",{id:`reroll-dice-type-${$}`,"onUpdate:modelValue":_=>H.diceType=_},T[23]||(T[23]=[jn('<option value="4" data-v-695f8264>d4</option><option value="6" data-v-695f8264>d6</option><option value="8" data-v-695f8264>d8</option><option value="10" data-v-695f8264>d10</option><option value="12" data-v-695f8264>d12</option><option value="20" data-v-695f8264>d20</option><option value="100" data-v-695f8264>d100</option>',7)]),8,gx),[[gt,H.diceType,void 0,{number:!0}]])]),s("div",vx,[s("label",{for:`reroll-min-${$}`},"Mnimo",8,bx),z(s("input",{id:`reroll-min-${$}`,type:"number","onUpdate:modelValue":_=>H.min=_,placeholder:"1",min:"1"},null,8,wx),[[ee,H.min,void 0,{number:!0}]])])])]))),128)),s("button",{onClick:I,class:"btn-add-roll"},T[24]||(T[24]=[s("i",{class:"bi bi-plus-circle"},null,-1),X(" Aadir Dado de Reroll ")]))]),s("div",yx,[s("button",{onClick:ie,class:"btn-save"},[T[26]||(T[26]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),X(" "+B(l.value?"Guardar Cambios":"Crear Ataque"),1)]),s("button",{onClick:k,class:"btn-cancel"},T[27]||(T[27]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),X(" Cancelar ")]))])])])])):se("",!0),c.value?(C(),x("div",{key:1,class:"attack-form-overlay",onClick:T[9]||(T[9]=Be((...H)=>N.hideSettingsForm&&N.hideSettingsForm(...H),["self"]))},[s("div",Cx,[s("div",xx,[T[29]||(T[29]=s("h3",null,[s("i",{class:"bi bi-gear-fill"}),X(" Configuracin de Dao Crtico")],-1)),s("button",{onClick:T[4]||(T[4]=(...H)=>N.hideSettingsForm&&N.hideSettingsForm(...H)),class:"form-close-btn","aria-label":"Cerrar configuracin"},T[28]||(T[28]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",_x,[s("div",kx,[T[31]||(T[31]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),z(s("select",{id:"critical-rule","onUpdate:modelValue":T[5]||(T[5]=H=>u.rule=H),class:"settings-select"},T[30]||(T[30]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[gt,u.rule]])]),u.rule==="dad"?(C(),x("div",Sx,[T[34]||(T[34]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),z(s("input",{type:"number",id:"character-level","onUpdate:modelValue":T[6]||(T[6]=H=>u.characterLevel=H),min:"1",max:"20",class:"settings-input"},null,512),[[ee,u.characterLevel,void 0,{number:!0}]]),f.value>0?(C(),x("div",$x,[T[33]||(T[33]=s("i",{class:"bi bi-lightning-charge-fill"},null,-1)),s("p",null,[T[32]||(T[32]=X("Bonus de dao por crtico: ")),s("strong",null,"+"+B(f.value),1)])])):se("",!0)])):se("",!0),s("div",Dx,[s("button",{onClick:T[7]||(T[7]=(...H)=>N.saveSettings&&N.saveSettings(...H)),class:"btn-save"},T[35]||(T[35]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),X(" Guardar ")])),s("button",{onClick:T[8]||(T[8]=(...H)=>N.hideSettingsForm&&N.hideSettingsForm(...H)),class:"btn-cancel"},T[36]||(T[36]=[s("i",{class:"bi bi-x-circle-fill"},null,-1),X(" Cancelar ")]))])])])])):se("",!0)])])]))}},Tx=ft(Ex,[["__scopeId","data-v-695f8264"]]),Ax={class:"player-manager-content"},Ix={class:"player-manager-header"},Hx={class:"player-manager-body"},Rx={class:"global-controls-player"},Px={class:"add-xp-all"},Ox=["disabled"],Mx={class:"add-player"},Bx=["disabled"],Nx={class:"player-list"},Lx={key:0,class:"empty-state"},Vx={class:"player-info"},jx={class:"player-name"},Ux={class:"player-xp-total"},Fx={class:"player-actions"},zx={class:"add-xp-single"},qx=["onUpdate:modelValue","onKeyup"],Gx=["onClick","disabled"],Wx=["onClick","disabled"],Kx={class:"quick-xp-buttons"},Xx=["onClick"],Yx={class:"player-footer"},Jx=["onClick"],Qx=["onClick"],Zx=["onClick"],e_=["onClick"],t_=["onClick"],n_={key:0,class:"xp-history"},o_={class:"timestamp"},s_={key:0},a_={key:1,class:"counters-section"},i_={class:"counters-header"},r_=["onClick"],l_={class:"counters-grid"},c_={class:"counter-name"},u_={class:"counter-controls"},d_=["onClick"],f_={class:"counter-value"},p_=["onClick"],m_={key:0,class:"empty-state-small"},h_={key:2,class:"notes-section"},g_=["onUpdate:modelValue","onInput"],v_={class:"player-manager-content"},b_={class:"player-manager-header"},w_={class:"player-manager-body"},y_={key:0,class:"edit-form"},C_={class:"form-group"},x_={class:"modal-actions"},__={class:"player-manager-content"},k_={class:"player-manager-body"},S_={class:"add-counter-form"},$_={class:"counter-manage-list"},D_=["onUpdate:modelValue","onChange"],E_=["onUpdate:modelValue","onChange"],T_=["onUpdate:modelValue","onChange"],A_={class:"visibility-toggle"},I_=["checked","onChange"],H_=["onClick"],R_={__name:"PlayerManager",emits:["close"],setup(e,{emit:t}){const n=t,o=Ad(),{players:a,mostUsedXpValues:i}=ws(o),r=Z(""),l=Z(null),c=Z({}),u=Z(new Set),f=Z(new Set),p=Z(new Set),m=Z(!1),g=Z(null),D=Z(!1),y=Z(null),h=Z([]),k=Z({name:"",value:0,step:1}),O=J=>{J.key==="Escape"&&(D.value?W():m.value?m.value=!1:n("close"))};Mt(()=>{o.loadData(),document.body.classList.add("modal-open"),a.value.forEach(J=>{c.value[J.id]=null}),document.addEventListener("keydown",O)}),qn(()=>{document.body.classList.remove("modal-open"),document.removeEventListener("keydown",O)});const E=()=>{r.value.trim()&&(o.addPlayer(r.value),r.value="")},I=J=>{le.fire({title:"Ests seguro?",text:"No podrs revertir esta accin.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, elimnalo!",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(P=>{P.isConfirmed&&(o.deletePlayer(J),le.fire("Eliminado!","El jugador ha sido eliminado.","success"))})},L=J=>{const P=c.value[J];P&&P>0&&(o.addXpToPlayer(J,P),c.value[J]=null)},ie=J=>{const P=c.value[J];P&&P>0&&(o.removeXpFromPlayer(J,P),c.value[J]=null)},pe=(J,P)=>{o.addXpToPlayer(J,P)},de=()=>{l.value&&l.value>0&&(o.addXpToAllPlayers(l.value),l.value=null)},N=()=>{le.fire({title:"Iniciar una nueva sesin?",text:"Esto resetear la XP de la sesin actual de todos los jugadores a 0.",icon:"question",showCancelButton:!0,confirmButtonText:"S, iniciar",cancelButtonText:"Cancelar",customClass:{container:"high-z-index"}}).then(J=>{J.isConfirmed&&(o.startNewSession(),le.fire({title:"Nueva sesin iniciada!",text:"La XP de la sesin ha sido reseteada.",icon:"success",customClass:{container:"high-z-index"}}))})},T=J=>{u.value.has(J)?u.value.delete(J):u.value.add(J)},H=J=>{g.value={...J},m.value=!0},$=()=>{g.value&&(o.editPlayer(g.value.id,{name:g.value.name}),m.value=!1,g.value=null)},_=J=>{f.value.has(J)?f.value.delete(J):f.value.add(J)},V=J=>{o.editPlayer(J.id,{notes:J.notes})},be=J=>{p.value.has(J)?p.value.delete(J):p.value.add(J)},K=J=>{y.value=J;const P=a.value.find(te=>te.id===J);P&&(h.value=JSON.parse(JSON.stringify(P.counters))),D.value=!0},W=()=>{D.value=!1,y.value=null,h.value=[]},ve=()=>{if(y.value&&k.value.name.trim()){o.addCounter(y.value,{...k.value});const J=a.value.find(P=>P.id===y.value);J&&(h.value=JSON.parse(JSON.stringify(J.counters))),k.value={name:"",value:0,step:1}}},q=(J,P)=>{o.editCounter(y.value,J.id,{[P]:J[P]})},A=J=>{o.editCounter(y.value,J.id,{isVisible:!J.isVisible});const P=h.value.find(te=>te.id===J.id);P&&(P.isVisible=!P.isVisible)},re=J=>{le.fire({title:"Eliminar este contador?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar",customClass:{container:"high-z-index-2"}}).then(P=>{P.isConfirmed&&(o.deleteCounter(y.value,J),h.value=h.value.filter(te=>te.id!==J))})};return(J,P)=>(C(),x("div",{class:"player-manager-overlay",onClick:P[10]||(P[10]=Be(te=>J.$emit("close"),["self"]))},[s("div",Ax,[s("div",Ix,[P[12]||(P[12]=s("h2",null,[s("i",{class:"bi bi-person-badge"}),X(" Gestin de Jugadores")],-1)),s("button",{onClick:P[0]||(P[0]=te=>J.$emit("close")),class:"btn-close"},P[11]||(P[11]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",Hx,[s("div",Rx,[s("button",{onClick:N,class:"btn btn-warning"},P[13]||(P[13]=[s("i",{class:"bi bi-play-circle"},null,-1),X(" Iniciar Nueva Sesin ")])),s("div",Px,[z(s("input",{type:"number","onUpdate:modelValue":P[1]||(P[1]=te=>l.value=te),placeholder:"XP para todos",min:"1",onKeyup:an(de,["enter"])},null,544),[[ee,l.value,void 0,{number:!0}]]),s("button",{onClick:de,disabled:!l.value||l.value<=0,class:"btn btn-info"},P[14]||(P[14]=[s("i",{class:"bi bi-people-fill"},null,-1),X(" Dar a Todos ")]),8,Ox)])]),s("div",Mx,[z(s("input",{type:"text","onUpdate:modelValue":P[2]||(P[2]=te=>r.value=te),placeholder:"Nombre del nuevo jugador",onKeyup:an(E,["enter"])},null,544),[[ee,r.value]]),s("button",{onClick:E,disabled:!r.value.trim(),class:"btn btn-primary"},P[15]||(P[15]=[s("i",{class:"bi bi-plus-circle"},null,-1),X(" Aadir Jugador ")]),8,Bx)]),s("div",Nx,[Q(a).length===0?(C(),x("div",Lx,P[16]||(P[16]=[s("p",null,"An no hay jugadores. Aade el primero para empezar!",-1)]))):se("",!0),(C(!0),x(De,null,Re(Q(a),te=>(C(),x("div",{key:te.id,class:"player-card"},[s("div",Vx,[s("h3",jx,B(te.name),1),s("div",Ux,[P[17]||(P[17]=X(" XP Sesin: ")),s("strong",null,B(te.sessionXp),1)])]),s("div",Fx,[s("div",zx,[z(s("input",{type:"number","onUpdate:modelValue":ge=>c.value[te.id]=ge,placeholder:"Aadir XP",min:"1",class:"xp-input",onKeyup:an(ge=>L(te.id),["enter"])},null,40,qx),[[ee,c.value[te.id],void 0,{number:!0}]]),s("button",{onClick:ge=>L(te.id),disabled:!c.value[te.id]||c.value[te.id]<=0,class:"btn btn-success btn-sm"},P[18]||(P[18]=[s("i",{class:"bi bi-plus"},null,-1)]),8,Gx),s("button",{onClick:ge=>ie(te.id),disabled:!c.value[te.id]||c.value[te.id]<=0,class:"btn btn-danger btn-sm"},P[19]||(P[19]=[s("i",{class:"bi bi-dash"},null,-1)]),8,Wx)]),s("div",Kx,[(C(!0),x(De,null,Re(Q(i),ge=>(C(),x("button",{key:ge,onClick:Je=>pe(te.id,ge),class:"btn btn-outline-primary btn-sm"}," +"+B(ge)+" XP ",9,Xx))),128))])]),s("div",Yx,[s("button",{onClick:ge=>T(te.id),class:"btn btn-link btn-sm"},P[20]||(P[20]=[s("i",{class:"bi bi-clock-history"},null,-1),X(" Ver Historial ")]),8,Jx),s("button",{onClick:ge=>be(te.id),class:"btn btn-link btn-sm"},P[21]||(P[21]=[s("i",{class:"bi bi-plus-slash-minus"},null,-1),X(" Contadores ")]),8,Qx),s("button",{onClick:ge=>_(te.id),class:"btn btn-link btn-sm"},P[22]||(P[22]=[s("i",{class:"bi bi-journal-text"},null,-1),X(" Notas ")]),8,Zx),s("div",null,[s("button",{onClick:ge=>H(te),class:"btn btn-secondary btn-sm"},P[23]||(P[23]=[s("i",{class:"bi bi-pencil"},null,-1),X(" Editar ")]),8,e_),s("button",{onClick:ge=>I(te.id),class:"btn btn-danger btn-sm"},P[24]||(P[24]=[s("i",{class:"bi bi-trash"},null,-1)]),8,t_)])]),u.value.has(te.id)?(C(),x("div",n_,[P[25]||(P[25]=s("h4",null,"Historial de XP (Sesin)",-1)),s("ul",null,[(C(!0),x(De,null,Re(te.xpHistory,(ge,Je)=>(C(),x("li",{key:Je,class:ze({"xp-gain":ge.amount>0,"xp-loss":ge.amount<0})},[X(B(ge.amount>0?"+":"")+B(ge.amount)+" XP ",1),s("span",o_,B(new Date(ge.timestamp).toLocaleTimeString()),1)],2))),128)),te.xpHistory.length===0?(C(),x("li",s_," No hay entradas de XP en esta sesin. ")):se("",!0)])])):se("",!0),p.value.has(te.id)?(C(),x("div",a_,[s("div",i_,[P[27]||(P[27]=s("h4",null,"Contadores",-1)),s("button",{onClick:ge=>K(te.id),class:"btn btn-secondary btn-sm"},P[26]||(P[26]=[s("i",{class:"bi bi-gear"},null,-1),X(" Gestionar ")]),8,r_)]),s("div",l_,[(C(!0),x(De,null,Re(te.counters.filter(ge=>ge.isVisible),ge=>(C(),x("div",{key:ge.id,class:"counter-item"},[s("span",c_,B(ge.name),1),s("div",u_,[s("button",{onClick:Je=>Q(o).updateCounterValue(te.id,ge.id,-ge.step),class:"btn btn-danger btn-sm"},"-",8,d_),s("span",f_,B(ge.value),1),s("button",{onClick:Je=>Q(o).updateCounterValue(te.id,ge.id,ge.step),class:"btn btn-success btn-sm"},"+",8,p_)])]))),128)),te.counters.filter(ge=>ge.isVisible).length===0?(C(),x("div",m_," No hay contadores visibles. ")):se("",!0)])])):se("",!0),f.value.has(te.id)?(C(),x("div",h_,[z(s("textarea",{"onUpdate:modelValue":ge=>te.notes=ge,onInput:ge=>V(te),placeholder:"Aade tus notas aqu...",class:"notes-textarea"},null,40,g_),[[ee,te.notes]])])):se("",!0)]))),128))])])]),m.value?(C(),x("div",{key:0,class:"player-manager-overlay edit-modal",onClick:P[6]||(P[6]=Be(te=>m.value=!1,["self"]))},[s("div",v_,[s("div",b_,[P[29]||(P[29]=s("h2",null,[s("i",{class:"bi bi-pencil-square"}),X(" Editar Jugador")],-1)),s("button",{onClick:P[3]||(P[3]=te=>m.value=!1),class:"btn-close"},P[28]||(P[28]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",w_,[g.value?(C(),x("div",y_,[s("div",C_,[P[30]||(P[30]=s("label",{for:"playerName"},"Nombre del Jugador",-1)),z(s("input",{id:"playerName",type:"text","onUpdate:modelValue":P[4]||(P[4]=te=>g.value.name=te),class:"form-control"},null,512),[[ee,g.value.name]])]),s("div",x_,[s("button",{onClick:P[5]||(P[5]=te=>m.value=!1),class:"btn btn-secondary"}," Cancelar "),s("button",{onClick:$,class:"btn btn-primary"}," Guardar Cambios ")])])):se("",!0)])])])):se("",!0),D.value?(C(),x("div",{key:1,class:"player-manager-overlay edit-modal",onClick:Be(W,["self"])},[s("div",__,[s("div",{class:"player-manager-header"},[P[32]||(P[32]=s("h2",null,[s("i",{class:"bi bi-gear"}),X(" Gestionar Contadores")],-1)),s("button",{onClick:W,class:"btn-close"},P[31]||(P[31]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",k_,[s("div",S_,[z(s("input",{type:"text","onUpdate:modelValue":P[7]||(P[7]=te=>k.value.name=te),placeholder:"Nombre"},null,512),[[ee,k.value.name]]),z(s("input",{type:"number","onUpdate:modelValue":P[8]||(P[8]=te=>k.value.value=te),placeholder:"Valor inicial"},null,512),[[ee,k.value.value,void 0,{number:!0}]]),z(s("input",{type:"number","onUpdate:modelValue":P[9]||(P[9]=te=>k.value.step=te),placeholder:"Paso (+/-)"},null,512),[[ee,k.value.step,void 0,{number:!0}]]),s("button",{onClick:ve,class:"btn btn-primary"},"Aadir")]),s("div",$_,[P[35]||(P[35]=s("div",{class:"counter-manage-header-labels"},[s("span",null,"Nombre"),s("span",null,"Valor"),s("span",null,"Paso"),s("span",null,"Visible"),s("span",null,"Acciones")],-1)),(C(!0),x(De,null,Re(h.value,te=>(C(),x("div",{key:te.id,class:"counter-manage-item"},[z(s("input",{type:"text","onUpdate:modelValue":ge=>te.name=ge,onChange:ge=>q(te,"name")},null,40,D_),[[ee,te.name]]),z(s("input",{type:"number","onUpdate:modelValue":ge=>te.value=ge,onChange:ge=>q(te,"value")},null,40,E_),[[ee,te.value,void 0,{number:!0}]]),z(s("input",{type:"number","onUpdate:modelValue":ge=>te.step=ge,onChange:ge=>q(te,"step")},null,40,T_),[[ee,te.step,void 0,{number:!0}]]),s("label",A_,[s("input",{type:"checkbox",checked:te.isVisible,onChange:ge=>A(te)},null,40,I_),P[33]||(P[33]=s("span",{class:"slider"},null,-1))]),s("button",{onClick:ge=>re(te.id),class:"btn btn-danger btn-sm"},P[34]||(P[34]=[s("i",{class:"bi bi-trash"},null,-1)]),8,H_)]))),128))])])])])):se("",!0)]))}},P_=ft(R_,[["__scopeId","data-v-cfa7a4a0"]]),O_={class:"dm-view"},M_={class:"dm-header"},B_={class:"dm-header-top"},N_={class:"turn-controls"},L_={class:"turn-label"},V_=["disabled"],j_=["disabled"],U_={class:"global-controls"},F_={class:"stats-overview"},z_={class:"stat-card"},q_={class:"stat-content"},G_={class:"stat-value"},W_={class:"stat-card alive"},K_={class:"stat-content"},X_={class:"stat-value"},Y_={class:"stat-card dead"},J_={class:"stat-content"},Q_={class:"stat-value"},Z_={class:"stat-card"},ek={class:"stat-content"},tk={class:"stat-value"},nk={class:"create-character-section"},ok={class:"characters-section"},sk={class:"section-header"},ak={class:"sort-controls"},ik={key:0,class:"no-characters"},rk={key:1,class:"characters-grid"},lk={class:"character-header"},ck={class:"character-name"},uk={class:"character-actions"},dk=["onClick"],fk=["onClick"],pk=["onClick"],mk={class:"character-stats"},hk={class:"hp-section"},gk={class:"hp-bar-container"},vk={class:"hp-bar"},bk={class:"hp-text"},wk={key:0,class:"necro-indicator",title:"HP mximo reducido por dao necro"},yk={key:0,class:"temp-hp"},Ck={class:"temp-hp-value"},xk={key:1,class:"defeated-by"},_k={class:"defeated-by-hero"},kk={class:"character-details"},Sk={class:"detail-item"},$k={class:"detail-value"},Dk={class:"detail-item"},Ek={key:0,class:"detail-item"},Tk={class:"detail-value"},Ak={key:1,class:"detail-item"},Ik={class:"detail-value"},Hk={key:2,class:"detail-item"},Rk={class:"detail-value"},Pk={key:3,class:"detail-item"},Ok={class:"detail-value"},Mk={key:4,class:"detail-item"},Bk={class:"detail-value"},Nk={key:5,class:"attributes-display"},Lk={class:"attributes-list"},Vk={key:0,class:"attribute-item fuerza"},jk={class:"attribute-value"},Uk={key:1,class:"attribute-item inteligencia"},Fk={class:"attribute-value"},zk={key:2,class:"attribute-item destreza"},qk={class:"attribute-value"},Gk={key:3,class:"attribute-item sabiduria"},Wk={class:"attribute-value"},Kk={key:4,class:"attribute-item constitucion"},Xk={class:"attribute-value"},Yk={key:5,class:"attribute-item carisma"},Jk={class:"attribute-value"},Qk={key:6,class:"detail-item notas"},Zk={class:"detail-value"},eS={class:"actions-toggle"},tS=["onClick"],nS={class:"action-group"},oS={class:"action-inputs"},sS=["onUpdate:modelValue","onKeyup"],aS=["onClick","disabled"],iS={class:"necro-checkbox"},rS={class:"necro-label"},lS=["onUpdate:modelValue"],cS={class:"action-group"},uS={class:"action-inputs"},dS=["onUpdate:modelValue","onKeyup"],fS=["onClick","disabled"],pS={class:"necro-checkbox"},mS={class:"necro-label"},hS=["onUpdate:modelValue"],gS={class:"action-group"},vS={class:"action-inputs"},bS=["onUpdate:modelValue","onKeyup"],wS=["onClick","disabled"],yS={class:"action-group"},CS={class:"action-inputs"},xS=["onUpdate:modelValue","onKeyup"],_S=["onClick","disabled"],kS={class:"reset-buttons"},SS=["onClick"],$S=["onClick"],DS=["onClick"],ES={class:"character-attacks-section"},TS={class:"attacks-header"},AS=["onClick"],IS={key:0,class:"attack-search-bar"},HS=["onUpdate:modelValue"],RS={key:1,class:"attacks-preview-list"},PS={class:"attack-preview-info"},OS={class:"attack-preview-name"},MS={class:"attack-preview-summary"},BS={class:"attack-preview-actions"},NS=["onClick"],LS=["onClick"],VS={key:2,class:"no-attacks-preview"},jS=["onClick"],US={class:"modal-header"},FS={class:"modal-body"},zS={class:"form-group"},qS={class:"form-group"},GS={class:"form-group"},WS={class:"form-group"},KS={class:"form-group"},XS={class:"form-group"},YS={class:"form-group"},JS={class:"form-group"},QS={class:"attributes-section"},ZS={class:"attributes-grid",id:"tiradas-salvacion"},e$={class:"attribute-column"},t$={class:"form-group attribute-input"},n$={class:"form-group attribute-input"},o$={class:"form-group attribute-input"},s$={class:"attribute-column"},a$={class:"form-group attribute-input"},i$={class:"form-group attribute-input"},r$={class:"form-group attribute-input"},l$={class:"form-group"},c$={class:"modal-actions"},u$={class:"modal-header"},d$={class:"modal-body"},f$={class:"form-group"},p$={class:"form-group"},m$={class:"form-group"},h$=["max"],g$={class:"form-group"},v$={class:"form-group"},b$={class:"form-group"},w$={class:"form-group"},y$={class:"form-group"},C$={class:"form-group"},x$={class:"attributes-section"},_$={class:"attributes-grid"},k$={class:"attribute-column"},S$={class:"form-group attribute-input"},$$={class:"form-group attribute-input"},D$={class:"form-group attribute-input"},E$={class:"attribute-column"},T$={class:"form-group attribute-input"},A$={class:"form-group attribute-input"},I$={class:"form-group attribute-input"},H$={class:"form-group"},R$={class:"modal-actions"},P$={class:"modal-header"},O$={class:"modal-body"},M$={class:"form-group"},B$={key:0,class:"form-group"},N$={class:"modal-header"},L$={class:"modal-body"},V$={class:"import-options"},j$={class:"import-option"},U$={class:"modal-actions"},F$=["disabled"],z$={class:"modal-header"},q$={class:"modal-body"},G$={class:"death-notification"},W$={class:"hp-status"},K$={class:"hp-dead"},X$={class:"form-group"},Y$={class:"modal-actions"},J$=["disabled"],Q$={class:"modal-header"},Z$={class:"modal-body"},eD={class:"add-todo"},tD={class:"todo-list"},nD=["onUpdate:modelValue","onChange"],oD=["onClick"],sD={__name:"DMView",setup(e){const t=Td(),n=Ad(),{players:o}=ws(n),a=Z({}),i=Z({}),r=R=>{a.value[R]=!a.value[R]},l=R=>{const d=(i.value[R.id]||"").toLowerCase();return d?R.attacks.filter(v=>v.name.toLowerCase().includes(d)):R.attacks},c=(R,d)=>{Id(R,d,t.criticalHit)},u=Z(!1),f=Z(!1),p=Z(null),m=Z(!1),g=Z(!1),D=Z(!1),y=Z({rule:t.criticalHit.rule,characterLevel:t.criticalHit.characterLevel}),h=()=>{t.updateCriticalHitConfig(y.value),D.value=!1,le.fire("Guardado","La configuracin de dao crtico ha sido actualizada.","success")},k=Z(!1),O=Z(!1),E=Z(!1),I=Z(!1),L=Z(!1),ie=Z("name"),pe=Z(""),de=Z(null),N=Z(""),T=Z([]),H=Z(""),$=Z(null),_=Z(null),V=Z({name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",challengeRating:0,necroDamage:!1,necroResistantDamage:!1}),be=Le(()=>{switch(ie.value){case"hp":return t.charactersByHp;case"created":return[...t.characters].sort((R,d)=>new Date(d.createdAt)-new Date(R.createdAt));default:return t.charactersByName}}),K=()=>{V.value.name&&V.value.maxHp&&(t.createCharacter(V.value.name,V.value.maxHp,V.value.regeneration,V.value.xp,V.value.resistencias,V.value.inmunidades,V.value.fuerza,V.value.destreza,V.value.constitucion,V.value.inteligencia,V.value.sabiduria,V.value.carisma,V.value.notas,V.value.ca,V.value.challengeRating),V.value={name:"",maxHp:"",regeneration:"",xp:"",resistencias:"",inmunidades:"",fuerza:"",destreza:"",constitucion:"",inteligencia:"",sabiduria:"",carisma:"",notas:"",ca:"",challengeRating:0,necroDamage:!1,necroResistantDamage:!1},k.value=!1)},W=R=>{_.value={...R},O.value=!0},ve=()=>{_.value&&(t.editCharacter(_.value.id,{name:_.value.name,maxHp:_.value.maxHp,currentHp:_.value.currentHp,regeneration:_.value.regeneration,xp:_.value.xp,resistencias:_.value.resistencias,inmunidades:_.value.inmunidades,fuerza:_.value.fuerza,destreza:_.value.destreza,constitucion:_.value.constitucion,inteligencia:_.value.inteligencia,sabiduria:_.value.sabiduria,carisma:_.value.carisma,notas:_.value.notas,ca:_.value.ca,challengeRating:_.value.challengeRating}),O.value=!1,_.value=null)},q=R=>{confirm("Ests seguro de que quieres eliminar este personaje?")&&t.deleteCharacter(R)},A=R=>{t.duplicateCharacter(R.id)},re=R=>{p.value=R},J=R=>{if(R.damageInput&&R.damageInput>0){const d=R.currentHp,v=R.necroDamage||!1,fe=t.damageCharacter(R.id,R.damageInput,v);R.damageInput="",d>0&&fe&&fe.remainingHp<=0&&(de.value=R,I.value=!0)}},P=R=>{if(R.resistantDamageInput&&R.resistantDamageInput>0){const d=Math.floor(R.resistantDamageInput/2),v=R.currentHp,fe=R.necroResistantDamage||!1,Qe=t.damageCharacter(R.id,d,fe);R.resistantDamageInput="",v>0&&Qe&&Qe.remainingHp<=0&&(de.value=R,I.value=!0)}},te=()=>{if(N.value.trim()&&de.value){const R=N.value.trim();if(R.toLowerCase()===de.value.name.toLowerCase()){alert("El nombre del hroe no puede ser el mismo que el personaje derrotado.");return}t.setDefeatedBy(de.value.id,R),t.addLogToCharacter(de.value.id,"Derrotado por",`Derrotado por ${R}`),ge()}else alert("Por favor, escribe el nombre del hroe que derrot al personaje.")},ge=()=>{I.value=!1,de.value=null,N.value=""},Je=()=>{N.value.trim()?confirm("Ests seguro de que quieres cerrar? Se perder el nombre del hroe ingresado.")&&ge():ge()};cn(I,R=>{R&&ro(()=>{const d=document.getElementById("heroName");d&&d.focus()})}),Mt(()=>{const R=d=>{d.key==="Escape"&&I.value&&Je()};document.addEventListener("keydown",R),qn(()=>{document.removeEventListener("keydown",R)})});const j=R=>{R.healInput&&R.healInput>0&&(t.healCharacter(R.id,R.healInput),R.healInput="")},he=R=>{R.tempHpInput&&R.tempHpInput>0&&(t.addTempHpToCharacter(R.id,R.tempHpInput),R.tempHpInput="")},ce=R=>{const d=t.getCharacterById(R);if(d&&d.maxHp<d.originalMaxHp){const v=d.maxHp;d.maxHp=d.originalMaxHp,t.addLogToCharacter(R,"Restaurar HP Mximo",`HP mximo restaurado de ${v} a ${d.originalMaxHp} (dao necro revertido)`),le.fire({icon:"success",title:"HP Mximo Restaurado",text:`El HP mximo de ${d.name} ha sido restaurado de ${v} a ${d.originalMaxHp}`,timer:2e3,showConfirmButton:!1})}},ye=async R=>{const d=t.getCharacterById(R);if(!d)return;if(d.maxHp<d.originalMaxHp){const fe=d.maxHp;d.maxHp=d.originalMaxHp,t.addLogToCharacter(R,"Restaurar HP Mximo",`HP mximo restaurado de ${fe} a ${d.originalMaxHp} (dao necro revertido)`)}const{value:v}=await le.fire({title:`Cmo quieres revivir a ${d.name}?`,html:`
      <div style='text-align:left;'>
        <label><input type='radio' name='reviveOption' value='1' checked> Revivir con 1 HP</label><br>
        <label><input type='radio' name='reviveOption' value='half'> Revivir con la mitad de la vida mxima (${Math.floor(d.maxHp/2)} HP)</label><br>
        <label><input type='radio' name='reviveOption' value='custom'> Revivir con cantidad personalizada:</label>
        <input id='customHpInput' type='number' min='1' max='${d.maxHp}' class='swal2-input' style='width:100%;margin:0;' placeholder='HP' disabled>
      </div>
    `,showCancelButton:!0,confirmButtonText:"Revivir",cancelButtonText:"Cancelar",preConfirm:()=>{const fe=document.querySelector('input[name="reviveOption"]:checked').value;if(fe==="custom"){const Qe=parseInt(document.getElementById("customHpInput").value);return isNaN(Qe)||Qe<1||Qe>d.maxHp?(le.showValidationMessage(`Introduce un valor entre 1 y ${d.maxHp}`),!1):Qe}return fe==="half"?Math.floor(d.maxHp/2):1},didOpen:()=>{const fe=le.getHtmlContainer().querySelectorAll('input[name="reviveOption"]'),Qe=le.getHtmlContainer().querySelector("#customHpInput");fe.forEach(As=>{As.addEventListener("change",()=>{As.value==="custom"?(Qe.disabled=!1,Qe.focus()):Qe.disabled=!0})})}});v&&v>0&&t.reviveCharacter(R,v)},Ae=R=>{const d=R.currentHp/R.maxHp*100;return d>75?"hp-high":d>50?"hp-medium":d>25?"hp-low":"hp-critical"},b=R=>R.currentHp<=0?"status-dead":R.currentHp<=R.maxHp*.25?"status-critical":R.currentHp<=R.maxHp*.5?"status-wounded":"status-healthy",w=R=>R.currentHp<=0?"Muerto":R.currentHp<=R.maxHp*.25?"Crtico":R.currentHp<=R.maxHp*.5?"Herido":"Saludable",S=R=>{const d=parseInt(R);return isNaN(d)?R:d>=0?`+${d}`:`${d}`},U=R=>R.fuerza||R.destreza||R.constitucion||R.inteligencia||R.sabiduria||R.carisma,G=()=>{const R=t.exportCharacters(),d=new Blob([R],{type:"application/json"}),v=URL.createObjectURL(d),fe=document.createElement("a");fe.href=v,fe.download=`dnd-characters-${new Date().toISOString().split("T")[0]}.json`,fe.click(),URL.revokeObjectURL(v)},F=()=>{$.value&&$.value.click()},ue=R=>{const d=R.target.files[0];if(d){const v=new FileReader;v.onload=fe=>{try{const Qe=fe.target.result;t.importCharacters(Qe)?(alert("Personajes importados correctamente desde el archivo"),E.value=!1,R.target.value=""):alert("Error al importar los personajes. Verifica que el archivo contenga datos vlidos.")}catch(Qe){alert("Error al leer el archivo. Verifica que sea un archivo JSON vlido."),console.error("Error importing file:",Qe)}},v.onerror=()=>{alert("Error al leer el archivo. Intntalo de nuevo.")},v.readAsText(d)}},ae=()=>{pe.value.trim()&&(t.importCharacters(pe.value)?(alert("Personajes importados correctamente"),pe.value="",E.value=!1):alert("Error al importar los personajes. Verifica el formato JSON."))},ne=()=>{g.value=!g.value},Y=()=>{le.fire({title:"Limpiar todos los logs?",text:"Esta accin eliminar todo el historial de logs de todos los personajes. Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, limpiar logs",cancelButtonText:"Cancelar"}).then(R=>{R.isConfirmed&&(t.clearAllLogs(),le.fire({icon:"success",title:"Logs Limpiados",text:"Todos los logs han sido eliminados correctamente",timer:2e3,showConfirmButton:!1}))})},xe=()=>{const R=[];t.characters.forEach(v=>{v.logs.forEach(fe=>{R.push({...fe,characterName:v.name})})}),R.sort((v,fe)=>new Date(fe.timestamp)-new Date(v.timestamp));let d='<div style="max-height: 400px; overflow-y: auto;">';R.length===0?d+='<p style="text-align: center; color: #666;">No hay logs para mostrar</p>':R.forEach(v=>{d+=`
        <div style="border-bottom: 1px solid #eee; padding: 10px 0; margin-bottom: 10px;">
          <div style="font-weight: bold; color: #f39c12;">${v.characterName}</div>
          <div style="color: #333;">${v.action}: ${v.details}</div>
          <div style="font-size: 0.8em; color: #666;">Turno ${v.turn} - ${v.timestamp}</div>
        </div>
      `}),d+="</div>",le.fire({title:"Historial de Logs - Todos los Personajes",html:d,width:"800px",confirmButtonText:"Cerrar",confirmButtonColor:"#3085d6"})},me=()=>{t.characters.forEach(R=>{R.damageInput="",R.healInput="",R.tempHpInput="",R.resistantDamageInput="",R.necroDamage=!1,R.necroResistantDamage=!1})},we=Z(new Set),$e=R=>{const d=new Set(we.value);d.has(R)?d.delete(R):d.add(R),we.value=d},Ie=()=>{u.value=!u.value},je=R=>we.value.has(R);cn(we,R=>{const d=Array.from(R);localStorage.setItem("collapsedCharacters",JSON.stringify(d))},{deep:!0});const Me=()=>{if(H.value.trim()==="")return;const R={id:Date.now(),text:H.value.trim(),completed:!1,createdAt:new Date().toISOString()};T.value.push(R),H.value="",It()},_t=R=>{T.value=T.value.filter(d=>d.id!==R),It()},vt=R=>{T.value.find(v=>v.id===R)&&It()},It=()=>{localStorage.setItem("dnd-todo-items",JSON.stringify(T.value))},zt=()=>{const R=localStorage.getItem("dnd-todo-items");if(R)try{T.value=JSON.parse(R)}catch(d){console.error("Error loading todo items:",d),T.value=[]}};return Mt(()=>{const R=localStorage.getItem("collapsedCharacters");if(R)try{const d=JSON.parse(R);we.value=new Set(d)}catch(d){console.error("Error loading collapsed characters state:",d),we.value=new Set}zt(),t.loadData(),n.loadData(),me()}),(R,d)=>(C(),x("div",O_,[s("div",M_,[s("div",B_,[d[70]||(d[70]=s("h1",{class:"dm-title"},[s("i",{class:"bi bi-shield-fill"}),X(" Panel del Dungeon Master ")],-1)),s("button",{onClick:ne,class:"mobile-menu-toggle"},[s("i",{class:ze(["bi",g.value?"bi-x-lg":"bi-list"])},null,2)])]),s("div",{class:ze(["dm-controls",{"mobile-open":g.value}])},[s("div",N_,[s("span",L_,"Turno: "+B(Q(t).currentTurn),1),s("button",{onClick:d[0]||(d[0]=v=>Q(t).startTurn()),class:"btn btn-success",disabled:Q(t).isTurnActive},d[71]||(d[71]=[s("i",{class:"bi bi-play-fill"},null,-1),s("span",{class:"btn-text"},"Iniciar Turno",-1)]),8,V_),s("button",{onClick:d[1]||(d[1]=v=>Q(t).endTurn()),class:"btn btn-warning",disabled:!Q(t).isTurnActive},d[72]||(d[72]=[s("i",{class:"bi bi-stop-fill"},null,-1),s("span",{class:"btn-text"},"Finalizar Turno",-1)]),8,j_),s("button",{onClick:d[2]||(d[2]=v=>Q(t).resetAllTurns()),class:"btn btn-secondary"},d[73]||(d[73]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1),s("span",{class:"btn-text"},"Reset Turnos",-1)]))]),s("div",U_,[s("button",{onClick:d[3]||(d[3]=v=>Q(t).resetAllCharacters()),class:"btn btn-info"},d[74]||(d[74]=[s("i",{class:"bi bi-heart-fill"},null,-1),s("span",{class:"btn-text"},"Reset Todos",-1)])),s("button",{onClick:Y,class:"btn btn-warning"},d[75]||(d[75]=[s("i",{class:"bi bi-trash"},null,-1),s("span",{class:"btn-text"},"Limpiar Logs",-1)])),s("button",{onClick:xe,class:"btn btn-outline-info"},d[76]||(d[76]=[s("i",{class:"bi bi-journal-text"},null,-1),s("span",{class:"btn-text"},"Ver Logs",-1)])),s("button",{onClick:F,class:"btn btn-outline-primary"},d[77]||(d[77]=[s("i",{class:"bi bi-upload"},null,-1),s("span",{class:"btn-text"},"Importar",-1)])),s("button",{onClick:G,class:"btn btn-outline-success"},d[78]||(d[78]=[s("i",{class:"bi bi-download"},null,-1),s("span",{class:"btn-text"},"Exportar",-1)])),s("button",{onClick:Ie,class:"btn btn-outline-secondary"},d[79]||(d[79]=[s("i",{class:"bi bi-list"},null,-1),s("span",{class:"btn-text"},"Lista Iniciativa",-1)])),s("button",{onClick:d[4]||(d[4]=v=>L.value=!0),class:"btn btn-outline-primary"},d[80]||(d[80]=[s("i",{class:"bi bi-check-circle"},null,-1),s("span",{class:"btn-text"},"Todo List",-1)])),s("button",{onClick:d[5]||(d[5]=v=>f.value=!0),class:"btn btn-outline-info"},d[81]||(d[81]=[s("i",{class:"bi bi-dice-6"},null,-1),s("span",{class:"btn-text"},"Lanzar Dados",-1)])),s("button",{onClick:d[6]||(d[6]=v=>m.value=!0),class:"btn btn-outline-info"},d[82]||(d[82]=[s("i",{class:"bi bi-person-badge"},null,-1),s("span",{class:"btn-text"},"Gestin de Jugadores",-1)])),s("button",{onClick:d[7]||(d[7]=v=>D.value=!0),class:"btn btn-outline-secondary"},d[83]||(d[83]=[s("i",{class:"bi bi-gear-fill"},null,-1),s("span",{class:"btn-text"},"Configuracin",-1)]))])],2)]),f.value?(C(),yn(fC,{key:0,characters:Q(t).characters,onClose:d[8]||(d[8]=v=>f.value=!1)},null,8,["characters"])):se("",!0),p.value?(C(),yn(Tx,{key:1,"character-id":p.value,onClose:d[9]||(d[9]=v=>p.value=null)},null,8,["character-id"])):se("",!0),m.value?(C(),yn(P_,{key:2,onClose:d[10]||(d[10]=v=>m.value=!1)})):se("",!0),s("div",F_,[s("div",z_,[d[85]||(d[85]=s("div",{class:"stat-icon"},"",-1)),s("div",q_,[s("div",G_,B(Q(t).characters.length),1),d[84]||(d[84]=s("div",{class:"stat-label"},"Total Personajes",-1))])]),s("div",W_,[d[87]||(d[87]=s("div",{class:"stat-icon"},"",-1)),s("div",K_,[s("div",X_,B(Q(t).aliveCount),1),d[86]||(d[86]=s("div",{class:"stat-label"},"Vivos",-1))])]),s("div",Y_,[d[89]||(d[89]=s("div",{class:"stat-icon"},"",-1)),s("div",J_,[s("div",Q_,B(Q(t).deadCount),1),d[88]||(d[88]=s("div",{class:"stat-label"},"Muertos",-1))])]),s("div",Z_,[d[91]||(d[91]=s("div",{class:"stat-icon"},"",-1)),s("div",ek,[s("div",tk,B(Q(t).currentTurn),1),d[90]||(d[90]=s("div",{class:"stat-label"},"Turno Actual",-1))])])]),s("div",nk,[s("button",{onClick:d[11]||(d[11]=v=>k.value=!0),class:"btn btn-primary btn-lg"},d[92]||(d[92]=[s("i",{class:"bi bi-plus-circle"},null,-1),X(" Crear Nuevo Personaje ")]))]),s("div",ok,[s("div",sk,[s("h2",null,"Personajes ("+B(Q(t).characters.length)+")",1),s("div",ak,[z(s("select",{"onUpdate:modelValue":d[12]||(d[12]=v=>ie.value=v),class:"form-select"},d[93]||(d[93]=[s("option",{value:"name"},"Ordenar por Nombre",-1),s("option",{value:"hp"},"Ordenar por HP",-1),s("option",{value:"created"},"Ordenar por Creacin",-1)]),512),[[gt,ie.value]])])]),Q(t).characters.length===0?(C(),x("div",ik,d[94]||(d[94]=[s("div",{class:"no-characters-icon"},"",-1),s("h3",null,"No hay personajes creados",-1),s("p",null,"Crea tu primer personaje para comenzar a gestionar la partida",-1)]))):(C(),x("div",rk,[(C(!0),x(De,null,Re(be.value,v=>(C(),x("div",{key:v.id,class:ze(["character-card",{dead:v.currentHp<=0,"low-hp":v.currentHp>0&&v.currentHp<=v.maxHp*.25}])},[s("div",lk,[s("h3",ck,B(v.name),1),s("div",uk,[s("button",{onClick:fe=>W(v),class:"btn btn-sm btn-outline-primary"},d[95]||(d[95]=[s("i",{class:"bi bi-pencil"},null,-1)]),8,dk),s("button",{onClick:fe=>A(v),class:"btn btn-sm btn-outline-info",title:"Duplicar personaje"},d[96]||(d[96]=[s("i",{class:"bi bi-copy"},null,-1)]),8,fk),s("button",{onClick:fe=>q(v.id),class:"btn btn-sm btn-outline-danger"},d[97]||(d[97]=[s("i",{class:"bi bi-trash"},null,-1)]),8,pk)])]),s("div",mk,[s("div",hk,[s("div",gk,[s("div",vk,[s("div",{class:ze(["hp-fill",v.tempHp>0?"temp-hp":Ae(v)]),style:ln({width:`${v.currentHp/v.maxHp*100}%`})},null,6),v.maxHp<v.originalMaxHp?(C(),x("div",{key:0,class:"necro-bar-indicator",style:ln({left:`${v.maxHp/v.originalMaxHp*100}%`}),title:"HP mximo reducido por dao necro"},null,4)):se("",!0)]),s("div",bk,[X(B(v.currentHp)+" / "+B(v.maxHp)+" HP ("+B(Math.round(v.currentHp/v.maxHp*100))+"%) ",1),v.maxHp<v.originalMaxHp?(C(),x("span",wk,"  ")):se("",!0)])]),v.tempHp>0?(C(),x("div",yk,[d[98]||(d[98]=s("span",{class:"temp-hp-label"},"Temporal:",-1)),s("span",Ck,"+"+B(v.tempHp),1)])):se("",!0),v.defeatedBy?(C(),x("div",xk,[d[99]||(d[99]=s("span",{class:"defeated-by-label"},"Derrotado por:",-1)),s("span",_k,B(v.defeatedBy),1)])):se("",!0)]),s("div",kk,[s("div",Sk,[d[100]||(d[100]=s("span",{class:"detail-label"},"Regeneracin:",-1)),s("span",$k,B(v.regeneration||0)+" HP/turno",1)]),s("div",Dk,[d[101]||(d[101]=s("span",{class:"detail-label"},"Estado:",-1)),s("span",{class:ze(["detail-value",b(v)])},B(w(v)),3)]),v.xp?(C(),x("div",Ek,[d[102]||(d[102]=s("span",{class:"detail-label"},"XP:",-1)),s("span",Tk,B(v.xp),1)])):se("",!0),v.ca?(C(),x("div",Ak,[d[103]||(d[103]=s("span",{class:"detail-label"},"CA:",-1)),s("span",Ik,B(v.ca),1)])):se("",!0),v.resistencias?(C(),x("div",Hk,[d[104]||(d[104]=s("span",{class:"detail-label"},"Resistencias:",-1)),s("span",Rk,B(v.resistencias),1)])):se("",!0),v.inmunidades?(C(),x("div",Pk,[d[105]||(d[105]=s("span",{class:"detail-label"},"Inmunidades:",-1)),s("span",Ok,B(v.inmunidades),1)])):se("",!0),v.bonoTiradasSalvacion?(C(),x("div",Mk,[d[106]||(d[106]=s("span",{class:"detail-label"},"Bono Tiradas de Salvacion:",-1)),s("span",Bk,B(v.bonoTiradasSalvacion),1)])):se("",!0),U(v)?(C(),x("div",Nk,[d[113]||(d[113]=s("div",{class:"attributes-header"},"Tiradas de Salvacin",-1)),s("div",Lk,[v.fuerza?(C(),x("div",Vk,[d[107]||(d[107]=s("span",{class:"attribute-label"},"FUE:",-1)),s("span",jk,B(S(v.fuerza)),1)])):se("",!0),v.inteligencia?(C(),x("div",Uk,[d[108]||(d[108]=s("span",{class:"attribute-label"},"INT:",-1)),s("span",Fk,B(S(v.inteligencia)),1)])):se("",!0),v.destreza?(C(),x("div",zk,[d[109]||(d[109]=s("span",{class:"attribute-label"},"DES:",-1)),s("span",qk,B(S(v.destreza)),1)])):se("",!0),v.sabiduria?(C(),x("div",Gk,[d[110]||(d[110]=s("span",{class:"attribute-label"},"SAB:",-1)),s("span",Wk,B(S(v.sabiduria)),1)])):se("",!0),v.constitucion?(C(),x("div",Kk,[d[111]||(d[111]=s("span",{class:"attribute-label"},"CON:",-1)),s("span",Xk,B(S(v.constitucion)),1)])):se("",!0),v.carisma?(C(),x("div",Yk,[d[112]||(d[112]=s("span",{class:"attribute-label"},"CAR:",-1)),s("span",Jk,B(S(v.carisma)),1)])):se("",!0)])])):se("",!0),v.notas?(C(),x("div",Qk,[d[114]||(d[114]=s("span",{class:"detail-label"},"Notas:",-1)),s("span",Zk,B(v.notas),1)])):se("",!0)])]),s("div",eS,[s("button",{onClick:fe=>$e(v.id),class:ze(["toggle-actions-btn",{collapsed:je(v.id)}])},[d[115]||(d[115]=s("i",{class:"bi bi-chevron-up"},null,-1)),X(" "+B(je(v.id)?"Mostrar Acciones":"Ocultar Acciones"),1)],10,tS)]),s("div",{class:ze(["character-actions-panel",{collapsed:je(v.id)}])},[s("div",nS,[d[119]||(d[119]=s("label",{class:"action-label"},"Dao:",-1)),s("div",oS,[z(s("input",{"onUpdate:modelValue":fe=>v.damageInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:an(fe=>J(v),["enter"])},null,40,sS),[[ee,v.damageInput]]),s("button",{onClick:fe=>J(v),class:"btn btn-sm btn-danger",disabled:!v.damageInput||v.damageInput<=0},d[116]||(d[116]=[s("i",{class:"bi bi-lightning"},null,-1)]),8,aS)]),s("div",iS,[s("label",rS,[z(s("input",{"onUpdate:modelValue":fe=>v.necroDamage=fe,type:"checkbox",class:"necro-input"},null,8,lS),[[Zo,v.necroDamage]]),d[117]||(d[117]=s("span",{class:"necro-text"},"Dao Necro",-1)),d[118]||(d[118]=s("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),s("div",cS,[d[123]||(d[123]=s("label",{class:"action-label"},"Dao Resistente:",-1)),s("div",uS,[z(s("input",{"onUpdate:modelValue":fe=>v.resistantDamageInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:an(fe=>P(v),["enter"])},null,40,dS),[[ee,v.resistantDamageInput]]),s("button",{onClick:fe=>P(v),class:"btn btn-sm btn-danger",disabled:!v.resistantDamageInput||v.resistantDamageInput<=0},d[120]||(d[120]=[s("i",{class:"bi bi-shield-slash"},null,-1)]),8,fS)]),s("div",pS,[s("label",mS,[z(s("input",{"onUpdate:modelValue":fe=>v.necroResistantDamage=fe,type:"checkbox",class:"necro-input"},null,8,hS),[[Zo,v.necroResistantDamage]]),d[121]||(d[121]=s("span",{class:"necro-text"},"Dao Necro",-1)),d[122]||(d[122]=s("i",{class:"bi bi-info-circle necro-info-icon",title:"El dao necro reduce permanentemente el HP mximo hasta que se restaure. Afecta tanto a la vida temporal como a la vida actual."},null,-1))])])]),s("div",gS,[d[125]||(d[125]=s("label",{class:"action-label"},"Curacin:",-1)),s("div",vS,[z(s("input",{"onUpdate:modelValue":fe=>v.healInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:an(fe=>j(v),["enter"])},null,40,bS),[[ee,v.healInput]]),s("button",{onClick:fe=>j(v),class:"btn btn-sm btn-success",disabled:!v.healInput||v.healInput<=0},d[124]||(d[124]=[s("i",{class:"bi bi-heart"},null,-1)]),8,wS)])]),s("div",yS,[d[127]||(d[127]=s("label",{class:"action-label"},"Vida Temp:",-1)),s("div",CS,[z(s("input",{"onUpdate:modelValue":fe=>v.tempHpInput=fe,type:"number",class:"form-control form-control-sm",placeholder:"0",min:"0",onKeyup:an(fe=>he(v),["enter"])},null,40,xS),[[ee,v.tempHpInput]]),s("button",{onClick:fe=>he(v),class:"btn btn-sm btn-info",disabled:!v.tempHpInput||v.tempHpInput<=0},d[126]||(d[126]=[s("i",{class:"bi bi-shield"},null,-1)]),8,_S)])]),s("div",kS,[s("button",{onClick:fe=>Q(t).resetCharacterToMaxHp(v.id),class:ze(["btn btn-sm btn-outline-warning",{"w-100":v.maxHp>=v.originalMaxHp}])},d[128]||(d[128]=[s("i",{class:"bi bi-arrow-clockwise"},null,-1),X(" Reset HP ")]),10,SS),v.maxHp<v.originalMaxHp?(C(),x("button",{key:0,onClick:fe=>ce(v.id),class:"btn btn-sm btn-outline-danger",title:"Restaurar solo el HP mximo (dao necro)"},d[129]||(d[129]=[s("i",{class:"bi bi-heart-pulse"},null,-1),X(" Restaurar HP Mx ")]),8,$S)):se("",!0)]),v.currentHp<=0?(C(),x("button",{key:0,onClick:fe=>ye(v.id),class:"btn btn-sm btn-success w-100"},d[130]||(d[130]=[s("i",{class:"bi bi-heart-pulse"},null,-1),X(" Revivir ")]),8,DS)):se("",!0)],2),s("div",ES,[s("div",TS,[d[132]||(d[132]=s("h4",null,"Ataques",-1)),s("button",{onClick:fe=>r(v.id),class:"btn btn-sm btn-outline-secondary"},d[131]||(d[131]=[s("i",{class:"bi bi-search"},null,-1)]),8,AS)]),a.value[v.id]?(C(),x("div",IS,[z(s("input",{type:"text","onUpdate:modelValue":fe=>i.value[v.id]=fe,placeholder:"Buscar ataque...",class:"form-control form-control-sm"},null,8,HS),[[ee,i.value[v.id]]])])):se("",!0),v.attacks&&v.attacks.length>0?(C(),x("div",RS,[(C(!0),x(De,null,Re(l(v),fe=>(C(),x("div",{key:fe.id,class:"attack-preview-item"},[s("div",PS,[s("span",OS,B(fe.name),1),s("div",MS,[(C(!0),x(De,null,Re(fe.damageRolls,(Qe,As)=>(C(),x("span",{key:As,class:"damage-tag"},B(Qe.dice)+" "+B(Qe.type),1))),128))])]),s("div",BS,[s("button",{onClick:Qe=>c(fe,!1),class:"btn btn-sm btn-primary"},"Lanzar",8,NS),s("button",{onClick:Qe=>c(fe,!0),class:"btn btn-sm btn-danger"},"Crtico",8,LS)])]))),128))])):(C(),x("div",VS,d[133]||(d[133]=[s("p",null,"No hay ataques definidos.",-1)]))),s("button",{onClick:fe=>re(v.id),class:"btn btn-sm btn-outline-warning w-100 mt-2"},d[134]||(d[134]=[s("i",{class:"bi bi-hammer"},null,-1),X(" Gestionar Ataques ")]),8,jS)])],2))),128))])),k.value?(C(),x("div",{key:2,class:"modal-overlay",onClick:d[31]||(d[31]=v=>k.value=!1)},[s("div",{class:"modal-content",onClick:d[30]||(d[30]=Be(()=>{},["stop"]))},[s("div",US,[d[136]||(d[136]=s("h3",null,"Crear Nuevo Personaje",-1)),s("button",{onClick:d[13]||(d[13]=v=>k.value=!1),class:"btn-close"},d[135]||(d[135]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",FS,[s("form",{onSubmit:Be(K,["prevent"])},[s("div",zS,[d[137]||(d[137]=s("label",{for:"characterName"},"Nombre del Personaje",-1)),z(s("input",{id:"characterName","onUpdate:modelValue":d[14]||(d[14]=v=>V.value.name=v),type:"text",class:"form-control",placeholder:"Ej: Gandalf",required:""},null,512),[[ee,V.value.name]])]),s("div",qS,[d[138]||(d[138]=s("label",{for:"characterMaxHp"},"HP Mximo",-1)),z(s("input",{id:"characterMaxHp","onUpdate:modelValue":d[15]||(d[15]=v=>V.value.maxHp=v),type:"number",class:"form-control",placeholder:"100",min:"1",required:""},null,512),[[ee,V.value.maxHp]])]),s("div",GS,[d[139]||(d[139]=s("label",{for:"characterRegeneration"},"Regeneracin por Turno (opcional)",-1)),z(s("input",{id:"characterRegeneration","onUpdate:modelValue":d[16]||(d[16]=v=>V.value.regeneration=v),type:"number",class:"form-control",placeholder:"0",min:"0"},null,512),[[ee,V.value.regeneration]])]),s("div",WS,[d[140]||(d[140]=s("label",{for:"challengeRating"},"Valor de Desafo",-1)),z(s("input",{id:"challengeRating","onUpdate:modelValue":d[17]||(d[17]=v=>V.value.challengeRating=v),type:"number",class:"form-control",placeholder:"0",min:"0",required:""},null,512),[[ee,V.value.challengeRating]])]),s("div",KS,[d[141]||(d[141]=s("label",{for:"xp"},"XP:",-1)),z(s("input",{id:"xp","onUpdate:modelValue":d[18]||(d[18]=v=>V.value.xp=v),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.xp]])]),s("div",XS,[d[142]||(d[142]=s("label",{for:"ca"},"CA (Clase de Armadura):",-1)),z(s("input",{id:"ca","onUpdate:modelValue":d[19]||(d[19]=v=>V.value.ca=v),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.ca]])]),s("div",YS,[d[143]||(d[143]=s("label",{for:"resistencias"},"Resistencias:",-1)),z(s("input",{id:"resistencias","onUpdate:modelValue":d[20]||(d[20]=v=>V.value.resistencias=v),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.resistencias]])]),s("div",JS,[d[144]||(d[144]=s("label",{for:"inmunidades"},"Inmunidades:",-1)),z(s("input",{id:"inmunidades","onUpdate:modelValue":d[21]||(d[21]=v=>V.value.inmunidades=v),type:"text",class:"form-control",placeholder:""},null,512),[[ee,V.value.inmunidades]])]),s("div",QS,[d[151]||(d[151]=s("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),s("div",ZS,[s("div",e$,[s("div",t$,[d[145]||(d[145]=s("label",{for:"fuerza"},"Fuerza:",-1)),z(s("input",{id:"fuerza","onUpdate:modelValue":d[22]||(d[22]=v=>V.value.fuerza=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.fuerza]])]),s("div",n$,[d[146]||(d[146]=s("label",{for:"destreza"},"Destreza:",-1)),z(s("input",{id:"destreza","onUpdate:modelValue":d[23]||(d[23]=v=>V.value.destreza=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.destreza]])]),s("div",o$,[d[147]||(d[147]=s("label",{for:"constitucion"},"Constitucin:",-1)),z(s("input",{id:"constitucion","onUpdate:modelValue":d[24]||(d[24]=v=>V.value.constitucion=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.constitucion]])])]),s("div",s$,[s("div",a$,[d[148]||(d[148]=s("label",{for:"inteligencia"},"Inteligencia:",-1)),z(s("input",{id:"inteligencia","onUpdate:modelValue":d[25]||(d[25]=v=>V.value.inteligencia=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.inteligencia]])]),s("div",i$,[d[149]||(d[149]=s("label",{for:"sabiduria"},"Sabidura:",-1)),z(s("input",{id:"sabiduria","onUpdate:modelValue":d[26]||(d[26]=v=>V.value.sabiduria=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.sabiduria]])]),s("div",r$,[d[150]||(d[150]=s("label",{for:"carisma"},"Carisma:",-1)),z(s("input",{id:"carisma","onUpdate:modelValue":d[27]||(d[27]=v=>V.value.carisma=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,V.value.carisma]])])])])]),s("div",l$,[d[152]||(d[152]=s("label",{for:"notas"},"Notas:",-1)),z(s("textarea",{id:"notas","onUpdate:modelValue":d[28]||(d[28]=v=>V.value.notas=v),class:"form-control",rows:"3",placeholder:""},null,512),[[ee,V.value.notas]])]),s("div",c$,[s("button",{type:"button",onClick:d[29]||(d[29]=v=>k.value=!1),class:"btn btn-secondary"}," Cancelar "),d[153]||(d[153]=s("button",{type:"submit",class:"btn btn-primary"}," Crear Personaje ",-1))])],32)])])])):se("",!0),O.value&&_.value?(C(),x("div",{key:3,class:"modal-overlay",onClick:d[51]||(d[51]=v=>O.value=!1)},[s("div",{class:"modal-content",onClick:d[50]||(d[50]=Be(()=>{},["stop"]))},[s("div",u$,[d[155]||(d[155]=s("h3",null,"Editar Personaje",-1)),s("button",{onClick:d[32]||(d[32]=v=>O.value=!1),class:"btn-close"},d[154]||(d[154]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",d$,[s("form",{onSubmit:Be(ve,["prevent"])},[s("div",f$,[d[156]||(d[156]=s("label",{for:"editCharacterName"},"Nombre del Personaje",-1)),z(s("input",{id:"editCharacterName","onUpdate:modelValue":d[33]||(d[33]=v=>_.value.name=v),type:"text",class:"form-control",required:""},null,512),[[ee,_.value.name]])]),s("div",p$,[d[157]||(d[157]=s("label",{for:"editCharacterMaxHp"},"HP Mximo",-1)),z(s("input",{id:"editCharacterMaxHp","onUpdate:modelValue":d[34]||(d[34]=v=>_.value.maxHp=v),type:"number",class:"form-control",min:"1",required:""},null,512),[[ee,_.value.maxHp]])]),s("div",m$,[d[158]||(d[158]=s("label",{for:"editCharacterCurrentHp"},"HP Actual",-1)),z(s("input",{id:"editCharacterCurrentHp","onUpdate:modelValue":d[35]||(d[35]=v=>_.value.currentHp=v),type:"number",class:"form-control",min:"0",max:_.value.maxHp,required:""},null,8,h$),[[ee,_.value.currentHp]])]),s("div",g$,[d[159]||(d[159]=s("label",{for:"editCharacterRegeneration"},"Regeneracin por Turno",-1)),z(s("input",{id:"editCharacterRegeneration","onUpdate:modelValue":d[36]||(d[36]=v=>_.value.regeneration=v),type:"number",class:"form-control",min:"0"},null,512),[[ee,_.value.regeneration]])]),s("div",v$,[d[160]||(d[160]=s("label",{for:"challengeRating"},"Valor de Desafo",-1)),z(s("input",{id:"challengeRating","onUpdate:modelValue":d[37]||(d[37]=v=>_.value.challengeRating=v),type:"number",class:"form-control",placeholder:"0",min:"0",required:""},null,512),[[ee,_.value.challengeRating]])]),s("div",b$,[d[161]||(d[161]=s("label",{for:"editXp"},"XP:",-1)),z(s("input",{id:"editXp","onUpdate:modelValue":d[38]||(d[38]=v=>_.value.xp=v),type:"text",class:"form-control"},null,512),[[ee,_.value.xp]])]),s("div",w$,[d[162]||(d[162]=s("label",{for:"editCa"},"CA (Clase de Armadura):",-1)),z(s("input",{id:"editCa","onUpdate:modelValue":d[39]||(d[39]=v=>_.value.ca=v),type:"text",class:"form-control"},null,512),[[ee,_.value.ca]])]),s("div",y$,[d[163]||(d[163]=s("label",{for:"editResistencias"},"Resistencias:",-1)),z(s("input",{id:"editResistencias","onUpdate:modelValue":d[40]||(d[40]=v=>_.value.resistencias=v),type:"text",class:"form-control"},null,512),[[ee,_.value.resistencias]])]),s("div",C$,[d[164]||(d[164]=s("label",{for:"editInmunidades"},"Inmunidades:",-1)),z(s("input",{id:"editInmunidades","onUpdate:modelValue":d[41]||(d[41]=v=>_.value.inmunidades=v),type:"text",class:"form-control"},null,512),[[ee,_.value.inmunidades]])]),s("div",x$,[d[171]||(d[171]=s("h4",{style:{color:"#ecf0f1","margin-bottom":"15px"}},"Tiradas de Salvacin",-1)),s("div",_$,[s("div",k$,[s("div",S$,[d[165]||(d[165]=s("label",{for:"editFuerza"},"Fuerza:",-1)),z(s("input",{id:"editFuerza","onUpdate:modelValue":d[42]||(d[42]=v=>_.value.fuerza=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,_.value.fuerza]])]),s("div",$$,[d[166]||(d[166]=s("label",{for:"editDestreza"},"Destreza:",-1)),z(s("input",{id:"editDestreza","onUpdate:modelValue":d[43]||(d[43]=v=>_.value.destreza=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,_.value.destreza]])]),s("div",D$,[d[167]||(d[167]=s("label",{for:"editConstitucion"},"Constitucin:",-1)),z(s("input",{id:"editConstitucion","onUpdate:modelValue":d[44]||(d[44]=v=>_.value.constitucion=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,_.value.constitucion]])])]),s("div",E$,[s("div",T$,[d[168]||(d[168]=s("label",{for:"editInteligencia"},"Inteligencia:",-1)),z(s("input",{id:"editInteligencia","onUpdate:modelValue":d[45]||(d[45]=v=>_.value.inteligencia=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,_.value.inteligencia]])]),s("div",A$,[d[169]||(d[169]=s("label",{for:"editSabiduria"},"Sabidura:",-1)),z(s("input",{id:"editSabiduria","onUpdate:modelValue":d[46]||(d[46]=v=>_.value.sabiduria=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,_.value.sabiduria]])]),s("div",I$,[d[170]||(d[170]=s("label",{for:"editCarisma"},"Carisma:",-1)),z(s("input",{id:"editCarisma","onUpdate:modelValue":d[47]||(d[47]=v=>_.value.carisma=v),type:"number",class:"form-control small-input",placeholder:"+0"},null,512),[[ee,_.value.carisma]])])])])]),s("div",H$,[d[172]||(d[172]=s("label",{for:"editNotas"},"Notas:",-1)),z(s("textarea",{id:"editNotas","onUpdate:modelValue":d[48]||(d[48]=v=>_.value.notas=v),class:"form-control",rows:"3"},null,512),[[ee,_.value.notas]])]),s("div",R$,[s("button",{type:"button",onClick:d[49]||(d[49]=v=>O.value=!1),class:"btn btn-secondary"}," Cancelar "),d[173]||(d[173]=s("button",{type:"submit",class:"btn btn-primary"}," Guardar Cambios ",-1))])],32)])])])):se("",!0),s("input",{ref_key:"fileInput",ref:$,type:"file",accept:".json",onChange:ue,style:{display:"none"}},null,544),D.value?(C(),x("div",{key:4,class:"modal-overlay",onClick:d[56]||(d[56]=v=>D.value=!1)},[s("div",{class:"modal-content",onClick:d[55]||(d[55]=Be(()=>{},["stop"]))},[s("div",P$,[d[175]||(d[175]=s("h3",null,"Configuracin de Crticos",-1)),s("button",{onClick:d[52]||(d[52]=v=>D.value=!1),class:"btn-close"},d[174]||(d[174]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",O$,[s("div",M$,[d[177]||(d[177]=s("label",{for:"critical-rule"},"Regla de Dao Crtico",-1)),z(s("select",{id:"critical-rule","onUpdate:modelValue":d[53]||(d[53]=v=>y.value.rule=v),class:"form-control"},d[176]||(d[176]=[s("option",{value:"default"},"Regla por Defecto (Duplicar Dados)",-1),s("option",{value:"dad"},"Dao Masivo (DAD)",-1)]),512),[[gt,y.value.rule]])]),y.value.rule==="dad"?(C(),x("div",B$,[d[178]||(d[178]=s("label",{for:"character-level"},"Nivel del Personaje",-1)),z(s("input",{type:"number",id:"character-level","onUpdate:modelValue":d[54]||(d[54]=v=>y.value.characterLevel=v),min:"1",max:"20",class:"form-control"},null,512),[[ee,y.value.characterLevel,void 0,{number:!0}]])])):se("",!0),s("div",{class:"modal-actions"},[s("button",{onClick:h,class:"btn btn-primary"},"Guardar")])])])])):se("",!0),E.value?(C(),x("div",{key:5,class:"modal-overlay",onClick:d[61]||(d[61]=v=>E.value=!1)},[s("div",{class:"modal-content",onClick:d[60]||(d[60]=Be(()=>{},["stop"]))},[s("div",N$,[d[180]||(d[180]=s("h3",null,"Importar Personajes",-1)),s("button",{onClick:d[57]||(d[57]=v=>E.value=!1),class:"btn-close"},d[179]||(d[179]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",L$,[s("div",V$,[s("div",{class:"import-option"},[d[182]||(d[182]=s("h4",null,"Opcin 1: Seleccionar Archivo",-1)),d[183]||(d[183]=s("p",null,"Selecciona un archivo JSON exportado previamente",-1)),s("button",{onClick:F,class:"btn btn-primary"},d[181]||(d[181]=[s("i",{class:"bi bi-folder2-open"},null,-1),X(" Seleccionar Archivo ")]))]),d[186]||(d[186]=s("div",{class:"import-divider"},[s("span",null,"o")],-1)),s("div",j$,[d[184]||(d[184]=s("h4",null,"Opcin 2: Pegar JSON",-1)),d[185]||(d[185]=s("p",null,"Pega aqu el contenido JSON exportado",-1)),z(s("textarea",{"onUpdate:modelValue":d[58]||(d[58]=v=>pe.value=v),class:"form-control",rows:"6",placeholder:"Pega aqu el JSON exportado..."},null,512),[[ee,pe.value]])])]),s("div",U$,[s("button",{type:"button",onClick:d[59]||(d[59]=v=>E.value=!1),class:"btn btn-secondary"}," Cancelar "),s("button",{onClick:ae,class:"btn btn-primary",disabled:!pe.value.trim()}," Importar desde Texto ",8,F$)])])])])):se("",!0),I.value?(C(),x("div",{key:6,class:"modal-overlay",onClick:Je},[s("div",{class:"modal-content death-modal",onClick:d[64]||(d[64]=Be(()=>{},["stop"]))},[s("div",z$,[d[188]||(d[188]=s("h3",null,"Personaje Derrotado!",-1)),s("button",{onClick:d[62]||(d[62]=v=>I.value=!1),class:"btn-close"},d[187]||(d[187]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",q$,[s("div",G$,[d[192]||(d[192]=s("div",{class:"death-icon"},"",-1)),s("p",null,[d[189]||(d[189]=X(" El personaje ")),s("strong",null,B(de.value.name),1),d[190]||(d[190]=X(" ha sido derrotado! "))]),s("p",W$,[d[191]||(d[191]=X(" HP: ")),s("span",K$,B(de.value.currentHp),1),X(" / "+B(de.value.maxHp),1)]),d[193]||(d[193]=s("p",null,"Quin fue el hroe que lo derrot?",-1))]),s("div",X$,[d[194]||(d[194]=s("label",{for:"heroName"},"Nombre del Hroe:",-1)),z(s("input",{id:"heroName","onUpdate:modelValue":d[63]||(d[63]=v=>N.value=v),type:"text",class:"form-control",placeholder:"Escribe el nombre del hroe...",onKeyup:an(te,["enter"])},null,544),[[ee,N.value]])]),s("div",Y$,[s("button",{onClick:te,class:"btn btn-primary",disabled:!N.value.trim()},d[195]||(d[195]=[s("i",{class:"bi bi-save"},null,-1),X(" Guardar ")]),8,J$),s("button",{onClick:ge,class:"btn btn-secondary"}," Cancelar ")])])])])):se("",!0)]),L.value?(C(),x("div",{key:3,class:"modal-overlay",id:"todo-list",onClick:d[68]||(d[68]=v=>L.value=!1)},[s("div",{class:"modal-content",onClick:d[67]||(d[67]=Be(()=>{},["stop"]))},[s("div",Q$,[d[197]||(d[197]=s("h3",null,"Lista de Tareas",-1)),s("button",{onClick:d[65]||(d[65]=v=>L.value=!1),class:"btn-close"},d[196]||(d[196]=[s("i",{class:"bi bi-x-lg"},null,-1)]))]),s("div",Z$,[s("div",eD,[z(s("input",{"onUpdate:modelValue":d[66]||(d[66]=v=>H.value=v),type:"text",class:"form-control",placeholder:"Nueva tarea",onKeyup:an(Me,["enter"])},null,544),[[ee,H.value]]),s("button",{onClick:Me,class:"btn btn-primary"},"Agregar")]),s("ul",tD,[(C(!0),x(De,null,Re(T.value,v=>(C(),x("li",{key:v.id},[z(s("input",{type:"checkbox","onUpdate:modelValue":fe=>v.completed=fe,onChange:fe=>vt(v.id)},null,40,nD),[[Zo,v.completed]]),s("span",{class:ze({completed:v.completed})},B(v.text),3),s("button",{onClick:fe=>_t(v.id),class:"btn btn-danger btn-sm"},"Eliminar",8,oD)]))),128))])])])])):se("",!0),u.value?(C(),yn(U2,{key:4,characters:Q(t).characters,players:Q(o),onClose:d[69]||(d[69]=v=>u.value=!1)},null,8,["characters","players"])):se("",!0)]))}},aD=ft(sD,[["__scopeId","data-v-604751d7"]]),iD={class:"account-view-container fade-in"},rD={class:"account-sections"},lD={class:"account-section character-management-section"},cD={class:"section-content"},uD={class:"account-section import-section"},dD={class:"section-content"},fD={class:"file-upload-container"},pD={for:"file-upload",class:"file-upload-label"},mD={key:0,class:"preview-section"},hD=["disabled"],gD={__name:"AccountView",setup(e){const t=lt(),n=Z(""),o=Z(""),a=c=>{const u=c.target.files[0];if(!u)return;o.value=u.name;const f=new FileReader;f.onload=p=>{n.value=p.target.result},f.readAsText(u)},i=()=>{try{const c=t.exportData(),u=new Blob([c],{type:"application/json"}),f=URL.createObjectURL(u),p=document.createElement("a");p.href=f,p.download=`dnd-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(f),le.fire({icon:"success",title:"Exportado!",text:"Copia de seguridad guardada correctamente.",timer:2e3,showConfirmButton:!1})}catch{le.fire({icon:"error",title:"Error",text:"No se pudieron exportar los datos."})}},r=()=>{le.fire({title:"Restaurar datos?",text:"Se reemplazarn todos los datos actuales por los del archivo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2ecc71",cancelButtonColor:"#d33",confirmButtonText:"S, restaurar",cancelButtonText:"Cancelar"}).then(c=>{if(c.isConfirmed){const{success:u,error:f}=t.importData(n.value);u?le.fire({title:"Restaurado!",text:"Los datos se han cargado correctamente.",icon:"success",timer:1500,showConfirmButton:!1}):le.fire({title:"Error",text:f||"El archivo no es vlido.",icon:"error"})}})},l=()=>{le.fire({title:"Ests seguro?",text:"Se borrarn todos los personajes y configuraciones. No se puede deshacer.",icon:"error",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, borrar todo",cancelButtonText:"Cancelar"}).then(c=>{c.isConfirmed&&t.clearAllData()})};return(c,u)=>{const f=er("router-link");return C(),x("div",iD,[u[14]||(u[14]=s("div",{class:"account-header"},[s("h1",null,[s("i",{class:"bi bi-person-badge-fill"}),X(" Gestin de Cuenta")]),s("p",{class:"account-subtitle"},"Administra tus datos y configuraciones")],-1)),s("div",rD,[s("div",lD,[u[2]||(u[2]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-people-fill"}),X(" Gestor de Personajes")])],-1)),s("div",cD,[u[1]||(u[1]=s("p",null,"Administra todos tus personajes: crea, elimina, importa, exporta y selecciona cul quieres usar.",-1)),Xe(f,{to:"/character-manager",class:"btn btn-primary"},{default:In(()=>u[0]||(u[0]=[s("i",{class:"bi bi-folder-symlink"},null,-1),s("span",null,"Ir al Gestor de Personajes",-1)])),_:1})])]),s("div",{class:"account-section export-section"},[u[5]||(u[5]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-cloud-download-fill"}),X(" Exportar Cuenta Completa")])],-1)),s("div",{class:"section-content"},[u[4]||(u[4]=s("p",null,"Guarda una copia de seguridad de todos tus personajes y configuraciones en un archivo JSON.",-1)),s("button",{onClick:i,class:"btn btn-primary"},u[3]||(u[3]=[s("i",{class:"bi bi-download"},null,-1),s("span",null,"Descargar Copia de Seguridad",-1)]))])]),s("div",uD,[u[10]||(u[10]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-cloud-upload-fill"}),X(" Importar Datos")])],-1)),s("div",dD,[u[9]||(u[9]=s("p",null,[X("Restaura tus datos desde un archivo de copia de seguridad. "),s("strong",null,"Esto reemplazar los datos actuales.")],-1)),s("div",fD,[s("label",pD,[u[6]||(u[6]=s("i",{class:"bi bi-folder2-open"},null,-1)),s("span",null,B(o.value||"Seleccionar archivo JSON..."),1)]),s("input",{id:"file-upload",type:"file",accept:".json",onChange:a,class:"file-input"},null,32)]),n.value?(C(),x("div",mD,u[7]||(u[7]=[s("i",{class:"bi bi-check-circle-fill"},null,-1),s("span",null,"Archivo cargado y listo para importar",-1)]))):se("",!0),s("button",{onClick:r,disabled:!n.value,class:"btn btn-success"},u[8]||(u[8]=[s("i",{class:"bi bi-upload"},null,-1),s("span",null,"Restaurar Datos",-1)]),8,hD)])]),s("div",{class:"account-section danger-section"},[u[13]||(u[13]=s("div",{class:"section-header danger-header"},[s("h2",null,[s("i",{class:"bi bi-exclamation-triangle-fill"}),X(" Zona de Peligro")])],-1)),s("div",{class:"section-content"},[u[12]||(u[12]=s("p",null,[X("Eliminar todos los datos guardados en este navegador. "),s("strong",null,"Esta accin no se puede deshacer.")],-1)),s("button",{onClick:l,class:"btn btn-danger"},u[11]||(u[11]=[s("i",{class:"bi bi-trash-fill"},null,-1),s("span",null,"Borrar Todos los Datos",-1)]))])])])])}}},vD=ft(gD,[["__scopeId","data-v-74bb946e"]]),bD={class:"manager-container fade-in"},wD={class:"manager-section"},yD={class:"section-content"},CD={key:0,class:"character-list"},xD={class:"character-info"},_D={class:"character-name"},kD={class:"character-actions"},SD=["onClick","disabled"],$D=["onClick"],DD=["onClick"],ED={key:1,class:"no-characters-message"},TD={__name:"CharacterManager",setup(e){const t=lt(),n=lo(),o=ys(),a=Le(()=>t.accountData.characters),i=Le(()=>t.accountData.activeCharacterId),r=p=>{n.setActiveCharacter(p),le.fire({toast:!0,position:"top-end",icon:"success",title:"Personaje cargado",showConfirmButton:!1,timer:1500,timerProgressBar:!0})},l=()=>{const p=st(),m={id:p,characterData:{character:{isConfigured:!1,name:"Nuevo Personaje"},turn:{current:0,isActive:!1},logs:[]},attacks:[],passiveDamages:[],counters:[],characterState:[]};t.accountData.characters.push(m),n.setActiveCharacter(p),o.push("/config")},c=p=>{le.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, brralo!",cancelButtonText:"Cancelar"}).then(m=>{if(m.isConfirmed){if(t.accountData.characters=t.accountData.characters.filter(g=>g.id!==p),t.accountData.activeCharacterId===p){const g=t.accountData.characters.length>0?t.accountData.characters[0].id:null;n.setActiveCharacter(g)}else t.saveDataToLocalStorage();le.fire("Eliminado!","El personaje ha sido eliminado.","success")}})},u=p=>{const m=a.value.find(g=>g.id===p);if(m){const g=JSON.stringify(m,null,2),D="data:application/json;charset=utf-8,"+encodeURIComponent(g),y=`${m.characterData.character.name||"character"}.json`,h=document.createElement("a");h.setAttribute("href",D),h.setAttribute("download",y),h.click()}},f=()=>{const p=document.createElement("input");p.type="file",p.accept=".json",p.onchange=m=>{const g=m.target.files[0],D=new FileReader;D.onload=y=>{try{const h=y.target.result,k=JSON.parse(h);k.id&&k.characterData?(k.id=st(),t.accountData.characters.push(k),t.saveDataToLocalStorage(),le.fire("xito!","Personaje importado correctamente.","success")):le.fire("Error","El archivo no tiene el formato de personaje esperado.","error")}catch{le.fire("Error","No se pudo leer o procesar el archivo.","error")}},D.readAsText(g,"UTF-8")},p.click()};return(p,m)=>(C(),x("div",bD,[m[9]||(m[9]=s("div",{class:"manager-header"},[s("h1",null,[s("i",{class:"bi bi-people-fill"}),X(" Gestor de Personajes")]),s("p",{class:"manager-subtitle"},"Administra, crea, carga y comparte tus personajes")],-1)),s("div",wD,[m[5]||(m[5]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-person-lines-fill"}),X(" Mis Personajes")])],-1)),s("div",yD,[a.value.length>0?(C(),x("ul",CD,[(C(!0),x(De,null,Re(a.value,g=>(C(),x("li",{key:g.id,class:ze(["character-item",{active:g.id===i.value}])},[s("div",xD,[m[0]||(m[0]=s("i",{class:"bi bi-person-circle character-icon"},null,-1)),s("span",_D,B(g.characterData.character.name||"Personaje sin nombre"),1)]),s("div",kD,[s("button",{onClick:D=>r(g.id),class:"btn btn-sm btn-primary",disabled:g.id===i.value},[m[1]||(m[1]=s("i",{class:"bi bi-check-circle-fill"},null,-1)),s("span",null,B(g.id===i.value?"Cargado":"Cargar"),1)],8,SD),s("button",{onClick:D=>u(g.id),class:"btn btn-sm btn-secondary"},m[2]||(m[2]=[s("i",{class:"bi bi-box-arrow-up"},null,-1),s("span",null,"Exportar",-1)]),8,$D),s("button",{onClick:D=>c(g.id),class:"btn btn-sm btn-danger"},m[3]||(m[3]=[s("i",{class:"bi bi-trash-fill"},null,-1),s("span",null,"Eliminar",-1)]),8,DD)])],2))),128))])):(C(),x("div",ED,m[4]||(m[4]=[s("i",{class:"bi bi-emoji-dizzy"},null,-1),s("p",null,"No tienes ningn personaje todava. Crea uno para empezar!",-1)])))])]),s("div",{class:"manager-section"},[m[8]||(m[8]=s("div",{class:"section-header"},[s("h2",null,[s("i",{class:"bi bi-plus-circle-fill"}),X(" Nuevas Aventuras")])],-1)),s("div",{class:"section-content action-buttons"},[s("button",{onClick:l,class:"btn btn-success"},m[6]||(m[6]=[s("i",{class:"bi bi-person-plus-fill"},null,-1),s("span",null,"Crear Nuevo Personaje",-1)])),s("button",{onClick:f,class:"btn btn-info"},m[7]||(m[7]=[s("i",{class:"bi bi-box-arrow-down"},null,-1),s("span",null,"Importar Personaje",-1)]))])])]))}},AD=ft(TD,[["__scopeId","data-v-ddf50836"]]),ID={class:"character-manager-view"},HD={__name:"CharacterManagerView",setup(e){return(t,n)=>(C(),x("div",ID,[Xe(AD)]))}},RD=ft(HD,[["__scopeId","data-v-7a384945"]]),PD=[{path:"/",component:Sh,name:"home"},{path:"/account",component:vD,name:"account"},{path:"/character-manager",component:RD,name:"character-manager"},{path:"/config",component:Vb,name:"config"},{path:"/character",component:W0,name:"character"},{path:"/logs",component:_2,name:"logs"},{path:"/dm",component:aD,name:"dm"},{path:"/:pathMatch(.*)*",redirect:"/"}],OD=ph({history:qm("/DyD/"),routes:PD}),MD={class:"app-header"},BD={class:"navbar"},ND={class:"navbar-brand"},LD={__name:"AppHeader",setup(e){const t=lo(),n=Z(!1),o=Le(()=>t.character.isConfigured),a=()=>{n.value=!n.value},i=()=>{n.value=!1};return(r,l)=>{const c=er("router-link");return C(),x("header",MD,[l[7]||(l[7]=s("div",{class:"header-background"},[s("div",{class:"header-glow"}),s("div",{class:"header-pattern"})],-1)),s("nav",BD,[s("div",ND,[Xe(c,{to:"/",class:"brand-link"},{default:In(()=>l[0]||(l[0]=[s("div",{class:"brand-icon-container"},[s("span",{class:"brand-icon"},""),s("div",{class:"brand-icon-glow"})],-1),s("span",{class:"brand-text"},"D&D Life Tracker",-1)])),_:1})]),s("button",{onClick:a,class:ze(["mobile-menu-toggle",{active:n.value}]),"aria-label":"Toggle mobile menu"},l[1]||(l[1]=[s("span",{class:"hamburger-line"},null,-1),s("span",{class:"hamburger-line"},null,-1),s("span",{class:"hamburger-line"},null,-1)]),2),s("div",{class:ze(["navbar-nav",{"mobile-open":n.value}])},[Xe(c,{to:"/",class:"nav-link","active-class":"active",onClick:i},{default:In(()=>l[2]||(l[2]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-house-door"})],-1),s("span",null,"Inicio",-1)])),_:1}),o.value?(C(),yn(c,{key:0,to:"/character",class:"nav-link","active-class":"active",onClick:i},{default:In(()=>l[3]||(l[3]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-person"})],-1),s("span",null,"Personaje",-1)])),_:1})):(C(),yn(c,{key:1,to:"/config",class:"nav-link","active-class":"active",onClick:i},{default:In(()=>l[4]||(l[4]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-plus-circle"})],-1),s("span",null,"Crear Personaje",-1)])),_:1})),Xe(c,{to:"/dm",class:"nav-link","active-class":"active",onClick:i},{default:In(()=>l[5]||(l[5]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-shield-fill"})],-1),s("span",null,"DM",-1)])),_:1}),Xe(c,{to:"/account",class:"nav-link","active-class":"active",onClick:i},{default:In(()=>l[6]||(l[6]=[s("div",{class:"nav-icon-container"},[s("i",{class:"bi bi-person-badge"})],-1),s("span",null,"Cuenta",-1)])),_:1})],2)])])}}},VD=ft(LD,[["__scopeId","data-v-20ffc04e"]]),jD={class:"app-container"},UD={class:"main-content"},FD={__name:"App",setup(e){const t=lt(),{isLoading:n}=ws(t);return Mt(()=>{t.loadInitialData()}),cn(n,o=>{o||lo().loadAllCharacterData()}),(o,a)=>{const i=er("RouterView");return C(),x("div",jD,[Xe(VD),s("main",UD,[Xe(i)])])}}},_r=Zp(FD),zD=nm();_r.use(zD);const qD=lt();qD.loadInitialData();_r.use(OD);_r.mount("#app");
